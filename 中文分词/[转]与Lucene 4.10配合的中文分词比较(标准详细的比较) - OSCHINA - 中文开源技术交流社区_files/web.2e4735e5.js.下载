!function(){var e;(e={},function(i,t){var n=i?t?"is"+t+"IE"+i:"isIE"+i:"isIE",r=e[n];if(void 0!==r)return r;if(i){var a=navigator.userAgent.match(/(?:MSIE |Trident\/.*; rv:|Edge\/)(\d+)/);if(a){var o=parseInt(a[1]);r=t?"lt"===t?o<i:"gt"===t?o>i:void 0:o===i}else if(i<=9){var d=document.createElement("b");d.innerHTML="\x3c!--[if "+(t||"")+" IE "+i+"]><i></i><![endif]--\x3e",r=1===d.getElementsByTagName("i").length}}else r=-1!==navigator.userAgent.indexOf("MSIE")||navigator.appVersion.indexOf("Trident/")>-1;return e[n]=r,r})(11,"lt")&&-1===document.cookie.indexOf("ie_compatibility_hide=")&&(location.href="/ie_compatibility")}();
window.OSCRequire={module:{},base:{},page:{define:null},stringUtil:{isNull:function(e){return!("string"==typeof e&&e&&e.replace(/(^\s*)|(\s*$)/g,""))}},fetchBase:function(e){if("function"==typeof this.base[e]){var t=this.base[e].apply(Object);this.base[e]="function"==typeof t?new t:t}return this.base[e]},buildModule:function(e,t,n){var i=this.stringUtil,r={require:null,target:null};if(!i.isNull(e)&&n instanceof Function){if(r.target=n,t instanceof Array){var a=[];for(var u in t){var o=t[u];if(i.isNull(o)||!this.base.hasOwnProperty(o))throw new Error("依赖参数错误!");a.push(o)}a.length&&(r.require=a)}this.module[e]=r}},initPage:function(){var e=document.querySelector("[data-define]")||document.querySelector("x-foo-define");e instanceof HTMLElement&&(this.page.define=e.getAttribute("data-define"));for(var t=null,n="",i="",r=document.querySelectorAll("val"),a=0,u=r.length;a<u;++a)(t=r[a])instanceof HTMLElement&&(n=t.getAttribute("data-name"),i=t.getAttribute("data-value"),n&&("true"!==i&&"false"!==i||(i="true"===i),this.page[n]=i));return this.page},initModule:function(e,t){var n=[];if("function"!=typeof e)throw new Error("非法模块调用!");if(Array.isArray(t)&&t.length>0)for(var i in t){var r=t[i];n.push(this.fetchBase(r))}return new(e.apply(Object,n))}},window.OSCDefine=function(){var e=arguments,t=e.length;if(t>=2){var n,i,r=e[0],a=e[1],u=3===t?e[2]:null;a instanceof Function&&(n=a),u instanceof Function&&(n=u),a instanceof Array&&(i=a),OSCRequire.stringUtil.isNull(r)||OSCRequire.buildModule(r,i,n)}},window.OSCPlugin=function(e,t){"string"==typeof e&&/^object|function$/.test(typeof t)&&""!==e&&void 0===OSCRequire.base[e]&&(OSCRequire.base[e]=t)};
!function(e,t){var s="暂没有未读消息",a="未读消息",i=function(){this._timer=null,this._totalCountTransitionTimer=null,this._messageEl=e("#message"),this._messageTotalCountEl=this._messageEl.find(".total-count"),this._messageHeaderEl=this._messageEl.find(".message-header"),this._messageActionWrap=this._messageEl.find(".action"),this._messageMarkReadAllEl=this._messageEl.find(".mark-read-all")};i.prototype.init=function(){this._messageEl.dropdown({on:"hover"}),this.bindMarkReadAll()},i.prototype.markReadAll=function(){var t=this;e.post(page.space_user_url+"/msg/updateReadStatu",{userId:page.g_user_id},function(s){1===s.code?(t.setAll({totalMsgCount:0}),"space-admin-inbox"!==page.define&&"space-admin-msgs"!==page.define||(e(".messages-wrap").find(".private-message.un-read").removeClass("un-read"),e("body").toast({type:"success",content:"成功设置全部已读"}))):e("body").toast({type:"error",content:"网络错误，请稍后再试"})})},i.prototype.bindMarkReadAll=function(){var e=this;this._messageEl.on("click",".mark-read-all",function(t){t.stopPropagation(),e.markReadAll()})},i.prototype.setAll=function(e){this.setMsgTotalCount(e),this.setMsgHeader(e),this.setMsgList(e),this.setMsgMarkReadAll(e),this.setSpaceAdminSidebar(e)},i.prototype.setMsgTotalCount=function(e){var t=this,s=void 0===e?0:e.totalMsgCount||0;t._messageTotalCountEl.html(s),s>0?(t._messageTotalCountEl.show(),t._totalCountTransitionTimer&&(clearInterval(t._totalCountTransitionTimer),t._totalCountTransitionTimer=null),t._totalCountTransitionTimer=setInterval(function(){t._messageTotalCountEl.transition("flash")},4e3)):(clearInterval(t._totalCountTransitionTimer),t._totalCountTransitionTimer=null,t._messageTotalCountEl.transition("hide"))},i.prototype.setMsgHeader=function(e){(void 0===e?0:e.totalMsgCount||0)>0?this._messageHeaderEl.html(a):this._messageHeaderEl.html(s)},i.prototype.setMsgList=function(e){if(!e)return!1;var t=e.totalMsgCount||0;if(this._messageEl.find(".message-item").remove(),t>0){var s="";e.fansCount>0&&(s+='<a class="item message-item" href="{{g_user_url}}/followers">{{fansCount}} 位新粉丝</a>'.replace("{{g_user_url}}",page.g_user_url).replace("{{fansCount}}",e.fansCount)),e.privateMsgCount>0&&(s+='<a class="item message-item" href="{{g_user_url}}/admin/inbox">{{privateMsgCount}} 条新私信</a>'.replace("{{g_user_url}}",page.g_user_url).replace("{{privateMsgCount}}",e.privateMsgCount)),e.repliesCount>0&&(s+='<a class="item message-item" href="{{g_user_url}}?tab=activity&scope=reply">{{repliesCount}} 条新评论</a>'.replace("{{g_user_url}}",page.g_user_url).replace("{{repliesCount}}",e.repliesCount)),e.refMeCount>0&&(s+='<a class="item message-item" href="{{g_user_url}}?tab=activity&scope=atme">{{refMeCount}} 条提到我</a>'.replace("{{g_user_url}}",page.g_user_url).replace("{{refMeCount}}",e.refMeCount)),this._messageActionWrap.before(s)}},i.prototype.setMsgMarkReadAll=function(e){(void 0===e?0:e.totalMsgCount||0)>0?this._messageMarkReadAllEl.show():this._messageMarkReadAllEl.hide()},i.prototype.setSpaceAdminSidebar=function(t){if((page.define||"").indexOf("space-admin")>-1){var s=void 0===t?0:t.privateMsgCount||0;s>0?e(".un-read-count-label").text(s).show():e(".un-read-count-label").hide()}},i.prototype.fetchMsgCount=function(){var t=this;e.post(page.space_user_url+"/msg/findAllMsgCount",{user_code:page.g_user_code,userId:page.g_user_id},function(e,s){1===e.code&&e.result&&t.setAll(e.result)})},i.prototype.startPolling=function(){this._timer&&(clearInterval(this._timer),this._timer=null);var e=this;this._timer=setInterval(function(){e.fetchMsgCount()},24e4)},i.prototype.stopPolling=function(){this._timer&&(clearInterval(this._timer),this._timer=null)},t.OSCPollingMsg=i}(window.jQuery||window.$,window);
"use strict";!function(e){e.common={dynamicLoader:function(){function t(n,i,r,o,a){var c=this,s=!1!==o;function u(e,t){return null!=e&&null!=t&&-1!==e.indexOf(t,e.length-t.length)}this.log=function(e){},this.getFileName=function(t){var n=e.__STATIC_DOMAIN||"";return/^http(s?):\/\//.test(t)||(t=n+t),s?t:(-1===t.indexOf("?")?t+="?no_cache="+(new Date).getTime():t+="&no_cache="+(new Date).getTime(),t)},this.execStyleCallback=function(){"function"==typeof r&&r()},this.execScriptCallback=function(){"function"==typeof i&&i()},this.loadStyle=function(e){var t=c._css_files[e];if(s&&-1!==c.cssCacheList.indexOf(t))return c.log('Skip style file "'+t+'" cached.'),void r();var n=document.createElement("link"),i=!1;function r(){e+1<c._css_files.length?c.loadStyle(e+1):c.execStyleCallback()}function o(){i||(i=!0,s&&c.cssCacheList.push(t),c.log('Loaded style "'+t+'".'),r())}n.rel="stylesheet",n.type="text/css",n.href=c.getFileName(t),n.onload=o,n.onreadystatechange=function(){i||"complete"!==n.readyState||o()},n.onerror=function(){i||(i=!0,c.log('Error loading style "'+t+'".'),r())},c.log("Loading style "+t),c._head.appendChild(n)},this.loadScript=function(e){var t=c._js_files[e];if(s&&-1!==c.scriptCacheList.indexOf(t))return c.log('Skip script file "'+t+'" cached.'),void r();var n=document.createElement("script"),i=!1;function r(){e+1<c._js_files.length?c.loadScript(e+1):c.execScriptCallback()}function o(){i||(i=!0,s&&c.scriptCacheList.push(t),c.log('Loaded script "'+t+'".'),r())}n.type="text/javascript",n.src=c.getFileName(t),n.onload=o,n.onreadystatechange=function(){i||"complete"!==n.readyState||o()},n.onerror=function(){i||(i=!0,c.log('Error loading script "'+t+'".'),r())},c.log('Loading script "'+t+'".'),c._head.appendChild(n)},this.loadFiles=function(){c._css_files.length>0&&c.loadStyle(0),c._js_files.length>0&&c.loadScript(0)},this.cssCacheList=t.cssCacheList,this.scriptCacheList=t.scriptCacheList,this._js_files=[],this._css_files=[],this._head=document.getElementsByTagName("head")[0];for(var l=0;l<n.length;++l)u(n[l],".css")||u(n[l].split("?")[0],".css")?this._css_files.push(n[l]):u(n[l],".js")||u(n[l].split("?")[0],".js")?this._js_files.push(n[l]):this.log('Error unknown filetype "'+n[l]+'".')}return t.cssCacheList=[],t.scriptCacheList=[],t}(),throttle:function(e,t,n){var i,r,o,a=Date.now||function(){return(new Date).getTime()},c=null,s=0;n||(n={});var u=function(){s=!1===n.leading?0:a(),c=null,o=e.apply(i,r),c||(i=r=null)};return function(){var l=a();s||!1!==n.leading||(s=l);var f=t-(l-s);return i=this,r=arguments,f<=0||f>t?(clearTimeout(c),c=null,s=l,o=e.apply(i,r),c||(i=r=null)):c||!1===n.trailing||(c=setTimeout(u,f)),o}},debounce:function(e,t,n){var i;return function(){var r=this,o=arguments,a=n&&!i;clearTimeout(i),i=setTimeout(function(){i=null,n||e.apply(r,o)},t),a&&e.apply(r,o)}},getImagesBySizeFilter:function(e,t){for(var n=[],i=$(e),r=0;r<i.length;r++){var o=i.eq(r),a=parseInt(o.css("width")),c=parseInt(o.css("height"));o[0]&&o[0].naturalWidth&&(a=o[0].naturalWidth,c=o[0].naturalHeight),$.isFunction(t)&&t(a,c)&&n.push(o)}return n},getWeChatShareImgUrl:function(e){var t=[];return this.getImagesBySizeFilter(e,function(e,t){return e>=300&&t>=300}).forEach(function(e){var n=e.attr("src");/http(s?):\/\//.test(n)&&t.push(n)}),t.length>0?t[0]:""},checkLogin:function(){if(!page.g_user_code){if(e.OSCQuickLogin)return e.OSCQuickLogin.login({wechatAutoRegister:!0}),!1;var t=page.login_page?'点击<a href="'+page.login_page+'" target="_blank">此处</a>':"请先";return $("body").toast({type:"error",content:"您还没有登录，"+t+"登录",duration:0}),!1}return!0},checkLoginForWeChat:function(t,n){if(e.common.checkWeChat()&&!page.g_user_code){if(n&&"[object Function]"==={}.toString.call(n)&&n(),e.OSCQuickLogin)return e.OSCQuickLogin.login({wechatAutoRegister:!0}),!1;var i=page.site_url+"/action/openid/before_bind?op=wechat_mobile",r=t||location.href||"";return r&&(i=i+"&goto="+encodeURIComponent(r)),e.location.href=i,!1}return e.common.checkLogin()},checkPC:function(){for(var e=navigator.userAgent,t=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],n=!0,i=0;i<t.length;i++)if(e.indexOf(t[i])>-1){n=!1;break}return n},checkWeChat:function(){for(var e=navigator.userAgent,t=["MicroMessenger"],n=!1,i=0;i<t.length;i++)if(e.indexOf(t[i])>-1){n=!0;break}return n},checkMobileSafari:function(){var t=navigator.userAgent,n=!!t.match(/Version\/[\d.]+.*Safari/),i=/iPad|iPhone|iPod/.test(t)&&!e.MSStream;return n&&i},formatNumberK:function(e){var t=Number(e)||0;if(t/1e3>=1){var n=t/1e3;return n=n.toFixed(1),String(n).indexOf(".0")>-1&&(n=parseInt(n)),n+"K"}return t},milliFormat:function(e){var t=Number(e)||0;return t&&t.toString().replace(/\d+/,function(e){return e.replace(/(\d)(?=(\d{3})+$)/g,"$1,")})},getCurrentUrl:function(t){return t?e.location.href.split("#")[0]:e.location.href},queryString:function(e){return Object.keys(e).map(function(t){return t+"="+e[t]}).join("&")},addQueryParams:function(e,t){var n=(e=e||"").split("#"),i=n[1]||"",r=n[0].split("?"),o=r[0],a=r[1]||"",c=this.queryString(t);return a?a+=c?"&"+c:"":a=c,o+(a?"?"+a:"")+(i?"#"+i:"")},getUrlParams:function(t){var n=t?t.split("?")[1]:e.location.search.slice(1),i={};if(!n)return i;for(var r=(n=n.split("#")[0]).split("&"),o=0;o<r.length;o++){var a=r[o].split("="),c=a[0],s=void 0===a[1]||a[1];if(c=c.toLowerCase(),"string"==typeof s&&(s=s.toLowerCase()),c.match(/\[(\d+)?\]$/)){var u=c.replace(/\[(\d+)?\]/,"");if(i[u]||(i[u]=[]),c.match(/\[\d+\]$/)){var l=/\[(\d+)\]/.exec(c)[1];i[u][l]=s}else i[u].push(s)}else i[c]?i[c]&&"string"==typeof i[c]?(i[c]=[i[c]],i[c].push(s)):i[c]&&Array.isArray(i[c])&&i[c].push(s):i[c]=s}return i},setCookie:function(e,t,n){var i="";if(n){var r=new Date;r.setTime(r.getTime()+864e5*n),i="; expires="+r.toUTCString()}document.cookie=e+"="+(t||"")+i+"; path=/"},getCookie:function(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var r=n[i];" "==r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return null},eraseCookie:function(e){document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/"},htmlEncode:function(e){return $("<div/>").text(e).html()},htmlDecode:function(e){return $("<div/>").html(e).text()},reportShare:function(e,t,n){var i=t||"",r=n||"";if(!i||!r)return!1;$.post(page.api_prefix+"/user/log_share",{objType:r,objId:i},function(e){e.code})},asyncTimeout:function(e,t){var n=0,i=setInterval(function(){n+=100},100);$.isFunction(t)&&t(function(t){var r=$.isFunction(t)?t:function(){};clearInterval(i),n>=e?r():setTimeout(function(){r()},e-n)})},getElementOffset:function(t){for(var n=0,i=0,r=t;r!==e.document.body&&null!==r;)n+=r.offsetLeft,i+=r.offsetTop,r=r.offsetParent;return{left:n,top:i}},checkScrollToBottom:function(e,t,n){var i=Math.max(t.scrollHeight,t.offsetHeight),r=e.clientHeight,o=t.scrollTop;return!(r<n)&&i-r-o<n}},$(function(){if(e.page=e.OSCRequire.initPage(),page.define){var t=e.OSCRequire.module[page.define];if(t instanceof Object){e.currentModule=e.OSCRequire.initModule(t.target,t.require);try{"function"==typeof currentModule.ready&&currentModule.ready(),"function"==typeof currentModule.register&&currentModule.register()}catch(e){}}}})}(window);
"use strict";$(function(){var e=$("#headerNavMenu");e.find(".dropdown").dropdown(),$("#btnDownloadApp").popup({position:"right center",popup:$("#btnDownloadAppContent")});var t=$("#mobileNavSidebar");t.sidebar({dimPage:!0,transition:"overlay",mobileTransition:"overlay",useLegacy:!1,exclusive:!0}),t.sidebar("attach events",".toggle-mobile-nav-sidebar");var o=$("#mobileUserSidebar");o.sidebar({dimPage:!0,transition:"overlay",mobileTransition:"overlay",useLegacy:!1,exclusive:!0}),o.sidebar("attach events",".toggle-mobile-user-sidebar");var i=$("#userSidebar");i.sidebar({dimPage:!0,transition:"uncover",useLegacy:"auto",duration:500,exclusive:!0}),$(".toggle-user-sidebar").on("click",function(e){i.sidebar("toggle"),e.preventDefault()});var n,a=$(".back-to-top"),r=$(".bottom-advertising"),s=function(){var e=$(window).scrollTop()>200&&window.innerWidth>=768;e?a.fadeIn(100):a.fadeOut(100),r&&r.length>0&&(e?r.fadeIn(100):r.fadeOut(100))};if(s(),window.addEventListener("scroll",window.common.throttle(s,300),!1),$(document).on("click",".back-to-top-toggle",function(){$("html, body").stop().animate({scrollTop:0},500,"swing")}),$(document).on("click",'a[href*="#"]:not([href="#"]), area[href*="#"]',function(e){if(location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")&&location.hostname===this.hostname){var t=$(this.hash);if((t=t.length&&t||$('[name="'+this.hash.slice(1)+'"]')).length){e.preventDefault();var o=t.offset().top,i=parseInt(t.data("offset"))||0;o-82>0&&(o-=82),isNaN(i)||(o+=i),$("html, body").stop(!0).animate({scrollTop:o},400,"swing")}}}),$(document).on("click",".logout-btn",function(){$.post(page.api_prefix+"/user/logout",{session:page.g_user_code},function(e){200===e.code?($("body").toast({type:"success",content:"退出成功"}),setTimeout(function(){location.reload()},0)):$("body").toast({type:"error",content:e.message||"退出失败，请稍后再试"})}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"})})}),e.on("click",".search-item .search.link.icon",function(){var e=$(this).parents(".search-item:eq(0)");e.find("input[name=q]").val().trim().length>0&&e.submit()}),!window.name){var c=location.hash||"";if(c.match(/^#[\w\d-_]+$/g)){var l=$(c);if((l=l.length&&l||$('[name="'+location.hash.slice(1)+'"]')).length){var d=l.offset().top,p=parseInt(l.data("offset"))||0;d-80>0&&(d-=80),isNaN(p)||(d+=p),$("html, body").stop(!0).animate({scrollTop:d},500,"swing"),window.name="opened"}}}function m(){var e={title:page.weixinShareTitle||document.title,desc:page.weixinShareDescription||$('meta[name="description"]').attr("content")||"",imgUrl:page.weixinShareImgUrl||"https://oscimg.oschina.net/oscnet/up-ccdf72787b19bc6396a1dbf8a7af432482b.png",link:page.weixinShareUrl||location.href};page.beforeWeChatShareHook&&"function"==typeof page.beforeWeChatShareHook&&(e=page.beforeWeChatShareHook(e)),wx.updateTimelineShareData({title:e.title,link:e.link,imgUrl:e.imgUrl,success:function(){window.common&&window.common.reportShare&&window.common.reportShare("wechat")}}),wx.updateAppMessageShareData({title:e.title,desc:e.desc,link:e.link,imgUrl:e.imgUrl,success:function(){window.common&&window.common.reportShare&&window.common.reportShare("wechat")}})}page.g_user_code&&(window.pollingMsg=new OSCPollingMsg,pollingMsg.init(),pollingMsg.startPolling(),pollingMsg.fetchMsgCount(),$(window).on("pageshow",function(e){(e.originalEvent.persisted||window.performance&&2===window.performance.navigation.type)&&pollingMsg.fetchMsgCount()})),function(){var e=page.weixinAppId,t=page.weixinTimestamp,o=page.weixinNonceStr,i=page.weixinSignature;if(!(e&&t&&o&&i))return!1;wx.config({debug:!1,appId:e,timestamp:t,nonceStr:o,signature:i,jsApiList:["updateTimelineShareData","updateAppMessageShareData"]}),wx.ready(function(){m()})}(),window.OSCUpdateWeChatShare=m,$(".dropdown-share").dropdown({action:"hide"}),$(document).on("click","[check-login]",function(e){if(window.common&&window.common.checkLogin&&!window.common.checkLogin())return e.preventDefault(),!1}),function(){if(!page.is_detail_page)return!1;function e(){window.common.getImagesBySizeFilter(".article-detail .content img:not(.ad-wrap img)",function(e,t){return e>=200||t>=200}).forEach(function(e){if(e.parent().is("a"))return!1;e.addClass("zoom-in-cursor"),e.viewer({button:!0,navbar:!1,title:!1,toolbar:!1,zoomRatio:.2,maxZoomRatio:2,viewed:function(){this.viewer.options.minZoomRatio=this.viewer.initialImageData.ratio}})})}window.Viewer?e():new window.common.dynamicLoader(["/new-osc/js/utils/plugins/viewer/viewer.min.css","/new-osc/js/utils/plugins/viewer/viewer.osc.css","/new-osc/js/utils/plugins/viewer/viewer.js","/new-osc/js/utils/plugins/viewer/jquery-viewer.min.js"],function(){e()}).loadFiles()}(),(n=$("[data-traceid][data-tracepid]"))&&n.length>0&&n.each(function(e,t){var o=$(t),i=o.data("traceid"),n=o.data("tracepid");i&&n&&$.get(page.site_url+"/action/trace/record?e=pv&aid="+i+"&p="+n)}),$(document).on("click","[data-traceid][data-tracepid]",function(){var e=$(this),t=e.data("traceid"),o=e.data("tracepid");t&&o&&$.get(page.site_url+"/action/trace/record?e=click&aid="+t+"&p="+o)}),function(){var e=$(".small-header-box");if(!e||e.length<=0)return!1;if(!e.is(".small-header-box--fixed"))return!1;var t=$(".secondary-header-box");if(!(page.secondaryHeaderEnable&&t&&t.length>0))return!1;var o=e.outerHeight(),i=window.common.getElementOffset(t[0]),n=(i&&i.top||0)+t.outerHeight()-o;if(n<=0)return!1;function a(){(window.pageYOffset||document.documentElement.scrollTop)>=n?e.hasClass("small-header-box--switch-full")||e.addClass("small-header-box--switch-full"):e.hasClass("small-header-box--switch-full")&&e.removeClass("small-header-box--switch-full")}a();var r=window.common.throttle(a,20);$(window).on("scroll",r)}()});
!function(a){var c,l,o,h,i,t,m='<svg><symbol id="oicon-icon-add-solid" viewBox="0 0 1024 1024"><path d="M921.6 0c56.32 0 102.4 46.08 102.4 102.4v819.2c0 56.32-46.08 102.4-102.4 102.4H102.4C46.08 1024 0 977.92 0 921.6V102.4C0 46.08 46.08 0 102.4 0h819.2z m-384 192h-51.2a26.24 26.24 0 0 0-25.6 25.6v226.112c0 10.24-6.848 17.088-17.088 17.088H217.6a26.24 26.24 0 0 0-25.6 25.6v51.2c0 13.632 11.968 25.6 25.6 25.6h226.112c10.24 0 17.088 6.848 17.088 17.088V806.4c0 13.632 11.968 25.6 25.6 25.6h51.2a26.24 26.24 0 0 0 25.6-25.6V580.288c0-10.24 6.848-17.088 17.088-17.088H806.4a26.24 26.24 0 0 0 25.6-25.6v-51.2a26.24 26.24 0 0 0-25.6-25.6H580.288c-10.24 0-17.088-6.848-17.088-17.088V217.6a26.24 26.24 0 0 0-25.6-25.6z"  ></path></symbol><symbol id="oicon-icon-right" viewBox="0 0 1024 1024"><path d="M848.969143 196.754286a36.571429 36.571429 0 0 1 61.074286 39.789714l-3.657143 5.485714-484.937143 615.789715-299.52-267.922286a36.571429 36.571429 0 0 1 43.446857-58.514286l5.266286 3.949714 241.517714 215.990858 436.809143-554.496z"  ></path></symbol><symbol id="oicon-icon-check-square" viewBox="0 0 1024 1024"><path d="M252.708571 73.142857h518.582858l9.801142 0.292572 12.726858 1.097142 9.508571 1.462858 14.628571 3.218285 14.336 4.534857a179.712 179.712 0 0 1 118.125715 156.086858l0.438857 12.873142v518.582858c0 15.286857-1.901714 30.061714-5.485714 44.251428l-2.998858 10.459429a180.150857 180.150857 0 0 1-96.256 108.544l-9.947428 4.242285a178.249143 178.249143 0 0 1-20.626286 6.582858l-10.752 2.340571c-7.241143 1.389714-14.628571 2.340571-22.089143 2.779429l-11.410285 0.365714h-518.582858a179.2 179.2 0 0 1-64.877714-12.068572l-9.947428-4.242285a180.297143 180.297143 0 0 1-92.672-98.377143l-3.584-10.24A179.2 179.2 0 0 1 73.142857 771.364571v-518.582857c0-73.435429 44.178286-136.630857 107.373714-164.425143l14.994286-5.851428 12.8-3.803429 6.070857-1.462857 13.165715-2.267428 5.632-0.731429 6.802285-0.585143c4.169143-0.292571 8.411429-0.438857 12.726857-0.438857z m528.237715 80.237714l-9.069715-0.438857H252.635429A99.986286 99.986286 0 0 0 152.868571 252.708571l0.073143 518.582858c0 51.638857 39.789714 94.427429 90.185143 99.328l9.581714 0.438857h518.582858c54.857143 0 99.766857-44.909714 99.766857-99.766857v-518.582858a100.059429 100.059429 0 0 0-90.112-99.328z"  ></path></symbol><symbol id="oicon-icon-phone" viewBox="0 0 1024 1024"><path d="M707.072 0H316.871111C236.088889 0 170.666667 62.407111 170.666667 139.662222v744.675556C170.666667 961.592889 236.032 1024 316.928 1024h390.144C787.911111 1024 853.333333 961.592889 853.333333 884.337778V139.662222C853.333333 62.407111 787.968 0 707.072 0z m-97.507556 930.929778H414.492444v-46.535111h195.072v46.535111z m158.435556-139.662222h-512V139.662222h512v651.605334z"  ></path></symbol><symbol id="oicon-export-all" viewBox="0 0 1024 1024"><path d="M852.114286 64v452.827429h-58.368V123.684571H154.112V900.388571h442.441143v59.684572H95.817143V64h756.297143zM783.798857 585.142857l144.018286 166.692572-143.725714 170.203428-44.178286-39.058286 81.700571-96.841142H595.968v-64h228.205714l-84.114285-97.426286 43.739428-39.497143z m-231.204571 36.352v64H217.746286v-64h334.848z m90.697143-185.782857v63.926857H217.819429v-64h425.618285z m88.356571-185.856v64H217.746286v-64h513.901714z"  ></path></symbol><symbol id="oicon-information-circle" viewBox="0 0 1024 1024"><path d="M563.2 358.4H460.8V256h102.4m0 512H460.8V460.8h102.4M512 0a512 512 0 1 0 0 1024A512 512 0 0 0 512 0z"  ></path></symbol><symbol id="oicon-oschina-circle" viewBox="0 0 1024 1024"><path d="M512 0a512 512 0 1 1 0 1024A512 512 0 0 1 512 0z m11.456 184.32c-200.576 0-339.136 139.008-339.136 327.552 0 167.68 130.56 334.976 334.464 327.552 223.936-8.32 300.416-205.248 300.416-205.248L621.44 568.96c0.448-0.96-40.128 65.792-118.016 65.792-68.16 0.448-123.648-44.032-127.36-126.976-3.776-77.376 64.384-129.28 129.216-130.624C579.84 375.168 624.64 460.48 624.64 460.48l192.64-70.912S737.92 184.32 523.456 184.32z"  ></path></symbol><symbol id="oicon-home-circle" viewBox="0 0 1024 1024"><path d="M512 0a512 512 0 1 1 0 1024A512 512 0 0 1 512 0z m-8.192 226.56L262.016 397.312A14.272 14.272 0 0 0 256 408.96v312.896a14.208 14.208 0 0 0 14.208 14.208h156.48c7.808 0 14.208-6.4 14.208-14.208V551.04H583.04v170.688c0 7.872 6.4 14.208 14.208 14.208h156.48c7.872 0 14.208-6.4 14.208-14.208v-312.96a14.272 14.272 0 0 0-6.016-11.52L520.192 226.56a14.208 14.208 0 0 0-16.384 0z"  ></path></symbol><symbol id="oicon-balance" viewBox="0 0 1024 1024"><path d="M935.936 538.304l-128.512-271.04h50.88c0.32-1.536 0.96-3.008 0.96-4.544 0-36.608-105.92-67.456-250.88-77.248-11.264-27.968-50.368-48.64-97.024-48.64-46.528 0-85.632 20.672-96.96 48.64-145.472 9.6-251.904 40.576-251.904 77.248 0 1.536 0.64 3.008 0.96 4.48h61.12L96.064 538.368H62.592c0 44.352 78.784 80.256 176 80.256 97.28 0 176-35.904 176-80.256H390.4L261.76 267.264h207.36l-35.904 535.168c-70.656 11.008-122.176 44.864-122.176 85.12h400.512c0-40.256-51.456-74.112-122.112-85.12l-35.84-535.168h216.512L641.6 538.24h-33.408c0 44.352 78.72 80.256 176 80.256 97.216 0 176-35.904 176-80.256h-24.256z m-587.52 0H138.048L243.2 316.416 348.48 538.24z m335.104 0l105.28-221.888 105.216 221.888H683.52z"  ></path></symbol><symbol id="oicon-readme" viewBox="0 0 1024 1024"><path d="M885.76 192h-217.408c-74.88 0-139.84 50.88-156.16 122.688C495.616 242.88 430.72 192 355.968 192H138.624C97.472 192 64 224.832 64 265.344v439.552c0 40.448 33.472 73.28 74.688 73.28h139.52c158.976 0 206.4 37.312 229.12 114.56 1.088 4.352 8.064 4.352 9.344 0 22.848-77.248 70.336-114.56 229.12-114.56h139.52c41.216 0 74.688-32.832 74.688-73.28V265.472c0-40.32-33.152-73.152-74.24-73.472zM435.072 602.88H185.6a5.376 5.376 0 0 1-5.44-5.376v-35.008c0-2.88 2.304-5.376 5.44-5.376h249.472c2.944 0 5.44 2.304 5.44 5.376v35.008a5.632 5.632 0 0 1-5.568 5.312z m0-93.12H185.6a5.376 5.376 0 0 1-5.44-5.312v-35.008c0-2.88 2.304-5.312 5.44-5.312h249.472c2.944 0 5.44 2.24 5.44 5.312v35.008a5.632 5.632 0 0 1-5.568 5.312z m0-92.992H185.6a5.376 5.376 0 0 1-5.44-5.376v-35.008c0-2.88 2.304-5.312 5.44-5.312h249.472c2.944 0 5.44 2.304 5.44 5.312v35.008a5.632 5.632 0 0 1-5.568 5.376z m403.328 185.92H588.992a5.376 5.376 0 0 1-5.44-5.376v-34.944c0-2.944 2.368-5.376 5.44-5.376h249.536c2.944 0 5.44 2.304 5.44 5.376v34.944a5.632 5.632 0 0 1-5.632 5.376z m0-93.056H588.992a5.376 5.376 0 0 1-5.44-5.376v-34.944c0-2.944 2.368-5.376 5.44-5.376h249.536c2.944 0 5.44 2.304 5.44 5.376v34.944a5.632 5.632 0 0 1-5.632 5.376z m0-93.056H588.992a5.376 5.376 0 0 1-5.44-5.312V376.32c0-2.88 2.368-5.312 5.44-5.312h249.536c2.944 0 5.44 2.304 5.44 5.312v34.88a5.632 5.632 0 0 1-5.632 5.312z"  ></path></symbol><symbol id="oicon-arrow-down-light" viewBox="0 0 1024 1024"><path d="M755.2 393.6c-12.8-12.8-38.4-12.8-51.2 0L512 589.888 320 393.6c-12.8-12.8-38.4-12.8-51.2 0-12.8 12.8-12.8 38.4 0 51.2l217.6 226.112c12.8 12.8 38.4 12.8 51.2 0l217.6-226.112c17.088-17.088 17.088-38.4 0-51.2z"  ></path></symbol><symbol id="oicon-flag" viewBox="0 0 1024 1024"><path d="M864.8704 132.3008C780.6976 204.8 643.754667 204.868267 559.5136 132.3008 423.389867 15.086933 202.069333 15.086933 65.9456 132.3008a53.589333 53.589333 0 0 0-19.524267 40.618667v746.154666c0 31.675733 29.764267 57.344 66.56 57.344 36.864 0 66.56-25.668267 66.56-57.344V657.749333c84.650667-57.275733 207.803733-52.360533 285.832534 14.882134 136.192 117.282133 357.5808 117.282133 493.568 0a53.6576 53.6576 0 0 0 19.524266-40.5504V172.919467c0-23.210667-16.247467-44.168533-41.028266-53.0432a74.5472 74.5472 0 0 0-72.567467 12.424533z"  ></path></symbol><symbol id="oicon-book" viewBox="0 0 1024 1024"><path d="M853.430857 73.142857H268.141714a146.285714 146.285714 0 0 0-146.358857 146.285714v585.142858a146.285714 146.285714 0 0 0 146.285714 146.285714h585.362286a48.786286 48.786286 0 0 0 48.786286-48.786286V121.929143A48.786286 48.786286 0 0 0 853.430857 73.142857zM268.141714 853.357714a48.786286 48.786286 0 1 1 0-97.572571H804.571429v97.572571H268.141714z"  ></path></symbol><symbol id="oicon-refresh" viewBox="0 0 1024 1024"><path d="M512.32 931.392a417.28 417.28 0 0 1-268.48-97.28 419.328 419.328 0 0 1-143.232-242.368l71.424-13.76a346.816 346.816 0 0 0 660.928 65.792l67.392 27.648a419.136 419.136 0 0 1-388.032 259.968z m334.528-509.952a349.312 349.312 0 0 0-122.24-183.296 342.912 342.912 0 0 0-212.288-72.704 344.192 344.192 0 0 0-194.88 59.968 347.52 347.52 0 0 0-125.632 154.624l-67.328-27.776a418.816 418.816 0 0 1 151.744-186.88A417.152 417.152 0 0 1 512.256 92.8a417.728 417.728 0 0 1 256.896 87.936 421.12 421.12 0 0 1 91.52 98.112c25.408 37.952 44.416 79.616 56.32 123.648l-70.144 19.008z"  ></path><path d="M30.272 669.376l93.504-162.56 162.56 93.44M997.76 345.28L914.432 513.28l-168.192-83.2"  ></path></symbol><symbol id="oicon-mail-light" viewBox="0 0 1024 1024"><path d="M877.714286 97.28c80.457143 0 146.285714 65.828571 146.285714 146.285714v536.356572c0 80.457143-65.828571 146.285714-146.285714 146.285714H146.285714c-80.457143 0-146.285714-65.828571-146.285714-146.285714V243.565714c0-80.457143 65.828571-146.285714 146.285714-146.285714h731.428572z m48.713143 221.842286l-387.657143 258.486857c-7.314286 4.827429-17.042286 7.314286-26.770286 7.314286a49.152 49.152 0 0 1-26.843429-7.314286l-387.657142-258.486857v460.8c0 26.843429 21.942857 48.786286 48.786285 48.786285h731.428572c26.843429 0 48.786286-21.942857 48.786285-48.786285l-0.073142-460.8zM877.714286 194.779429H146.285714a48.64 48.64 0 0 0-35.035428 14.921142L512 477.622857l400.749714-267.922286A48.64 48.64 0 0 0 877.714286 194.779429z"  ></path></symbol><symbol id="oicon-heart-light" viewBox="0 0 1024 1024"><path d="M707.510857 123.977143c-58.953143 5.558857-112.64 48.859429-156.013714 110.518857l-9.069714 13.531429-30.427429 46.811428-30.427429-46.811428c-47.835429-73.508571-109.568-124.635429-177.737142-124.635429C177.078857 123.392 72.411429 238.884571 72.411429 382.537143c0 65.536 47.177143 165.083429 107.081142 220.16 72.996571 93.403429 315.245714 297.984 333.312 297.984 18.724571 0 255.780571-200.996571 334.336-301.129143 56.758857-51.492571 104.301714-151.259429 104.301715-217.014857 0-138.752-97.792-251.318857-218.697143-258.706286l-12.580572-0.365714-12.726857 0.585143z m27.501714-72.411429C896.438857 60.050286 1024 205.897143 1024 382.537143c0 86.820571-56.612571 205.677714-123.684571 265.801143-88.283429 113.590857-337.188571 324.534857-387.437715 324.534857-49.590857 0-303.542857-214.528-386.267428-321.316572C56.246857 587.702857 0 468.992 0 382.537143 0 200.557714 135.314286 51.2 303.762286 51.2c78.628571 0 144.457143 40.813714 198.217143 103.277714L512 166.546286l10.020571-11.995429C572.050286 96.182857 632.832 56.758857 704.658286 51.712L720.237714 51.2l14.774857 0.365714z"  ></path></symbol><symbol id="oicon-heart-bold" viewBox="0 0 1024 1024"><path d="M735.012571 51.565714C896.438857 60.050286 1024 205.897143 1024 382.537143c0 86.820571-56.612571 205.677714-123.684571 265.801143-88.283429 113.590857-337.188571 324.534857-387.437715 324.534857-49.590857 0-303.542857-214.528-386.267428-321.316572C56.246857 587.702857 0 468.992 0 382.537143 0 200.557714 135.314286 51.2 303.762286 51.2c78.628571 0 144.457143 40.813714 198.217143 103.277714L512 166.546286l10.020571-11.995429C572.050286 96.182857 632.832 56.758857 704.658286 51.712L720.237714 51.2l14.774857 0.365714z"  ></path></symbol><symbol id="oicon-box" viewBox="0 0 1024 1024"><path d="M950.857143 725.504c0 15.798857-11.995429 35.547429-23.917714 43.52l-386.998858 209.481143a48.274286 48.274286 0 0 1-55.881142 0l-386.925715-209.481143C85.065143 761.051429 73.142857 741.302857 73.142857 725.504V298.422857c0-15.798857 11.995429-35.547429 23.917714-43.52L484.059429 45.494857a48.274286 48.274286 0 0 1 55.881142 0l386.925715 209.481143c11.995429 7.972571 23.990857 27.721143 23.990857 43.52V725.577143m-438.857143-585.142857L220.745143 298.422857 512 456.630857l291.254857-158.134857L512 140.434286z"  ></path></symbol><symbol id="oicon-comment-light" viewBox="0 0 1024 1024"><path d="M512.129463 36.571429C229.505463 36.571429 0.348891 234.203429 0.348891 478.061714c0 101.010286 39.789714 193.536 105.764572 268.068572C76.271177 829.732571 14.246034 900.608 13.295177 901.485714c-13.165714 14.848-16.822857 36.498286-9.216 55.149715 7.606857 18.724571 25.014857 30.793143 44.178286 30.793142 122.953143 0 219.940571-54.564571 278.162286-98.304 57.782857 19.382857 120.173714 30.354286 185.782857 30.354286C794.972891 919.478857 1024.129463 721.92 1024.129463 478.061714S794.972891 36.571429 512.129463 36.571429z m0 781.092571c-53.394286 0-106.057143-8.777143-156.745143-25.746286l-45.348571-15.213714-38.985143 29.257143a421.302857 421.302857 0 0 1-114.980572 61.513143c14.628571-25.6 28.745143-54.491429 39.789715-85.284572l21.211428-59.611428-41.252571-46.299429c-36.205714-40.96-79.579429-108.690286-79.579429-198.217143 0-187.245714 186.587429-339.602286 415.963429-339.602285s415.963429 152.356571 415.963428 339.602285c0 187.245714-186.587429 339.602286-415.963428 339.602286z"  ></path></symbol><symbol id="oicon-noanswer" viewBox="0 0 1024 1024"><path d="M511.122286 36.571429C793.965714 36.571429 1022.317714 248.832 1024 512c0 263.168-228.278857 475.428571-511.122286 475.428571a530.797714 530.797714 0 0 1-269.165714-71.314285 34.450286 34.450286 0 0 0-29.037714-3.364572l-149.942857 52.662857c-27.282286 8.411429-52.809143-15.36-44.251429-42.496l47.689143-151.113142a31.158857 31.158857 0 0 0-3.437714-27.209143A454.948571 454.948571 0 0 1 0 512C0 248.832 228.278857 36.571429 511.122286 36.571429z m-159.451429 257.316571a14.628571 14.628571 0 0 0-20.699428 0l-51.712 51.712a14.628571 14.628571 0 0 0 0 20.699429l160.256 160.256-160.256 160.402285-2.706286 3.803429a14.628571 14.628571 0 0 0 2.706286 16.822857l51.712 51.785143 3.803428 2.706286a14.628571 14.628571 0 0 0 16.896-2.706286l160.256-160.402286 160.402286 160.402286a14.628571 14.628571 0 0 0 20.699428 0l51.712-51.712a14.628571 14.628571 0 0 0 0-20.699429L584.338286 526.555429l160.402285-160.256 2.706286-3.803429a14.628571 14.628571 0 0 0-2.706286-16.822857l-51.712-51.785143-3.803428-2.706286a14.628571 14.628571 0 0 0-16.896 2.706286L511.926857 454.144 351.670857 293.888z"  ></path></symbol><symbol id="oicon-pen" viewBox="0 0 1024 1024"><path d="M581.491566 186.514286l256 256-555.885715 556.032-228.352 25.161143a47.981714 47.981714 0 0 1-52.955428-53.028572l25.380571-228.425143L581.491566 186.514286z m414.354285-38.180572L875.672137 28.16a96.036571 96.036571 0 0 0-135.826286 0L626.766994 141.165714l256 256 113.078857-113.078857a96.036571 96.036571 0 0 0 0-135.826286z"  ></path></symbol><symbol id="oicon-share" viewBox="0 0 1024 1024"><path d="M1024 455.111111l-398.222222-398.222222v227.555555C227.555556 341.333333 56.888889 625.777778 0 910.222222c142.222222-199.111111 341.333333-290.133333 625.777778-290.133333V853.333333l398.222222-398.222222z"  ></path></symbol><symbol id="oicon-star" viewBox="0 0 1024 1024"><path d="M1024 403.228444c0 8.931556-5.347556 18.659556-15.985778 29.240889l-223.402666 215.722667 52.906666 304.696889c0.455111 2.844444 0.625778 6.940444 0.625778 12.174222 0 8.533333-2.161778 15.758222-6.428444 21.617778a21.788444 21.788444 0 0 1-18.773334 8.874667 50.119111 50.119111 0 0 1-24.632889-7.338667L512 844.401778l-276.309333 143.815111a52.679111 52.679111 0 0 1-24.632889 7.338667c-8.590222 0-15.075556-2.958222-19.342222-8.817778a35.669333 35.669333 0 0 1-6.485334-21.617778c0-2.446222 0.398222-6.542222 1.251556-12.231111l52.906666-304.696889L15.36 432.469333C5.12 421.546667 0 411.761778 0 403.228444c0-15.018667 11.491556-24.405333 34.474667-28.046222l308.906666-44.487111L481.848889 53.475556C489.642667 36.750222 499.712 28.444444 512 28.444444c12.288 0 22.357333 8.305778 30.151111 25.031112l138.467556 277.219555 308.906666 44.487111c22.983111 3.640889 34.474667 13.027556 34.474667 28.046222z"  ></path></symbol><symbol id="oicon-thumb-up" viewBox="0 0 1024 1024"><path d="M978.659556 554.211556l-126.634667 291.157333c-19.285333 31.118222-46.648889 46.648889-82.204445 46.648889H385.365333c-29.582222 0-55.580444-11.093333-77.767111-33.336889-22.186667-22.186667-33.336889-48.128-33.336889-77.767111V409.770667c0-26.680889 9.614222-49.607111 28.842667-68.835556L607.573333 38.684444l20.024889 22.186667c17.749333 17.863111 31.857778 37.091556 42.211556 57.856 4.494222 10.353778 5.973333 20.707556 4.494222 31.061333l-44.487111 220.046223h262.200889c25.201778 0 47.047111 9.614222 65.536 28.842666 18.545778 19.285333 27.818667 41.528889 27.818666 66.673778v51.086222c0 13.368889-2.275556 25.941333-6.712888 37.831111zM38.684444 892.017778V369.777778h93.297778c13.368889 0 24.860444 4.437333 34.531556 13.312 9.671111 8.874667 14.449778 20.024889 14.449778 33.336889v426.666666a47.047111 47.047111 0 0 1-14.449778 34.474667 47.047111 47.047111 0 0 1-34.474667 14.449778H38.684444z"  ></path></symbol><symbol id="oicon-quick-download" viewBox="0 0 1024 1024"><path d="M1023.99616 780.288914v200.703247c0 23.807911-21.37592 43.007839-47.99982 43.007839H47.99982c-26.6239 0-47.99982-19.199928-47.99982-43.007839v-200.703247c0-23.807911 21.37592-43.007839 47.99982-43.007839H326.398776v88.831667c0 72.06373 96.959636 72.06373 143.807461 10.879959l87.487672-99.711626h418.302431c26.6239 0 47.99982 19.199928 47.99982 43.007839z m-247.99907 157.695409c0-19.711926-17.983933-35.839866-39.99985-35.839866s-39.99985 16.12794-39.99985 35.839866c0 19.711926 17.983933 35.839866 39.99985 35.839865s39.99985-16.12794 39.99985-35.839865z m127.99952 0c0-19.711926-17.983933-35.839866-39.99985-35.839866s-39.99985 16.12794-39.99985 35.839866c0 19.711926 17.983933 35.839866 39.99985 35.839865s39.99985-16.12794 39.99985-35.839865zM801.724994 224.258999c8.575968 6.847974 10.239962 14.335946 4.991981 22.527916L421.118421 839.168693c-6.143977 8.511968-16.191939 12.799952-29.951888 12.799952-1.919993 0-5.24798-0.319999-9.983962-1.023996a31.487882 31.487882 0 0 1-18.239932-9.727964 14.847944 14.847944 0 0 1-3.199988-15.359942L500.414123 412.162294l-289.918912 51.711806a52.671802 52.671802 0 0 1-8.575968 0.511999 41.855843 41.855843 0 0 1-22.143917-5.631979c-8.575968-5.119981-11.647956-11.775956-9.279965-19.967925l143.551461-422.398416a23.551912 23.551912 0 0 1 11.391958-11.775956A41.599844 41.599844 0 0 1 345.470704 0.00384h234.239122c8.959966 0 16.639938 2.111992 22.783915 6.399976 6.207977 4.287984 9.279965 9.279965 9.279965 15.103943a16.639938 16.639938 0 0 1-3.519987 9.215966L486.142177 267.778836l282.75094-50.175812a40.639848 40.639848 0 0 1 32.831877 6.655975z"  ></path></symbol><symbol id="oicon-money-bold" viewBox="0 0 1024 1024"><path d="M404.668555 802.966617H181.92879c-20.760984-1.535744-36.744098-10.295173-47.892463-26.278287A115.123924 115.123924 0 0 1 113.844137 723.562962c2.275176-19.452758 9.043826-35.435872 20.19219-47.892463 11.148364-12.51347 27.131478-19.509637 47.892463-21.045381h222.739765v-73.658835l-222.739765-1.137588c-20.760984-1.592623-36.744098-8.986947-47.892463-22.182969-11.148364-13.309782-17.860134-30.032328-20.19219-50.281398 2.275176-19.509637 9.043826-35.435872 20.19219-47.949342 11.148364-12.456591 27.131478-19.452758 47.892463-21.045381H348.187302L193.47531 162.504471a176.212409 176.212409 0 0 1-21.955452-35.663389 97.491307 97.491307 0 0 1-9.214464-47.323668c3.8678-21.784814 11.54652-39.531189 23.09304-53.182248C196.944954 12.684108 218.50225 3.924679 250.013442 0.056879c18.485808 1.535744 35.037716 7.963117 49.655724 19.28212s26.505805 23.548075 35.777149 36.800978L510.862412 381.14892 703.569849 53.807921c9.214464-13.252902 21.15914-24.913181 35.834028-35.037716 14.561129-10.124535 31.113037-16.38127 49.598845-18.713326 11.489641 0.796312 22.069211 2.332056 31.73871 4.664112 9.61262 2.332056 18.030773 6.256735 25.368216 11.717158 7.280564 5.460423 13.48042 13.252902 18.485808 23.320558 4.948509 10.181414 8.64567 23.434317 10.920847 39.815586 0 22.581125-7.67872 43.967783-23.036161 64.273732L673.537522 438.255846h169.614397c20.021552 1.592623 35.834028 8.588791 47.323668 21.045382 11.54652 12.51347 18.087652 28.439704 19.623397 47.949341a87.366772 87.366772 0 0 1-20.192191 51.418986c-11.944676 13.992335-27.87091 21.784814-47.892462 23.320558l-220.40771 1.194467v71.326779h221.545298c20.021552 1.535744 35.834028 9.328223 47.323668 23.320558 11.54652 14.049214 18.087652 30.82864 19.623397 50.281397a86.57046 86.57046 0 0 1-19.623397 50.850192c-11.54652 13.651058-27.302116 21.21602-47.323668 22.751764l-221.545298-1.137589v123.883353C618.535133 990.782425 582.757985 1023.886241 514.275176 1023.886241c-33.900128 0-60.235294-8.190635-79.062378-24.571905-18.883964-16.32439-29.008499-41.294451-30.601122-74.796422v-121.551297z"  ></path></symbol><symbol id="oicon-document" viewBox="0 0 1024 1024"><path d="M924.14712 375.508265h-250.87216c-59.134152 0-107.51664-46.07856-107.51664-102.3968V34.142933A35.134902 35.134902 0 0 0 529.91944 0.031999h-358.3888C112.396488 0.031999 64.014 46.110559 64.014 102.428799v819.174401c0 56.31824 48.382488 102.3968 107.51664 102.3968h680.93872c59.134152 0 107.51664-46.07856 107.51664-102.3968v-511.984001a35.134902 35.134902 0 0 0-35.83888-34.110934z m28.671104-143.35552L716.281616 6.879785a23.67926 23.67926 0 0 0-17.91944-6.847786c-14.335552 0-25.087216 10.23968-25.087216 23.871254V204.825599c0 37.566826 32.254992 68.285866 71.67776 68.285866h189.946064c14.335552 0 25.087216-10.23968 25.087216-23.935252a21.375332 21.375332 0 0 0-7.167776-17.023468z"  ></path></symbol><symbol id="oicon-download" viewBox="0 0 1024 1024"><path d="M432 0h160c26.624 0 48 21.376 48 48V384h175.36c35.648 0 53.44 43.008 28.224 68.224l-304.192 304.384a38.72 38.72 0 0 1-54.592 0l-304.64-304.384A39.936 39.936 0 0 1 208.448 384H384V48c0-26.624 21.376-48 48-48zM1024 752v224c0 26.624-21.376 48-48 48H48a47.872 47.872 0 0 1-48-48v-224c0-26.624 21.376-48 48-48h293.376l98.048 97.984c40.192 40.192 104.96 40.192 145.152 0L682.624 704h293.376c26.624 0 48 21.376 48 48z m-248 176a40.128 40.128 0 0 0-40-40 40.128 40.128 0 0 0-40 40c0 22.016 17.984 40 40 40a40.128 40.128 0 0 0 40-40z m128 0a40.128 40.128 0 0 0-40-40 40.128 40.128 0 0 0-40 40c0 22.016 17.984 40 40 40a40.128 40.128 0 0 0 40-40z"  ></path></symbol><symbol id="oicon-home" viewBox="0 0 1024 1024"><path d="M54.3966 280.174489L482.465846 8.63946a55.03656 55.03656 0 0 1 59.260296 0L969.539404 280.302481c33.789888 21.502656 54.3966 59.708268 54.3966 100.857696v524.639211c0 65.27592-50.940816 118.200612-113.784888 118.200612H113.784888C50.940816 1023.936004 0 971.011312 0 905.735392V381.096181c0-41.213424 20.606712-79.35504 54.3966-100.921692z m343.786514 270.959065c-31.35804 0-56.892444 26.494344-56.892445 59.132304v177.268921c0 32.63796 25.470408 59.132304 56.956441 59.132304h227.50578c31.35804 0 56.892444-26.494344 56.892445-59.132304v-177.268921c0-32.63796-25.470408-59.132304-56.956441-59.132304H398.24711z"  ></path></symbol><symbol id="oicon-edit" viewBox="0 0 1024 1024"><path d="M736.768 938.666667h-534.755556c-64.284444 0-116.679111-53.930667-116.679111-120.206223V267.719111c0-66.275556 52.337778-120.206222 116.679111-120.206222h124.700445c21.560889 0 39.025778 17.976889 39.025778 40.163555 0 22.186667-17.464889 40.163556-39.025778 40.163556H202.012444a39.310222 39.310222 0 0 0-38.684444 39.822222v550.798222c0 22.016 17.351111 39.822222 38.684444 39.822223h534.755556c21.333333 0 38.684444-17.806222 38.684444-39.822223v-121.514666c0-22.186667 17.464889-40.163556 39.025778-40.163556 21.560889 0 38.968889 17.976889 38.968889 40.163556v121.514666c0 66.275556-52.337778 120.206222-116.622222 120.206223z m-353.848889-205.937778c-18.773333 0-36.807111-7.395556-50.460444-21.504a75.320889 75.320889 0 0 1-17.635556-74.126222l25.827556-168.789334a42.439111 42.439111 0 0 1 1.877333-7.509333 232.163556 232.163556 0 0 1 51.939556-83.740444l248.604444-256.056889c22.186667-22.926222 52.565333-35.84 83.171556-35.669334 29.127111 0.227556 56.149333 11.946667 76.060444 32.995556l106.382222 112.696889c20.48 21.731556 31.061333 50.801778 29.866667 81.749333a121.912889 121.912889 0 0 1-34.474667 80.156445l-247.125333 254.407111a223.800889 223.800889 0 0 1-81.351111 53.532444 35.669333 35.669333 0 0 1-7.281778 1.934222l-163.896889 26.624a72.931556 72.931556 0 0 1-21.560889 3.299556z m34.133333-247.921778l-25.201777 165.262222 160.426666-25.998222c18.375111-7.395556 35.441778-19.000889 49.550223-33.564444l247.068444-254.407111c14.051556-14.506667 15.758222-36.465778 3.868444-49.152l-106.382222-112.526223a28.330667 28.330667 0 0 0-20.650666-8.760889 38.115556 38.115556 0 0 0-27.477334 12.174223l-248.604444 256a149.788444 149.788444 0 0 0-32.540445 50.972444z"  ></path></symbol><symbol id="oicon-rise" viewBox="0 0 1024 1024"><path d="M1024 166.034286v268.726857a18.505143 18.505143 0 0 1-11.702857 18.285714c-7.899429 3.437714-15.067429 1.901714-21.504-4.681143l-73.069714-74.752-382.244572 391.094857a18.578286 18.578286 0 0 1-27.794286 0L367.177143 620.690286 115.931429 877.714286 0 759.076571l353.206857-361.325714a18.944 18.944 0 0 1 13.897143-6.217143c5.266286 0 9.874286 2.048 13.897143 6.144l140.653714 143.945143 280.137143-286.646857-72.996571-74.752c-6.436571-6.582857-8.045714-13.897143-4.534858-21.942857A17.993143 17.993143 0 0 1 742.034286 146.285714h262.582857c5.705143 0 10.24 1.828571 13.897143 5.558857 3.657143 3.657143 5.485714 8.411429 5.485714 14.189715z"  ></path></symbol><symbol id="oicon-application" viewBox="0 0 1024 1024"><path d="M928 605.952v270.848a51.2 51.2 0 0 1-51.2 51.2h-270.848a51.2 51.2 0 0 1-51.2-51.2v-270.848a51.2 51.2 0 0 1 51.2-51.2h270.848a51.2 51.2 0 0 1 51.2 51.2z m-458.752 0v270.848a51.2 51.2 0 0 1-51.2 51.2H147.2a51.2 51.2 0 0 1-51.2-51.2v-270.848a51.2 51.2 0 0 1 51.2-51.2h270.848a51.2 51.2 0 0 1 51.2 51.2zM928 147.2v270.848a51.2 51.2 0 0 1-51.2 51.2h-270.848a51.2 51.2 0 0 1-51.2-51.2V147.2a51.2 51.2 0 0 1 51.2-51.2h270.848a51.2 51.2 0 0 1 51.2 51.2z m-458.752 0v270.848a51.2 51.2 0 0 1-51.2 51.2H147.2a51.2 51.2 0 0 1-51.2-51.2V147.2a51.2 51.2 0 0 1 51.2-51.2h270.848a51.2 51.2 0 0 1 51.2 51.2z"  ></path></symbol><symbol id="oicon-ranking" viewBox="0 0 1024 1024"><path d="M511.780571 185.051429l-62.244571 46.08 23.625143-74.24-62.244572-46.08h77.238858L511.780571 36.571429l23.625143 74.24h77.238857L550.4 156.891429l23.625143 74.24-62.244572-46.08z m-284.416 314.441142l-62.208 45.165715 24.064-73.764572-62.683428-46.08H203.702857l28.16-74.24 19.565714 74.24h77.238858l-62.72 46.08 24.100571 73.764572-62.72-45.165715z m567.442286-111.140571l-62.683428 46.116571 24.064-74.678857-62.683429-46.116571h77.238857l10.422857-74.678857 37.266286 74.678857h77.238857l-62.244571 46.08 23.625143 74.715428-62.244572-46.08z m-218.989714-101.412571h-127.195429c-29.988571 0-54.491429 24.868571-54.491428 55.332571v553.252571c0 30.427429 24.502857 55.332571 54.491428 55.332572h127.195429c29.988571 0 54.528-24.868571 54.528-55.332572V342.308571c0-30.902857-24.502857-55.332571-54.491429-55.332571zM291.474286 618.422857H164.205714c-29.988571 0-54.528 24.905143-54.528 55.332572v221.330285c0 30.427429 24.502857 55.296 54.491429 55.296H291.474286c29.988571 0 54.491429-24.868571 54.491428-55.296v-221.330285c0-30.427429-24.502857-55.332571-54.491428-55.332572z m568.32-110.189714h-127.195429c-29.988571 0-54.491429 24.868571-54.491428 55.332571v331.958857c0 30.427429 24.502857 55.332571 54.491428 55.332572h127.195429c29.988571 0 54.528-24.868571 54.528-55.332572V563.565714c0-30.902857-24.502857-55.332571-54.491429-55.332571z"  ></path></symbol><symbol id="oicon-information" viewBox="0 0 1024 1024"><path d="M766.683429 821.686857V194.304a111.908571 111.908571 0 0 0-111.177143-112.384H198.217143a111.908571 111.908571 0 0 0-111.177143 112.384v635.282286a111.908571 111.908571 0 0 0 111.177143 112.420571h569.197714V821.76l-0.731428-0.109714zM242.395429 302.116571h49.664V251.904a34.011429 34.011429 0 1 1 68.022857 0V302.08h49.700571a34.377143 34.377143 0 0 1 0 68.754286H360.118857v50.212571a34.011429 34.011429 0 1 1-68.022857 0V370.834286H242.358857a34.377143 34.377143 0 0 1 0-68.754286z m355.474285 501.723429h-355.474285a34.377143 34.377143 0 0 1 0-68.754286h355.474285a34.377143 34.377143 0 0 1 0 68.754286z m0-151.478857H347.940571a34.377143 34.377143 0 0 1 0-68.754286h249.929143a34.377143 34.377143 0 0 1 0 68.754286z m0-154.477714h-120.027428a34.377143 34.377143 0 0 1 0-68.754286h120.027428a34.377143 34.377143 0 0 1 0 68.754286z m266.496-116.370286h-41.325714V942.08h5.193143v-0.512a120.100571 120.100571 0 0 0 108.726857-119.954286V454.948571c0.219429-40.338286-32.292571-73.179429-72.594286-73.398857z"  ></path></symbol><symbol id="oicon-add" viewBox="0 0 1024 1024"><path d="M590.72 571.072h260.992a30.272 30.272 0 0 0 29.504-29.504v-59.136a30.272 30.272 0 0 0-29.504-29.504H590.72c-11.84 0-19.712-7.872-19.712-19.712V172.288a30.272 30.272 0 0 0-29.504-29.504h-59.136a30.272 30.272 0 0 0-29.504 29.504V433.28c0 11.84-7.872 19.712-19.712 19.712H172.288a30.272 30.272 0 0 0-29.504 29.504v59.136c0 15.744 13.76 29.504 29.504 29.504H433.28c11.84 0 19.712 7.872 19.712 19.712v260.928c0 15.744 13.76 29.504 29.504 29.504h59.136a30.272 30.272 0 0 0 29.504-29.504V590.72c0-11.84 7.872-19.712 19.712-19.712z"  ></path></symbol><symbol id="oicon-app" viewBox="0 0 1024 1024"><path d="M471.779556 10.808889c25.031111-14.392889 55.409778-14.392889 80.440888 0l371.939556 213.560889c26.510222 15.189333 42.951111 44.145778 42.951111 75.605333v424.049778c0 31.402667-16.497778 60.359111-42.951111 75.548444l-371.939556 213.674667c-25.031111 14.336-55.409778 14.336-80.440888 0l-371.939556-213.617778A86.983111 86.983111 0 0 1 56.888889 723.968V300.032c0-31.402667 16.497778-60.302222 42.951111-75.491556L471.779556 10.752zM217.201778 342.698667a44.657778 44.657778 0 0 0-3.584 32.824889 42.894222 42.894222 0 0 0 19.797333 25.884444L470.471111 537.486222v271.36c0 23.893333 18.602667 43.235556 41.528889 43.235556 22.926222 0 41.528889-19.342222 41.528889-43.235556v-271.36l237.056-136.192a44.145778 44.145778 0 0 0 14.961778-57.856 40.789333 40.789333 0 0 0-55.182223-17.635555L512 462.677333 273.635556 325.802667a40.732444 40.732444 0 0 0-56.433778 16.896z"  ></path></symbol><symbol id="oicon-time" viewBox="0 0 1024 1024"><path d="M512 0a512 512 0 1 1 0 1024A512 512 0 0 1 512 0z m51.2 204.8H460.8v358.4l179.2 179.2L716.8 665.6 563.2 512V204.8z"  ></path></symbol><symbol id="oicon-comment" viewBox="0 0 1024 1024"><path d="M512 113.777778C260.664889 113.777778 56.888889 275.911111 56.888889 475.932444c0 83.057778 35.100444 159.516444 94.151111 220.615112l-0.227556 1.365333-22.983111 120.32a29.752889 29.752889 0 0 0 39.196445 33.393778l116.679111-40.448 28.387555-9.841778A551.139556 551.139556 0 0 0 512 837.973333c251.335111 0 455.111111-162.133333 455.111111-362.097777C967.111111 275.911111 763.335111 113.777778 512 113.777778z"  ></path></symbol><symbol id="oicon-admin" viewBox="0 0 1024 1024"><path d="M575.658667 940.032l15.303111-88.405333-64.682667-62.634667c-22.414222-21.617778-30.435556-50.744889-21.560889-77.824 8.931556-27.079111 32.597333-45.795556 63.431111-50.232889l78.222223-11.320889c-3.413333-2.275556-6.428444-4.551111-9.272889-7.054222a81.180444 81.180444 0 0 1-21.048889-26.737778 77.482667 77.482667 0 0 1-7.281778-27.932444c-0.568889-9.386667 0-18.602667 1.763556-27.591111a76.8 76.8 0 0 1 5.575111-18.602667 43.121778 43.121778 0 0 1 9.102222-13.084444 85.333333 85.333333 0 0 1 12.8-10.24c4.949333-3.413333 9.955556-7.281778 15.473778-12.231112 4.835556-4.209778 9.102222-10.069333 13.198222-17.635555 3.754667-7.452444 7.281778-15.246222 10.353778-23.04a320.284444 320.284444 0 0 0 8.192-27.932445 44.145778 44.145778 0 0 0 17.294222-9.898666c4.778667-4.266667 9.102222-10.069333 13.141333-17.692445 3.754667-7.623111 6.826667-17.521778 8.533334-30.264889 1.308444-9.671111 1.137778-17.635556-0.341334-24.405333a59.278222 59.278222 0 0 0-5.859555-16.270222 23.210667 23.210667 0 0 0-9.955556-10.979556 411.306667 411.306667 0 0 0-4.664889-72.305777 373.304889 373.304889 0 0 0-15.872-65.422223 208.099556 208.099556 0 0 0-34.133333-63.715555 138.922667 138.922667 0 0 0-26.624-24.917334 219.306667 219.306667 0 0 0-37.205333-22.129777 256.113778 256.113778 0 0 0-45.056-16.270223A198.257778 198.257778 0 0 0 493.795556 56.888889c-14.051556 0-28.444444 1.422222-43.235556 3.697778-15.018667 2.673778-29.582222 6.712889-44.259556 12.743111-14.563556 6.030222-29.013333 14.336-43.235555 24.974222-14.279111 10.581333-27.136 24.007111-38.684445 40.277333-12.117333 17.351111-21.390222 36.977778-27.818666 58.766223a425.415111 425.415111 0 0 0-16.952889 130.332444 63.374222 63.374222 0 0 0-10.979556 19.114667c-2.503111 6.030222-4.096 13.084444-5.006222 21.219555-1.080889 8.135111 0 17.521778 3.015111 27.591111 3.185778 10.24 6.826667 18.033778 11.036445 23.552 4.266667 5.461333 8.192 9.671111 11.946666 12.743111 4.266667 3.128889 8.533333 5.12 12.856889 6.314667 3.015111 9.557333 6.030222 18.944 9.102222 27.989333 3.015111 7.793778 6.200889 15.36 9.955556 22.983112a53.646222 53.646222 0 0 0 12.8 17.635555c10.524444 8.533333 19.626667 16.668444 27.818667 24.462222 8.192 7.793778 12.8 18.944 14.051555 33.450667 0.568889 9.159111 0.910222 17.635556 0.910222 25.429333 0 7.964444-1.422222 15.36-4.096 22.641778a64.853333 64.853333 0 0 1-14.620444 21.788445 145.806222 145.806222 0 0 1-29.582222 22.641777c-15.644444 10.24-34.019556 18.033778-55.068445 23.495111-21.048889 5.518222-112.583111 36.807111-132.380444 43.52a169.358222 169.358222 0 0 0-51.484445 27.079112c-14.392889 11.320889-23.495111 28.273778-27.249777 50.574222-6.030222 38.570667-7.281778 44.771556-4.096 69.518222 3.242667 24.576 8.192 39.253333 14.961777 44.202667 5.518222 4.096 21.219556 9.045333 47.388445 14.848 26.168889 5.859556 190.805333 36.636444 382.008889 36.636444 24.917333 0 48.981333-0.568889 72.135111-1.592889a87.495111 87.495111 0 0 1 0.568889-25.486222z m378.026666-217.884444l-95.288889-13.824a57.287111 57.287111 0 0 1-38.513777-27.761778l-42.552889-85.788445c-3.242667-6.542222-7.68-9.898667-11.946667-9.898666-4.266667 0-8.533333 3.413333-11.946667 9.898666l-42.552888 85.788445c-6.599111 13.084444-23.893333 25.6-38.513778 27.761778l-95.288889 13.824c-14.620444 2.104889-18.033778 12.174222-7.338667 22.471111l68.949334 66.673777c10.524444 10.24 17.123556 30.435556 14.620444 44.942223l-16.213333 94.264889c-1.763556 10.410667 2.275556 16.611556 9.671111 16.611555 2.844444 0 6.030222-0.910222 9.557333-2.844444l85.162667-44.544a53.589333 53.589333 0 0 1 23.722666-5.12c8.533333 0 17.294222 1.706667 23.665778 5.12l85.162667 44.544c3.584 1.934222 6.997333 2.844444 9.671111 2.844444 7.281778 0 11.377778-6.200889 9.614222-16.611555l-16.213333-94.264889c-2.503111-14.506667 4.096-34.702222 14.563555-44.942223l69.006223-66.673777c10.808889-10.24 7.623111-20.366222-6.997334-22.471111z"  ></path></symbol><symbol id="oicon-notice" viewBox="0 0 1024 1024"><path d="M853.333333 113.777778a113.777778 113.777778 0 0 1 113.777778 113.777778v568.888888a113.777778 113.777778 0 0 1-113.777778 113.777778H170.666667a113.777778 113.777778 0 0 1-113.777778-113.777778V227.555556a113.777778 113.777778 0 0 1 113.777778-113.777778h682.666666z m-76.117333 557.112889H246.215111c-20.821333 0-37.944889 17.976889-37.944889 39.822222 0 21.902222 17.066667 39.822222 37.944889 39.822222h531.000889c20.821333 0 37.888-17.92 37.888-39.822222 0-21.845333-17.066667-39.822222-37.888-39.822222z m0-199.054223H246.215111c-20.821333 0-37.944889 17.976889-37.944889 39.822223 0 21.902222 17.066667 39.822222 37.944889 39.822222h531.000889c20.821333 0 37.831111-17.92 37.888-39.822222 0-21.845333-17.066667-39.822222-37.888-39.822223zM454.826667 295.253333H416.995556c-20.878222 0-37.944889 17.92-37.944889 39.822223 0 21.902222 17.066667 39.822222 37.944889 39.822222h37.888c20.878222 0 37.944889-17.92 37.944888-39.822222 0-21.902222-17.066667-39.822222-37.944888-39.822223z m-170.666667 0h-37.944889c-20.821333 0-37.831111 17.92-37.944889 39.822223 0 21.902222 17.066667 39.822222 37.944889 39.822222h37.944889c20.878222 0 37.944889-17.92 37.944889-39.822222 0-21.902222-17.066667-39.822222-37.944889-39.822223z"  ></path></symbol><symbol id="oicon-topic-light" viewBox="0 0 1024 1024"><path d="M704 298.688l36.416-181.952a39.04 39.04 0 0 1 38.272-31.36 26.24 26.24 0 0 1 25.728 31.36L768 298.688h138.688a32 32 0 0 1 0 64H755.2l-59.712 298.624h211.2a32 32 0 0 1 0 64h-224l-36.416 181.952a39.04 39.04 0 0 1-38.272 31.36 26.24 26.24 0 0 1-25.728-31.36l36.416-181.952H320l-36.416 181.952a39.04 39.04 0 0 1-38.272 31.36 26.24 26.24 0 0 1-25.728-31.36L256 725.312H117.312a32 32 0 1 1 0-64H268.8l59.712-298.624h-211.2a32 32 0 1 1 0-64h224l36.416-181.952a39.04 39.04 0 0 1 38.272-31.36 26.24 26.24 0 0 1 25.728 31.36l-36.416 181.952H704z m-12.8 64H392.512L332.8 661.312h298.688l59.712-298.624z"  ></path></symbol><symbol id="oicon-code-light" viewBox="0 0 1024 1024"><path d="M612.288 130.112a31.808 31.808 0 0 0-38.4 23.488L390.4 832c-4.288 17.088 6.4 34.112 23.488 38.4 2.112 0 6.4 2.112 8.512 2.112 14.912 0 27.712-8.512 29.888-23.424L633.6 168.512c6.4-17.024-4.288-34.112-21.312-38.4z m403.2 347.776l-270.976-270.976c-12.8-12.8-32-12.8-44.8 0-12.8 12.8-12.8 32 0 44.8L947.2 499.2l-249.6 249.6a30.912 30.912 0 0 0 23.488 53.312 32.064 32.064 0 0 0 23.424-8.512l270.976-270.912c6.4-6.4 8.512-14.976 8.512-23.488 0-8.512-4.288-14.912-8.512-21.312zM326.4 206.912c-12.8-12.8-32-12.8-44.8 0L8.512 477.888c-4.224 6.4-8.512 12.8-8.512 21.312s4.288 17.088 8.512 23.488L279.488 793.6c6.4 6.4 14.912 8.512 23.424 8.512A30.912 30.912 0 0 0 326.4 748.8L76.8 499.2l247.488-247.488c12.8-12.8 12.8-32 2.112-44.8z"  ></path></symbol><symbol id="oicon-emotion-light" viewBox="0 0 1024 1024"><path d="M957.696 815.808h0.448v-2.88l-0.448 2.88zM874.176 149.824C674.56-49.92 349.504-49.92 149.824 149.76c-199.744 199.68-199.744 524.672 0 724.352 199.68 199.744 524.672 199.744 724.352 0 199.744-199.68 199.744-524.672 0-724.352m-51.968 672.448a439.232 439.232 0 0 1-620.416 0 439.232 439.232 0 0 1 0-620.48 439.232 439.232 0 0 1 620.416 0 439.296 439.296 0 0 1 0 620.48m-470.016-364.16a55.232 55.232 0 1 0-0.128-110.464 55.232 55.232 0 0 0 0.128 110.4m317.632 0.128a55.232 55.232 0 0 0 0-110.4 55.232 55.232 0 0 0 0 110.4m1.92 185.152l-3.008 0.96a379.52 379.52 0 0 1-157.44 33.792 380.16 380.16 0 0 1-159.872-34.112l-3.008-0.896c-1.856-0.512-4.352-1.28-7.488-1.28a32.768 32.768 0 0 0-32.768 32.768c0 8.576 4.032 17.152 10.688 23.616l-0.448 1.984 8.384 3.84a452.096 452.096 0 0 0 184.832 40.512c63.36 0 125.376-13.632 185.216-40.896a32.896 32.896 0 0 0 17.088-28.8c0-21.184-19.136-38.592-42.176-31.488"  ></path></symbol><symbol id="oicon-image-light" viewBox="0 0 1024 1024"><path d="M96 256c0-64.832 52.48-117.312 117.312-117.312h597.376c64.768 0 117.312 52.48 117.312 117.312v512c0 64.832-52.48 117.312-117.312 117.312H213.312A117.312 117.312 0 0 1 96 768V256z m117.312-53.312A53.376 53.376 0 0 0 160 256v264.128l43.2-43.264a74.688 74.688 0 0 1 105.6 0L469.312 637.44l117.888-117.824a74.688 74.688 0 0 1 105.6 0l171.2 171.2V256a53.376 53.376 0 0 0-53.312-53.312H213.312z m649.344 577.28l-215.104-215.168a10.688 10.688 0 0 0-15.104 0L491.968 705.28a32 32 0 0 1-45.248 0L263.552 522.112a10.688 10.688 0 0 0-15.104 0L160 610.624V768c0 29.44 23.872 53.312 53.312 53.312h597.376a53.312 53.312 0 0 0 51.968-41.344z m-137.344-438.656a42.688 42.688 0 1 1-85.312 0 42.688 42.688 0 0 1 85.312 0z"  ></path></symbol><symbol id="oicon-arrow-right" viewBox="0 0 1024 1024"><path d="M728.192 521.728a42.368 42.368 0 0 1-11.392 20.48l-341.888 341.312a42.752 42.752 0 0 1-60.352 0 42.56 42.56 0 0 1 0-60.224L626.432 512 314.624 200.704a42.56 42.56 0 0 1 0-60.224c16.64-16.64 43.648-16.64 60.352 0L716.8 481.792c10.88 10.88 14.656 26.048 11.328 39.936z"  ></path></symbol><symbol id="oicon-close" viewBox="0 0 1024 1024"><path d="M575.634286 512l288.475428-289.645714A40.594286 40.594286 0 0 0 877.714286 191.122286c0-12.434286-4.388571-23.04-13.019429-31.817143A43.154286 43.154286 0 0 0 832.877714 146.285714a40.740571 40.740571 0 0 0-31.232 13.604572L512 448.438857 222.354286 159.890286A40.594286 40.594286 0 0 0 191.122286 146.285714c-12.434286 0-23.04 4.388571-31.817143 13.019429A43.154286 43.154286 0 0 0 146.285714 191.122286c0 12.507429 4.534857 22.893714 13.604572 31.232L448.438857 512l-288.548571 289.645714a40.594286 40.594286 0 0 0-13.604572 31.232c0 12.434286 4.388571 23.04 13.019429 31.817143a43.154286 43.154286 0 0 0 31.817143 13.019429c12.507429 0 22.893714-4.534857 31.232-13.604572L512 574.464l289.645714 289.645714a40.594286 40.594286 0 0 0 31.232 13.604572c12.434286 0 23.04-4.388571 31.817143-13.019429a43.154286 43.154286 0 0 0 13.019429-31.817143 40.740571 40.740571 0 0 0-13.604572-31.232L575.561143 512z"  ></path></symbol><symbol id="oicon-arrow-down" viewBox="0 0 1024 1024"><path d="M802.133333 345.344a84.309333 84.309333 0 0 0-67.498666 7.082667l-8.192 5.461333-214.186667 164.437333L297.386667 358.4c-32.426667-24.746667-81.066667-21.077333-108.458667 8.192a64.256 64.256 0 0 0 1.450667 91.221333l7.509333 6.570667 264.789333 201.813333a83.797333 83.797333 0 0 0 90.709334 5.717334l8.96-5.973334 263.936-202.581333a65.706667 65.706667 0 0 0 25.770666-65.365333 70.570667 70.570667 0 0 0-40.533333-49.066667l-9.386667-3.669333z"  ></path></symbol><symbol id="oicon-explore" viewBox="0 0 1024 1024"><path d="M878.580907 226.176c91.306667 11.434667 126.933333 50.346667 138.069333 84.693333 13.354667 34.304 15.616 89.216-46.762667 162.474667 15.616 203.648-97.962667 395.861333-287.232 473.685333-53.461333 22.869333-111.36 34.304-167.04 34.304a456.106667 456.106667 0 0 1-354.048-169.344c-100.224-6.826667-138.069333-50.346667-153.642666-84.650666-13.354667-34.346667-15.573333-91.52 48.981333-167.04-22.272-208.213333 93.525333-405.034667 285.013333-482.858667 193.749333-80.085333 409.770667-18.304 536.661334 148.736z m1.493333 335.786667l-9.941333 7.637333c-195.072 145.749333-461.482667 208.256-596.48 232.021333a366.08 366.08 0 0 0 377.813333 60.714667c125.738667-51.669333 210.944-167.424 228.608-300.373333zM515.615573 134.698667A382.378667 382.378667 0 0 0 375.37024 162.133333c-160.298667 66.346667-253.866667 233.386667-227.114667 407.296l2.218667 22.869334-15.573333 16.042666c-37.888 41.173333-51.2 73.216-44.544 84.650667 4.394667 9.045333 28.16 26.88 90.538666 29.653333 29.610667-2.986667 471.296-57.088 698.922667-280.405333l12.202667-14.677333c35.626667-38.912 46.762667-68.650667 42.282666-82.346667-4.437333-11.477333-33.408-25.173333-82.346666-29.781333l-22.314667-2.304-13.354667-18.304a360.832 360.832 0 0 0-300.629333-160.170667z m28.714667 140.501333a61.44 61.44 0 0 1 64 0c19.797333 11.946667 32 34.133333 32 58.069333 0 37.034667-28.672 67.072-64 67.072S512.33024 370.261333 512.33024 333.226667c0-23.978667 12.202667-46.08 32-58.069334z"  ></path></symbol><symbol id="oicon-recommend" viewBox="0 0 1024 1024"><path d="M0 512c0 123.136 49.152 239.957333 136.832 326.997333 19.2 19.114667 47.018667 19.114667 66.261333 0 19.2-19.114667 19.2-48.853333 0-67.925333A365.013333 365.013333 0 0 1 96.213333 512c0-97.706667 38.485333-191.104 106.88-259.072 19.2-19.072 19.2-48.810667 0-67.925333-19.242667-19.114667-47.018667-19.114667-66.261333 0A459.605333 459.605333 0 0 0 0 512z m271.488 191.104c19.242667 19.114667 49.194667 19.114667 68.437333 0 19.2-19.114667 19.2-48.853333 0-67.968A174.634667 174.634667 0 0 1 288.597333 512c0-46.72 17.066667-89.173333 51.328-123.136 19.2-19.114667 19.2-48.853333 0-67.968a48 48 0 0 0-68.437333 0A267.221333 267.221333 0 0 0 192.426667 512c0 72.192 27.818667 140.16 79.104 191.104z m615.68-518.101333a48 48 0 0 0-68.394667 0 47.189333 47.189333 0 0 0 0 67.925333c68.394667 67.968 109.013333 161.408 109.013334 259.072 0 97.706667-38.485333 191.104-109.013334 259.072a47.189333 47.189333 0 0 0 0 67.925333c19.2 19.114667 49.152 19.114667 68.394667 0A459.605333 459.605333 0 0 0 1024 512c0-123.136-49.152-239.957333-136.832-326.997333z m-203.093333 135.893333c19.242667-19.114667 47.061333-19.114667 66.304 0C801.664 371.84 829.44 439.808 831.573333 512h-2.133333a267.221333 267.221333 0 0 1-79.104 191.104c-19.242667 19.114667-47.061333 19.114667-66.304 0a47.189333 47.189333 0 0 1 0-67.968A174.634667 174.634667 0 0 0 735.402667 512c0-46.72-19.242667-89.173333-51.328-123.136a47.189333 47.189333 0 0 1 0-67.968zM512 387.882667c70.698667 0 128 55.552 128 124.117333 0 68.565333-57.301333 124.16-128 124.16S384 580.522667 384 512c0-68.565333 57.301333-124.16 128-124.16z"  ></path></symbol><symbol id="oicon-news" viewBox="0 0 1024 1024"><path d="M512 85.333333c235.690667 0 426.666667 191.061333 426.666667 426.666667s-190.976 426.666667-426.666667 426.666667S85.333333 747.690667 85.333333 512 276.309333 85.333333 512 85.333333m0-85.333333C229.632 0 0 229.632 0 512s229.76 512 512 512c282.368 0 512-229.76 512-512 0-282.368-229.632-512-512-512z m183.168 410.624l-144.938667-132.693333c-0.256-0.256-0.469333-0.256-0.682666-0.469334a57.6 57.6 0 0 0-15.018667-9.813333c-0.810667-0.384-1.578667-0.384-2.261333-0.725333-1.834667-0.682667-3.541333-0.896-5.376-1.493334a53.418667 53.418667 0 0 0-14.677334-2.133333c-1.92 0-3.84 0-5.802666 0.085333-5.717333 0.426667-11.221333 1.834667-16.512 4.010667-0.896 0.341333-1.92 0.426667-2.858667 0.896a55.722667 55.722667 0 0 0-14.506667 9.728l-143.786666 132.693333a57.514667 57.514667 0 0 0 77.866666 84.565334l47.36-43.690667v252.074667a57.386667 57.386667 0 1 0 114.901334 0v-252.757334l48.725333 44.629334a57.344 57.344 0 0 0 81.237333-3.541334 57.642667 57.642667 0 0 0-3.669333-81.365333z"  ></path></symbol><symbol id="oicon-rank" viewBox="0 0 1024 1024"><path d="M170.666667 256a128 128 0 0 1 128 128v426.666667a128 128 0 0 1-256 0V384a128 128 0 0 1 128-128z m0 85.333333a42.666667 42.666667 0 0 0-42.368 37.674667L128 384v426.666667a42.666667 42.666667 0 0 0 85.034667 4.992L213.333333 810.666667V384a42.666667 42.666667 0 0 0-37.674666-42.368L170.666667 341.333333zM512 85.333333a128 128 0 0 1 128 128v597.333334a128 128 0 0 1-256 0V213.333333a128 128 0 0 1 128-128z m0 85.333334a42.666667 42.666667 0 0 0-42.368 37.674666L469.333333 213.333333v597.333334a42.666667 42.666667 0 0 0 85.034667 4.992L554.666667 810.666667V213.333333a42.666667 42.666667 0 0 0-42.666667-42.666666zM853.333333 341.333333a128 128 0 0 1 128 128v341.333334a128 128 0 0 1-256 0v-341.333334a128 128 0 0 1 128-128z m0 85.333334a42.666667 42.666667 0 0 0-42.368 37.674666L810.666667 469.333333v341.333334a42.666667 42.666667 0 0 0 85.034666 4.992L896 810.666667v-341.333334a42.666667 42.666667 0 0 0-42.666667-42.666666z"  ></path></symbol><symbol id="oicon-send" viewBox="0 0 1024 1024"><path d="M470.016 486.656l-252.672-37.632a102.4 102.4 0 0 1-80.853333-65.493333L28.885333 95.146667a51.626667 51.626667 0 0 1 29.013334-66.133334c13.013333-5.077333 27.477333-4.394667 39.936 1.834667L970.24 465.92a51.712 51.712 0 0 1 0 92.074667l-872.448 435.2a49.706667 49.706667 0 0 1-67.072-23.594667 52.224 52.224 0 0 1-1.834667-40.704l107.605334-288.426667a102.4 102.4 0 0 1 80.853333-65.493333l252.672-37.632a25.6 25.6 0 0 0 0-50.688v-0.042667z"  ></path></symbol><symbol id="oicon-gitee-circle-solid" viewBox="0 0 1024 1024"><path d="M512 0a512 512 0 1 1 0 1024A512 512 0 0 1 512 0z m233.244444 256H426.666667a170.666667 170.666667 0 0 0-170.666667 170.666667v318.577777c0 12.515556 10.24 22.755556 22.755556 22.755556h335.644444a153.6 153.6 0 0 0 153.6-153.6V483.555556a22.755556 22.755556 0 0 0-22.755556-22.755556H483.555556a22.755556 22.755556 0 0 0-22.755556 22.755556v56.888888a22.755556 22.755556 0 0 0 18.147556 22.300445l4.551111 0.455111H642.844444a22.755556 22.755556 0 0 1 22.300445 18.204444l0.455111 4.551112v11.377777a68.266667 68.266667 0 0 1-68.266667 68.266667H381.155556a22.755556 22.755556 0 0 1-22.755556-22.755556V426.666667a68.266667 68.266667 0 0 1 61.269333-67.925334L426.666667 358.4h318.520889a22.755556 22.755556 0 0 0 22.755555-22.755556v-56.888888a22.755556 22.755556 0 0 0-18.090667-22.300445L745.244444 256z"  ></path></symbol><symbol id="oicon-microphone" viewBox="0 0 1024 1024"><path d="M785.066667 528.839111c0 126.748444-127.601778 235.975111-273.066667 235.975111s-273.066667-109.226667-273.066667-235.975111H170.666667c0 155.534222 137.500444 287.516444 307.2 303.445333V967.111111h68.266666v-134.826667c169.699556-15.928889 307.2-147.911111 307.2-303.445333h-68.266666zM512 680.561778c112.014222 0 204.8-90.737778 204.8-202.296889V259.185778C716.8 147.626667 624.014222 56.888889 512 56.888889S307.2 147.626667 307.2 259.185778v219.079111c0 111.502222 92.785778 202.296889 204.8 202.296889zM375.466667 259.185778c0-73.898667 62.350222-134.826667 136.533333-134.826667 74.183111 0 136.533333 60.928 136.533333 134.826667v219.079111c0 73.898667-62.350222 134.826667-136.533333 134.826667-74.183111 0-136.533333-60.928-136.533333-134.826667V259.185778z"  ></path></symbol><symbol id="oicon-play" viewBox="0 0 1024 1024"><path d="M512 56.888889a455.111111 455.111111 0 1 0 0 910.222222A455.111111 455.111111 0 0 0 512 56.888889z m272.213333 727.324444A382.293333 382.293333 0 0 1 512 896.910222a382.293333 382.293333 0 0 1-272.213333-112.696889A382.293333 382.293333 0 0 1 127.089778 512a382.293333 382.293333 0 0 1 112.696889-272.213333A382.293333 382.293333 0 0 1 512 127.089778a382.293333 382.293333 0 0 1 272.213333 112.696889A382.520889 382.520889 0 0 1 896.910222 512a382.293333 382.293333 0 0 1-112.696889 272.213333z m-48.071111-302.478222L426.552889 302.990222a35.157333 35.157333 0 0 0-52.622222 30.378667v357.376a35.100444 35.100444 0 0 0 52.622222 30.378667l309.589333-178.744889a35.100444 35.100444 0 0 0 0-60.643556z m-292.010666 148.366222V394.24l204.288 117.873778-204.288 117.987555z"  ></path></symbol><symbol id="oicon-topic" viewBox="0 0 1024 1024"><path d="M898.616889 334.506667h-150.016l39.537778-148.935111v-3.413334c0-5.745778-4.664889-11.491556-11.605334-11.491555h-73.272889a12.515556 12.515556 0 0 0-11.605333 9.159111l-39.537778 154.624h-183.751111l39.537778-148.878222v-3.413334C507.904 176.355556 503.296 170.666667 496.298667 170.666667H423.025778a12.515556 12.515556 0 0 0-11.605334 9.159111L370.744889 333.368889h-160.426667c-5.859556 0-9.329778 3.413333-11.662222 8.021333l-18.602667 68.721778v2.275556c0 5.745778 4.664889 11.491556 11.605334 11.491555h154.680889l-45.340445 174.08H143.928889c-5.802667 0-9.272889 3.413333-11.605333 8.021333L113.777778 674.645333v2.275556c0 5.745778 4.664889 11.491556 11.605333 11.491555h151.153778l-39.537778 151.153778v2.275556c0 5.745778 4.664889 11.491556 11.662222 11.491555h73.216c5.859556 0 10.467556-3.413333 11.662223-9.159111l40.675555-156.899555h182.556445l-39.537778 151.153777v2.275556c0 5.745778 4.664889 11.491556 11.605333 11.491556h73.272889c5.802667 0 10.467556-3.413333 11.605333-9.159112l40.732445-156.956444h159.288889c5.802667 0 10.467556-3.413333 11.605333-9.102222l18.602667-68.778667v-2.275555c0-5.688889-4.664889-11.434667-11.605334-11.434667h-153.486222l45.340445-174.08h155.818666c5.802667 0 10.467556-3.470222 11.605334-9.216L910.222222 342.471111v-2.275555c0-1.137778-5.802667-5.688889-11.605333-5.688889z m-316.302222 265.671111H398.620444l45.340445-174.08h182.613333l-44.259555 174.08z"  ></path></symbol><symbol id="oicon-money-solid" viewBox="0 0 1024 1024"><path d="M512 0a512 512 0 1 1 0 1024A512 512 0 0 1 512 0zM437.134222 250.311111a41.756444 41.756444 0 0 0-49.664-19.911111 42.268444 42.268444 0 0 0-27.477333 51.427556h-0.056889l0.568889 1.706666v0.113778l43.804444 136.248889h-50.972444a42.097778 42.097778 0 0 0-40.049778 42.154667 42.097778 42.097778 0 0 0 40.049778 42.211555h106.382222v63.260445h-106.382222a42.097778 42.097778 0 0 0-40.049778 42.211555 42.097778 42.097778 0 0 0 40.049778 42.154667h106.382222v95.118222c0 29.013333 23.324444 52.622222 52.224 52.622222a52.451556 52.451556 0 0 0 52.167111-54.784h0.113778V651.946667h104.561778a42.097778 42.097778 0 0 0 41.927111-42.211556 42.097778 42.097778 0 0 0-41.927111-42.211555H564.224V504.32h104.561778a42.097778 42.097778 0 0 0 41.927111-42.211556 42.097778 42.097778 0 0 0-41.927111-42.268444h-49.664l43.804444-136.135111 0.568889-1.763556a42.325333 42.325333 0 0 0-27.534222-51.427555 41.813333 41.813333 0 0 0-52.167111 25.372444l-0.398222 1.251556-0.170667 0.568889-0.170667 0.455111-51.996444 161.735111h-38.684445l-51.996444-161.848889-0.341333-0.967111-0.398223-1.308445z"  ></path></symbol><symbol id="oicon-weeklyview-solid" viewBox="0 0 1024 1024"><path d="M866.417778 137.841778H768v-39.367111c0-31.516444-25.6-59.107556-59.050667-59.107556-31.516444 0-59.107556 25.6-59.107555 59.107556v39.367111H374.158222v-39.367111c0-31.516444-25.6-59.107556-59.107555-59.107556-31.459556 0-59.050667 25.6-59.050667 59.107556v39.367111H157.582222c-43.349333 0-78.791111 35.441778-78.791111 78.791111v38.4c0 15.758222 13.767111 29.582222 29.525333 29.582222h807.367112c15.758222 0 29.582222-13.824 29.582222-29.582222v-38.4c0-43.349333-35.498667-78.791111-78.791111-78.791111z m49.265778 221.297778H108.316444a30.264889 30.264889 0 0 0-29.582222 29.525333v517.176889c0 43.349333 35.498667 78.791111 78.791111 78.791111h708.949334c43.292444 0 78.734222-35.441778 78.734222-78.791111V388.664889a30.264889 30.264889 0 0 0-29.525333-29.582222zM521.841778 827.733333c-5.916444 13.767111-19.683556 21.617778-35.441778 21.617778-21.617778 0-37.432889-17.635556-37.432889-35.384889 0-3.982222 1.991111-9.841778 3.982222-15.758222l104.334223-224.483556h-149.617778c-17.749333 0-33.564444-11.832889-33.564445-29.582222 0-15.758222 15.815111-29.525333 33.564445-29.525333h204.8c19.683556 0 37.376 15.758222 37.376 35.441778a28.444444 28.444444 0 0 1-3.982222 13.824l-124.017778 263.850666z"  ></path></symbol><symbol id="oicon-write-solid" viewBox="0 0 1024 1024"><path d="M921.6 1024H102.4C46.08 1024 0 977.92 0 921.6V102.4C0 46.08 46.08 0 102.4 0h819.2c56.32 0 102.4 46.08 102.4 102.4v819.2c0 56.32-46.08 102.4-102.4 102.4z m-384-358.4L435.2 768h384v-102.4H537.6z m87.04-435.2l-20.48 5.12L204.8 640v128h128l404.48-404.48c5.12-5.12 5.12-10.24 5.12-20.48l-5.12-20.48-92.16-92.16c-5.12 5.12-10.24 0-20.48 0z"  ></path></symbol><symbol id="oicon-fire-solid" viewBox="0 0 1024 1024"><path d="M829.036978 417.82837a21.310721 21.310721 0 0 0-1.919885-2.431854c-10.49537-12.351259-47.037178-53.308801-71.99568-63.484191a26.622403 26.622403 0 0 0-25.982441 3.647781 27.198368 27.198368 0 0 0-10.559367 24.318541c0.063996 0.639962 6.015639 68.027918-33.789972 110.393377-23.038618 24.446533-52.348859 38.269704-76.411416 46.013239 19.582825-57.148571 45.245285-155.958642 27.134372-242.929424C614.585845 193.073856 499.84073 19.260284 494.913025 12.028718a26.558406 26.558406 0 0 0-31.806091-10.175389 27.00638 27.00638 0 0 0-16.766994 29.054257c0.127992 0.895946 12.287263 88.122713-18.558887 159.094454a27.710337 27.710337 0 0 0-1.599904 5.055697c-0.191988 0.639962-16.958982 65.404076-132.408055 134.199948-54.076755 32.190069-97.210167 86.458812-100.217987 90.554566-42.877427 63.99616-65.66006 139.511629-65.532068 216.690999C128.023039 850.250425 300.236706 1024 512 1024s383.976961-173.813571 383.976961-387.49675a387.432754 387.432754 0 0 0-66.875987-218.610884l-0.063996-0.063996z"  ></path></symbol><symbol id="oicon-all" viewBox="0 0 1024 1024"><path d="M224 128C171.2 128 128 171.2 128 224S171.2 320 224 320 320 276.8 320 224 276.8 128 224 128z m0 288C171.2 416 128 459.2 128 512s43.2 96 96 96S320 564.8 320 512s-43.2-96-96-96z m0 288c-52.8 0-96 43.2-96 96S171.2 896 224 896 320 852.8 320 800 276.8 704 224 704z m576-384c52.8 0 96-43.2 96-96S852.8 128 800 128 704 171.2 704 224 747.2 320 800 320zM512 704c-52.8 0-96 43.2-96 96S459.2 896 512 896s96-43.2 96-96S564.8 704 512 704z m288 0c-52.8 0-96 43.2-96 96s43.2 96 96 96 96-43.2 96-96-43.2-96-96-96z m0-288c-52.8 0-96 43.2-96 96s43.2 96 96 96S896 564.8 896 512s-43.2-96-96-96zM512 416c-52.8 0-96 43.2-96 96S459.2 608 512 608 608 564.8 608 512 564.8 416 512 416zM512 128c-52.8 0-96 43.2-96 96S459.2 320 512 320s96-43.2 96-96S564.8 128 512 128z"  ></path></symbol><symbol id="oicon-question-solid" viewBox="0 0 1024 1024"><path d="M511.168 0C228.288 0 0 214.272 0 480c0 85.76 23.872 164.544 64.768 234.88 5.12 8.576 6.784 18.816 3.392 27.392l-47.744 152.576c-8.512 27.456 17.088 51.456 44.352 42.88l149.888-53.12a34.176 34.176 0 0 1 28.992 3.392A526.912 526.912 0 0 0 512.832 960C795.712 960 1024 745.728 1024 480 1022.272 214.272 793.984 0 511.168 0z m51.072 771.456c0 18.816-15.36 34.24-34.048 34.24H494.08a34.304 34.304 0 0 1-34.048-34.24v-34.304c0-18.88 15.36-34.304 34.048-34.304h34.112c18.752 0 34.048 15.424 34.048 34.304v34.304z m13.632-217.728a18.432 18.432 0 0 0-13.632 17.152v27.392c0 18.88-15.36 36.032-34.048 36.032H494.08c-18.688 0-34.048-17.152-34.048-36.032V570.88c0-51.456 34.048-97.728 83.52-114.88 18.688-6.848 35.776-15.424 45.952-30.848 57.92-77.12 0-166.272-76.672-168-27.264-1.728-54.528 10.24-74.944 29.12a97.92 97.92 0 0 0-27.264 48 34.432 34.432 0 0 1-32.384 27.456h-35.776c-20.48 0-37.504-20.608-34.048-41.152 8.512-41.152 27.264-78.848 57.92-108.032a198.272 198.272 0 0 1 148.224-58.24c107.328 3.392 195.904 92.544 199.36 200.576a200.512 200.512 0 0 1-138.048 198.848z"  ></path></symbol><symbol id="oicon-job" viewBox="0 0 1024 1024"><path d="M515.370667 570.666667c-117.845333 0-213.333333-99.072-213.333334-221.312S397.525333 128 515.370667 128c117.802667 0 213.333333 99.114667 213.333333 221.354667 0 122.24-95.530667 221.312-213.333333 221.312z m0-63.232c84.138667 0 152.362667-70.784 152.362666-158.08 0-87.338667-68.224-158.122667-152.362666-158.122667-84.181333 0-152.405333 70.826667-152.405334 158.122667 0 87.296 68.266667 158.08 152.405334 158.08z m335.232 347.818666c0 17.493333-13.653333 31.658667-30.506667 31.658667a31.061333 31.061333 0 0 1-30.464-31.658667c0-157.141333-122.794667-284.586667-274.261333-284.586666s-274.304 127.445333-274.304 284.586666c0 17.493333-13.653333 31.658667-30.464 31.658667a31.061333 31.061333 0 0 1-30.506667-31.658667c3.498667-189.482667 152.576-341.248 335.274667-341.248 182.656 0 331.733333 151.765333 335.232 341.248z m-734.805334-22.485333h792.405334c20.309333 0 30.464 10.538667 30.464 31.573333 0 21.12-10.154667 31.658667-30.464 31.658667H115.797333C95.488 896 85.333333 885.461333 85.333333 864.384s10.154667-31.616 30.464-31.616z m416.554667-289.792a29.781333 29.781333 0 0 1 29.397333-8.533333 31.061333 31.061333 0 0 1 21.76 22.186666 32.469333 32.469333 0 0 1-7.552 30.634667l-52.266666 55.466667-52.266667-55.466667a32.469333 32.469333 0 0 1 0.426667-44.757333 29.738667 29.738667 0 0 1 43.136 0.469333l8.704 9.258667 8.661333-9.173334v-0.085333z m-77.056 250.752l37.930667-196.224h60.970666l37.888 196.266667-68.394666 38.997333-68.394667-39.04z"  ></path></symbol><symbol id="oicon-fire" viewBox="0 0 1024 1024"><path d="M880.128 463.104a397.141333 397.141333 0 0 0-94.72-131.669333l-33.28-30.506667a9.258667 9.258667 0 0 0-14.890667 3.754667l-14.848 42.666666c-9.258667 26.709333-26.282667 54.016-50.389333 80.896a7.125333 7.125333 0 0 1-4.693333 2.261334 6.314667 6.314667 0 0 1-4.906667-1.706667 6.741333 6.741333 0 0 1-2.304-5.504c4.266667-68.778667-16.341333-146.346667-61.354667-230.826667-37.248-70.186667-89.045333-124.928-153.728-163.114666L397.824 1.621333a9.173333 9.173333 0 0 0-13.696 8.32l2.517333 54.869334c1.706667 37.461333-2.645333 70.613333-12.928 98.133333A325.888 325.888 0 0 1 320 256.170667a337.877333 337.877333 0 0 1-54.272 52.650666 402.986667 402.986667 0 0 0-114.645333 138.88 397.44 397.44 0 0 0-9.728 331.776 401.493333 401.493333 0 0 0 214.186666 212.096 402.133333 402.133333 0 0 0 156.458667 31.317334 404.096 404.096 0 0 0 156.458667-31.189334 398.421333 398.421333 0 0 0 127.872-85.333333 395.605333 395.605333 0 0 0 117.973333-282.197333 393.386667 393.386667 0 0 0-34.176-161.024z m-138.410667 387.754667A324.010667 324.010667 0 0 1 512 945.024a324.010667 324.010667 0 0 1-229.717333-94.165333 317.397333 317.397333 0 0 1-94.848-226.730667c0-49.706667 11.178667-97.365333 33.28-141.738667a323.242667 323.242667 0 0 1 92.330666-111.872 399.530667 399.530667 0 0 0 66.986667-64.896 404.906667 404.906667 0 0 0 66.474667-115.456c6.4-17.194667 11.008-34.986667 13.824-53.12 27.562667 25.344 50.645333 55.978667 69.973333 91.861334 38.144 71.552 55.765333 135.210667 52.309333 189.397333a84.565333 84.565333 0 0 0 147.2 61.909333 375.466667 375.466667 0 0 0 39.338667-52.096c16 20.48 29.354667 42.752 39.978667 66.730667 18.176 40.96 27.434667 84.48 27.434666 129.28 0 85.589333-33.706667 166.144-94.848 226.730667z"  ></path></symbol><symbol id="oicon-gitee-circle-light" viewBox="0 0 1024 1024"><path d="M512 0c282.752 0 512 229.248 512 512s-229.248 512-512 512S0 794.752 0 512 229.248 0 512 0z m0 77.568C272.042667 77.568 77.568 272.042667 77.568 512c0 239.957333 194.474667 434.432 434.432 434.432 239.957333 0 434.432-194.474667 434.432-434.432 0-239.957333-194.474667-434.432-434.432-434.432z"  ></path><path d="M725.802667 465.066667H485.973333a20.906667 20.906667 0 0 0-20.906666 20.906666v52.096c0 11.52 9.386667 20.906667 20.906666 20.906667h146.005334c11.52 0 20.864 9.301333 20.864 20.821333v10.410667c0 34.56-28.032 62.592-62.592 62.592H392.106667a20.864 20.864 0 0 1-20.906667-20.864v-198.144A62.592 62.592 0 0 1 433.792 371.2h292.010667a20.906667 20.906667 0 0 0 20.864-20.864V298.24a20.821333 20.821333 0 0 0-20.821334-20.864h-292.010666A156.458667 156.458667 0 0 0 277.333333 433.792v292.010667c0 11.52 9.344 20.864 20.864 20.864H605.866667a140.8 140.8 0 0 0 140.8-140.8v-119.893334a20.864 20.864 0 0 0-20.864-20.906666z"  ></path></symbol><symbol id="oicon-money" viewBox="0 0 1024 1024"><path d="M512 0c282.752 0 512 229.248 512 512s-229.248 512-512 512S0 794.752 0 512 229.248 0 512 0z m0 76.8C271.658667 76.8 76.8 271.658667 76.8 512c0 240.341333 194.858667 435.2 435.2 435.2 240.341333 0 435.2-194.858667 435.2-435.2 0-240.341333-194.858667-435.2-435.2-435.2z"  ></path><path d="M667.605333 567.509333h1.194667c23.168 0 41.898667 18.901333 41.898667 42.24 0 23.296-18.773333 42.197333-41.898667 42.197334h-104.618667v92.885333h-0.042666l0.042666 2.133333A52.48 52.48 0 0 1 512 799.616a52.48 52.48 0 0 1-52.266667-52.650667l0.042667-2.133333V651.946667H353.322667v-0.042667a42.069333 42.069333 0 0 1-40.021334-42.197333c0-22.656 17.749333-41.173333 40.021334-42.154667h1.365333l0.512-0.042667h104.576V504.32H353.28a42.069333 42.069333 0 0 1-40.021333-42.197333c0-22.698667 17.749333-41.216 40.021333-42.154667V419.84h51.029333L360.533333 283.648v-0.042667l-0.042666-0.085333-0.554667-1.706667h0.042667A42.24 42.24 0 0 1 387.456 230.4a41.813333 41.813333 0 0 1 52.138667 25.386667l0.426666 1.28 0.213334 0.512 0.128 0.426666 52.053333 161.877334h38.613333l52.053334-161.706667 0.128-0.512 0.170666-0.512 0.426667-1.28a41.813333 41.813333 0 0 1 52.138667-25.344 42.24 42.24 0 0 1 27.477333 51.370667h0.042667l-0.554667 1.792-43.776 136.192h49.664c23.168 0 41.898667 18.901333 41.898667 42.197333 0 23.338667-18.773333 42.24-41.898667 42.24l-1.194667-0.042667h-103.424v63.232h103.424z"  ></path></symbol><symbol id="oicon-maintain" viewBox="0 0 1024 1024"><path d="M788.650667 754.389333a18.816 18.816 0 0 1-0.213334 26.794667 18.944 18.944 0 0 1-26.368-0.426667l-115.754666-115.498666a18.688 18.688 0 0 1 0.426666-26.581334 19.456 19.456 0 0 1 26.88 0l115.029334 115.712zM737.493333 102.4c12.032 0 24.32 0.938667 36.394667 3.84 12.8 2.176 24.362667 5.973333 35.541333 10.666667a31.573333 31.573333 0 0 1 16.341334 41.386666 32.768 32.768 0 0 1-6.528 9.813334c-23.893333 23.893333-47.786667 47.616-71.509334 71.509333l4.010667 14.293333 3.584 14.506667 14.762667 4.053333 14.293333 3.797334c23.722667-23.893333 47.658667-47.36 71.509333-71.509334a31.701333 31.701333 0 0 1 44.714667 0c3.584 3.84 6.229333 8.533333 7.594667 13.44 4.224 10.24 7.594667 20.949333 9.6 31.658667v0.469333h0.213333a184.746667 184.746667 0 0 1-50.474667 166.698667 183.381333 183.381333 0 0 1-130.048 53.845333c-3.626667 0-7.168-0.213333-10.752-0.213333l-34.858666 34.432 191.744 191.658667 1.536 1.792c24.362667 25.258667 36.437333 57.685333 36.437333 90.026666 0 33.109333-12.501333 66.389333-37.973333 91.648l-0.426667 0.426667a129.450667 129.450667 0 0 1-91.178667 37.546667 127.957333 127.957333 0 0 1-91.648-37.973334L508.16 688.213333 312.32 884.693333c-40.917333 40.874667-90.282667 44.458667-130.730667 27.008a127.573333 127.573333 0 0 1-41.301333-27.946666H139.946667a131.498667 131.498667 0 0 1-27.733334-41.088c-17.408-40.448-13.824-90.026667 27.306667-130.688v-0.426667l218.453333-218.581333-79.914666-80-71.082667-21.205334a31.061333 31.061333 0 0 1-20.096-17.621333L118.741333 214.357333a31.36 31.36 0 0 1 5.589334-36.650666l28.586666-28.373334 28.16-28.16a31.061333 31.061333 0 0 1 34.432-6.698666l161.792 69.034666a30.933333 30.933333 0 0 1 17.877334 20.138667l20.992 71.04 79.957333 80 57.472-57.002667a203.861333 203.861333 0 0 1-0.469333-10.666666h0.213333c0-51.2 20.608-97.450667 53.845333-130.517334v-0.213333A184.874667 184.874667 0 0 1 737.493333 102.4zM647.253333 549.76l-94.293333 94.293333 191.701333 191.658667a66.773333 66.773333 0 0 0 94.293334 0.213333l0.426666-0.213333c12.970667-12.458667 18.986667-30.122667 18.986667-47.104 0-16.554667-5.973333-33.28-18.048-45.824l-1.365333-1.365333-191.701334-191.658667z m-244.906666-101.034667l49.408-49.109333L366.08 313.813333a31.872 31.872 0 0 1-8.533333-15.658666l-18.517334-62.805334-128.682666-54.272-13.184 12.970667-13.226667 13.354667 54.784 128.725333 64.768 18.986667c5.376 1.578667 9.813333 4.266667 13.397333 8.32l85.376 85.333333z m330.666666-283.306666a120.490667 120.490667 0 0 0-81.322666 35.754666 119.936 119.936 0 0 0-35.712 85.802667h0.426666v8.746667l0.896 7.338666a31.146667 31.146667 0 0 1-8.533333 28.373334l-424.704 424.533333h-0.256c-19.626667 20.309333-21.888 43.349333-13.824 62.336 3.328 7.381333 8.490667 14.72 14.506667 20.992 6.485333 6.272 13.653333 11.178667 21.461333 14.506667 18.986667 8.277333 41.770667 6.058667 61.866667-13.610667l217.685333-217.6 0.853333-0.896 138.581334-138.752 0.853333-1.109333 66.56-66.176h0.256a29.866667 29.866667 0 0 1 26.581333-9.130667c3.114667 0.426667 6.058667 0.853333 9.386667 0.853333 2.261333 0.256 5.333333 0.469333 8.96 0.469334 33.493333 0 63.872-13.653333 85.802667-35.072v-0.426667a119.978667 119.978667 0 0 0 35.029333-81.365333c-13.610667 13.866667-27.221333 27.306667-40.874667 41.344a32.426667 32.426667 0 0 1-31.701333 9.6l-31.744-8.704-32.170667-8.704a30.634667 30.634667 0 0 1-22.357333-22.357334l-8.490667-32.170666-8.704-32.170667a30.72 30.72 0 0 1 8.277334-29.738667c14.08-14.250667 28.16-28.373333 42.453333-42.666666z"  ></path></symbol><symbol id="oicon-switch" viewBox="0 0 1024 1024"><path d="M924.379429 145.700571L709.632 1.536a9.142857 9.142857 0 0 0-14.189714 7.753143V102.4H366.006857C163.913143 102.4 0 267.483429 0 471.04V544.914286c0 52.882286 11.117714 103.277714 31.012571 148.626285a9.216 9.216 0 0 0 13.458286 4.022858L153.6 624.274286a9.362286 9.362286 0 0 0 3.657143-10.605715 223.085714 223.085714 0 0 1-10.752-68.754285V471.04c0-59.099429 22.893714-114.614857 64.365714-156.525714a217.307429 217.307429 0 0 1 155.136-64.731429h329.435429v93.696c0 7.387429 8.192 11.776 14.189714 7.753143l214.601143-144.164571c21.869714-14.628571 21.869714-46.811429 0.146286-61.44zM99.766857 878.299429l214.601143 144.164571a9.142857 9.142857 0 0 0 14.189714-7.753143V921.6h329.435429C860.086857 921.6 1024 756.516571 1024 552.96V479.085714c0-52.882286-11.117714-103.277714-31.012571-148.626285a9.216 9.216 0 0 0-13.458286-4.022858l-108.982857 73.289143a9.362286 9.362286 0 0 0-3.657143 10.605715c7.021714 21.869714 10.678857 45.056 10.678857 68.754285V552.96c0 59.099429-22.893714 114.614857-64.292571 156.525714a217.234286 217.234286 0 0 1-155.282286 64.731429H328.557714V680.448c0-7.387429-8.192-11.776-14.189714-7.753143l-214.601143 144.164572a37.229714 37.229714 0 0 0 0 61.44z"  ></path></symbol><symbol id="oicon-org" viewBox="0 0 1024 1024"><path d="M456.96 22.656a78.016 78.016 0 0 1 110.08 0l100.48 100.544h155.52c42.88 0.128 77.632 34.88 77.76 77.76v155.52l100.48 100.544a78.016 78.016 0 0 1 0 109.952l-100.48 100.48v155.52a78.016 78.016 0 0 1-77.76 77.824h-155.52l-100.48 100.48a78.016 78.016 0 0 1-110.016 0l-100.48-100.48H200.96a78.016 78.016 0 0 1-77.824-77.76v-155.52L22.72 567.04a78.016 78.016 0 0 1 0-110.016l100.48-100.48V200.96A78.016 78.016 0 0 1 200.96 123.136h155.52z m235.904 375.104c-16.64-18.368-38.976-18.368-55.68 0L459.2 593.792l-72.32-79.68c-16.704-18.368-39.04-18.368-55.68 0A49.28 49.28 0 0 0 320 544.768a49.28 49.28 0 0 0 11.136 30.592l100.16 116.416c5.568 6.08 16.704 12.224 27.84 12.224a40.576 40.576 0 0 0 27.84-12.224l205.888-226.624C704 459.008 704 446.72 704 428.416a49.28 49.28 0 0 0-11.136-30.656z"  ></path></symbol><symbol id="oicon-gitee-circle" viewBox="0 0 1024 1024"><path d="M512 0a512 512 0 1 1 0 1024A512 512 0 0 1 512 0z m259.145143 227.547429h-354.011429a189.659429 189.659429 0 0 0-189.586285 189.659428v354.011429c0 13.897143 11.337143 25.234286 25.307428 25.234285h372.955429a170.642286 170.642286 0 0 0 170.642285-170.642285V480.402286a25.307429 25.307429 0 0 0-25.307428-25.307429H480.402286a25.307429 25.307429 0 0 0-25.307429 25.307429v63.195428c0 12.214857 8.630857 22.454857 20.187429 24.795429l5.12 0.512h177.005714c12.214857 0 22.381714 8.630857 24.722286 20.187428l0.512 5.12v12.580572c0 41.910857-33.938286 75.849143-75.849143 75.849143H366.592a25.307429 25.307429 0 0 1-25.307429-25.234286V417.206857c0-39.131429 29.622857-71.314286 67.584-75.410286l8.265143-0.438857h354.011429c13.897143 0 25.234286-11.337143 25.234286-25.307428v-63.195429a25.307429 25.307429 0 0 0-20.114286-24.795428l-5.12-0.512z"  ></path></symbol><symbol id="oicon-ask" viewBox="0 0 1024 1024"><path d="M146.295156 1024v-232.727273H73.079156A73.774545 73.774545 0 0 1 0.002793 716.986182V74.193455C0.002793 33.28 32.817338 0 73.125702 0H950.926429C991.188247 0 1024.002793 33.28 1024.002793 74.193455v642.839272c0 40.96-32.814545 74.193455-73.122909 74.193455H375.810793L146.295156 1024zM73.079156 49.431273a24.576 24.576 0 0 0-24.343272 24.762182v642.839272c0 13.684364 10.891636 24.762182 24.343272 24.762182h121.949091v162.816l160.581818-162.816h595.223273a24.529455 24.529455 0 0 0 24.343273-24.762182V74.193455a24.576 24.576 0 0 0-24.343273-24.762182H73.079156zM292.58752 438.458182c15.080727 8.843636 33.652364 8.843636 48.733091 0 15.080727-8.843636 24.389818-25.134545 24.389818-42.821818s-9.309091-33.978182-24.389818-42.821819a48.174545 48.174545 0 0 0-48.733091 0c-15.080727 8.843636-24.389818 25.134545-24.389818 42.821819s9.309091 33.978182 24.389818 42.821818z m390.050909 0c15.127273 8.843636 33.698909 8.843636 48.779636 0 15.080727-8.843636 24.389818-25.134545 24.389819-42.821818 0-27.322182-21.829818-49.477818-48.779637-49.477819-26.903273 0-48.733091 22.155636-48.733091 49.477819 0 17.687273 9.309091 33.978182 24.389819 42.821818zM512.002793 445.067636c26.949818 0 48.779636-22.155636 48.779636-49.431272 0-27.322182-21.876364-49.477818-48.779636-49.477819-26.949818 0-48.779636 22.155636-48.779637 49.477819 0 27.275636 21.876364 49.431273 48.779637 49.431272z"  ></path></symbol><symbol id="oicon-write" viewBox="0 0 1024 1024"><path d="M975.073029 1023.83715H48.926971A48.764121 48.764121 0 0 1 0.16285 975.073029V48.926971C0.16285 21.985725 21.985725 0.16285 48.926971 0.16285H585.053121a24.382061 24.382061 0 0 1 0 48.764121h-511.837151a24.382061 24.382061 0 0 0-24.33553 24.33553V950.78403c0 13.447358 10.888172 24.33553 24.33553 24.33553h877.56806a24.33553 24.33553 0 0 0 24.33553-24.33553v-511.837151a24.382061 24.382061 0 0 1 48.764121 0v536.172681c0 26.941246-21.822875 48.764121-48.764121 48.764121z m-487.362028-292.491666H316.338617a24.102877 24.102877 0 0 1-23.963285-24.195938c0-0.465307 0.279184-0.884082 0.279184-1.349389V535.730632c0-4.28082 0.186123-12.19103 0.465306-23.730632L790.346348 14.773474a48.764121 48.764121 0 0 1 68.911893 0l137.870316 137.870316a48.764121 48.764121 0 0 1 0 68.958423L487.711001 731.345484z m457.768535-561.624945L842.088431 66.236373a24.382061 24.382061 0 0 0-34.432681 0L340.534555 533.357568a19.496342 19.496342 0 0 1 0.465306 2.419594v147.222977h125.725817l478.800388-478.800389a24.382061 24.382061 0 0 0 0-34.525742h-0.093061z"  ></path></symbol><symbol id="oicon-plus" viewBox="0 0 1024 1024"><path d="M1024 426.666667H597.333333V0H426.666667v426.666667H0v170.666666h426.666667v426.666667h170.666666V597.333333h426.666667z"  ></path></symbol><symbol id="oicon-trending" viewBox="0 0 1106 1024"><path d="M0 290.766798m55.308301 0l0 0q55.308301 0 55.3083 55.3083l0 608.391307q0 55.308301-55.3083 55.3083l0 0q-55.308301 0-55.308301-55.3083l0-608.391307q0-55.308301 55.308301-55.3083Z" fill="#F5A623" ></path><path d="M331.849803 14.225295m55.308301 0l0 0q55.308301 0 55.308301 55.3083l0 884.93281q0 55.308301-55.308301 55.3083l0 0q-55.308301 0-55.308301-55.3083l0-884.93281q0-55.308301 55.308301-55.3083Z" fill="#F5A623" opacity=".8" ></path><path d="M663.699607 401.383399m55.3083 0l0 0q55.308301 0 55.308301 55.3083l0 497.774706q0 55.308301-55.308301 55.3083l0 0q-55.308301 0-55.3083-55.3083l0-497.774706q0-55.308301 55.3083-55.3083Z" fill="#F5A623" opacity=".6" ></path><path d="M995.54941 124.841896m55.308301 0l0 0q55.308301 0 55.3083 55.308301l0 774.316208q0 55.308301-55.3083 55.3083l0 0q-55.308301 0-55.308301-55.3083l0-774.316208q0-55.308301 55.308301-55.308301Z" fill="#F5A623" opacity=".4" ></path></symbol><symbol id="oicon-gitee" viewBox="0 0 1024 1024"><path d="M966.524718 400.672821H456.520205c-24.497231 0-44.347077 19.954872-44.347077 44.557128v133.540102c0 24.602256 19.849846 44.530872 44.347077 44.530872h288.295385c33.266872 0 44.320821 11.132718 44.347077 44.530872 0.026256 89.035487-50.884923 133.566359-133.041231 133.566359h-376.779487c-24.602256 0-44.530872-19.954872-44.530872-44.530872v-400.67282c0-73.780513 59.575795-133.592615 133.014974-133.592616h598.593641c24.470974 0 44.320821-19.928615 44.320821-44.504615V44.530872C1010.740513 19.928615 990.916923 0 966.419692 0H367.826051C171.979487 0 13.128205 159.455179 13.128205 356.168205v623.32718C13.128205 1004.045128 32.978051 1024 57.475282 1024h598.646154c196.187897 0 352.439795-170.325333 354.619077-367.327179 0.131282-11.106462 0.131282-200.33641 0.131282-211.442872a44.478359 44.478359 0 0 0-44.347077-44.530872z"  ></path></symbol><symbol id="oicon-world" viewBox="0 0 1024 1024"><path d="M921.6 204.8h-1.024A510.464 510.464 0 0 0 512 0C229.696 0 0 229.696 0 512s229.696 512 512 512c167.04 0 315.072-80.64 408.576-204.8h1.024v-1.28C985.6 732.416 1024 626.816 1024 512s-38.4-220.416-102.4-305.92V204.8zM358.4 891.456A409.984 409.984 0 0 1 102.4 512c0-17.408 1.408-34.432 3.52-51.2H153.6l51.2 102.4v102.4L307.2 768l51.2 51.2v72.256zM512 921.6a408.32 408.32 0 0 1-96.448-11.904L460.8 819.2l51.2-102.4V614.4H409.6l-51.2-51.2h-51.2L256 460.8l51.2-102.4 51.2-51.2 51.2-51.2 51.2-102.4v-47.68c16.768-2.112 33.792-3.52 51.2-3.52a407.04 407.04 0 0 1 256 90.368V256l-51.2 102.4 51.2 51.2v51.2l-102.4 51.2-51.2 52.032 51.2 50.368 51.2 51.2 51.2 102.4 33.472 33.472A408.32 408.32 0 0 1 512 921.6z"  ></path></symbol><symbol id="oicon-setting" viewBox="0 0 1162 1024"><path d="M1055.479204 128.810127H442.676311c-10.415913-55.551537-57.287523-97.21519-116.311031-97.21519-57.287523 0-105.895118 41.663653-116.31103 97.21519H53.815552c-10.415913 0-19.095841 8.679928-19.095841 20.831826s8.679928 20.831826 20.831826 20.831826h156.238698c10.415913 55.551537 57.287523 97.21519 116.311031 97.21519 57.287523 0 105.895118-41.663653 116.311031-97.21519h611.066907c12.151899 0 20.831826-8.679928 20.831827-20.831826s-8.679928-20.831826-20.831827-20.831826zM328.101266 224.289331c-41.663653 0-76.383363-34.719711-76.383364-76.383364 0-41.663653 34.719711-76.383363 76.383364-76.383363 41.663653 0 76.383363 34.719711 76.383363 76.383363 0 41.663653-34.719711 76.383363-76.383363 76.383364zM1055.479204 840.564195H637.106691c-10.415913-55.551537-57.287523-97.21519-116.311031-97.21519-57.287523 0-105.895118 41.663653-116.311031 97.21519H55.551537c-12.151899 0-20.831826 8.679928-20.831826 20.831827s8.679928 20.831826 20.831826 20.831826h348.933092c10.415913 55.551537 57.287523 97.21519 116.311031 97.21519 57.287523 0 105.895118-41.663653 116.311031-97.21519H1055.479204c12.151899 0 20.831826-8.679928 20.831827-20.831826 0-10.415913-8.679928-20.831826-20.831827-20.831827z m-534.683544 97.21519c-41.663653 0-76.383363-34.719711-76.383363-76.383363 0-41.663653 34.719711-76.383363 76.383363-76.383364 41.663653 0 76.383363 34.719711 76.383364 76.383364-1.735986 41.663653-34.719711 76.383363-76.383364 76.383363zM1055.479204 484.687161h-67.703435c-10.415913-55.551537-57.287523-97.21519-116.311031-97.21519-57.287523 0-105.895118 41.663653-116.311031 97.21519H55.551537c-12.151899 0-20.831826 8.679928-20.831826 20.831826s8.679928 20.831826 20.831826 20.831827h699.60217c10.415913 55.551537 57.287523 97.21519 116.311031 97.21519 57.287523 0 105.895118-41.663653 116.311031-97.21519h67.703435c12.151899 0 20.831826-8.679928 20.831827-20.831827s-8.679928-20.831826-20.831827-20.831826z m-184.014466 97.21519c-41.663653 0-76.383363-34.719711-76.383364-76.383364 0-41.663653 34.719711-76.383363 76.383364-76.383363 41.663653 0 76.383363 34.719711 76.383363 76.383363 0 41.663653-34.719711 76.383363-76.383363 76.383364z"  ></path></symbol></svg>',v=(v=document.getElementsByTagName("script"))[v.length-1].getAttribute("data-injectcss");if(v&&!a.__iconfont__svg__cssinject__){a.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(a){console}}function s(){i||(i=!0,o())}c=function(){var a,c,l,o;(o=document.createElement("div")).innerHTML=m,m=null,(l=o.getElementsByTagName("svg")[0])&&(l.setAttribute("aria-hidden","true"),l.style.position="absolute",l.style.width=0,l.style.height=0,l.style.overflow="hidden",a=l,(c=document.body).firstChild?(o=a,(l=c.firstChild).parentNode.insertBefore(o,l)):c.appendChild(a))},document.addEventListener?~["complete","loaded","interactive"].indexOf(document.readyState)?setTimeout(c,0):(l=function(){document.removeEventListener("DOMContentLoaded",l,!1),c()},document.addEventListener("DOMContentLoaded",l,!1)):document.attachEvent&&(o=c,h=a.document,i=!1,(t=function(){try{h.documentElement.doScroll("left")}catch(a){return void setTimeout(t,50)}s()})(),h.onreadystatechange=function(){"complete"==h.readyState&&(h.onreadystatechange=null,s())})}(window);
!function(t){function e(e,a,r){return r=g(a,r),this.on("click.pjax",e,function(e){var a=r;a.container||((a=t.extend({},r)).container=t(this).attr("data-pjax")),n(e,a)})}function n(e,n,a){a=g(n,a);var i=e.currentTarget,o=t(i);if("A"!==i.tagName.toUpperCase())throw"$.fn.pjax or $.pjax.click requires an anchor element";if(!(e.which>1||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||location.protocol!==i.protocol||location.hostname!==i.hostname||i.href.indexOf("#")>-1&&x(i)==x(location)||e.isDefaultPrevented())){var s={url:i.href,container:o.attr("data-pjax"),target:i},c=t.extend({},s,a),u=t.Event("pjax:click");o.trigger(u,[c]),u.isDefaultPrevented()||(r(c),e.preventDefault(),o.trigger("pjax:clicked",[c]))}}function a(e,n,a){a=g(n,a);var i=e.currentTarget,o=t(i);if("FORM"!==i.tagName.toUpperCase())throw"$.pjax.submit requires a form element";var s={type:(o.attr("method")||"GET").toUpperCase(),url:o.attr("action"),container:o.attr("data-pjax"),target:i};if("GET"!==s.type&&void 0!==window.FormData)s.data=new FormData(i),s.processData=!1,s.contentType=!1;else{if(o.find(":file").length)return;s.data=o.serializeArray()}r(t.extend({},s,a)),e.preventDefault()}function r(e){e=t.extend(!0,{},t.ajaxSettings,r.defaults,e),t.isFunction(e.url)&&(e.url=e.url());var n=v(e.url).hash,a=t.type(e.container);if("string"!==a)throw"expected string value for 'container' option; got "+a;var i,s=e.context=t(e.container);if(!s.length)throw"the container selector '"+e.container+"' did not match anything";function c(n,a,r){r||(r={}),r.relatedTarget=e.target;var i=t.Event(n,r);return s.trigger(i,a),!i.isDefaultPrevented()}e.data||(e.data={}),t.isArray(e.data)?e.data.push({name:"_pjax",value:e.container}):e.data._pjax=e.container,e.beforeSend=function(t,a){if("GET"!==a.type&&(a.timeout=0),t.setRequestHeader("X-PJAX","true"),t.setRequestHeader("X-PJAX-Container",e.container),!c("pjax:beforeSend",[t,a]))return!1;a.timeout>0&&(i=setTimeout(function(){c("pjax:timeout",[t,e])&&t.abort("timeout")},a.timeout),a.timeout=0);var r=v(a.url);n&&(r.hash=n),e.requestUrl=m(r)},e.complete=function(t,n){i&&clearTimeout(i),c("pjax:complete",[t,n,e]),c("pjax:end",[t,e])},e.error=function(t,n,a){var r=w("",t,e),i=c("pjax:error",[t,n,a,e]);"GET"==e.type&&"abort"!==n&&i&&o(r.url)},e.success=function(a,i,u){var l=r.state,p="function"==typeof t.pjax.defaults.version?t.pjax.defaults.version():t.pjax.defaults.version,d=u.getResponseHeader("X-PJAX-Version"),h=w(a,u,e),m=v(h.url);if(n&&(m.hash=n,h.url=m.href),p&&d&&p!==d)o(h.url);else if(h.contents){if(r.state={id:e.id||f(),url:h.url,title:h.title,container:e.container,fragment:e.fragment,timeout:e.timeout},(e.push||e.replace)&&window.history.replaceState(r.state,h.title,h.url),t.contains(s,document.activeElement))try{document.activeElement.blur()}catch(t){}h.title&&(document.title=h.title),c("pjax:beforeReplace",[h.contents,e],{state:r.state,previousState:l}),s.html(h.contents);var x=s.find("input[autofocus], textarea[autofocus]").last()[0];x&&document.activeElement!==x&&x.focus(),function(e){if(!e)return;var n=t("script[src]");e.each(function(){var e=this.src,a=n.filter(function(){return this.src===e});if(!a.length){var r=document.createElement("script"),i=t(this).attr("type");i&&(r.type=i),r.src=t(this).attr("src"),document.head.appendChild(r)}})}(h.scripts);var g=e.scrollTo;if(n){var y=decodeURIComponent(n.slice(1)),j=document.getElementById(y)||document.getElementsByName(y)[0];j&&(g=t(j).offset().top)}"number"==typeof g&&t(window).scrollTop(g),c("pjax:success",[a,i,u,e])}else o(h.url)},r.state||(r.state={id:f(),url:window.location.href,title:document.title,container:e.container,fragment:e.fragment,timeout:e.timeout},window.history.replaceState(r.state,document.title)),d(r.xhr),r.options=e;var u,l,p=r.xhr=t.ajax(e);return p.readyState>0&&(e.push&&!e.replace&&(u=r.state.id,l=[e.container,h(s)],b[u]=l,E.push(u),S(T,0),S(E,r.defaults.maxCacheLength),window.history.pushState(null,"",e.requestUrl)),c("pjax:start",[p,e]),c("pjax:send",[p,e])),r.xhr}function i(e,n){var a={url:window.location.href,push:!1,replace:!0,scrollTo:!1};return r(t.extend(a,g(e,n)))}function o(t){window.history.replaceState(null,"",r.state.url),window.location.replace(t)}var s=!0,c=window.location.href,u=window.history.state;function l(e){s||d(r.xhr);var n,a=r.state,i=e.state;if(i&&i.container){if(s&&c==i.url)return;if(a){if(a.id===i.id)return;n=a.id<i.id?"forward":"back"}var u=b[i.id]||[],l=u[0]||i.container,p=t(l),f=u[1];if(p.length){a&&function(t,e,n){var a,i;b[e]=n,"forward"===t?(a=E,i=T):(a=T,i=E);a.push(e),(e=i.pop())&&delete b[e];S(a,r.defaults.maxCacheLength)}(n,a.id,[l,h(p)]);var m=t.Event("pjax:popstate",{state:i,direction:n});p.trigger(m);var v={id:i.id,url:i.url,container:l,push:!1,fragment:i.fragment,timeout:i.timeout,scrollTo:!1};if(f){p.trigger("pjax:start",[null,v]),r.state=i,i.title&&(document.title=i.title);var x=t.Event("pjax:beforeReplace",{state:i,previousState:a});p.trigger(x,[f,v]),p.html(f),p.trigger("pjax:end",[null,v])}else r(v);p[0].offsetHeight}else o(location.href)}s=!1}function p(e){var n=t.isFunction(e.url)?e.url():e.url,a=e.type?e.type.toUpperCase():"GET",r=t("<form>",{method:"GET"===a?"GET":"POST",action:n,style:"display:none"});"GET"!==a&&"POST"!==a&&r.append(t("<input>",{type:"hidden",name:"_method",value:a.toLowerCase()}));var i=e.data;if("string"==typeof i)t.each(i.split("&"),function(e,n){var a=n.split("=");r.append(t("<input>",{type:"hidden",name:a[0],value:a[1]}))});else if(t.isArray(i))t.each(i,function(e,n){r.append(t("<input>",{type:"hidden",name:n.name,value:n.value}))});else if("object"==typeof i){var o;for(o in i)r.append(t("<input>",{type:"hidden",name:o,value:i[o]}))}t(document.body).append(r),r.submit()}function d(e){e&&e.readyState<4&&(e.onreadystatechange=t.noop,e.abort())}function f(){return(new Date).getTime()}function h(e){var n=e.clone();return n.find("script").each(function(){this.src||t._data(this,"globalEval",!1)}),n.contents()}function m(t){return t.search=t.search.replace(/([?&])(_pjax|_)=[^&]*/g,"").replace(/^&/,""),t.href.replace(/\?($|#)/,"$1")}function v(t){var e=document.createElement("a");return e.href=t,e}function x(t){return t.href.replace(/#.*/,"")}function g(e,n){return e&&n?((n=t.extend({},n)).container=e,n):t.isPlainObject(e)?e:{container:e}}function y(t,e){return t.filter(e).add(t.find(e))}function j(e){return t.parseHTML(e,document,!0)}function w(e,n,a){var r,i,o={},s=/<html/i.test(e),c=n.getResponseHeader("X-PJAX-URL");if(o.url=c?m(v(c)):a.requestUrl,s){i=t(j(e.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]));var u=e.match(/<head[^>]*>([\s\S.]*)<\/head>/i);r=null!=u?t(j(u[0])):i}else r=i=t(j(e));if(0===i.length)return o;if(o.title=y(r,"title").last().text(),a.fragment){var l=i;"body"!==a.fragment&&(l=y(l,a.fragment).first()),l.length&&(o.contents="body"===a.fragment?l:l.contents(),o.title||(o.title=l.attr("title")||l.data("title")))}else s||(o.contents=i);return o.contents&&(o.contents=o.contents.not(function(){return t(this).is("title")}),o.contents.find("title").remove(),o.scripts=y(o.contents,"script[src]").remove(),o.contents=o.contents.not(o.scripts)),o.title&&(o.title=t.trim(o.title)),o}u&&u.container&&(r.state=u),"state"in window.history&&(s=!1);var b={},T=[],E=[];function S(t,e){for(;t.length>e;)delete b[t.shift()]}function P(){return t("meta").filter(function(){var e=t(this).attr("http-equiv");return e&&"X-PJAX-VERSION"===e.toUpperCase()}).attr("content")}function C(){t.fn.pjax=e,t.pjax=r,t.pjax.enable=t.noop,t.pjax.disable=A,t.pjax.click=n,t.pjax.submit=a,t.pjax.reload=i,t.pjax.defaults={timeout:650,push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0,maxCacheLength:20,version:P},t(window).on("popstate.pjax",l)}function A(){t.fn.pjax=function(){return this},t.pjax=p,t.pjax.enable=C,t.pjax.disable=t.noop,t.pjax.click=t.noop,t.pjax.submit=t.noop,t.pjax.reload=function(){window.location.reload()},t(window).off("popstate.pjax",l)}t.event.props&&t.inArray("state",t.event.props)<0?t.event.props.push("state"):"state"in t.Event.prototype||t.event.addProp("state"),t.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]\D|WebApps\/.+CFNetwork)/),t.support.pjax?C():A()}(jQuery);
!function(e,i){if("function"==typeof define&&define.amd)define(["exports","jquery"],function(e,r){return i(e,r)});else if("undefined"!=typeof exports){var r=require("jquery");i(exports,r)}else i(e,e.jQuery||e.Zepto||e.ender||e.$)}(this,function(e,i){function r(e,r){function n(e,i,r){return e[i]=r,e}function a(e){return void 0===o[e]&&(o[e]=0),o[e]++}function s(e){switch(i('[name="'+e.name+'"]',r).attr("type")){case"checkbox":return"on"===e.value||e.value;default:return e.value}}function u(){return f}var f={},o={};this.addPair=function(i){if(!t.validate.test(i.name))return this;var r=function(e,i){for(var r,s=e.match(t.key);void 0!==(r=s.pop());)t.push.test(r)?i=n([],a(e.replace(/\[\]$/,"")),i):t.fixed.test(r)?i=n([],r,i):t.named.test(r)&&(i=n({},r,i));return i}(i.name,s(i));return f=e.extend(!0,f,r),this},this.addPairs=function(i){if(!e.isArray(i))throw new Error("formSerializer.addPairs expects an Array");for(var r=0,t=i.length;t>r;r++)this.addPair(i[r]);return this},this.serialize=u,this.serializeJSON=function(){return JSON.stringify(u())}}var t={validate:/^[a-z_][a-z0-9_]*(?:\[(?:\d*|[a-z0-9_]+)\])*$/i,key:/[a-z0-9_]+|(?=\[\])/gi,push:/^$/,fixed:/^\d+$/,named:/^[a-z0-9_]+$/i};return r.patterns=t,r.serializeObject=function(){return new r(i,this).addPairs(this.serializeArray()).serialize()},r.serializeJSON=function(){return new r(i,this).addPairs(this.serializeArray()).serializeJSON()},void 0!==i.fn&&(i.fn.serializeObject=r.serializeObject,i.fn.serializeJSON=r.serializeJSON),e.FormSerializer=r,r});
!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):n.anime=e()}(this,function(){"use strict";var n={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},e={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},t=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],r={CSS:{},springs:{}};function a(n,e,t){return Math.min(Math.max(n,e),t)}function o(n,e){return n.indexOf(e)>-1}function u(n,e){return n.apply(null,e)}var i={arr:function(n){return Array.isArray(n)},obj:function(n){return o(Object.prototype.toString.call(n),"Object")},pth:function(n){return i.obj(n)&&n.hasOwnProperty("totalLength")},svg:function(n){return n instanceof SVGElement},inp:function(n){return n instanceof HTMLInputElement},dom:function(n){return n.nodeType||i.svg(n)},str:function(n){return"string"==typeof n},fnc:function(n){return"function"==typeof n},und:function(n){return void 0===n},nil:function(n){return i.und(n)||null===n},hex:function(n){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(n)},rgb:function(n){return/^rgb/.test(n)},hsl:function(n){return/^hsl/.test(n)},col:function(n){return i.hex(n)||i.rgb(n)||i.hsl(n)},key:function(t){return!n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&"targets"!==t&&"keyframes"!==t}};function c(n){var e=/\(([^)]+)\)/.exec(n);return e?e[1].split(",").map(function(n){return parseFloat(n)}):[]}function s(n,e){var t=c(n),o=a(i.und(t[0])?1:t[0],.1,100),u=a(i.und(t[1])?100:t[1],.1,100),s=a(i.und(t[2])?10:t[2],.1,100),f=a(i.und(t[3])?0:t[3],.1,100),l=Math.sqrt(u/o),d=s/(2*Math.sqrt(u*o)),p=d<1?l*Math.sqrt(1-d*d):0,h=1,v=d<1?(d*l-f)/p:-f+l;function g(n){var t=e?e*n/1e3:n;return t=d<1?Math.exp(-t*d*l)*(h*Math.cos(p*t)+v*Math.sin(p*t)):(h+v*t)*Math.exp(-t*l),0===n||1===n?n:1-t}return e?g:function(){var e=r.springs[n];if(e)return e;for(var t=0,a=0;;)if(1===g(t+=1/6)){if(++a>=16)break}else a=0;var o=t*(1/6)*1e3;return r.springs[n]=o,o}}function f(n){return void 0===n&&(n=10),function(e){return Math.ceil(a(e,1e-6,1)*n)*(1/n)}}var l,d,p=function(){var n=11,e=1/(n-1);function t(n,e){return 1-3*e+3*n}function r(n,e){return 3*e-6*n}function a(n){return 3*n}function o(n,e,o){return((t(e,o)*n+r(e,o))*n+a(e))*n}function u(n,e,o){return 3*t(e,o)*n*n+2*r(e,o)*n+a(e)}return function(t,r,a,i){if(0<=t&&t<=1&&0<=a&&a<=1){var c=new Float32Array(n);if(t!==r||a!==i)for(var s=0;s<n;++s)c[s]=o(s*e,t,a);return function(n){return t===r&&a===i?n:0===n||1===n?n:o(f(n),r,i)}}function f(r){for(var i=0,s=1,f=n-1;s!==f&&c[s]<=r;++s)i+=e;var l=i+(r-c[--s])/(c[s+1]-c[s])*e,d=u(l,t,a);return d>=.001?function(n,e,t,r){for(var a=0;a<4;++a){var i=u(e,t,r);if(0===i)return e;e-=(o(e,t,r)-n)/i}return e}(r,l,t,a):0===d?l:function(n,e,t,r,a){for(var u,i,c=0;(u=o(i=e+(t-e)/2,r,a)-n)>0?t=i:e=i,Math.abs(u)>1e-7&&++c<10;);return i}(r,i,i+e,t,a)}}}(),h=(l={linear:function(){return function(n){return n}}},d={Sine:function(){return function(n){return 1-Math.cos(n*Math.PI/2)}},Circ:function(){return function(n){return 1-Math.sqrt(1-n*n)}},Back:function(){return function(n){return n*n*(3*n-2)}},Bounce:function(){return function(n){for(var e,t=4;n<((e=Math.pow(2,--t))-1)/11;);return 1/Math.pow(4,3-t)-7.5625*Math.pow((3*e-2)/22-n,2)}},Elastic:function(n,e){void 0===n&&(n=1),void 0===e&&(e=.5);var t=a(n,1,10),r=a(e,.1,2);return function(n){return 0===n||1===n?n:-t*Math.pow(2,10*(n-1))*Math.sin((n-1-r/(2*Math.PI)*Math.asin(1/t))*(2*Math.PI)/r)}}},["Quad","Cubic","Quart","Quint","Expo"].forEach(function(n,e){d[n]=function(){return function(n){return Math.pow(n,e+2)}}}),Object.keys(d).forEach(function(n){var e=d[n];l["easeIn"+n]=e,l["easeOut"+n]=function(n,t){return function(r){return 1-e(n,t)(1-r)}},l["easeInOut"+n]=function(n,t){return function(r){return r<.5?e(n,t)(2*r)/2:1-e(n,t)(-2*r+2)/2}},l["easeOutIn"+n]=function(n,t){return function(r){return r<.5?(1-e(n,t)(1-2*r))/2:(e(n,t)(2*r-1)+1)/2}}}),l);function v(n,e){if(i.fnc(n))return n;var t=n.split("(")[0],r=h[t],a=c(n);switch(t){case"spring":return s(n,e);case"cubicBezier":return u(p,a);case"steps":return u(f,a);default:return u(r,a)}}function g(n){try{return document.querySelectorAll(n)}catch(n){return}}function m(n,e){for(var t=n.length,r=arguments.length>=2?arguments[1]:void 0,a=[],o=0;o<t;o++)if(o in n){var u=n[o];e.call(r,u,o,n)&&a.push(u)}return a}function y(n){return n.reduce(function(n,e){return n.concat(i.arr(e)?y(e):e)},[])}function b(n){return i.arr(n)?n:(i.str(n)&&(n=g(n)||n),n instanceof NodeList||n instanceof HTMLCollection?[].slice.call(n):[n])}function M(n,e){return n.some(function(n){return n===e})}function x(n){var e={};for(var t in n)e[t]=n[t];return e}function w(n,e){var t=x(n);for(var r in n)t[r]=e.hasOwnProperty(r)?e[r]:n[r];return t}function k(n,e){var t=x(n);for(var r in e)t[r]=i.und(n[r])?e[r]:n[r];return t}function O(n){var e=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(n);if(e)return e[1]}function C(n,e){return i.fnc(n)?n(e.target,e.id,e.total):n}function P(n,e){return n.getAttribute(e)}function I(n,e,t){if(M([t,"deg","rad","turn"],O(e)))return e;var a=r.CSS[e+t];if(!i.und(a))return a;var o=document.createElement(n.tagName),u=n.parentNode&&n.parentNode!==document?n.parentNode:document.body;u.appendChild(o),o.style.position="absolute",o.style.width=100+t;var c=100/o.offsetWidth;u.removeChild(o);var s=c*parseFloat(e);return r.CSS[e+t]=s,s}function D(n,e,t){if(e in n.style){var r=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),a=n.style[e]||getComputedStyle(n).getPropertyValue(r)||"0";return t?I(n,a,t):a}}function B(n,e){return i.dom(n)&&!i.inp(n)&&(!i.nil(P(n,e))||i.svg(n)&&n[e])?"attribute":i.dom(n)&&M(t,e)?"transform":i.dom(n)&&"transform"!==e&&D(n,e)?"css":null!=n[e]?"object":void 0}function T(n){if(i.dom(n)){for(var e,t=n.style.transform||"",r=/(\w+)\(([^)]*)\)/g,a=new Map;e=r.exec(t);)a.set(e[1],e[2]);return a}}function E(n,e,t,r){switch(B(n,e)){case"transform":return function(n,e,t,r){var a,u=o(e,"scale")?1:0+(o(a=e,"translate")||"perspective"===a?"px":o(a,"rotate")||o(a,"skew")?"deg":void 0),i=T(n).get(e)||u;return t&&(t.transforms.list.set(e,i),t.transforms.last=e),r?I(n,i,r):i}(n,e,r,t);case"css":return D(n,e,t);case"attribute":return P(n,e);default:return n[e]||0}}function F(n,e){var t=/^(\*=|\+=|-=)/.exec(n);if(!t)return n;var r=O(n)||0,a=parseFloat(e),o=parseFloat(n.replace(t[0],""));switch(t[0][0]){case"+":return a+o+r;case"-":return a-o+r;case"*":return a*o+r}}function A(n,e){if(i.col(n))return function(n){return i.rgb(n)?(t=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e=n))?"rgba("+t[1]+",1)":e:i.hex(n)?(r=n.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(n,e,t,r){return e+e+t+t+r+r}),a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r),"rgba("+parseInt(a[1],16)+","+parseInt(a[2],16)+","+parseInt(a[3],16)+",1)"):i.hsl(n)?function(n){var e,t,r,a=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(n)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(n),o=parseInt(a[1],10)/360,u=parseInt(a[2],10)/100,i=parseInt(a[3],10)/100,c=a[4]||1;function s(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+6*(e-n)*t:t<.5?e:t<2/3?n+(e-n)*(2/3-t)*6:n}if(0==u)e=t=r=i;else{var f=i<.5?i*(1+u):i+u-i*u,l=2*i-f;e=s(l,f,o+1/3),t=s(l,f,o),r=s(l,f,o-1/3)}return"rgba("+255*e+","+255*t+","+255*r+","+c+")"}(n):void 0;var e,t,r,a}(n);if(/\s/g.test(n))return n;var t=O(n),r=t?n.substr(0,n.length-t.length):n;return e?r+e:r}function N(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function S(n){for(var e,t=n.points,r=0,a=0;a<t.numberOfItems;a++){var o=t.getItem(a);a>0&&(r+=N(e,o)),e=o}return r}function L(n){if(n.getTotalLength)return n.getTotalLength();switch(n.tagName.toLowerCase()){case"circle":return o=n,2*Math.PI*P(o,"r");case"rect":return 2*P(a=n,"width")+2*P(a,"height");case"line":return N({x:P(r=n,"x1"),y:P(r,"y1")},{x:P(r,"x2"),y:P(r,"y2")});case"polyline":return S(n);case"polygon":return t=(e=n).points,S(e)+N(t.getItem(t.numberOfItems-1),t.getItem(0))}var e,t,r,a,o}function j(n,e){var t=e||{},r=t.el||function(n){for(var e=n.parentNode;i.svg(e)&&i.svg(e.parentNode);)e=e.parentNode;return e}(n),a=r.getBoundingClientRect(),o=P(r,"viewBox"),u=a.width,c=a.height,s=t.viewBox||(o?o.split(" "):[0,0,u,c]);return{el:r,viewBox:s,x:s[0]/1,y:s[1]/1,w:u,h:c,vW:s[2],vH:s[3]}}function q(n,e,t){function r(t){void 0===t&&(t=0);var r=e+t>=1?e+t:0;return n.el.getPointAtLength(r)}var a=j(n.el,n.svg),o=r(),u=r(-1),i=r(1),c=t?1:a.w/a.vW,s=t?1:a.h/a.vH;switch(n.property){case"x":return(o.x-a.x)*c;case"y":return(o.y-a.y)*s;case"angle":return 180*Math.atan2(i.y-u.y,i.x-u.x)/Math.PI}}function H(n,e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,r=A(i.pth(n)?n.totalLength:n,e)+"";return{original:r,numbers:r.match(t)?r.match(t).map(Number):[0],strings:i.str(n)||e?r.split(t):[]}}function V(n){return m(n?y(i.arr(n)?n.map(b):b(n)):[],function(n,e,t){return t.indexOf(n)===e})}function $(n){var e=V(n);return e.map(function(n,t){return{target:n,id:t,total:e.length,transforms:{list:T(n)}}})}function W(n,e){var t=x(e);if(/^spring/.test(t.easing)&&(t.duration=s(t.easing)),i.arr(n)){var r=n.length;2!==r||i.obj(n[0])?i.fnc(e.duration)||(t.duration=e.duration/r):n={value:n}}var a=i.arr(n)?n:[n];return a.map(function(n,t){var r=i.obj(n)&&!i.pth(n)?n:{value:n};return i.und(r.delay)&&(r.delay=t?0:e.delay),i.und(r.endDelay)&&(r.endDelay=t===a.length-1?e.endDelay:0),r}).map(function(n){return k(n,t)})}function X(n,e){var t=[],r=e.keyframes;for(var a in r&&(e=k(function(n){for(var e=m(y(n.map(function(n){return Object.keys(n)})),function(n){return i.key(n)}).reduce(function(n,e){return n.indexOf(e)<0&&n.push(e),n},[]),t={},r=function(r){var a=e[r];t[a]=n.map(function(n){var e={};for(var t in n)i.key(t)?t==a&&(e.value=n[t]):e[t]=n[t];return e})},a=0;a<e.length;a++)r(a);return t}(r),e)),e)i.key(a)&&t.push({name:a,tweens:W(e[a],n)});return t}var Y={css:function(n,e,t){return n.style[e]=t},attribute:function(n,e,t){return n.setAttribute(e,t)},object:function(n,e,t){return n[e]=t},transform:function(n,e,t,r,a){if(r.list.set(e,t),e===r.last||a){var o="";r.list.forEach(function(n,e){o+=e+"("+n+") "}),n.style.transform=o}}};function Z(n,e){$(n).forEach(function(n){for(var t in e){var r=C(e[t],n),a=n.target,o=O(r),u=E(a,t,o,n),i=F(A(r,o||O(u)),u),c=B(a,t);Y[c](a,t,i,n.transforms,!0)}})}function G(n,e){return m(y(n.map(function(n){return e.map(function(e){return function(n,e){var t=B(n.target,e.name);if(t){var r=function(n,e){var t;return n.tweens.map(function(r){var a=function(n,e){var t={};for(var r in n){var a=C(n[r],e);i.arr(a)&&1===(a=a.map(function(n){return C(n,e)})).length&&(a=a[0]),t[r]=a}return t.duration=parseFloat(t.duration),t.delay=parseFloat(t.delay),t}(r,e),o=a.value,u=i.arr(o)?o[1]:o,c=O(u),s=E(e.target,n.name,c,e),f=t?t.to.original:s,l=i.arr(o)?o[0]:f,d=O(l)||O(s),p=c||d;return i.und(u)&&(u=f),a.from=H(l,p),a.to=H(F(u,l),p),a.start=t?t.end:0,a.end=a.start+a.delay+a.duration+a.endDelay,a.easing=v(a.easing,a.duration),a.isPath=i.pth(o),a.isPathTargetInsideSVG=a.isPath&&i.svg(e.target),a.isColor=i.col(a.from.original),a.isColor&&(a.round=1),t=a,a})}(e,n),a=r[r.length-1];return{type:t,property:e.name,animatable:n,tweens:r,duration:a.end,delay:r[0].delay,endDelay:a.endDelay}}}(n,e)})})),function(n){return!i.und(n)})}function Q(n,e){var t=n.length,r=function(n){return n.timelineOffset?n.timelineOffset:0},a={};return a.duration=t?Math.max.apply(Math,n.map(function(n){return r(n)+n.duration})):e.duration,a.delay=t?Math.min.apply(Math,n.map(function(n){return r(n)+n.delay})):e.delay,a.endDelay=t?a.duration-Math.max.apply(Math,n.map(function(n){return r(n)+n.duration-n.endDelay})):e.endDelay,a}var z=0,_=[],R=function(){var n;function e(t){for(var r=_.length,a=0;a<r;){var o=_[a];o.paused?(_.splice(a,1),r--):(o.tick(t),a++)}n=a>0?requestAnimationFrame(e):void 0}return"undefined"!=typeof document&&document.addEventListener("visibilitychange",function(){K.suspendWhenDocumentHidden&&(J()?n=cancelAnimationFrame(n):(_.forEach(function(n){return n._onDocumentVisibility()}),R()))}),function(){n||J()&&K.suspendWhenDocumentHidden||!(_.length>0)||(n=requestAnimationFrame(e))}}();function J(){return!!document&&document.hidden}function K(t){void 0===t&&(t={});var r,o=0,u=0,i=0,c=0,s=null;function f(n){var e=window.Promise&&new Promise(function(n){return s=n});return n.finished=e,e}var l,d,p,h,v,g,y,b,M=(d=w(n,l=t),h=X(p=w(e,l),l),y=Q(g=G(v=$(l.targets),h),p),b=z,z++,k(d,{id:b,children:[],animatables:v,animations:g,duration:y.duration,delay:y.delay,endDelay:y.endDelay}));function x(){var n=M.direction;"alternate"!==n&&(M.direction="normal"!==n?"normal":"reverse"),M.reversed=!M.reversed,r.forEach(function(n){return n.reversed=M.reversed})}function O(n){return M.reversed?M.duration-n:n}function C(){o=0,u=O(M.currentTime)*(1/K.speed)}function P(n,e){e&&e.seek(n-e.timelineOffset)}function I(n){for(var e=0,t=M.animations,r=t.length;e<r;){var o=t[e],u=o.animatable,i=o.tweens,c=i.length-1,s=i[c];c&&(s=m(i,function(e){return n<e.end})[0]||s);for(var f=a(n-s.start-s.delay,0,s.duration)/s.duration,l=isNaN(f)?1:s.easing(f),d=s.to.strings,p=s.round,h=[],v=s.to.numbers.length,g=void 0,y=0;y<v;y++){var b=void 0,x=s.to.numbers[y],w=s.from.numbers[y]||0;b=s.isPath?q(s.value,l*x,s.isPathTargetInsideSVG):w+l*(x-w),p&&(s.isColor&&y>2||(b=Math.round(b*p)/p)),h.push(b)}var k=d.length;if(k){g=d[0];for(var O=0;O<k;O++){d[O];var C=d[O+1],P=h[O];isNaN(P)||(g+=C?P+C:P+" ")}}else g=h[0];Y[o.type](u.target,o.property,g,u.transforms),o.currentValue=g,e++}}function D(n){M[n]&&!M.passThrough&&M[n](M)}function B(n){var e=M.duration,t=M.delay,l=e-M.endDelay,d=O(n);M.progress=a(d/e*100,0,100),M.reversePlayback=d<M.currentTime,r&&function(n){if(M.reversePlayback)for(var e=c;e--;)P(n,r[e]);else for(var t=0;t<c;t++)P(n,r[t])}(d),!M.began&&M.currentTime>0&&(M.began=!0,D("begin")),!M.loopBegan&&M.currentTime>0&&(M.loopBegan=!0,D("loopBegin")),d<=t&&0!==M.currentTime&&I(0),(d>=l&&M.currentTime!==e||!e)&&I(e),d>t&&d<l?(M.changeBegan||(M.changeBegan=!0,M.changeCompleted=!1,D("changeBegin")),D("change"),I(d)):M.changeBegan&&(M.changeCompleted=!0,M.changeBegan=!1,D("changeComplete")),M.currentTime=a(d,0,e),M.began&&D("update"),n>=e&&(u=0,M.remaining&&!0!==M.remaining&&M.remaining--,M.remaining?(o=i,D("loopComplete"),M.loopBegan=!1,"alternate"===M.direction&&x()):(M.paused=!0,M.completed||(M.completed=!0,D("loopComplete"),D("complete"),!M.passThrough&&"Promise"in window&&(s(),f(M)))))}return f(M),M.reset=function(){var n=M.direction;M.passThrough=!1,M.currentTime=0,M.progress=0,M.paused=!0,M.began=!1,M.loopBegan=!1,M.changeBegan=!1,M.completed=!1,M.changeCompleted=!1,M.reversePlayback=!1,M.reversed="reverse"===n,M.remaining=M.loop,r=M.children;for(var e=c=r.length;e--;)M.children[e].reset();(M.reversed&&!0!==M.loop||"alternate"===n&&1===M.loop)&&M.remaining++,I(M.reversed?M.duration:0)},M._onDocumentVisibility=C,M.set=function(n,e){return Z(n,e),M},M.tick=function(n){i=n,o||(o=i),B((i+(u-o))*K.speed)},M.seek=function(n){B(O(n))},M.pause=function(){M.paused=!0,C()},M.play=function(){M.paused&&(M.completed&&M.reset(),M.paused=!1,_.push(M),C(),R())},M.reverse=function(){x(),M.completed=!M.reversed,C()},M.restart=function(){M.reset(),M.play()},M.remove=function(n){nn(V(n),M)},M.reset(),M.autoplay&&M.play(),M}function U(n,e){for(var t=e.length;t--;)M(n,e[t].animatable.target)&&e.splice(t,1)}function nn(n,e){var t=e.animations,r=e.children;U(n,t);for(var a=r.length;a--;){var o=r[a],u=o.animations;U(n,u),u.length||o.children.length||r.splice(a,1)}t.length||r.length||e.pause()}return K.version="3.2.1",K.speed=1,K.suspendWhenDocumentHidden=!0,K.running=_,K.remove=function(n){for(var e=V(n),t=_.length;t--;)nn(e,_[t])},K.get=E,K.set=Z,K.convertPx=I,K.path=function(n,e){var t=i.str(n)?g(n)[0]:n,r=e||100;return function(n){return{property:n,el:t,svg:j(t),totalLength:L(t)*(r/100)}}},K.setDashoffset=function(n){var e=L(n);return n.setAttribute("stroke-dasharray",e),e},K.stagger=function(n,e){void 0===e&&(e={});var t=e.direction||"normal",r=e.easing?v(e.easing):null,a=e.grid,o=e.axis,u=e.from||0,c="first"===u,s="center"===u,f="last"===u,l=i.arr(n),d=l?parseFloat(n[0]):parseFloat(n),p=l?parseFloat(n[1]):0,h=O(l?n[1]:n)||0,g=e.start||0+(l?d:0),m=[],y=0;return function(n,e,i){if(c&&(u=0),s&&(u=(i-1)/2),f&&(u=i-1),!m.length){for(var v=0;v<i;v++){if(a){var b=s?(a[0]-1)/2:u%a[0],M=s?(a[1]-1)/2:Math.floor(u/a[0]),x=b-v%a[0],w=M-Math.floor(v/a[0]),k=Math.sqrt(x*x+w*w);"x"===o&&(k=-x),"y"===o&&(k=-w),m.push(k)}else m.push(Math.abs(u-v));y=Math.max.apply(Math,m)}r&&(m=m.map(function(n){return r(n/y)*y})),"reverse"===t&&(m=m.map(function(n){return o?n<0?-1*n:-n:Math.abs(y-n)}))}return g+(l?(p-d)/y:d)*(Math.round(100*m[e])/100)+h}},K.timeline=function(n){void 0===n&&(n={});var t=K(n);return t.duration=0,t.add=function(r,a){var o=_.indexOf(t),u=t.children;function c(n){n.passThrough=!0}o>-1&&_.splice(o,1);for(var s=0;s<u.length;s++)c(u[s]);var f=k(r,w(e,n));f.targets=f.targets||n.targets;var l=t.duration;f.autoplay=!1,f.direction=t.direction,f.timelineOffset=i.und(a)?l:F(a,l),c(t),t.seek(f.timelineOffset);var d=K(f);c(d),u.push(d);var p=Q(u,n);return t.delay=p.delay,t.endDelay=p.endDelay,t.duration=p.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t},K.easing=v,K.penner=h,K.random=function(n,e){return Math.floor(Math.random()*(e-n+1))+n},K});
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):t.dayjs=n()}(this,function(){"use strict";var t="millisecond",n="second",e="minute",r="hour",i="day",s="week",u="month",o="quarter",a="year",h=/^(\d{4})-?(\d{1,2})-?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d{1,3})?$/,f=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,c=function(t,n,e){var r=String(t);return!r||r.length>=n?t:""+Array(n+1-r.length).join(e)+t},d={s:c,z:function(t){var n=-t.utcOffset(),e=Math.abs(n),r=Math.floor(e/60),i=e%60;return(n<=0?"+":"-")+c(r,2,"0")+":"+c(i,2,"0")},m:function(t,n){var e=12*(n.year()-t.year())+(n.month()-t.month()),r=t.clone().add(e,u),i=n-r<0,s=t.clone().add(e+(i?-1:1),u);return Number(-(e+(n-r)/(i?r-s:s-r))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(h){return{M:u,y:a,w:s,d:i,D:"date",h:r,m:e,s:n,ms:t,Q:o}[h]||String(h||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},$={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},l="en",m={};m[l]=$;var y=function(t){return t instanceof v},M=function(t,n,e){var r;if(!t)return l;if("string"==typeof t)m[t]&&(r=t),n&&(m[t]=n,r=t);else{var i=t.name;m[i]=t,r=i}return e||(l=r),r},g=function(t,n,e){if(y(t))return t.clone();var r=n?"string"==typeof n?{format:n,pl:e}:n:{};return r.date=t,new v(r)},D=d;D.l=M,D.i=y,D.w=function(t,n){return g(t,{locale:n.$L,utc:n.$u,$offset:n.$offset})};var v=function(){function c(t){this.$L=this.$L||M(t.locale,null,!0),this.parse(t)}var d=c.prototype;return d.parse=function(t){this.$d=function(t){var n=t.date,e=t.utc;if(null===n)return new Date(NaN);if(D.u(n))return new Date;if(n instanceof Date)return new Date(n);if("string"==typeof n&&!/Z$/i.test(n)){var r=n.match(h);if(r)return e?new Date(Date.UTC(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)):new Date(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)}return new Date(n)}(t),this.init()},d.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},d.$utils=function(){return D},d.isValid=function(){return!("Invalid Date"===this.$d.toString())},d.isSame=function(t,n){var e=g(t);return this.startOf(n)<=e&&e<=this.endOf(n)},d.isAfter=function(t,n){return g(t)<this.startOf(n)},d.isBefore=function(t,n){return this.endOf(n)<g(t)},d.$g=function(t,n,e){return D.u(t)?this[n]:this.set(e,t)},d.year=function(t){return this.$g(t,"$y",a)},d.month=function(t){return this.$g(t,"$M",u)},d.day=function(t){return this.$g(t,"$W",i)},d.date=function(t){return this.$g(t,"$D","date")},d.hour=function(t){return this.$g(t,"$H",r)},d.minute=function(t){return this.$g(t,"$m",e)},d.second=function(t){return this.$g(t,"$s",n)},d.millisecond=function(n){return this.$g(n,"$ms",t)},d.unix=function(){return Math.floor(this.valueOf()/1e3)},d.valueOf=function(){return this.$d.getTime()},d.startOf=function(t,o){var h=this,f=!!D.u(o)||o,c=D.p(t),d=function(t,n){var e=D.w(h.$u?Date.UTC(h.$y,n,t):new Date(h.$y,n,t),h);return f?e:e.endOf(i)},$=function(t,n){return D.w(h.toDate()[t].apply(h.toDate(),(f?[0,0,0,0]:[23,59,59,999]).slice(n)),h)},l=this.$W,m=this.$M,y=this.$D,M="set"+(this.$u?"UTC":"");switch(c){case a:return f?d(1,0):d(31,11);case u:return f?d(1,m):d(0,m+1);case s:var g=this.$locale().weekStart||0,v=(l<g?l+7:l)-g;return d(f?y-v:y+(6-v),m);case i:case"date":return $(M+"Hours",0);case r:return $(M+"Minutes",1);case e:return $(M+"Seconds",2);case n:return $(M+"Milliseconds",3);default:return this.clone()}},d.endOf=function(t){return this.startOf(t,!1)},d.$set=function(s,o){var h,f=D.p(s),c="set"+(this.$u?"UTC":""),d=(h={},h[i]=c+"Date",h.date=c+"Date",h[u]=c+"Month",h[a]=c+"FullYear",h[r]=c+"Hours",h[e]=c+"Minutes",h[n]=c+"Seconds",h[t]=c+"Milliseconds",h)[f],$=f===i?this.$D+(o-this.$W):o;if(f===u||f===a){var l=this.clone().set("date",1);l.$d[d]($),l.init(),this.$d=l.set("date",Math.min(this.$D,l.daysInMonth())).toDate()}else d&&this.$d[d]($);return this.init(),this},d.set=function(t,n){return this.clone().$set(t,n)},d.get=function(t){return this[D.p(t)]()},d.add=function(t,o){var h,f=this;t=Number(t);var c=D.p(o),d=function(n){var e=g(f);return D.w(e.date(e.date()+Math.round(n*t)),f)};if(c===u)return this.set(u,this.$M+t);if(c===a)return this.set(a,this.$y+t);if(c===i)return d(1);if(c===s)return d(7);var $=(h={},h[e]=6e4,h[r]=36e5,h[n]=1e3,h)[c]||1,l=this.$d.getTime()+t*$;return D.w(l,this)},d.subtract=function(t,n){return this.add(-1*t,n)},d.format=function(t){var n=this;if(!this.isValid())return"Invalid Date";var e=t||"YYYY-MM-DDTHH:mm:ssZ",r=D.z(this),i=this.$locale(),s=this.$H,u=this.$m,o=this.$M,a=i.weekdays,h=i.months,c=function(t,r,i,s){return t&&(t[r]||t(n,e))||i[r].substr(0,s)},d=function(t){return D.s(s%12||12,t,"0")},$=i.meridiem||function(t,n,e){var r=t<12?"AM":"PM";return e?r.toLowerCase():r},l={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:D.s(o+1,2,"0"),MMM:c(i.monthsShort,o,h,3),MMMM:h[o]||h(this,e),D:this.$D,DD:D.s(this.$D,2,"0"),d:String(this.$W),dd:c(i.weekdaysMin,this.$W,a,2),ddd:c(i.weekdaysShort,this.$W,a,3),dddd:a[this.$W],H:String(s),HH:D.s(s,2,"0"),h:d(1),hh:d(2),a:$(s,u,!0),A:$(s,u,!1),m:String(u),mm:D.s(u,2,"0"),s:String(this.$s),ss:D.s(this.$s,2,"0"),SSS:D.s(this.$ms,3,"0"),Z:r};return e.replace(f,function(t,n){return n||l[t]||r.replace(":","")})},d.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},d.diff=function(t,h,f){var c,d=D.p(h),$=g(t),l=6e4*($.utcOffset()-this.utcOffset()),m=this-$,y=D.m(this,$);return y=(c={},c[a]=y/12,c[u]=y,c[o]=y/3,c[s]=(m-l)/6048e5,c[i]=(m-l)/864e5,c[r]=m/36e5,c[e]=m/6e4,c[n]=m/1e3,c)[d]||m,f?y:D.a(y)},d.daysInMonth=function(){return this.endOf(u).$D},d.$locale=function(){return m[this.$L]},d.locale=function(t,n){if(!t)return this.$L;var e=this.clone(),r=M(t,n,!0);return r&&(e.$L=r),e},d.clone=function(){return D.w(this.$d,this)},d.toDate=function(){return new Date(this.valueOf())},d.toJSON=function(){return this.isValid()?this.toISOString():null},d.toISOString=function(){return this.$d.toISOString()},d.toString=function(){return this.$d.toUTCString()},c}();return g.prototype=v.prototype,g.extend=function(t,n){return t(n,v,g),g},g.locale=M,g.isDayjs=y,g.unix=function(t){return g(1e3*t)},g.en=m[l],g.Ls=m,g});
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).uuidv4=e()}(this,function(){"use strict";var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),e=new Uint8Array(16);function o(){if(!t)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return t(e)}var n=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function r(t){return"string"==typeof t&&n.test(t)}for(var i=[],u=0;u<256;++u)i.push((u+256).toString(16).substr(1));return function(t,e,n){var u=(t=t||{}).random||(t.rng||o)();if(u[6]=15&u[6]|64,u[8]=63&u[8]|128,e){n=n||0;for(var f=0;f<16;++f)e[n+f]=u[f];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=(i[t[e+0]]+i[t[e+1]]+i[t[e+2]]+i[t[e+3]]+"-"+i[t[e+4]]+i[t[e+5]]+"-"+i[t[e+6]]+i[t[e+7]]+"-"+i[t[e+8]]+i[t[e+9]]+"-"+i[t[e+10]]+i[t[e+11]]+i[t[e+12]]+i[t[e+13]]+i[t[e+14]]+i[t[e+15]]).toLowerCase();if(!r(o))throw TypeError("Stringified UUID is invalid");return o}(u)}});
var QRCode;!function(){function t(t){this.mode=s.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=[],r=0,o=this.data.length;o>r;r++){var i=this.data.charCodeAt(r);i>65536?(e[0]=240|(1835008&i)>>>18,e[1]=128|(258048&i)>>>12,e[2]=128|(4032&i)>>>6,e[3]=128|63&i):i>2048?(e[0]=224|(61440&i)>>>12,e[1]=128|(4032&i)>>>6,e[2]=128|63&i):i>128?(e[0]=192|(1984&i)>>>6,e[1]=128|63&i):e[0]=i,this.parsedData=this.parsedData.concat(e)}this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function e(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function r(t,e){if(void 0==t.length)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&0==t[r];)r++;this.num=new Array(t.length-r+e);for(var o=0;o<t.length-r;o++)this.num[o]=t[o+r]}function o(t,e){this.totalCount=t,this.dataCount=e}function i(){this.buffer=[],this.length=0}function n(){var t=!1,e=navigator.userAgent;return/android/i.test(e)&&(t=!0,aMat=e.toString().match(/android ([0-9]\.[0-9])/i),aMat&&aMat[1]&&(t=parseFloat(aMat[1]))),t}function a(t,e){for(var r=1,o=function(t){var e=encodeURI(t).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return e.length+(e.length!=t?3:0)}(t),i=0,n=d.length;n>=i;i++){var a=0;switch(e){case h.L:a=d[i][0];break;case h.M:a=d[i][1];break;case h.Q:a=d[i][2];break;case h.H:a=d[i][3]}if(a>=o)break;r++}if(r>d.length)throw new Error("Too long data");return r}t.prototype={getLength:function(){return this.parsedData.length},write:function(t){for(var e=0,r=this.parsedData.length;r>e;e++)t.put(this.parsedData[e],8)}},e.prototype={addData:function(e){var r=new t(e);this.dataList.push(r),this.dataCache=null},isDark:function(t,e){if(0>t||this.moduleCount<=t||0>e||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,r){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++){this.modules[o]=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++)this.modules[o][i]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,r),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=e.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,r)},setupPositionProbePattern:function(t,e){for(var r=-1;7>=r;r++)if(!(-1>=t+r||this.moduleCount<=t+r))for(var o=-1;7>=o;o++)-1>=e+o||this.moduleCount<=e+o||(this.modules[t+r][e+o]=r>=0&&6>=r&&(0==o||6==o)||o>=0&&6>=o&&(0==r||6==r)||r>=2&&4>=r&&o>=2&&4>=o)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;8>r;r++){this.makeImpl(!0,r);var o=l.getLostPoint(this);(0==r||t>o)&&(t=o,e=r)}return e},createMovieClip:function(t,e,r){var o=t.createEmptyMovieClip(e,r);this.make();for(var i=0;i<this.modules.length;i++)for(var n=1*i,a=0;a<this.modules[i].length;a++){var s=1*a;this.modules[i][a]&&(o.beginFill(0,100),o.moveTo(s,n),o.lineTo(s+1,n),o.lineTo(s+1,n+1),o.lineTo(s,n+1),o.endFill())}return o},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=0==t%2);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=0==e%2)},setupPositionAdjustPattern:function(){for(var t=l.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var o=t[e],i=t[r];if(null==this.modules[o][i])for(var n=-2;2>=n;n++)for(var a=-2;2>=a;a++)this.modules[o+n][i+a]=-2==n||2==n||-2==a||2==a||0==n&&0==a}},setupTypeNumber:function(t){for(var e=l.getBCHTypeNumber(this.typeNumber),r=0;18>r;r++){var o=!t&&1==(1&e>>r);this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=o}for(r=0;18>r;r++){o=!t&&1==(1&e>>r);this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=o}},setupTypeInfo:function(t,e){for(var r=this.errorCorrectLevel<<3|e,o=l.getBCHTypeInfo(r),i=0;15>i;i++){var n=!t&&1==(1&o>>i);6>i?this.modules[i][8]=n:8>i?this.modules[i+1][8]=n:this.modules[this.moduleCount-15+i][8]=n}for(i=0;15>i;i++){n=!t&&1==(1&o>>i);8>i?this.modules[8][this.moduleCount-i-1]=n:9>i?this.modules[8][15-i-1+1]=n:this.modules[8][15-i-1]=n}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,o=this.moduleCount-1,i=7,n=0,a=this.moduleCount-1;a>0;a-=2)for(6==a&&a--;;){for(var s=0;2>s;s++)if(null==this.modules[o][a-s]){var h=!1;n<t.length&&(h=1==(1&t[n]>>>i)),l.getMask(e,o,a-s)&&(h=!h),this.modules[o][a-s]=h,-1==--i&&(n++,i=7)}if(0>(o+=r)||this.moduleCount<=o){o-=r,r=-r;break}}}},e.PAD0=236,e.PAD1=17,e.createData=function(t,r,n){for(var a=o.getRSBlocks(t,r),s=new i,h=0;h<n.length;h++){var u=n[h];s.put(u.mode,4),s.put(u.getLength(),l.getLengthInBits(u.mode,t)),u.write(s)}var f=0;for(h=0;h<a.length;h++)f+=a[h].dataCount;if(s.getLengthInBits()>8*f)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+8*f+")");for(s.getLengthInBits()+4<=8*f&&s.put(0,4);0!=s.getLengthInBits()%8;)s.putBit(!1);for(;!(s.getLengthInBits()>=8*f)&&(s.put(e.PAD0,8),!(s.getLengthInBits()>=8*f));)s.put(e.PAD1,8);return e.createBytes(s,a)},e.createBytes=function(t,e){for(var o=0,i=0,n=0,a=new Array(e.length),s=new Array(e.length),h=0;h<e.length;h++){var u=e[h].dataCount,f=e[h].totalCount-u;i=Math.max(i,u),n=Math.max(n,f),a[h]=new Array(u);for(var g=0;g<a[h].length;g++)a[h][g]=255&t.buffer[g+o];o+=u;var d=l.getErrorCorrectPolynomial(f),c=new r(a[h],d.getLength()-1).mod(d);s[h]=new Array(d.getLength()-1);for(g=0;g<s[h].length;g++){var p=g+c.getLength()-s[h].length;s[h][g]=p>=0?c.get(p):0}}var m=0;for(g=0;g<e.length;g++)m+=e[g].totalCount;var _=new Array(m),v=0;for(g=0;i>g;g++)for(h=0;h<e.length;h++)g<a[h].length&&(_[v++]=a[h][g]);for(g=0;n>g;g++)for(h=0;h<e.length;h++)g<s[h].length&&(_[v++]=s[h][g]);return _};for(var s={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},h={L:1,M:0,Q:3,H:2},u={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},l={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;l.getBCHDigit(e)-l.getBCHDigit(l.G15)>=0;)e^=l.G15<<l.getBCHDigit(e)-l.getBCHDigit(l.G15);return(t<<10|e)^l.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;l.getBCHDigit(e)-l.getBCHDigit(l.G18)>=0;)e^=l.G18<<l.getBCHDigit(e)-l.getBCHDigit(l.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return l.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case u.PATTERN000:return 0==(e+r)%2;case u.PATTERN001:return 0==e%2;case u.PATTERN010:return 0==r%3;case u.PATTERN011:return 0==(e+r)%3;case u.PATTERN100:return 0==(Math.floor(e/2)+Math.floor(r/3))%2;case u.PATTERN101:return 0==e*r%2+e*r%3;case u.PATTERN110:return 0==(e*r%2+e*r%3)%2;case u.PATTERN111:return 0==(e*r%3+(e+r)%2)%2;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new r([1],0),o=0;t>o;o++)e=e.multiply(new r([1,f.gexp(o)],0));return e},getLengthInBits:function(t,e){if(e>=1&&10>e)switch(t){case s.MODE_NUMBER:return 10;case s.MODE_ALPHA_NUM:return 9;case s.MODE_8BIT_BYTE:case s.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(27>e)switch(t){case s.MODE_NUMBER:return 12;case s.MODE_ALPHA_NUM:return 11;case s.MODE_8BIT_BYTE:return 16;case s.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(41>e))throw new Error("type:"+e);switch(t){case s.MODE_NUMBER:return 14;case s.MODE_ALPHA_NUM:return 13;case s.MODE_8BIT_BYTE:return 16;case s.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,o=0;e>o;o++)for(var i=0;e>i;i++){for(var n=0,a=t.isDark(o,i),s=-1;1>=s;s++)if(!(0>o+s||o+s>=e))for(var h=-1;1>=h;h++)0>i+h||i+h>=e||(0!=s||0!=h)&&a==t.isDark(o+s,i+h)&&n++;n>5&&(r+=3+n-5)}for(o=0;e-1>o;o++)for(i=0;e-1>i;i++){var u=0;t.isDark(o,i)&&u++,t.isDark(o+1,i)&&u++,t.isDark(o,i+1)&&u++,t.isDark(o+1,i+1)&&u++,(0==u||4==u)&&(r+=3)}for(o=0;e>o;o++)for(i=0;e-6>i;i++)t.isDark(o,i)&&!t.isDark(o,i+1)&&t.isDark(o,i+2)&&t.isDark(o,i+3)&&t.isDark(o,i+4)&&!t.isDark(o,i+5)&&t.isDark(o,i+6)&&(r+=40);for(i=0;e>i;i++)for(o=0;e-6>o;o++)t.isDark(o,i)&&!t.isDark(o+1,i)&&t.isDark(o+2,i)&&t.isDark(o+3,i)&&t.isDark(o+4,i)&&!t.isDark(o+5,i)&&t.isDark(o+6,i)&&(r+=40);var l=0;for(i=0;e>i;i++)for(o=0;e>o;o++)t.isDark(o,i)&&l++;return r+10*(Math.abs(100*l/e/e-50)/5)}},f={glog:function(t){if(1>t)throw new Error("glog("+t+")");return f.LOG_TABLE[t]},gexp:function(t){for(;0>t;)t+=255;for(;t>=256;)t-=255;return f.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},g=0;8>g;g++)f.EXP_TABLE[g]=1<<g;for(g=8;256>g;g++)f.EXP_TABLE[g]=f.EXP_TABLE[g-4]^f.EXP_TABLE[g-5]^f.EXP_TABLE[g-6]^f.EXP_TABLE[g-8];for(g=0;255>g;g++)f.LOG_TABLE[f.EXP_TABLE[g]]=g;r.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),o=0;o<this.getLength();o++)for(var i=0;i<t.getLength();i++)e[o+i]^=f.gexp(f.glog(this.get(o))+f.glog(t.get(i)));return new r(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=f.glog(this.get(0))-f.glog(t.get(0)),o=new Array(this.getLength()),i=0;i<this.getLength();i++)o[i]=this.get(i);for(i=0;i<t.getLength();i++)o[i]^=f.gexp(f.glog(t.get(i))+e);return new r(o,0).mod(t)}},o.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],o.getRSBlocks=function(t,e){var r=o.getRsBlockTable(t,e);if(void 0==r)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var i=r.length/3,n=[],a=0;i>a;a++)for(var s=r[3*a+0],h=r[3*a+1],u=r[3*a+2],l=0;s>l;l++)n.push(new o(h,u));return n},o.getRsBlockTable=function(t,e){switch(e){case h.L:return o.RS_BLOCK_TABLE[4*(t-1)+0];case h.M:return o.RS_BLOCK_TABLE[4*(t-1)+1];case h.Q:return o.RS_BLOCK_TABLE[4*(t-1)+2];case h.H:return o.RS_BLOCK_TABLE[4*(t-1)+3];default:return}},i.prototype={get:function(t){var e=Math.floor(t/8);return 1==(1&this.buffer[e]>>>7-t%8)},put:function(t,e){for(var r=0;e>r;r++)this.putBit(1==(1&t>>>e-r-1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var d=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]],c=function(){var t=function(t,e){this._el=t,this._htOption=e};return t.prototype.draw=function(t){function e(t,e){var r=document.createElementNS("http://www.w3.org/2000/svg",t);for(var o in e)e.hasOwnProperty(o)&&r.setAttribute(o,e[o]);return r}var r=this._htOption,o=this._el,i=t.getModuleCount();Math.floor(r.width/i),Math.floor(r.height/i),this.clear();var n=e("svg",{viewBox:"0 0 "+String(i)+" "+String(i),width:"100%",height:"100%",fill:r.colorLight});n.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),o.appendChild(n),n.appendChild(e("rect",{fill:r.colorDark,width:"1",height:"1",id:"template"}));for(var a=0;i>a;a++)for(var s=0;i>s;s++)if(t.isDark(a,s)){var h=e("use",{x:String(a),y:String(s)});h.setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),n.appendChild(h)}},t.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},t}(),p="svg"===document.documentElement.tagName.toLowerCase()?c:"undefined"!=typeof CanvasRenderingContext2D?function(){function t(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none"}if(this._android&&this._android<=2.1){var e=1/window.devicePixelRatio,r=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(t,o,i,n,a,s,h,u){if("nodeName"in t&&/img/i.test(t.nodeName))for(var l=arguments.length-1;l>=1;l--)arguments[l]=arguments[l]*e;else void 0===u&&(arguments[1]*=e,arguments[2]*=e,arguments[3]*=e,arguments[4]*=e);r.apply(this,arguments)}}var o=function(t,e){this._bIsPainted=!1,this._android=n(),this._htOption=e,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=e.width,this._elCanvas.height=e.height,t.appendChild(this._elCanvas),this._el=t,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null};return o.prototype.draw=function(t){var e=this._elImage,r=this._oContext,o=this._htOption,i=t.getModuleCount(),n=o.width/i,a=o.height/i,s=Math.round(n),h=Math.round(a);e.style.display="none",this.clear();for(var u=0;i>u;u++)for(var l=0;i>l;l++){var f=t.isDark(u,l),g=l*n,d=u*a;r.strokeStyle=f?o.colorDark:o.colorLight,r.lineWidth=1,r.fillStyle=f?o.colorDark:o.colorLight,r.fillRect(g,d,n,a),r.strokeRect(Math.floor(g)+.5,Math.floor(d)+.5,s,h),r.strokeRect(Math.ceil(g)-.5,Math.ceil(d)-.5,s,h)}this._bIsPainted=!0},o.prototype.makeImage=function(){this._bIsPainted&&function(t,e){var r=this;if(r._fFail=e,r._fSuccess=t,null===r._bSupportDataURI){var o=document.createElement("img"),i=function(){r._bSupportDataURI=!1,r._fFail&&_fFail.call(r)};return o.onabort=i,o.onerror=i,o.onload=function(){r._bSupportDataURI=!0,r._fSuccess&&r._fSuccess.call(r)},void(o.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==")}!0===r._bSupportDataURI&&r._fSuccess?r._fSuccess.call(r):!1===r._bSupportDataURI&&r._fFail&&r._fFail.call(r)}.call(this,t)},o.prototype.isPainted=function(){return this._bIsPainted},o.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},o.prototype.round=function(t){return t?Math.floor(1e3*t)/1e3:t},o}():function(){var t=function(t,e){this._el=t,this._htOption=e};return t.prototype.draw=function(t){for(var e=this._htOption,r=this._el,o=t.getModuleCount(),i=Math.floor(e.width/o),n=Math.floor(e.height/o),a=['<table style="border:0;border-collapse:collapse;">'],s=0;o>s;s++){a.push("<tr>");for(var h=0;o>h;h++)a.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+i+"px;height:"+n+"px;background-color:"+(t.isDark(s,h)?e.colorDark:e.colorLight)+';"></td>');a.push("</tr>")}a.push("</table>"),r.innerHTML=a.join("");var u=r.childNodes[0],l=(e.width-u.offsetWidth)/2,f=(e.height-u.offsetHeight)/2;l>0&&f>0&&(u.style.margin=f+"px "+l+"px")},t.prototype.clear=function(){this._el.innerHTML=""},t}();(QRCode=function(t,e){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:h.H},"string"==typeof e&&(e={text:e}),e)for(var r in e)this._htOption[r]=e[r];"string"==typeof t&&(t=document.getElementById(t)),this._android=n(),this._el=t,this._oQRCode=null,this._oDrawing=new p(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)}).prototype.makeCode=function(t){this._oQRCode=new e(a(t,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(t),this._oQRCode.make(),this._el.title=t,this._oDrawing.draw(this._oQRCode),this.makeImage()},QRCode.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||this._android>=3)&&this._oDrawing.makeImage()},QRCode.prototype.clear=function(){this._oDrawing.clear()},QRCode.CorrectLevel=h}();
var CryptoJS=CryptoJS||function(t,n){var i={},e=i.lib={},r=function(){},s=e.Base={extend:function(t){r.prototype=this;var n=new r;return t&&n.mixIn(t),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},o=e.WordArray=s.extend({init:function(t,n){t=this.words=t||[],this.sigBytes=void 0!=n?n:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var n=this.words,i=t.words,e=this.sigBytes;if(t=t.sigBytes,this.clamp(),e%4)for(var r=0;r<t;r++)n[e+r>>>2]|=(i[r>>>2]>>>24-r%4*8&255)<<24-(e+r)%4*8;else if(65535<i.length)for(r=0;r<t;r+=4)n[e+r>>>2]=i[r>>>2];else n.push.apply(n,i);return this.sigBytes+=t,this},clamp:function(){var n=this.words,i=this.sigBytes;n[i>>>2]&=4294967295<<32-i%4*8,n.length=t.ceil(i/4)},clone:function(){var t=s.clone.call(this);return t.words=this.words.slice(0),t},random:function(n){for(var i=[],e=0;e<n;e+=4)i.push(4294967296*t.random()|0);return new o.init(i,n)}}),a=i.enc={},c=a.Hex={stringify:function(t){var n=t.words;t=t.sigBytes;for(var i=[],e=0;e<t;e++){var r=n[e>>>2]>>>24-e%4*8&255;i.push((r>>>4).toString(16)),i.push((15&r).toString(16))}return i.join("")},parse:function(t){for(var n=t.length,i=[],e=0;e<n;e+=2)i[e>>>3]|=parseInt(t.substr(e,2),16)<<24-e%8*4;return new o.init(i,n/2)}},h=a.Latin1={stringify:function(t){var n=t.words;t=t.sigBytes;for(var i=[],e=0;e<t;e++)i.push(String.fromCharCode(n[e>>>2]>>>24-e%4*8&255));return i.join("")},parse:function(t){for(var n=t.length,i=[],e=0;e<n;e++)i[e>>>2]|=(255&t.charCodeAt(e))<<24-e%4*8;return new o.init(i,n)}},u=a.Utf8={stringify:function(t){try{return decodeURIComponent(escape(h.stringify(t)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(t){return h.parse(unescape(encodeURIComponent(t)))}},f=e.BufferedBlockAlgorithm=s.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=u.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(n){var i=this._data,e=i.words,r=i.sigBytes,s=this.blockSize,a=r/(4*s);if(n=(a=n?t.ceil(a):t.max((0|a)-this._minBufferSize,0))*s,r=t.min(4*n,r),n){for(var c=0;c<n;c+=s)this._doProcessBlock(e,c);c=e.splice(0,n),i.sigBytes-=r}return new o.init(c,r)},clone:function(){var t=s.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});e.Hasher=f.extend({cfg:s.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(n,i){return new t.init(i).finalize(n)}},_createHmacHelper:function(t){return function(n,i){return new l.HMAC.init(t,i).finalize(n)}}});var l=i.algo={};return i}(Math);!function(){var t=CryptoJS,n=(r=t.lib).WordArray,i=r.Hasher,e=[],r=t.algo.SHA1=i.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,n){for(var i=this._hash.words,r=i[0],s=i[1],o=i[2],a=i[3],c=i[4],h=0;80>h;h++){if(16>h)e[h]=0|t[n+h];else{var u=e[h-3]^e[h-8]^e[h-14]^e[h-16];e[h]=u<<1|u>>>31}u=(r<<5|r>>>27)+c+e[h],u=20>h?u+(1518500249+(s&o|~s&a)):40>h?u+(1859775393+(s^o^a)):60>h?u+((s&o|s&a|o&a)-1894007588):u+((s^o^a)-899497514),c=a,a=o,o=s<<30|s>>>2,s=r,r=u}i[0]=i[0]+r|0,i[1]=i[1]+s|0,i[2]=i[2]+o|0,i[3]=i[3]+a|0,i[4]=i[4]+c|0},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,e=8*t.sigBytes;return n[e>>>5]|=128<<24-e%32,n[14+(e+64>>>9<<4)]=Math.floor(i/4294967296),n[15+(e+64>>>9<<4)]=i,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}});t.SHA1=i._createHelper(r),t.HmacSHA1=i._createHmacHelper(r)}();
!function(t,e){var r=function(e){var r=this;e&&!e.refreshSelector&&(e.refreshSelector=e.imgSelector),r.opts=r.extend(r.defaultConf,e),r._imgEl=t(r.opts.imgSelector),r._refreshEl=t(r.opts.refreshSelector),r._inputEl=t(r.opts.inputSelector),r._captchaUrl=r.opts.captchaUrl,r._refreshEl.on("click",function(t){r.refresh(),r._inputEl.length>0&&r._inputEl.focus()})};r.prototype.refresh=function(t){this._imgEl.attr("src",this._captchaUrl+"?t="+Math.random()),this._inputEl.length>0&&(this._inputEl.val(""),t&&this._inputEl.focus())},r.prototype.defaultConf={imgSelector:".captcha img",refreshSelector:".captcha",inputSelector:"input[name=verifyCode]",captchaUrl:"https://www.oschina.net/action/user/captcha"},r.prototype.extend=function(t,e){var r={};for(var o in t)t.hasOwnProperty(o)&&(r[o]=t[o]);for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);return r},e.OSCCaptcha=r}(window.jQuery||window.$,window);
window.ObjHelper={copy:function(t,n){if(!(t instanceof Object))throw new Error("copy object error!");var r={},o=this;return Object.keys(t).forEach(function(e){if(!(n instanceof Array&&n.indexOf(e)>-1)){var c=t[e];r[e]=null===c||"object"!=typeof c?c:o.copy(c)}}),r},set:function(t,n,r){if(t instanceof Object&&n instanceof Object){var o=this;Object.keys(t).forEach(function(e){var c=n[e];if(void 0!==c&&t.hasOwnProperty(e)){if("function"==typeof r)return void(t[e]=r(e,c));if("object"==typeof t[e])return void o.set(t[e],n[e],r);t[e]=t[e].constructor.call(null,c)}})}},toJson:function(t){if("string"==typeof t)try{return JSON.parse(t)}catch(t){return!1}return t}};
!function(e){var o={weibokey:"",source:"",onShare:function(e,o,t){}},t=function(t){"object"!=typeof t||(this.option=e.extend({},o,t))};t.templates={qq:"http://connect.qq.com/widget/shareqq/index.html?url={{URL}}&title={{TITLE}}&source={{SOURCE}}&desc={{DESCRIPTION}}&pics={{IMAGE}}&summary={{SUMMARY}}",weibo:"http://service.weibo.com/share/share.php?url={{URL}}&title={{TITLE}}&pic={{IMAGE}}&appkey={{WEIBOKEY}}"},t.prototype.init=function(){var o=this,i=["qq","weibo","wechat"];e(document).on("click",".osc-share [data-platform]",function(){var a=e(this),n=a.data("platform");if(i.indexOf(n)<0)return!1;var c=a.data("url"),r=a.data("title"),d=a.data("desc"),h=a.data("pic"),s={url:c||page.shareUrl||location.href||"",title:r||page.shareTitle||window.document.title||"",desc:d||page.shareDesc||"",pic:h||page.sharePic||""},p=a.data("obj-id")||page.objId||"",w=a.data("obj-type")||page.objType||"";if(e.isFunction(o.option.onShare)&&o.option.onShare.call(this,n,p,w),"wechat"===n)return o.showWeChatShare(s),!1;var l=t.templates[n],u=o.generateUrl(s,l);u&&window.open(u,"_blank")})},t.prototype.generateUrl=function(e,o){var t=o,i={URL:e.url,TITLE:e.title,DESCRIPTION:e.desc,IMAGE:e.pic,SUMMARY:e.desc,SOURCE:this.option.source,WEIBOKEY:this.option.weibokey};for(var a in i)t=t.replace("{{"+a+"}}",encodeURIComponent(i[a]||""));return t},t.prototype.showWeChatShare=function(o){if(e("#wechatShareDialog").length>0)return!1;if(!window.common.checkPC()&&window.common.checkWeChat()){var t=e('<div id="wechatShareGuide"><div class="guide-picture"></div></div>');e("body").append(t),t.on("click",function(){t.remove()})}else{var i=e('<div id="wechatShareDialog">    <div class="wx-header"><span>分享到微信</span><a class="wx-close">×</a></div>    <div class="wx-qrcode" id="wechatQrCode"></div>    <div class="wx-footer">打开微信“扫一扫”分享</div></div>');e("body").append(i),i.on("click",".wx-close",function(){i.remove()}),new QRCode(document.getElementById("wechatQrCode"),{text:o.url,width:180,height:180})}},e(function(){new t({weibokey:"582509177",source:"oschina",onShare:function(e,o,t){window.common&&window.common.reportShare&&window.common.reportShare(e,o,t)}}).init()})}(window.jQuery||window.$);
!function(e){var i={type:"info",header:"",content:"",closeable:!1,disappear:0},n={hideAll:function(){e(this).find(".ui.message.osc").addClass("hidden")}};e.fn.message=function(s){if("string"!=typeof s){if("object"==typeof s){var t=e.extend({},i,s),a=e(this),d=t.type.length>0?"."+t.type:"",o=a.find(".ui.message.osc"+d),c="";return t.closeable&&(c+='<i class="close icon"></i>',o.on("click",".close",function(){o.transition("fade")})),t.header.length>0&&(c+='<div class="header">'+t.header+"</div>"),t.content.length>0&&(c+="<p>"+t.content+"</p>"),o.html(c),o.removeClass("hidden"),void(t.disappear>0&&setTimeout(function(){o.addClass("hidden")},t.disappear))}}else e.isFunction(n[s])&&n[s].call(this)}}(window.jQuery||window.$);
!function(t,n){t.fn.toast=function(n){var o=t(this),e=t.extend({type:"success",position:"fixed",duration:3e3,animateDuration:1e3,content:"提示",top:"50%",left:"50%",zIndex:1002,closePrev:!0},n||{});!function(){var n='<span class="text">'+(e.content||"")+"</span>";0===e.duration&&(n+='<span class="close-btn"><i class="close icon"></i></span>'),e.closePrev&&t(".cpt-toast").remove();var i=["info","success","positive","error","negative","warning"].indexOf(e.type)>-1?e.type:"info",a=t("<div class='ui "+i+" message cpt-toast'></div>").css({position:e.position,top:e.top,left:e.left,"z-index":e.zIndex,"-webkit-transform":"translate(-50%, -50%)","-moz-transform":"translate(-50%, -50%)",transform:"translate(-50%, -50%)","-webkit-animation-duration":e.animateDuration/1e3+"s","-moz-animation-duration":e.animateDuration/1e3+"s","animation-duration":e.animateDuration/1e3+"s"}).html(n);a.appendTo(o),a.fadeIn(400,function(){0===e.duration&&a.on("click",".close-btn, a",function(){a.fadeOut(400,function(){a.remove()})})}),e.duration>0&&setTimeout(function(){a.fadeOut(400,function(){t(this).remove()})},e.duration)}()}}(jQuery,window);
({bindLink:function(){var e=this;$(document).on("click",".send-message-btn",function(n){if(n.preventDefault(),!window.common.checkLogin())return!1;var t=$(this),a=t.attr("data-user-id"),s=t.attr("data-user-name");0===$.find(".send-message.modal").length&&!0!==window.oscSendMessageLoading?(window.oscSendMessageLoading=!0,$.get(page.space_user_url+"/widgets/private_message_modal",function(n){var t=document.createElement("div");t.innerHTML=n,document.body.appendChild(t),e.initModal(),e.showModal(a,s)}).always(function(){window.oscSendMessageLoading=!1})):e.showModal(a,s)})},initModal:function(){var e=$(".send-message.modal"),n=$("#sendMessageForm");n.form({inline:!0,fields:{content:{rules:[{type:"empty",prompt:"请输入内容"},{type:"maxLength[250]",prompt:"内容长度不能超过 {ruleValue} 个字"}]}}}).api({url:page.space_user_url+"/msg/send",method:"post",serializeForm:!0,beforeSend:function(n){$(this).message("hideAll");var t=e.attr("data-user-id"),a=n.data;return n.data={receiver:t,content:a.content},n},onSuccess:function(t,a,s){1===t.code?($(this).message({type:"positive",content:t.message||"发送成功"}),n.form("reset"),setTimeout(function(){e.modal("hide")},2e3)):$(this).message({type:"negative",content:t.message||"发送失败"})},onFailure:function(e,n){$(this).message({type:"negative",content:"网络错误，请稍后再试"})}}),e.modal({onShow:function(){n.form("reset"),n.message("hideAll");var t=$(this).attr("data-user-name")||"";(t=t.trim()).length>0&&e.find("span.user-name").html(t)},onApprove:function(){return n.message("hideAll"),n.form("submit"),!1}}),e.on("keydown",function(n){(n.metaKey||n.ctrlKey)&&13===n.keyCode&&e.find(".positive.button").click()})},showModal:function(e,n){var t=$(".send-message.modal");t.attr("data-user-id",e),t.attr("data-user-name",n),t.modal("show")}}).bindLink();
({statusCode:{UN_FOLLOW:1,FOLLOWED:2,FOLLOW_EACH_OTHER:3},statusStyles:{heart:{UN_FOLLOW:{normal:{text:"关注",icon:"heart outline icon"},hover:{text:"关注",icon:"heart icon"}},FOLLOWED:{normal:{text:"已关注",icon:"heart icon"},hover:{text:"取消关注",icon:"heart outline icon"}},FOLLOW_EACH_OTHER:{normal:{text:"互相关注",icon:"exchange icon"},hover:{text:"取消关注",icon:"heart outline icon"}}},"simple-star":{UN_FOLLOW:{normal:{text:"关注",icon:"star outline grey icon"},hover:{text:"关注",icon:"star outline grey icon"}},FOLLOWED:{normal:{text:"关注",icon:"star yellow icon"},hover:{text:"关注",icon:"star yellow icon"}},FOLLOW_EACH_OTHER:{normal:{text:"关注",icon:"star yellow icon"},hover:{text:"关注",icon:"star yellow icon"}}},"simple-heart":{UN_FOLLOW:{normal:{text:"关注",icon:"heart outline grey icon"},hover:{text:"关注",icon:"heart outline grey icon"}},FOLLOWED:{normal:{text:"关注",icon:"heart red icon"},hover:{text:"关注",icon:"heart red icon"}},FOLLOW_EACH_OTHER:{normal:{text:"关注",icon:"heart red icon"},hover:{text:"关注",icon:"heart red icon"}}},"simple-heart-text":{UN_FOLLOW:{normal:{text:"关注",icon:"oicon oicon-heart-light"},hover:{text:"关注",icon:"oicon oicon-heart-light"}},FOLLOWED:{normal:{text:"已关注",icon:"oicon oicon-heart-bold"},hover:{text:"已关注",icon:"oicon oicon-heart-bold"}},FOLLOW_EACH_OTHER:{normal:{text:"已关注",icon:"oicon oicon-heart-bold"},hover:{text:"已关注",icon:"oicon oicon-heart-bold"}}},"simple-heart-icon":{UN_FOLLOW:{normal:{text:"关注",icon:"oicon oicon-heart-light"},hover:{text:"关注",icon:"oicon oicon-heart-light"}},FOLLOWED:{normal:{text:"关注",icon:"oicon oicon-heart-bold"},hover:{text:"关注",icon:"oicon oicon-heart-bold"}},FOLLOW_EACH_OTHER:{normal:{text:"关注",icon:"oicon oicon-heart-bold"},hover:{text:"关注",icon:"oicon oicon-heart-bold"}}},"plus-text":{UN_FOLLOW:{normal:{text:"关注",icon:"oicon oicon-add"},hover:{text:"关注",icon:"oicon oicon-add"}},FOLLOWED:{normal:{text:"已关注",icon:""},hover:{text:"已关注",icon:""}},FOLLOW_EACH_OTHER:{normal:{text:"已关注",icon:""},hover:{text:"已关注",icon:""}}}},init:function(){this.bindHover(),this.bindClick()},bindHover:function(){const t=this;$(document).on("mouseenter",".follow-btn",function(){const o=$(this),e=parseInt(o.attr("data-follow-status")),n=o.attr("data-icon-color");t.setBtnFollowStatus(e,"hover",o,n)}),$(document).on("mouseleave",".follow-btn",function(){const o=$(this),e=parseInt(o.attr("data-follow-status")),n=o.attr("data-icon-color");t.setBtnFollowStatus(e,"normal",o,n)})},bindClick:function(){const t=this;$(document).on("click",".follow-btn",function(o){if(o.preventDefault(),!window.common.checkLogin())return!1;const e=$(this),n=e.attr("data-user-id"),a=e.attr("data-icon-color");if(!n||n<=0)return!1;$.post(page.space_user_url+"/user/switch_follow",{friendid:n},function(o){if(1===o.code){const i=o.result.status;t.setBtnFollowStatus(i,"normal",e,a),$(`.follow-btn[data-user-id="${n}"]`).each((o,e)=>{const n=$(e);t.setBtnFollowStatus(i,"normal",n)}),t.setGlobalFollowCount(page.g_user_id,o.result.meFollowing||0,o.result.meFollowers||0),t.setGlobalFollowCount(n,o.result.friendFollowing||0,o.result.friendFollowers||0)}else $("body").toast({type:"error",content:o.message||"操作失败"})})})},setBtnFollowStatus:function(t,o,e,n){o="normal"===o?"normal":"hover",n="red"===n?"red":"";const a=this,i=e.find(".text"),r=e.find("i");let l,c=a.statusStyles.heart,s=e.attr("data-status-style")||"";switch(s&&a.statusStyles[s]&&(c=a.statusStyles[s]),t){case a.statusCode.UN_FOLLOW:e.attr("data-follow-status",a.statusCode.UN_FOLLOW),i.text(c.UN_FOLLOW[o].text),i&&0===i.length&&e.attr("title",c.UN_FOLLOW[o].text),l=c.UN_FOLLOW[o].icon,r.attr("class","hover"===o?l+" "+n:l);break;case a.statusCode.FOLLOWED:e.attr("data-follow-status",a.statusCode.FOLLOWED),i.text(c.FOLLOWED[o].text),i&&0===i.length&&e.attr("title",c.FOLLOWED[o].text),l=c.FOLLOWED[o].icon,r.attr("class","normal"===o?l+" "+n:l);break;case a.statusCode.FOLLOW_EACH_OTHER:e.attr("data-follow-status",a.statusCode.FOLLOW_EACH_OTHER),i.text(c.FOLLOW_EACH_OTHER[o].text),i&&0===i.length&&e.attr("title",c.FOLLOW_EACH_OTHER[o].text),l=c.FOLLOW_EACH_OTHER[o].icon,r.attr("class","normal"===o?l+" "+n:l)}},setGlobalFollowCount:function(t,o,e){if(null==t||""===t||""===t.trim())return!1;$('[data-following-count][data-user-id="'+t+'"]').each(function(t,e){const n=$(e),a=n.data("format");let i=o;a&&(i=window.common.formatNumberK(o)),n.text(i),n.attr("data-following-count",o)}),$('[data-followers-count][data-user-id="'+t+'"]').each(function(t,o){const n=$(o),a=n.data("format");let i=e;a&&(i=window.common.formatNumberK(e)),n.text(i),n.attr("data-followers-count",e)})}}).init();
!function(t){t.fn.imgOptimize=function(i,h){function a(i,h,a){if(void 0===h||void 0===a)return!1;if(!t(i).data("init")){t(i).data("init",!0);var n=i.naturalWidth,s=i.naturalHeight;n<h&&s<a?(t(i).css("width","100%"),t(i).css("height","100%"),t(i).css("object-fit","fill")):n/s>h/a?(t(i).css("width","auto"),t(i).css("height","100%")):(t(i).css("width","100%"),t(i).css("height","auto"))}}return this.each(function(){var n=this,s=i,c=h;void 0!==s&&void 0!==c||(s=t(this).data("width"),c=t(this).data("height")),n.onload=function(){a(n,s,c)},n.complete&&a(n,s,c)})}}(jQuery);
!function(e){var a={replaceEmoticonText:function(e){var a=this,o=String(e||"");return o=(o=o.replace(/:\w+?:/gi,function(e){var o=e.replace(/:/g,"");return"bowtie,smile,laughing,blush,smiley,relaxed,smirk,heart_eyes,kissing_heart,kissing_closed_eyes,flushed,relieved,satisfied,grin,wink,stuck_out_tongue_winking_eye,stuck_out_tongue_closed_eyes,grinning,kissing,kissing_smiling_eyes,stuck_out_tongue,sleeping,worried,frowning,anguished,open_mouth,grimacing,confused,hushed,expressionless,unamused,sweat_smile,sweat,disappointed_relieved,weary,pensive,disappointed,confounded,fearful,cold_sweat,persevere,cry,sob,joy,astonished,scream,neckbeard,tired_face,angry,rage,triumph,sleepy,yum,mask,sunglasses,dizzy_face,imp,smiling_imp,neutral_face,no_mouth,innocent,alien,yellow_heart,blue_heart,purple_heart,heart,green_heart,broken_heart,heartbeat,heartpulse,two_hearts,revolving_hearts,cupid,sparkling_heart,sparkles,star,star2,dizzy,boom,collision,anger,exclamation,question,grey_exclamation,grey_question,zzz,dash,sweat_drops,notes,musical_note,fire,hankey,poop,shit,+1,thumbsup,-1,thumbsdown,ok_hand,punch,facepunch,fist,v,wave,hand,raised_hand,open_hands,point_up,point_down,point_left,point_right,raised_hands,pray,point_up_2,clap,muscle,metal,fu,walking,runner,running,couple,family,two_men_holding_hands,two_women_holding_hands,dancer,dancers,ok_woman,no_good,information_desk_person,raising_hand,bride_with_veil,person_with_pouting_face,person_frowning,bow,couplekiss,couple_with_heart,massage,haircut,nail_care,boy,girl,woman,man,baby,older_woman,older_man,person_with_blond_hair,man_with_gua_pi_mao,man_with_turban,construction_worker,cop,angel,princess,smiley_cat,smile_cat,heart_eyes_cat,kissing_cat,smirk_cat,scream_cat,crying_cat_face,joy_cat,pouting_cat,japanese_ogre,japanese_goblin,see_no_evil,hear_no_evil,speak_no_evil,guardsman,skull,feet,lips,kiss,droplet,ear,eyes,nose,tongue,love_letter,bust_in_silhouette,busts_in_silhouette,speech_balloon,thought_balloon,feelsgood,finnadie,goberserk,godmode,hurtrealbad,rage1,rage2,rage3,rage4,suspect,trollface,sunny,umbrella,cloud,snowflake,snowman,zap,cyclone,foggy,ocean,cat,dog,mouse,hamster,rabbit,wolf,frog,tiger,koala,bear,pig,pig_nose,cow,boar,monkey_face,monkey,horse,racehorse,camel,sheep,elephant,panda_face,snake,bird,baby_chick,hatched_chick,hatching_chick,chicken,penguin,turtle,bug,honeybee,ant,beetle,snail,octopus,tropical_fish,fish,whale,whale2,dolphin,cow2,ram,rat,water_buffalo,tiger2,rabbit2,dragon,goat,rooster,dog2,pig2,mouse2,ox,dragon_face,blowfish,crocodile,dromedary_camel,leopard,cat2,poodle,paw_prints,bouquet,cherry_blossom,tulip,four_leaf_clover,rose,sunflower,hibiscus,maple_leaf,leaves,fallen_leaf,herb,mushroom,cactus,palm_tree,evergreen_tree,deciduous_tree,chestnut,seedling,blossom,ear_of_rice,shell,globe_with_meridians,sun_with_face,full_moon_with_face,new_moon_with_face,new_moon,waxing_crescent_moon,first_quarter_moon,waxing_gibbous_moon,full_moon,waning_gibbous_moon,last_quarter_moon,waning_crescent_moon,last_quarter_moon_with_face,first_quarter_moon_with_face,moon,earth_africa,earth_americas,earth_asia,volcano,milky_way,partly_sunny,octocat,squirrel,bamboo,gift_heart,dolls,school_satchel,mortar_board,flags,fireworks,sparkler,wind_chime,rice_scene,jack_o_lantern,ghost,santa,christmas_tree,gift,bell,no_bell,tanabata_tree,tada,confetti_ball,balloon,crystal_ball,cd,dvd,floppy_disk,camera,video_camera,movie_camera,computer,tv,iphone,phone,telephone,telephone_receiver,pager,fax,minidisc,vhs,sound,speaker,mute,loudspeaker,mega,hourglass,hourglass_flowing_sand,alarm_clock,watch,radio,satellite,loop,mag,mag_right,unlock,lock,lock_with_ink_pen,closed_lock_with_key,key,bulb,flashlight,high_brightness,low_brightness,electric_plug,battery,calling,email,mailbox,postbox,bath,bathtub,shower,toilet,wrench,nut_and_bolt,hammer,seat,moneybag,yen,dollar,pound,euro,credit_card,money_with_wings,e-mail,inbox_tray,outbox_tray,envelope,incoming_envelope,postal_horn,mailbox_closed,mailbox_with_mail,mailbox_with_no_mail,package,door,smoking,bomb,gun,hocho,pill,syringe,page_facing_up,page_with_curl,bookmark_tabs,bar_chart,chart_with_upwards_trend,chart_with_downwards_trend,scroll,clipboard,calendar,date,card_index,file_folder,open_file_folder,scissors,pushpin,paperclip,black_nib,pencil2,straight_ruler,triangular_ruler,closed_book,green_book,blue_book,orange_book,notebook,notebook_with_decorative_cover,ledger,books,bookmark,name_badge,microscope,telescope,newspaper,football,basketball,soccer,baseball,tennis,8ball,rugby_football,bowling,golf,mountain_bicyclist,bicyclist,horse_racing,snowboarder,swimmer,surfer,ski,spades,hearts,clubs,diamonds,gem,ring,trophy,musical_score,musical_keyboard,violin,space_invader,video_game,black_joker,flower_playing_cards,game_die,dart,mahjong,clapper,memo,pencil,book,art,microphone,headphones,trumpet,saxophone,guitar,shoe,sandal,high_heel,lipstick,boot,shirt,tshirt,necktie,womans_clothes,dress,running_shirt_with_sash,jeans,kimono,bikini,ribbon,tophat,crown,womans_hat,mans_shoe,closed_umbrella,briefcase,handbag,pouch,purse,eyeglasses,fishing_pole_and_fish,coffee,tea,sake,baby_bottle,beer,beers,cocktail,tropical_drink,wine_glass,fork_and_knife,pizza,hamburger,fries,poultry_leg,meat_on_bone,spaghetti,curry,fried_shrimp,bento,sushi,fish_cake,rice_ball,rice_cracker,rice,ramen,stew,oden,dango,egg,bread,doughnut,custard,icecream,ice_cream,shaved_ice,birthday,cake,cookie,chocolate_bar,candy,lollipop,honey_pot,apple,green_apple,tangerine,lemon,cherries,grapes,watermelon,strawberry,peach,melon,banana,pear,pineapple,sweet_potato,eggplant,tomato,corn,house,house_with_garden,school,office,post_office,hospital,bank,convenience_store,love_hotel,hotel,wedding,church,department_store,european_post_office,city_sunrise,city_sunset,japanese_castle,european_castle,tent,factory,tokyo_tower,japan,mount_fuji,sunrise_over_mountains,sunrise,stars,statue_of_liberty,bridge_at_night,carousel_horse,rainbow,ferris_wheel,fountain,roller_coaster,ship,speedboat,boat,sailboat,rowboat,anchor,rocket,airplane,helicopter,steam_locomotive,tram,mountain_railway,bike,aerial_tramway,suspension_railway,mountain_cableway,tractor,blue_car,oncoming_automobile,car,red_car,taxi,oncoming_taxi,articulated_lorry,bus,oncoming_bus,rotating_light,police_car,oncoming_police_car,fire_engine,ambulance,minibus,truck,train,station,train2,bullettrain_front,bullettrain_side,light_rail,monorail,railway_car,trolleybus,ticket,fuelpump,vertical_traffic_light,traffic_light,warning,construction,beginner,atm,slot_machine,busstop,barber,hotsprings,checkered_flag,crossed_flags,izakaya_lantern,moyai,circus_tent,performing_arts,round_pushpin,triangular_flag_on_post,jp,kr,cn,us,fr,es,it,ru,gb,uk,de,one,two,three,four,five,six,seven,eight,nine,keycap_ten,1234,zero,hash,symbols,arrow_backward,arrow_down,arrow_forward,arrow_left,capital_abcd,abcd,abc,arrow_lower_left,arrow_lower_right,arrow_right,arrow_up,arrow_upper_left,arrow_upper_right,arrow_double_down,arrow_double_up,arrow_down_small,arrow_heading_down,arrow_heading_up,leftwards_arrow_with_hook,arrow_right_hook,left_right_arrow,arrow_up_down,arrow_up_small,arrows_clockwise,arrows_counterclockwise,rewind,fast_forward,information_source,ok,twisted_rightwards_arrows,repeat,repeat_one,new,top,up,cool,free,ng,cinema,koko,signal_strength,u5272,u5408,u55b6,u6307,u6708,u6709,u6e80,u7121,u7533,u7a7a,u7981,sa,restroom,mens,womens,baby_symbol,no_smoking,parking,wheelchair,metro,baggage_claim,accept,wc,potable_water,put_litter_in_its_place,secret,congratulations,m,passport_control,left_luggage,customs,ideograph_advantage,cl,sos,id,no_entry_sign,underage,no_mobile_phones,do_not_litter,non-potable_water,no_bicycles,no_pedestrians,children_crossing,no_entry,eight_spoked_asterisk,sparkle,eight_pointed_black_star,heart_decoration,vs,vibration_mode,mobile_phone_off,chart,currency_exchange,aries,taurus,gemini,cancer,leo,virgo,libra,scorpius,sagittarius,capricorn,aquarius,pisces,ophiuchus,six_pointed_star,negative_squared_cross_mark,a,b,ab,o2,diamond_shape_with_a_dot_inside,recycle,end,back,on,soon,clock1,clock130,clock10,clock1030,clock11,clock1130,clock12,clock1230,clock2,clock230,clock3,clock330,clock4,clock430,clock5,clock530,clock6,clock630,clock7,clock730,clock8,clock830,clock9,clock930,heavy_dollar_sign,copyright,registered,tm,x,heavy_exclamation_mark,bangbang,interrobang,o,heavy_multiplication_x,heavy_plus_sign,heavy_minus_sign,heavy_division_sign,white_flower,100,heavy_check_mark,ballot_box_with_check,radio_button,link,curly_loop,wavy_dash,part_alternation_mark,trident,black_small_square,white_small_square,black_medium_small_square,white_medium_small_square,black_medium_square,white_medium_square,black_large_square,white_large_square,white_check_mark,black_square_button,white_square_button,black_circle,white_circle,red_circle,large_blue_circle,large_blue_diamond,large_orange_diamond,small_blue_diamond,small_orange_diamond,small_red_triangle,small_red_triangle_down,shipit".split(",").some(function(e){return e===o})?a.emojiRender(o):e})).replace(/(?:<pre>.+?<\/pre>)|(?:\[\d+])/gm,function(e){var o=/^\[(\d+)]$/g.exec(e);if(o){var r=parseInt(o[1]);if(r>=0&&r<=134)return a.qqEmoticonRender(r)}return e})},emojiRender:function(e){return'<emoji data-emoji="emoji '+e+'" data-name="'+e+'"></emoji>'},qqEmoticonRender:function(e){return'<img data-emoticon="qq" src="'+(window.__STATIC_DOMAIN||"")+"/new-osc/js/ke/plugins/emoticons/"+e+'.gif" alt="">'}};window.emoticonUtil=a,e.fn.emoticon=function(o){var r=e.extend({callback:void 0},o);return this.each(function(){var o=e(this).html(),i=a.replaceEmoticonText(o)||o;e(this).html(i),"function"==typeof r.callback&&r.callback(i)})}}(jQuery);
({bindLink:function(){var e=this;$(document).on("click",".ban[ban-report]",function(t){if(!window.common.checkLogin())return!1;var a=$(this),o=a.attr("data-id"),n=a.attr("data-key"),r=a.attr("data-obj-type"),i=a.attr("data-url");0===$.find(".ban-report.modal").length&&!0!==window.oscBanReportLoading?(window.oscBanReportLoading=!0,$.get(page.space_user_url+"/widgets/ban_report_modal",function(t){var a=document.createElement("div");a.innerHTML=t,document.body.appendChild(a),e.initModal(),e.showModal(o,n,r,i)}).always(function(){window.oscBanReportLoading=!1})):e.showModal(o,n,r,i)})},initModal:function(){var e=$(".ban-report.modal"),t=$("#banReportForm");e.find(".checkbox").checkbox(),t.form({inline:!0,fields:{reason:{identifier:"reason",rules:[{type:"empty",prompt:"请选择原因"}]},memo:{identifier:"memo",rules:[{type:"maxLength[250]",prompt:"原因内容长度不能超过 {ruleValue} 个字"}]}}}).api({url:page.space_user_url+"/communityManage/reportv2",method:"post",serializeForm:!0,beforeSend:function(t){$(this).message("hideAll");var a=e.attr("data-id"),o=e.attr("data-key"),n=e.attr("data-obj-type"),r=e.attr("data-url"),i=t.data;return t.data={reason:i.reason,memo:i.memo,obj_type:n,url:r,user_code:i.user_code},a&&""!==a&&parseInt(a)>0?t.data.obj_id=a:o&&""!==o&&(t.data.articleKey=o),t},onSuccess:function(t,a,o){1===t.code?($(this).message({type:"positive",content:t.message||"举报成功"}),setTimeout(function(){e.modal("hide")},2e3)):$(this).message({type:"negative",content:t.message||"网络错误，请稍后再试"})},onFailure:function(e,t){$(this).message({type:"negative",content:e.message||"网络错误，请稍后再试"})}}),e.modal({onShow:function(){t.form("reset"),t.message("hideAll")},onApprove:function(){return t.message("hideAll"),t.form("submit"),!1}}),e.on("keydown",function(t){(t.metaKey||t.ctrlKey)&&13===t.keyCode&&e.find(".positive.button").click()})},showModal:function(e,t,a,o){var n=$(".ban-report.modal");n.attr("data-id",e),n.attr("data-key",t),n.attr("data-obj-type",a),n.attr("data-url",o),n.modal("show")}}).bindLink();
$(function(){({blockedBtnStatusCode:{UN_BLOCK:0,BLOCKED:1},bindLink:function(){var t=this;$(document).on("click","[user-block]",function(e){if(!window.common.checkLogin())return!1;var o=$(this),a=o.attr("data-id"),n=o.attr("data-status");0===$.find(".user-block.modal").length&&!0!==window.oscuserBlockLoading?(window.oscuserBlockLoading=!0,$.get(page.space_user_url+"/widgets/user_block_modal",function(e){var o=document.createElement("div");o.innerHTML=e,document.body.appendChild(o),t.initModal(),t.showModal(a,n)}).always(function(){window.oscuserBlockLoading=!1})):t.showModal(a,n)})},initModal:function(){var t=this,e=$(".user-block.modal");e.find(".checkbox").checkbox(),e.modal({onShow:function(){var o=e.attr("data-status");parseInt(o)===t.blockedBtnStatusCode.BLOCKED?(e.find(".header").text("解除加灰"),e.find(".content p").text("确定解除加灰该用户吗？"),e.find(".actions .ok.button").text("解除")):(e.find(".header").text("确认加灰"),e.find(".content p").text("将用户加入加灰名单后，对方将不可评论你的动态，同时你也不能看到对方的动态。"),e.find(".actions .ok.button").text("加灰"))},onApprove:function(){var o=e.attr("data-id"),a=e.attr("data-status"),n=parseInt(a)===t.blockedBtnStatusCode.BLOCKED?"解除加灰":"加灰";$.ajax({url:page.space_user_url+"/user/update_blacklist",method:"post",data:{blackId:o},success:function(s,d,c){if(1===s.code){$("body").toast({type:"success",content:s.message||n+"成功"});var l=$('[user-block][data-id="'+o+'"][data-status="'+a+'"]');!!s.result?(l.attr("data-status",t.blockedBtnStatusCode.BLOCKED),l.find(".text").text("解除加灰")):(l.attr("data-status",t.blockedBtnStatusCode.UN_BLOCK),l.find(".text").text("加灰")),e.modal("hide")}else $("body").toast({type:"error",content:s.message||n+"失败"})},error:function(t,e,o){$("body").toast({type:"error",content:"网络错误，请稍后再试"})}})}})},showModal:function(t,e){var o=$(".user-block.modal");o.attr("data-id",t),o.attr("data-status",e),o.modal("show")}}).bindLink();var t={blockedBtnStatusCode:{UN_BLOCK:0,BLOCKED:1},blockedBtnStatusConf:{UN_BLOCK:{normal:{selfRemoveClass:"green",selfAddClass:"",text:"加灰",icon:"plus icon",textIcon:"+",textIconClass:"plus"},hover:{selfRemoveClass:"green",selfAddClass:"",text:"加灰",icon:"plus icon",textIcon:"+",textIconClass:"plus"}},BLOCKED:{normal:{selfRemoveClass:"green",selfAddClass:"green",text:"解除加灰",icon:"check icon",textIcon:"×",textIconClass:"check"},hover:{selfRemoveClass:"green",selfAddClass:"green",text:"解除加灰",icon:"",textIcon:"×",textIconClass:"check"}}},setBlockedBtnStatus:function(t,e,o){e="normal"===e?"normal":"hover";var a,n,s,d,c,l,i=o.find(".text"),r=o.find("i"),u=o.find(".text-icon");switch(t){case this.blockedBtnStatusCode.UN_BLOCK:a=this.blockedBtnStatusConf.UN_BLOCK[e],o.attr("data-blocked-status",this.blockedBtnStatusCode.UN_BLOCK);break;case this.blockedBtnStatusCode.BLOCKED:a=this.blockedBtnStatusConf.BLOCKED[e],o.attr("data-blocked-status",this.blockedBtnStatusCode.BLOCKED)}i.text(a.text),n=a.icon,r.attr("class",n),s=a.textIcon,d=a.textIconClass,u.text(s),u.attr("class","").addClass("text-icon").addClass(d),c=a.selfRemoveClass,l=a.selfAddClass,o.removeClass(c).addClass(l)},bindBlockedBtnHover:function(){var t=this;$(document).on("mouseenter",".blocked-btn",function(){var e=$(this),o=parseInt(e.attr("data-blocked-status"));t.setBlockedBtnStatus(o,"hover",e)}),$(document).on("mouseleave",".blocked-btn",function(){var e=$(this),o=parseInt(e.attr("data-blocked-status"));t.setBlockedBtnStatus(o,"normal",e)})},bindBlockedBtnClick:function(){var t=this;$(document).on("click",".blocked-btn",function(e){e.preventDefault();var o=$(this),a=this,n=parseInt(o.attr("data-blocked-status"))===t.blockedBtnStatusCode.BLOCKED?"解除加灰":"加灰",s=o.attr("data-id");if(!window.common.checkLogin())return!1;var d=$('.blocked-btn[data-id="'+s+'"]');$.post(page.space_user_url+"/user/update_blacklist",{blackId:s},function(e){if(1===e.code){var o=!!e.result?t.blockedBtnStatusCode.BLOCKED:t.blockedBtnStatusCode.UN_BLOCK;t.setBlockedBtnStatus(o,"normal",d)}else $("body").toast({type:"error",content:e.message||n+"失败"})}).always(function(){var t=document.createEvent("Event");t.initEvent("subscribe",!0,!0),a.dispatchEvent(t)})})}};t.bindBlockedBtnHover(),t.bindBlockedBtnClick(),$(document).on("mouseenter",".blocked",function(){var t=$(this);0===t.find(".blocked-cover-tip").length&&t.append('<div class="blocked-cover-tip"><span>亲，是不是眼花了？还是此人已被你“加灰” ？</span></div>'),setTimeout(function(){t.find(".blocked-cover-tip").addClass("hover")},0)}),$(document).on("mouseleave",".blocked",function(){$(this).find(".blocked-cover-tip").removeClass("hover")})});
!function(t){var o=function(t,o){var n=this;if(n.actionItems=t||[],n.actionItems&&n.actionItems.length>0){for(var i=n.actionItems.length,a=0;a<i;a++){n.actionItems[a].addListener(function(){n.updatePopupStatus()})}n.bindEvent(),o&&n.updatePopupStatus()}};o.prototype={constructor:o,bindEvent:function(){var o=this;t("body").on("click",".action-tip .btn-close",function(){var n=t(this).parents(".action-tip:eq(0)").attr("data-name");o.actionItems.some(function(t){return t.name===n&&(t._closed=!0,!0)}),o.destroyPopup(n),o.updatePopupStatus()})},showPopup:function(o,n){var i=t('.action-tip[data-name="'+o+'"]');if(0===i.length)return!1;var a=i.data("position"),e=i.find(".action-tip__toggle");e.popup("is visible")&&!0!==n||e.popup({position:a,on:"manual"}).popup("show")},destroyPopup:function(o){var n=t('.action-tip[data-name="'+o+'"]').find(".action-tip__toggle");n.popup("is visible")&&n.popup("hide")},destroyAllPopup:function(t){var o=this,n=t||[];o.actionItems.forEach(function(t){n.indexOf(t.name)<0&&o.destroyPopup(t.name)})},updatePopupStatus:function(t){var o=this;if(o.actionItems&&o.actionItems.length>0){for(var n=o.actionItems.length,i=[],a=0;a<n;a++){var e=o.actionItems[a];if(!e._closed&&(e.shouldShow()&&(i.push(e.name),!1!==e.interrupt)))break}i.length>0&&i.forEach(function(n){o.showPopup(n,t)}),o.destroyAllPopup(i)}}},window.OSCActionTip=o}(jQuery);
!function(e){var t="object"==typeof window&&window||"object"==typeof self&&self;"undefined"==typeof exports||exports.nodeType?t&&(t.hljs=e({}),"function"==typeof define&&define.amd&&define([],function(){return t.hljs})):e(exports)}(function(e){var t=[],r=Object.keys,a={},n={},i=/^(no-?highlight|plain|text)$/i,s=/\blang(?:uage)?-([\w-]+)\b/i,c=/((^(<[^>]+>|\t|)+|(?:\n)))/gm,o={case_insensitive:"cI",lexemes:"l",contains:"c",keywords:"k",subLanguage:"sL",className:"cN",begin:"b",beginKeywords:"bK",end:"e",endsWithParent:"eW",illegal:"i",excludeBegin:"eB",excludeEnd:"eE",returnBegin:"rB",returnEnd:"rE",variants:"v",IDENT_RE:"IR",UNDERSCORE_IDENT_RE:"UIR",NUMBER_RE:"NR",C_NUMBER_RE:"CNR",BINARY_NUMBER_RE:"BNR",RE_STARTERS_RE:"RSR",BACKSLASH_ESCAPE:"BE",APOS_STRING_MODE:"ASM",QUOTE_STRING_MODE:"QSM",PHRASAL_WORDS_MODE:"PWM",C_LINE_COMMENT_MODE:"CLCM",C_BLOCK_COMMENT_MODE:"CBCM",HASH_COMMENT_MODE:"HCM",NUMBER_MODE:"NM",C_NUMBER_MODE:"CNM",BINARY_NUMBER_MODE:"BNM",CSS_NUMBER_MODE:"CSSNM",REGEXP_MODE:"RM",TITLE_MODE:"TM",UNDERSCORE_TITLE_MODE:"UTM",COMMENT:"C",beginRe:"bR",endRe:"eR",illegalRe:"iR",lexemesRe:"lR",terminators:"t",terminator_end:"tE"},l="</span>",d={classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:void 0},u="of and for in not or if then".split(" ");function b(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function p(e){return e.nodeName.toLowerCase()}function f(e){return i.test(e)}function m(e){var t,r={},a=Array.prototype.slice.call(arguments,1);for(t in e)r[t]=e[t];return a.forEach(function(e){for(t in e)r[t]=e[t]}),r}function g(e){var t=[];return function e(r,a){for(var n=r.firstChild;n;n=n.nextSibling)3===n.nodeType?a+=n.nodeValue.length:1===n.nodeType&&(t.push({event:"start",offset:a,node:n}),a=e(n,a),p(n).match(/br|hr|img|input/)||t.push({event:"stop",offset:a,node:n}));return a}(e,0),t}function _(e){return e.v&&!e.cached_variants&&(e.cached_variants=e.v.map(function(t){return m(e,{v:null},t)})),e.cached_variants?e.cached_variants:function e(t){return!!t&&(t.eW||e(t.starts))}(e)?[m(e,{starts:e.starts?m(e.starts):null})]:[e]}function h(e){if(o&&!e.langApiRestored){for(var t in e.langApiRestored=!0,o)e[t]&&(e[o[t]]=e[t]);(e.c||[]).concat(e.v||[]).forEach(h)}}function v(e){function t(e){return e&&e.source||e}function a(r,a){return new RegExp(t(r),"m"+(e.cI?"i":"")+(a?"g":""))}!function n(i,s){i.compiled||(i.compiled=!0,i.k=i.k||i.bK,i.k&&(i.k=function(e,t){var a={};return"string"==typeof e?n("keyword",e):r(e).forEach(function(t){n(t,e[t])}),a;function n(e,r){t&&(r=r.toLowerCase()),r.split(" ").forEach(function(t){var r=t.split("|");a[r[0]]=[e,function(e,t){return t?Number(t):function(e){return-1!=u.indexOf(e.toLowerCase())}(e)?0:1}(r[0],r[1])]})}}(i.k,e.cI)),i.lR=a(i.l||/\w+/,!0),s&&(i.bK&&(i.b="\\b("+i.bK.split(" ").join("|")+")\\b"),i.b||(i.b=/\B|\b/),i.bR=a(i.b),i.endSameAsBegin&&(i.e=i.b),i.e||i.eW||(i.e=/\B|\b/),i.e&&(i.eR=a(i.e)),i.tE=t(i.e)||"",i.eW&&s.tE&&(i.tE+=(i.e?"|":"")+s.tE)),i.i&&(i.iR=a(i.i)),null==i.relevance&&(i.relevance=1),i.c||(i.c=[]),i.c=Array.prototype.concat.apply([],i.c.map(function(e){return _("self"===e?i:e)})),i.c.forEach(function(e){n(e,i)}),i.starts&&n(i.starts,s),i.t=function(e){var r,n,i={},s=[],c={},o=1;function l(e,t){i[o]=e,s.push([e,t]),o+=new RegExp(t.toString()+"|").exec("").length-1+1}for(var d=0;d<e.c.length;d++)l(n=e.c[d],n.bK?"\\.?(?:"+n.b+")\\.?":n.b);e.tE&&l("end",e.tE),e.i&&l("illegal",e.i);var u=s.map(function(e){return e[1]});return r=a(function(e,r){for(var a=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./,n=0,i="",s=0;s<e.length;s++){var c=n+=1,o=t(e[s]);for(0<s&&(i+="|"),i+="(";0<o.length;){var l=a.exec(o);if(null==l){i+=o;break}i+=o.substring(0,l.index),o=o.substring(l.index+l[0].length),"\\"==l[0][0]&&l[1]?i+="\\"+String(Number(l[1])+c):(i+=l[0],"("==l[0]&&n++)}i+=")"}return i}(u),!0),c.lastIndex=0,c.exec=function(t){var a;if(0===s.length)return null;r.lastIndex=c.lastIndex;var n=r.exec(t);if(!n)return null;for(var o=0;o<n.length;o++)if(null!=n[o]&&null!=i[""+o]){a=i[""+o];break}return"string"==typeof a?(n.type=a,n.extra=[e.i,e.tE]):(n.type="begin",n.rule=a),n},c}(i))}(e)}function y(e,t,r,n){function i(e,t,r,a){if(!r&&""===t)return"";if(!e)return t;var n='<span class="'+(a?"":d.classPrefix);return(n+=e+'">')+t+(r?"":l)}function s(){_+=null!=m.sL?function(){var e="string"==typeof m.sL;if(e&&!a[m.sL])return b(h);var t=e?y(m.sL,h,!0,g[m.sL]):N(h,m.sL.length?m.sL:void 0);return 0<m.relevance&&(w+=t.relevance),e&&(g[m.sL]=t.top),i(t.language,t.value,!1,!0)}():function(){var e,t,r,a,n,s,c;if(!m.k)return b(h);for(a="",t=0,m.lR.lastIndex=0,r=m.lR.exec(h);r;)a+=b(h.substring(t,r.index)),n=m,s=r,c=p.cI?s[0].toLowerCase():s[0],(e=n.k.hasOwnProperty(c)&&n.k[c])?(w+=e[1],a+=i(e[0],b(r[0]))):a+=b(r[0]),t=m.lR.lastIndex,r=m.lR.exec(h);return a+b(h.substr(t))}(),h=""}function c(e){_+=e.cN?i(e.cN,"",!0):"",m=Object.create(e,{parent:{value:m}})}var o={};function u(e,a){var n=a&&a[0];if(h+=e,null==n)return s(),0;if("begin"==o.type&&"end"==a.type&&o.index==a.index&&""===n)return h+=t.slice(a.index,a.index+1),1;if("begin"===(o=a).type)return function(e){var t=e[0],r=e.rule;return r&&r.endSameAsBegin&&(r.eR=new RegExp(t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),"m")),r.skip?h+=t:(r.eB&&(h+=t),s(),r.rB||r.eB||(h=t)),c(r),r.rB?0:t.length}(a);if("illegal"===a.type&&!r)throw new Error('Illegal lexeme "'+n+'" for mode "'+(m.cN||"<unnamed>")+'"');if("end"===a.type){var i=function(e){var t=e[0],r=function e(t,r){if(function(e,t){var r=e&&e.exec(t);return r&&0===r.index}(t.eR,r)){for(;t.endsParent&&t.parent;)t=t.parent;return t}if(t.eW)return e(t.parent,r)}(m,t);if(r){var a=m;for(a.skip?h+=t:(a.rE||a.eE||(h+=t),s(),a.eE&&(h=t));m.cN&&(_+=l),m.skip||m.sL||(w+=m.relevance),(m=m.parent)!==r.parent;);return r.starts&&(r.endSameAsBegin&&(r.starts.eR=r.eR),c(r.starts)),a.rE?0:t.length}}(a);if(null!=i)return i}return h+=n,n.length}var p=E(e);if(!p)throw new Error('Unknown language: "'+e+'"');v(p);var f,m=n||p,g={},_="";for(f=m;f!==p;f=f.parent)f.cN&&(_=i(f.cN,"",!0)+_);var h="",w=0;try{for(var x,k,M=0;m.t.lastIndex=M,x=m.t.exec(t);)k=u(t.substring(M,x.index),x),M=x.index+k;for(u(t.substr(M)),f=m;f.parent;f=f.parent)f.cN&&(_+=l);return{relevance:w,value:_,i:!1,language:e,top:m}}catch(e){if(e.message&&-1!==e.message.indexOf("Illegal"))return{i:!0,relevance:0,value:b(t)};throw e}}function N(e,t){t=t||d.languages||r(a);var n={relevance:0,value:b(e)},i=n;return t.filter(E).filter(M).forEach(function(t){var r=y(t,e,!1);r.language=t,r.relevance>i.relevance&&(i=r),r.relevance>n.relevance&&(i=n,n=r)}),i.language&&(n.second_best=i),n}function w(e){return d.tabReplace||d.useBR?e.replace(c,function(e,t){return d.useBR&&"\n"===e?"<br>":d.tabReplace?t.replace(/\t/g,d.tabReplace):""}):e}function x(e){var r,a,i,c,o,l=function(e){var t,r,a,n,i=e.className+" ";if(i+=e.parentNode?e.parentNode.className:"",r=s.exec(i))return E(r[1])?r[1]:"no-highlight";for(t=0,a=(i=i.split(/\s+/)).length;t<a;t++)if(f(n=i[t])||E(n))return n}(e);f(l)||(d.useBR?(r=document.createElementNS("http://www.w3.org/1999/xhtml","div")).innerHTML=e.innerHTML.replace(/\n/g,"").replace(/<br[ \/]*>/g,"\n"):r=e,o=r.textContent,i=l?y(l,o,!0):N(o),(a=g(r)).length&&((c=document.createElementNS("http://www.w3.org/1999/xhtml","div")).innerHTML=i.value,i.value=function(e,r,a){var n=0,i="",s=[];function c(){return e.length&&r.length?e[0].offset!==r[0].offset?e[0].offset<r[0].offset?e:r:"start"===r[0].event?e:r:e.length?e:r}function o(e){i+="<"+p(e)+t.map.call(e.attributes,function(e){return" "+e.nodeName+'="'+b(e.value).replace('"',"&quot;")+'"'}).join("")+">"}function l(e){i+="</"+p(e)+">"}function d(e){("start"===e.event?o:l)(e.node)}for(;e.length||r.length;){var u=c();if(i+=b(a.substring(n,u[0].offset)),n=u[0].offset,u===e){for(s.reverse().forEach(l);d(u.splice(0,1)[0]),(u=c())===e&&u.length&&u[0].offset===n;);s.reverse().forEach(o)}else"start"===u[0].event?s.push(u[0].node):s.pop(),d(u.splice(0,1)[0])}return i+b(a.substr(n))}(a,g(c),o)),i.value=w(i.value),e.innerHTML=i.value,e.className=function(e,t,r){var a=t?n[t]:r,i=[e.trim()];return e.match(/\bhljs\b/)||i.push("hljs"),-1===e.indexOf(a)&&i.push(a),i.join(" ").trim()}(e.className,l,i.language),e.result={language:i.language,re:i.relevance},i.second_best&&(e.second_best={language:i.second_best.language,re:i.second_best.relevance}))}function k(){if(!k.called){k.called=!0;var e=document.querySelectorAll("pre code");t.forEach.call(e,x)}}function E(e){return e=(e||"").toLowerCase(),a[e]||a[n[e]]}function M(e){var t=E(e);return t&&!t.disableAutodetect}return e.highlight=y,e.highlightAuto=N,e.fixMarkup=w,e.highlightBlock=x,e.configure=function(e){d=m(d,e)},e.initHighlighting=k,e.initHighlightingOnLoad=function(){addEventListener("DOMContentLoaded",k,!1),addEventListener("load",k,!1)},e.registerLanguage=function(t,r){var i=a[t]=r(e);h(i),i.rawDefinition=r.bind(null,e),i.aliases&&i.aliases.forEach(function(e){n[e]=t})},e.listLanguages=function(){return r(a)},e.getLanguage=E,e.autoDetection=M,e.inherit=m,e.IR=e.IDENT_RE="[a-zA-Z]\\w*",e.UIR=e.UNDERSCORE_IDENT_RE="[a-zA-Z_]\\w*",e.NR=e.NUMBER_RE="\\b\\d+(\\.\\d+)?",e.CNR=e.C_NUMBER_RE="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",e.BNR=e.BINARY_NUMBER_RE="\\b(0b[01]+)",e.RSR=e.RE_STARTERS_RE="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",e.BE=e.BACKSLASH_ESCAPE={b:"\\\\[\\s\\S]",relevance:0},e.ASM=e.APOS_STRING_MODE={cN:"string",b:"'",e:"'",i:"\\n",c:[e.BE]},e.QSM=e.QUOTE_STRING_MODE={cN:"string",b:'"',e:'"',i:"\\n",c:[e.BE]},e.PWM=e.PHRASAL_WORDS_MODE={b:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},e.C=e.COMMENT=function(t,r,a){var n=e.inherit({cN:"comment",b:t,e:r,c:[]},a||{});return n.c.push(e.PWM),n.c.push({cN:"doctag",b:"(?:TODO|FIXME|NOTE|BUG|XXX):",relevance:0}),n},e.CLCM=e.C_LINE_COMMENT_MODE=e.C("//","$"),e.CBCM=e.C_BLOCK_COMMENT_MODE=e.C("/\\*","\\*/"),e.HCM=e.HASH_COMMENT_MODE=e.C("#","$"),e.NM=e.NUMBER_MODE={cN:"number",b:e.NR,relevance:0},e.CNM=e.C_NUMBER_MODE={cN:"number",b:e.CNR,relevance:0},e.BNM=e.BINARY_NUMBER_MODE={cN:"number",b:e.BNR,relevance:0},e.CSSNM=e.CSS_NUMBER_MODE={cN:"number",b:e.NR+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},e.RM=e.REGEXP_MODE={cN:"regexp",b:/\//,e:/\/[gimuy]*/,i:/\n/,c:[e.BE,{b:/\[/,e:/\]/,relevance:0,c:[e.BE]}]},e.TM=e.TITLE_MODE={cN:"title",b:e.IR,relevance:0},e.UTM=e.UNDERSCORE_TITLE_MODE={cN:"title",b:e.UIR,relevance:0},e.METHOD_GUARD={b:"\\.\\s*"+e.UIR,relevance:0},e}),hljs.registerLanguage("properties",function(e){var t="[ \\t\\f]*",r="("+t+"[:=]"+t+"|[ \\t\\f]+)",a="([^\\\\\\W:= \\t\\f\\n]|\\\\.)+",n="([^\\\\:= \\t\\f\\n]|\\\\.)+",i={e:r,relevance:0,starts:{cN:"string",e:/$/,relevance:0,c:[{b:"\\\\\\n"}]}};return{cI:!0,i:/\S/,c:[e.C("^\\s*[!#]","$"),{b:a+r,rB:!0,c:[{cN:"attr",b:a,endsParent:!0,relevance:0}],starts:i},{b:n+r,rB:!0,relevance:0,c:[{cN:"meta",b:n,endsParent:!0,relevance:0}],starts:i},{cN:"attr",relevance:0,b:n+t+"$"}]}}),hljs.registerLanguage("python",function(e){var t={keyword:"and elif is global as in if from raise for except finally print import pass return exec else break not with class assert yield try while continue del or def lambda async await nonlocal|10",built_in:"Ellipsis NotImplemented",literal:"False None True"},r={cN:"meta",b:/^(>>>|\.\.\.) /},a={cN:"subst",b:/\{/,e:/\}/,k:t,i:/#/},n={b:/\{\{/,relevance:0},i={cN:"string",c:[e.BE],v:[{b:/(u|b)?r?'''/,e:/'''/,c:[e.BE,r],relevance:10},{b:/(u|b)?r?"""/,e:/"""/,c:[e.BE,r],relevance:10},{b:/(fr|rf|f)'''/,e:/'''/,c:[e.BE,r,n,a]},{b:/(fr|rf|f)"""/,e:/"""/,c:[e.BE,r,n,a]},{b:/(u|r|ur)'/,e:/'/,relevance:10},{b:/(u|r|ur)"/,e:/"/,relevance:10},{b:/(b|br)'/,e:/'/},{b:/(b|br)"/,e:/"/},{b:/(fr|rf|f)'/,e:/'/,c:[e.BE,n,a]},{b:/(fr|rf|f)"/,e:/"/,c:[e.BE,n,a]},e.ASM,e.QSM]},s={cN:"number",relevance:0,v:[{b:e.BNR+"[lLjJ]?"},{b:"\\b(0o[0-7]+)[lLjJ]?"},{b:e.CNR+"[lLjJ]?"}]},c={cN:"params",b:/\(/,e:/\)/,c:["self",r,s,i,e.HCM]};return a.c=[i,s,r],{aliases:["py","gyp","ipython"],k:t,i:/(<\/|->|\?)|=>/,c:[r,s,i,e.HCM,{v:[{cN:"function",bK:"def"},{cN:"class",bK:"class"}],e:/:/,i:/[${=;\n,]/,c:[e.UTM,c,{b:/->/,eW:!0,k:"None"}]},{cN:"meta",b:/^[\t ]*@/,e:/$/},{b:/\b(print|exec)\(/}]}}),hljs.registerLanguage("rust",function(e){var t="([ui](8|16|32|64|128|size)|f(32|64))?",r="drop i8 i16 i32 i64 i128 isize u8 u16 u32 u64 u128 usize f32 f64 str char bool Box Option Result String Vec Copy Send Sized Sync Drop Fn FnMut FnOnce ToOwned Clone Debug PartialEq PartialOrd Eq Ord AsRef AsMut Into From Default Iterator Extend IntoIterator DoubleEndedIterator ExactSizeIterator SliceConcatExt ToString assert! assert_eq! bitflags! bytes! cfg! col! concat! concat_idents! debug_assert! debug_assert_eq! env! panic! file! format! format_args! include_bin! include_str! line! local_data_key! module_path! option_env! print! println! select! stringify! try! unimplemented! unreachable! vec! write! writeln! macro_rules! assert_ne! debug_assert_ne!";return{aliases:["rs"],k:{keyword:"abstract as async await become box break const continue crate do dyn else enum extern false final fn for if impl in let loop macro match mod move mut override priv pub ref return self Self static struct super trait true try type typeof unsafe unsized use virtual where while yield",literal:"true false Some None Ok Err",built_in:r},l:e.IR+"!?",i:"</",c:[e.CLCM,e.C("/\\*","\\*/",{c:["self"]}),e.inherit(e.QSM,{b:/b?"/,i:null}),{cN:"string",v:[{b:/r(#*)"(.|\n)*?"\1(?!#)/},{b:/b?'\\?(x\w{2}|u\w{4}|U\w{8}|.)'/}]},{cN:"symbol",b:/'[a-zA-Z_][a-zA-Z0-9_]*/},{cN:"number",v:[{b:"\\b0b([01_]+)"+t},{b:"\\b0o([0-7_]+)"+t},{b:"\\b0x([A-Fa-f0-9_]+)"+t},{b:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+t}],relevance:0},{cN:"function",bK:"fn",e:"(\\(|<)",eE:!0,c:[e.UTM]},{cN:"meta",b:"#\\!?\\[",e:"\\]",c:[{cN:"meta-string",b:/"/,e:/"/}]},{cN:"class",bK:"type",e:";",c:[e.inherit(e.UTM,{endsParent:!0})],i:"\\S"},{cN:"class",bK:"trait enum struct union",e:"{",c:[e.inherit(e.UTM,{endsParent:!0})],i:"[\\w\\d]"},{b:e.IR+"::",k:{built_in:r}},{b:"->"}]}}),hljs.registerLanguage("less",function(e){function t(e){return{cN:"string",b:"~?"+e+".*?"+e}}function r(e,t,r){return{cN:e,b:t,relevance:r}}var a="[\\w-]+",n="("+a+"|@{"+a+"})",i=[],s=[],c={b:"\\(",e:"\\)",c:s,relevance:0};s.push(e.CLCM,e.CBCM,t("'"),t('"'),e.CSSNM,{b:"(url|data-uri)\\(",starts:{cN:"string",e:"[\\)\\n]",eE:!0}},r("number","#[0-9A-Fa-f]+\\b"),c,r("variable","@@?"+a,10),r("variable","@{"+a+"}"),r("built_in","~?`[^`]*?`"),{cN:"attribute",b:a+"\\s*:",e:":",rB:!0,eE:!0},{cN:"meta",b:"!important"});var o=s.concat({b:"{",e:"}",c:i}),l={bK:"when",eW:!0,c:[{bK:"and not"}].concat(s)},d={b:n+"\\s*:",rB:!0,e:"[;}]",relevance:0,c:[{cN:"attribute",b:n,e:":",eE:!0,starts:{eW:!0,i:"[<=$]",relevance:0,c:s}}]},u={cN:"keyword",b:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{e:"[;{}]",rE:!0,c:s,relevance:0}},b={cN:"variable",v:[{b:"@"+a+"\\s*:",relevance:15},{b:"@"+a}],starts:{e:"[;}]",rE:!0,c:o}},p={v:[{b:"[\\.#:&\\[>]",e:"[;{}]"},{b:n,e:"{"}],rB:!0,rE:!0,i:"[<='$\"]",relevance:0,c:[e.CLCM,e.CBCM,l,r("keyword","all\\b"),r("variable","@{"+a+"}"),r("selector-tag",n+"%?",0),r("selector-id","#"+n),r("selector-class","\\."+n,0),r("selector-tag","&",0),{cN:"selector-attr",b:"\\[",e:"\\]"},{cN:"selector-pseudo",b:/:(:)?[a-zA-Z0-9\_\-\+\(\)"'.]+/},{b:"\\(",e:"\\)",c:o},{b:"!important"}]};return i.push(e.CLCM,e.CBCM,u,b,d,p),{cI:!0,i:"[=>'/<($\"]",c:i}}),hljs.registerLanguage("perl",function(e){var t="getpwent getservent quotemeta msgrcv scalar kill dbmclose undef lc ma syswrite tr send umask sysopen shmwrite vec qx utime local oct semctl localtime readpipe do return format read sprintf dbmopen pop getpgrp not getpwnam rewinddir qqfileno qw endprotoent wait sethostent bless s|0 opendir continue each sleep endgrent shutdown dump chomp connect getsockname die socketpair close flock exists index shmgetsub for endpwent redo lstat msgctl setpgrp abs exit select print ref gethostbyaddr unshift fcntl syscall goto getnetbyaddr join gmtime symlink semget splice x|0 getpeername recv log setsockopt cos last reverse gethostbyname getgrnam study formline endhostent times chop length gethostent getnetent pack getprotoent getservbyname rand mkdir pos chmod y|0 substr endnetent printf next open msgsnd readdir use unlink getsockopt getpriority rindex wantarray hex system getservbyport endservent int chr untie rmdir prototype tell listen fork shmread ucfirst setprotoent else sysseek link getgrgid shmctl waitpid unpack getnetbyname reset chdir grep split require caller lcfirst until warn while values shift telldir getpwuid my getprotobynumber delete and sort uc defined srand accept package seekdir getprotobyname semop our rename seek if q|0 chroot sysread setpwent no crypt getc chown sqrt write setnetent setpriority foreach tie sin msgget map stat getlogin unless elsif truncate exec keys glob tied closedirioctl socket readlink eval xor readline binmode setservent eof ord bind alarm pipe atan2 getgrent exp time push setgrent gt lt or ne m|0 break given say state when",r={cN:"subst",b:"[$@]\\{",e:"\\}",k:t},a={b:"->{",e:"}"},n={v:[{b:/\$\d/},{b:/[\$%@](\^\w\b|#\w+(::\w+)*|{\w+}|\w+(::\w*)*)/},{b:/[\$%@][^\s\w{]/,relevance:0}]},i=[e.BE,r,n],s=[n,e.HCM,e.C("^\\=\\w","\\=cut",{eW:!0}),a,{cN:"string",c:i,v:[{b:"q[qwxr]?\\s*\\(",e:"\\)",relevance:5},{b:"q[qwxr]?\\s*\\[",e:"\\]",relevance:5},{b:"q[qwxr]?\\s*\\{",e:"\\}",relevance:5},{b:"q[qwxr]?\\s*\\|",e:"\\|",relevance:5},{b:"q[qwxr]?\\s*\\<",e:"\\>",relevance:5},{b:"qw\\s+q",e:"q",relevance:5},{b:"'",e:"'",c:[e.BE]},{b:'"',e:'"'},{b:"`",e:"`",c:[e.BE]},{b:"{\\w+}",c:[],relevance:0},{b:"-?\\w+\\s*\\=\\>",c:[],relevance:0}]},{cN:"number",b:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",relevance:0},{b:"(\\/\\/|"+e.RSR+"|\\b(split|return|print|reverse|grep)\\b)\\s*",k:"split return print reverse grep",relevance:0,c:[e.HCM,{cN:"regexp",b:"(s|tr|y)/(\\\\.|[^/])*/(\\\\.|[^/])*/[a-z]*",relevance:10},{cN:"regexp",b:"(m|qr)?/",e:"/[a-z]*",c:[e.BE],relevance:0}]},{cN:"function",bK:"sub",e:"(\\s*\\(.*?\\))?[;{]",eE:!0,relevance:5,c:[e.TM]},{b:"-\\w\\b",relevance:0},{b:"^__DATA__$",e:"^__END__$",sL:"mojolicious",c:[{b:"^@@.*",e:"$",cN:"comment"}]}];return r.c=s,{aliases:["pl","pm"],l:/[\w\.]+/,k:t,c:a.c=s}}),hljs.registerLanguage("diff",function(e){return{aliases:["patch"],c:[{cN:"meta",relevance:10,v:[{b:/^@@ +\-\d+,\d+ +\+\d+,\d+ +@@$/},{b:/^\*\*\* +\d+,\d+ +\*\*\*\*$/},{b:/^\-\-\- +\d+,\d+ +\-\-\-\-$/}]},{cN:"comment",v:[{b:/Index: /,e:/$/},{b:/={3,}/,e:/$/},{b:/^\-{3}/,e:/$/},{b:/^\*{3} /,e:/$/},{b:/^\+{3}/,e:/$/},{b:/^\*{15}$/}]},{cN:"addition",b:"^\\+",e:"$"},{cN:"deletion",b:"^\\-",e:"$"},{cN:"addition",b:"^\\!",e:"$"}]}}),hljs.registerLanguage("scss",function(e){var t={cN:"variable",b:"(\\$[a-zA-Z-][a-zA-Z0-9_-]*)\\b"},r={cN:"number",b:"#[0-9A-Fa-f]+"};return e.CSSNM,e.QSM,e.ASM,e.CBCM,{cI:!0,i:"[=/|']",c:[e.CLCM,e.CBCM,{cN:"selector-id",b:"\\#[A-Za-z0-9_-]+",relevance:0},{cN:"selector-class",b:"\\.[A-Za-z0-9_-]+",relevance:0},{cN:"selector-attr",b:"\\[",e:"\\]",i:"$"},{cN:"selector-tag",b:"\\b(a|abbr|acronym|address|area|article|aside|audio|b|base|big|blockquote|body|br|button|canvas|caption|cite|code|col|colgroup|command|datalist|dd|del|details|dfn|div|dl|dt|em|embed|fieldset|figcaption|figure|footer|form|frame|frameset|(h[1-6])|head|header|hgroup|hr|html|i|iframe|img|input|ins|kbd|keygen|label|legend|li|link|map|mark|meta|meter|nav|noframes|noscript|object|ol|optgroup|option|output|p|param|pre|progress|q|rp|rt|ruby|samp|script|section|select|small|span|strike|strong|style|sub|sup|table|tbody|td|textarea|tfoot|th|thead|time|title|tr|tt|ul|var|video)\\b",relevance:0},{b:":(visited|valid|root|right|required|read-write|read-only|out-range|optional|only-of-type|only-child|nth-of-type|nth-last-of-type|nth-last-child|nth-child|not|link|left|last-of-type|last-child|lang|invalid|indeterminate|in-range|hover|focus|first-of-type|first-line|first-letter|first-child|first|enabled|empty|disabled|default|checked|before|after|active)"},{b:"::(after|before|choices|first-letter|first-line|repeat-index|repeat-item|selection|value)"},t,{cN:"attribute",b:"\\b(z-index|word-wrap|word-spacing|word-break|width|widows|white-space|visibility|vertical-align|unicode-bidi|transition-timing-function|transition-property|transition-duration|transition-delay|transition|transform-style|transform-origin|transform|top|text-underline-position|text-transform|text-shadow|text-rendering|text-overflow|text-indent|text-decoration-style|text-decoration-line|text-decoration-color|text-decoration|text-align-last|text-align|tab-size|table-layout|right|resize|quotes|position|pointer-events|perspective-origin|perspective|page-break-inside|page-break-before|page-break-after|padding-top|padding-right|padding-left|padding-bottom|padding|overflow-y|overflow-x|overflow-wrap|overflow|outline-width|outline-style|outline-offset|outline-color|outline|orphans|order|opacity|object-position|object-fit|normal|none|nav-up|nav-right|nav-left|nav-index|nav-down|min-width|min-height|max-width|max-height|mask|marks|margin-top|margin-right|margin-left|margin-bottom|margin|list-style-type|list-style-position|list-style-image|list-style|line-height|letter-spacing|left|justify-content|initial|inherit|ime-mode|image-orientation|image-resolution|image-rendering|icon|hyphens|height|font-weight|font-variant-ligatures|font-variant|font-style|font-stretch|font-size-adjust|font-size|font-language-override|font-kerning|font-feature-settings|font-family|font|float|flex-wrap|flex-shrink|flex-grow|flex-flow|flex-direction|flex-basis|flex|filter|empty-cells|display|direction|cursor|counter-reset|counter-increment|content|column-width|column-span|column-rule-width|column-rule-style|column-rule-color|column-rule|column-gap|column-fill|column-count|columns|color|clip-path|clip|clear|caption-side|break-inside|break-before|break-after|box-sizing|box-shadow|box-decoration-break|bottom|border-width|border-top-width|border-top-style|border-top-right-radius|border-top-left-radius|border-top-color|border-top|border-style|border-spacing|border-right-width|border-right-style|border-right-color|border-right|border-radius|border-left-width|border-left-style|border-left-color|border-left|border-image-width|border-image-source|border-image-slice|border-image-repeat|border-image-outset|border-image|border-color|border-collapse|border-bottom-width|border-bottom-style|border-bottom-right-radius|border-bottom-left-radius|border-bottom-color|border-bottom|border|background-size|background-repeat|background-position|background-origin|background-image|background-color|background-clip|background-attachment|background-blend-mode|background|backface-visibility|auto|animation-timing-function|animation-play-state|animation-name|animation-iteration-count|animation-fill-mode|animation-duration|animation-direction|animation-delay|animation|align-self|align-items|align-content)\\b",i:"[^\\s]"},{b:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{b:":",e:";",c:[t,r,e.CSSNM,e.QSM,e.ASM,{cN:"meta",b:"!important"}]},{b:"@",e:"[{;]",k:"mixin include extend for if else each while charset import debug media page content font-face namespace warn",c:[t,e.QSM,e.ASM,r,e.CSSNM,{b:"\\s[A-Za-z0-9_.-]+",relevance:0}]}]}}),hljs.registerLanguage("bash",function(e){var t={cN:"variable",v:[{b:/\$[\w\d#@][\w\d_]*/},{b:/\$\{(.*?)}/}]},r={cN:"string",b:/"/,e:/"/,c:[e.BE,t,{cN:"variable",b:/\$\(/,e:/\)/,c:[e.BE]}]};return{aliases:["sh","zsh"],l:/\b-?[a-z\._]+\b/,k:{keyword:"if then else elif fi for while in do done case esac function",literal:"true false",built_in:"break cd continue eval exec exit export getopts hash pwd readonly return shift test times trap umask unset alias bind builtin caller command declare echo enable help let local logout mapfile printf read readarray source type typeset ulimit unalias set shopt autoload bg bindkey bye cap chdir clone comparguments compcall compctl compdescribe compfiles compgroups compquote comptags comptry compvalues dirs disable disown echotc echoti emulate fc fg float functions getcap getln history integer jobs kill limit log noglob popd print pushd pushln rehash sched setcap setopt stat suspend ttyctl unfunction unhash unlimit unsetopt vared wait whence where which zcompile zformat zftp zle zmodload zparseopts zprof zpty zregexparse zsocket zstyle ztcp",_:"-ne -eq -lt -gt -f -d -e -s -l -a"},c:[{cN:"meta",b:/^#![^\n]+sh\s*$/,relevance:10},{cN:"function",b:/\w[\w\d_]*\s*\(\s*\)\s*\{/,rB:!0,c:[e.inherit(e.TM,{b:/\w[\w\d_]*/})],relevance:0},e.HCM,r,{cN:"",b:/\\"/},{cN:"string",b:/'/,e:/'/},t]}}),hljs.registerLanguage("shell",function(e){return{aliases:["console"],c:[{cN:"meta",b:"^\\s{0,3}[/\\w\\d\\[\\]()@-]*[>%$#]",starts:{e:"$",sL:"bash"}}]}}),hljs.registerLanguage("makefile",function(e){var t={cN:"variable",v:[{b:"\\$\\("+e.UIR+"\\)",c:[e.BE]},{b:/\$[@%<?\^\+\*]/}]},r={cN:"string",b:/"/,e:/"/,c:[e.BE,t]},a={cN:"variable",b:/\$\([\w-]+\s/,e:/\)/,k:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},c:[t]},n={b:"^"+e.UIR+"\\s*[:+?]?=",i:"\\n",rB:!0,c:[{b:"^"+e.UIR,e:"[:+?]?=",eE:!0}]},i={cN:"section",b:/^[^\s]+:/,e:/$/,c:[t]};return{aliases:["mk","mak"],k:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath",l:/[\w-]+/,c:[e.HCM,t,r,a,n,{cN:"meta",b:/^\.PHONY:/,e:/$/,k:{"meta-keyword":".PHONY"},l:/[\.\w]+/},i]}}),hljs.registerLanguage("json",function(e){var t={literal:"true false null"},r=[e.CLCM,e.CBCM],a=[e.QSM,e.CNM],n={e:",",eW:!0,eE:!0,c:a,k:t},i={b:"{",e:"}",c:[{cN:"attr",b:/"/,e:/"/,c:[e.BE],i:"\\n"},e.inherit(n,{b:/:/})].concat(r),i:"\\S"},s={b:"\\[",e:"\\]",c:[e.inherit(n)],i:"\\S"};return a.push(i,s),r.forEach(function(e){a.push(e)}),{c:a,k:t,i:"\\S"}}),hljs.registerLanguage("ini",function(e){var t={cN:"string",c:[e.BE],v:[{b:"'''",e:"'''",relevance:10},{b:'"""',e:'"""',relevance:10},{b:'"',e:'"'},{b:"'",e:"'"}]};return{aliases:["toml"],cI:!0,i:/\S/,c:[e.C(";","$"),e.HCM,{cN:"section",b:/^\s*\[+/,e:/\]+/},{b:/^[a-z0-9\[\]_\.-]+\s*=\s*/,e:"$",rB:!0,c:[{cN:"attr",b:/[a-z0-9\[\]_\.-]+/},{b:/=/,eW:!0,relevance:0,c:[e.C(";","$"),e.HCM,{cN:"literal",b:/\bon|off|true|false|yes|no\b/},{cN:"variable",v:[{b:/\$[\w\d"][\w\d_]*/},{b:/\$\{(.*?)}/}]},t,{cN:"number",b:/([\+\-]+)?[\d]+_[\d_]+/},e.NM]}]}]}}),hljs.registerLanguage("http",function(e){var t="HTTP/[0-9\\.]+";return{aliases:["https"],i:"\\S",c:[{b:"^"+t,e:"$",c:[{cN:"number",b:"\\b\\d{3}\\b"}]},{b:"^[A-Z]+ (.*?) "+t+"$",rB:!0,e:"$",c:[{cN:"string",b:" ",e:" ",eB:!0,eE:!0},{b:t},{cN:"keyword",b:"[A-Z]+"}]},{cN:"attribute",b:"^\\w",e:": ",eE:!0,i:"\\n|\\s|=",starts:{e:"$",relevance:0}},{b:"\\n\\n",starts:{sL:[],eW:!0}}]}}),hljs.registerLanguage("coffeescript",function(e){var t={keyword:"in if for while finally new do return else break catch instanceof throw try this switch continue typeof delete debugger super yield import export from as default await then unless until loop of by when and or is isnt not",literal:"true false null undefined yes no on off",built_in:"npm require console print module global window document"},r="[A-Za-z$_][0-9A-Za-z$_]*",a={cN:"subst",b:/#\{/,e:/}/,k:t},n=[e.BNM,e.inherit(e.CNM,{starts:{e:"(\\s*/)?",relevance:0}}),{cN:"string",v:[{b:/'''/,e:/'''/,c:[e.BE]},{b:/'/,e:/'/,c:[e.BE]},{b:/"""/,e:/"""/,c:[e.BE,a]},{b:/"/,e:/"/,c:[e.BE,a]}]},{cN:"regexp",v:[{b:"///",e:"///",c:[a,e.HCM]},{b:"//[gim]*",relevance:0},{b:/\/(?![ *])(\\\/|.)*?\/[gim]*(?=\W)/}]},{b:"@"+r},{sL:"javascript",eB:!0,eE:!0,v:[{b:"```",e:"```"},{b:"`",e:"`"}]}];a.c=n;var i=e.inherit(e.TM,{b:r}),s="(\\(.*\\))?\\s*\\B[-=]>",c={cN:"params",b:"\\([^\\(]",rB:!0,c:[{b:/\(/,e:/\)/,k:t,c:["self"].concat(n)}]};return{aliases:["coffee","cson","iced"],k:t,i:/\/\*/,c:n.concat([e.C("###","###"),e.HCM,{cN:"function",b:"^\\s*"+r+"\\s*=\\s*"+s,e:"[-=]>",rB:!0,c:[i,c]},{b:/[:\(,=]\s*/,relevance:0,c:[{cN:"function",b:s,e:"[-=]>",rB:!0,c:[c]}]},{cN:"class",bK:"class",e:"$",i:/[:="\[\]]/,c:[{bK:"extends",eW:!0,i:/[:="\[\]]/,c:[i]},i]},{b:r+":",e:":",rB:!0,rE:!0,relevance:0}])}}),hljs.registerLanguage("css",function(e){var t={b:/(?:[A-Z\_\.\-]+|--[a-zA-Z0-9_-]+)\s*:/,rB:!0,e:";",eW:!0,c:[{cN:"attribute",b:/\S/,e:":",eE:!0,starts:{eW:!0,eE:!0,c:[{b:/[\w-]+\(/,rB:!0,c:[{cN:"built_in",b:/[\w-]+/},{b:/\(/,e:/\)/,c:[e.ASM,e.QSM]}]},e.CSSNM,e.QSM,e.ASM,e.CBCM,{cN:"number",b:"#[0-9A-Fa-f]+"},{cN:"meta",b:"!important"}]}}]};return{cI:!0,i:/[=\/|'\$]/,c:[e.CBCM,{cN:"selector-id",b:/#[A-Za-z0-9_-]+/},{cN:"selector-class",b:/\.[A-Za-z0-9_-]+/},{cN:"selector-attr",b:/\[/,e:/\]/,i:"$"},{cN:"selector-pseudo",b:/:(:)?[a-zA-Z0-9\_\-\+\(\)"'.]+/},{b:"@(font-face|page)",l:"[a-z-]+",k:"font-face page"},{b:"@",e:"[{;]",i:/:/,c:[{cN:"keyword",b:/\w+/},{b:/\s/,eW:!0,eE:!0,relevance:0,c:[e.ASM,e.QSM,e.CSSNM]}]},{cN:"selector-tag",b:"[a-zA-Z-][a-zA-Z0-9_-]*",relevance:0},{b:"{",e:"}",i:/\S/,c:[e.CBCM,t]}]}}),hljs.registerLanguage("objectivec",function(e){var t=/[a-zA-Z@][a-zA-Z0-9_]*/,r="@interface @class @protocol @implementation";return{aliases:["mm","objc","obj-c"],k:{keyword:"int float while char export sizeof typedef const struct for union unsigned long volatile static bool mutable if do return goto void enum else break extern asm case short default double register explicit signed typename this switch continue wchar_t inline readonly assign readwrite self @synchronized id typeof nonatomic super unichar IBOutlet IBAction strong weak copy in out inout bycopy byref oneway __strong __weak __block __autoreleasing @private @protected @public @try @property @end @throw @catch @finally @autoreleasepool @synthesize @dynamic @selector @optional @required @encode @package @import @defs @compatibility_alias __bridge __bridge_transfer __bridge_retained __bridge_retain __covariant __contravariant __kindof _Nonnull _Nullable _Null_unspecified __FUNCTION__ __PRETTY_FUNCTION__ __attribute__ getter setter retain unsafe_unretained nonnull nullable null_unspecified null_resettable class instancetype NS_DESIGNATED_INITIALIZER NS_UNAVAILABLE NS_REQUIRES_SUPER NS_RETURNS_INNER_POINTER NS_INLINE NS_AVAILABLE NS_DEPRECATED NS_ENUM NS_OPTIONS NS_SWIFT_UNAVAILABLE NS_ASSUME_NONNULL_BEGIN NS_ASSUME_NONNULL_END NS_REFINED_FOR_SWIFT NS_SWIFT_NAME NS_SWIFT_NOTHROW NS_DURING NS_HANDLER NS_ENDHANDLER NS_VALUERETURN NS_VOIDRETURN",literal:"false true FALSE TRUE nil YES NO NULL",built_in:"BOOL dispatch_once_t dispatch_queue_t dispatch_sync dispatch_async dispatch_once"},l:t,i:"</",c:[{cN:"built_in",b:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},e.CLCM,e.CBCM,e.CNM,e.QSM,{cN:"string",v:[{b:'@"',e:'"',i:"\\n",c:[e.BE]},{b:"'",e:"[^\\\\]'",i:"[^\\\\][^']"}]},{cN:"meta",b:"#",e:"$",c:[{cN:"meta-string",v:[{b:'"',e:'"'},{b:"<",e:">"}]}]},{cN:"class",b:"("+r.split(" ").join("|")+")\\b",e:"({|$)",eE:!0,k:r,l:t,c:[e.UTM]},{b:"\\."+e.UIR,relevance:0}]}}),hljs.registerLanguage("ruby",function(e){var t="[a-zA-Z_]\\w*[!?=]?|[-+~]\\@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?",r={keyword:"and then defined module in return redo if BEGIN retry end for self when next until do begin unless END rescue else break undef not super class case require yield alias while ensure elsif or include attr_reader attr_writer attr_accessor",literal:"true false nil"},a={cN:"doctag",b:"@[A-Za-z]+"},n={b:"#<",e:">"},i=[e.C("#","$",{c:[a]}),e.C("^\\=begin","^\\=end",{c:[a],relevance:10}),e.C("^__END__","\\n$")],s={cN:"subst",b:"#\\{",e:"}",k:r},c={cN:"string",c:[e.BE,s],v:[{b:/'/,e:/'/},{b:/"/,e:/"/},{b:/`/,e:/`/},{b:"%[qQwWx]?\\(",e:"\\)"},{b:"%[qQwWx]?\\[",e:"\\]"},{b:"%[qQwWx]?{",e:"}"},{b:"%[qQwWx]?<",e:">"},{b:"%[qQwWx]?/",e:"/"},{b:"%[qQwWx]?%",e:"%"},{b:"%[qQwWx]?-",e:"-"},{b:"%[qQwWx]?\\|",e:"\\|"},{b:/\B\?(\\\d{1,3}|\\x[A-Fa-f0-9]{1,2}|\\u[A-Fa-f0-9]{4}|\\?\S)\b/},{b:/<<[-~]?'?(\w+)(?:.|\n)*?\n\s*\1\b/,rB:!0,c:[{b:/<<[-~]?'?/},{b:/\w+/,endSameAsBegin:!0,c:[e.BE,s]}]}]},o={cN:"params",b:"\\(",e:"\\)",endsParent:!0,k:r},l=[c,n,{cN:"class",bK:"class module",e:"$|;",i:/=/,c:[e.inherit(e.TM,{b:"[A-Za-z_]\\w*(::\\w+)*(\\?|\\!)?"}),{b:"<\\s*",c:[{b:"("+e.IR+"::)?"+e.IR}]}].concat(i)},{cN:"function",bK:"def",e:"$|;",c:[e.inherit(e.TM,{b:t}),o].concat(i)},{b:e.IR+"::"},{cN:"symbol",b:e.UIR+"(\\!|\\?)?:",relevance:0},{cN:"symbol",b:":(?!\\s)",c:[c,{b:t}],relevance:0},{cN:"number",b:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",relevance:0},{b:"(\\$\\W)|((\\$|\\@\\@?)(\\w+))"},{cN:"params",b:/\|/,e:/\|/,k:r},{b:"("+e.RSR+"|unless)\\s*",k:"unless",c:[n,{cN:"regexp",c:[e.BE,s],i:/\n/,v:[{b:"/",e:"/[a-z]*"},{b:"%r{",e:"}[a-z]*"},{b:"%r\\(",e:"\\)[a-z]*"},{b:"%r!",e:"![a-z]*"},{b:"%r\\[",e:"\\][a-z]*"}]}].concat(i),relevance:0}].concat(i);s.c=l;var d=[{b:/^\s*=>/,starts:{e:"$",c:o.c=l}},{cN:"meta",b:"^([>?]>|[\\w#]+\\(\\w+\\):\\d+:\\d+>|(\\w+-)?\\d+\\.\\d+\\.\\d(p\\d+)?[^>]+>)",starts:{e:"$",c:l}}];return{aliases:["rb","gemspec","podspec","thor","irb"],k:r,i:/\/\*/,c:i.concat(d).concat(l)}}),hljs.registerLanguage("yaml",function(e){var t="true false yes no null",r={cN:"string",relevance:0,v:[{b:/'/,e:/'/},{b:/"/,e:/"/},{b:/\S+/}],c:[e.BE,{cN:"template-variable",v:[{b:"{{",e:"}}"},{b:"%{",e:"}"}]}]};return{cI:!0,aliases:["yml","YAML","yaml"],c:[{cN:"attr",v:[{b:"\\w[\\w :\\/.-]*:(?=[ \t]|$)"},{b:'"\\w[\\w :\\/.-]*":(?=[ \t]|$)'},{b:"'\\w[\\w :\\/.-]*':(?=[ \t]|$)"}]},{cN:"meta",b:"^---s*$",relevance:10},{cN:"string",b:"[\\|>]([0-9]?[+-])?[ ]*\\n( *)[\\S ]+\\n(\\2[\\S ]+\\n?)*"},{b:"<%[%=-]?",e:"[%-]?%>",sL:"ruby",eB:!0,eE:!0,relevance:0},{cN:"type",b:"!"+e.UIR},{cN:"type",b:"!!"+e.UIR},{cN:"meta",b:"&"+e.UIR+"$"},{cN:"meta",b:"\\*"+e.UIR+"$"},{cN:"bullet",b:"\\-(?=[ ]|$)",relevance:0},e.HCM,{bK:t,k:{literal:t}},{cN:"number",b:e.CNR+"\\b"},r]}}),hljs.registerLanguage("java",function(e){var t="false synchronized int abstract float private char boolean var static null if const for true while long strictfp finally protected import native final void enum else break transient catch instanceof byte super volatile case assert short package default double public try this switch continue throws protected public private module requires exports do";return{aliases:["jsp"],k:t,i:/<\/|#/,c:[e.C("/\\*\\*","\\*/",{relevance:0,c:[{b:/\w+@/,relevance:0},{cN:"doctag",b:"@[A-Za-z]+"}]}),e.CLCM,e.CBCM,e.ASM,e.QSM,{cN:"class",bK:"class interface",e:/[{;=]/,eE:!0,k:"class interface",i:/[:"\[\]]/,c:[{bK:"extends implements"},e.UTM]},{bK:"new throw return else",relevance:0},{cN:"function",b:"([À-ʸa-zA-Z_$][À-ʸa-zA-Z_$0-9]*(<[À-ʸa-zA-Z_$][À-ʸa-zA-Z_$0-9]*(\\s*,\\s*[À-ʸa-zA-Z_$][À-ʸa-zA-Z_$0-9]*)*>)?\\s+)+"+e.UIR+"\\s*\\(",rB:!0,e:/[{;=]/,eE:!0,k:t,c:[{b:e.UIR+"\\s*\\(",rB:!0,relevance:0,c:[e.UTM]},{cN:"params",b:/\(/,e:/\)/,k:t,relevance:0,c:[e.ASM,e.QSM,e.CNM,e.CBCM]},e.CLCM,e.CBCM]},{cN:"number",b:"\\b(0[bB]([01]+[01_]+[01]+|[01]+)|0[xX]([a-fA-F0-9]+[a-fA-F0-9_]+[a-fA-F0-9]+|[a-fA-F0-9]+)|(([\\d]+[\\d_]+[\\d]+|[\\d]+)(\\.([\\d]+[\\d_]+[\\d]+|[\\d]+))?|\\.([\\d]+[\\d_]+[\\d]+|[\\d]+))([eE][-+]?\\d+)?)[lLfF]?",relevance:0},{cN:"meta",b:"@[A-Za-z]+"}]}});hljs.registerLanguage("sql",function(e){var t=e.C("--","$");return{cI:!0,i:/[<>{}*]/,c:[{bK:"begin end start commit rollback savepoint lock alter create drop rename call delete do handler insert load replace select truncate update set show pragma grant merge describe use explain help declare prepare execute deallocate release unlock purge reset change stop analyze cache flush optimize repair kill install uninstall checksum restore check backup revoke comment values with",e:/;/,eW:!0,l:/[\w\.]+/,k:{keyword:"as abort abs absolute acc acce accep accept access accessed accessible account acos action activate add addtime admin administer advanced advise aes_decrypt aes_encrypt after agent aggregate ali alia alias all allocate allow alter always analyze ancillary and anti any anydata anydataset anyschema anytype apply archive archived archivelog are as asc ascii asin assembly assertion associate asynchronous at atan atn2 attr attri attrib attribu attribut attribute attributes audit authenticated authentication authid authors auto autoallocate autodblink autoextend automatic availability avg backup badfile basicfile before begin beginning benchmark between bfile bfile_base big bigfile bin binary_double binary_float binlog bit_and bit_count bit_length bit_or bit_xor bitmap blob_base block blocksize body both bound bucket buffer_cache buffer_pool build bulk by byte byteordermark bytes cache caching call calling cancel capacity cascade cascaded case cast catalog category ceil ceiling chain change changed char_base char_length character_length characters characterset charindex charset charsetform charsetid check checksum checksum_agg child choose chr chunk class cleanup clear client clob clob_base clone close cluster_id cluster_probability cluster_set clustering coalesce coercibility col collate collation collect colu colum column column_value columns columns_updated comment commit compact compatibility compiled complete composite_limit compound compress compute concat concat_ws concurrent confirm conn connec connect connect_by_iscycle connect_by_isleaf connect_by_root connect_time connection consider consistent constant constraint constraints constructor container content contents context contributors controlfile conv convert convert_tz corr corr_k corr_s corresponding corruption cos cost count count_big counted covar_pop covar_samp cpu_per_call cpu_per_session crc32 create creation critical cross cube cume_dist curdate current current_date current_time current_timestamp current_user cursor curtime customdatum cycle data database databases datafile datafiles datalength date_add date_cache date_format date_sub dateadd datediff datefromparts datename datepart datetime2fromparts day day_to_second dayname dayofmonth dayofweek dayofyear days db_role_change dbtimezone ddl deallocate declare decode decompose decrement decrypt deduplicate def defa defau defaul default defaults deferred defi defin define degrees delayed delegate delete delete_all delimited demand dense_rank depth dequeue des_decrypt des_encrypt des_key_file desc descr descri describ describe descriptor deterministic diagnostics difference dimension direct_load directory disable disable_all disallow disassociate discardfile disconnect diskgroup distinct distinctrow distribute distributed div do document domain dotnet double downgrade drop dumpfile duplicate duration each edition editionable editions element ellipsis else elsif elt empty enable enable_all enclosed encode encoding encrypt end end-exec endian enforced engine engines enqueue enterprise entityescaping eomonth error errors escaped evalname evaluate event eventdata events except exception exceptions exchange exclude excluding execu execut execute exempt exists exit exp expire explain explode export export_set extended extent external external_1 external_2 externally extract failed failed_login_attempts failover failure far fast feature_set feature_value fetch field fields file file_name_convert filesystem_like_logging final finish first first_value fixed flash_cache flashback floor flush following follows for forall force foreign form forma format found found_rows freelist freelists freepools fresh from from_base64 from_days ftp full function general generated get get_format get_lock getdate getutcdate global global_name globally go goto grant grants greatest group group_concat group_id grouping grouping_id groups gtid_subtract guarantee guard handler hash hashkeys having hea head headi headin heading heap help hex hierarchy high high_priority hosts hour hours http id ident_current ident_incr ident_seed identified identity idle_time if ifnull ignore iif ilike ilm immediate import in include including increment index indexes indexing indextype indicator indices inet6_aton inet6_ntoa inet_aton inet_ntoa infile initial initialized initially initrans inmemory inner innodb input insert install instance instantiable instr interface interleaved intersect into invalidate invisible is is_free_lock is_ipv4 is_ipv4_compat is_not is_not_null is_used_lock isdate isnull isolation iterate java join json json_exists keep keep_duplicates key keys kill language large last last_day last_insert_id last_value lateral lax lcase lead leading least leaves left len lenght length less level levels library like like2 like4 likec limit lines link list listagg little ln load load_file lob lobs local localtime localtimestamp locate locator lock locked log log10 log2 logfile logfiles logging logical logical_reads_per_call logoff logon logs long loop low low_priority lower lpad lrtrim ltrim main make_set makedate maketime managed management manual map mapping mask master master_pos_wait match matched materialized max maxextents maximize maxinstances maxlen maxlogfiles maxloghistory maxlogmembers maxsize maxtrans md5 measures median medium member memcompress memory merge microsecond mid migration min minextents minimum mining minus minute minutes minvalue missing mod mode model modification modify module monitoring month months mount move movement multiset mutex name name_const names nan national native natural nav nchar nclob nested never new newline next nextval no no_write_to_binlog noarchivelog noaudit nobadfile nocheck nocompress nocopy nocycle nodelay nodiscardfile noentityescaping noguarantee nokeep nologfile nomapping nomaxvalue nominimize nominvalue nomonitoring none noneditionable nonschema noorder nopr nopro noprom nopromp noprompt norely noresetlogs noreverse normal norowdependencies noschemacheck noswitch not nothing notice notnull notrim novalidate now nowait nth_value nullif nulls num numb numbe nvarchar nvarchar2 object ocicoll ocidate ocidatetime ociduration ociinterval ociloblocator ocinumber ociref ocirefcursor ocirowid ocistring ocitype oct octet_length of off offline offset oid oidindex old on online only opaque open operations operator optimal optimize option optionally or oracle oracle_date oradata ord ordaudio orddicom orddoc order ordimage ordinality ordvideo organization orlany orlvary out outer outfile outline output over overflow overriding package pad parallel parallel_enable parameters parent parse partial partition partitions pascal passing password password_grace_time password_lock_time password_reuse_max password_reuse_time password_verify_function patch path patindex pctincrease pctthreshold pctused pctversion percent percent_rank percentile_cont percentile_disc performance period period_add period_diff permanent physical pi pipe pipelined pivot pluggable plugin policy position post_transaction pow power pragma prebuilt precedes preceding precision prediction prediction_cost prediction_details prediction_probability prediction_set prepare present preserve prior priority private private_sga privileges procedural procedure procedure_analyze processlist profiles project prompt protection public publishingservername purge quarter query quick quiesce quota quotename radians raise rand range rank raw read reads readsize rebuild record records recover recovery recursive recycle redo reduced ref reference referenced references referencing refresh regexp_like register regr_avgx regr_avgy regr_count regr_intercept regr_r2 regr_slope regr_sxx regr_sxy reject rekey relational relative relaylog release release_lock relies_on relocate rely rem remainder rename repair repeat replace replicate replication required reset resetlogs resize resource respect restore restricted result result_cache resumable resume retention return returning returns reuse reverse revoke right rlike role roles rollback rolling rollup round row row_count rowdependencies rowid rownum rows rtrim rules safe salt sample save savepoint sb1 sb2 sb4 scan schema schemacheck scn scope scroll sdo_georaster sdo_topo_geometry search sec_to_time second seconds section securefile security seed segment select self semi sequence sequential serializable server servererror session session_user sessions_per_user set sets settings sha sha1 sha2 share shared shared_pool short show shrink shutdown si_averagecolor si_colorhistogram si_featurelist si_positionalcolor si_stillimage si_texture siblings sid sign sin size size_t sizes skip slave sleep smalldatetimefromparts smallfile snapshot some soname sort soundex source space sparse spfile split sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_small_result sql_variant_property sqlcode sqldata sqlerror sqlname sqlstate sqrt square standalone standby start starting startup statement static statistics stats_binomial_test stats_crosstab stats_ks_test stats_mode stats_mw_test stats_one_way_anova stats_t_test_ stats_t_test_indep stats_t_test_one stats_t_test_paired stats_wsr_test status std stddev stddev_pop stddev_samp stdev stop storage store stored str str_to_date straight_join strcmp strict string struct stuff style subdate subpartition subpartitions substitutable substr substring subtime subtring_index subtype success sum suspend switch switchoffset switchover sync synchronous synonym sys sys_xmlagg sysasm sysaux sysdate sysdatetimeoffset sysdba sysoper system system_user sysutcdatetime table tables tablespace tablesample tan tdo template temporary terminated tertiary_weights test than then thread through tier ties time time_format time_zone timediff timefromparts timeout timestamp timestampadd timestampdiff timezone_abbr timezone_minute timezone_region to to_base64 to_date to_days to_seconds todatetimeoffset trace tracking transaction transactional translate translation treat trigger trigger_nestlevel triggers trim truncate try_cast try_convert try_parse type ub1 ub2 ub4 ucase unarchived unbounded uncompress under undo unhex unicode uniform uninstall union unique unix_timestamp unknown unlimited unlock unnest unpivot unrecoverable unsafe unsigned until untrusted unusable unused update updated upgrade upped upper upsert url urowid usable usage use use_stored_outlines user user_data user_resources users using utc_date utc_timestamp uuid uuid_short validate validate_password_strength validation valist value values var var_samp varcharc vari varia variab variabl variable variables variance varp varraw varrawc varray verify version versions view virtual visible void wait wallet warning warnings week weekday weekofyear wellformed when whene whenev wheneve whenever where while whitespace window with within without work wrapped xdb xml xmlagg xmlattributes xmlcast xmlcolattval xmlelement xmlexists xmlforest xmlindex xmlnamespaces xmlpi xmlquery xmlroot xmlschema xmlserialize xmltable xmltype xor year year_to_month years yearweek",literal:"true false null unknown",built_in:"array bigint binary bit blob bool boolean char character date dec decimal float int int8 integer interval number numeric real record serial serial8 smallint text time timestamp tinyint varchar varchar2 varying void"},c:[{cN:"string",b:"'",e:"'",c:[e.BE,{b:"''"}]},{cN:"string",b:'"',e:'"',c:[e.BE,{b:'""'}]},{cN:"string",b:"`",e:"`",c:[e.BE]},e.CNM,e.CBCM,t,e.HCM]},e.CBCM,t,e.HCM]}}),hljs.registerLanguage("apache",function(e){var t={cN:"number",b:"[\\$%]\\d+"};return{aliases:["apacheconf"],cI:!0,c:[e.HCM,{cN:"section",b:"</?",e:">"},{cN:"attribute",b:/\w+/,relevance:0,k:{nomarkup:"order deny allow setenv rewriterule rewriteengine rewritecond documentroot sethandler errordocument loadmodule options header listen serverroot servername"},starts:{e:/$/,relevance:0,k:{literal:"on off all"},c:[{cN:"meta",b:"\\s\\[",e:"\\]$"},{cN:"variable",b:"[\\$%]\\{",e:"\\}",c:["self",t]},t,e.QSM]}}],i:/\S/}}),hljs.registerLanguage("kotlin",function(e){var t={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual trait volatile transient native default",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},r={cN:"symbol",b:e.UIR+"@"},a={cN:"subst",b:"\\${",e:"}",c:[e.CNM]},n={cN:"variable",b:"\\$"+e.UIR},i={cN:"string",v:[{b:'"""',e:'"""',c:[n,a]},{b:"'",e:"'",i:/\n/,c:[e.BE]},{b:'"',e:'"',i:/\n/,c:[e.BE,n,a]}]};a.c.push(i);var s={cN:"meta",b:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+e.UIR+")?"},c={cN:"meta",b:"@"+e.UIR,c:[{b:/\(/,e:/\)/,c:[e.inherit(i,{cN:"meta-string"})]}]},o=e.C("/\\*","\\*/",{c:[e.CBCM]}),l={v:[{cN:"type",b:e.UIR},{b:/\(/,e:/\)/,c:[]}]},d=l;return d.v[1].c=[l],l.v[1].c=[d],{aliases:["kt"],k:t,c:[e.C("/\\*\\*","\\*/",{relevance:0,c:[{cN:"doctag",b:"@[A-Za-z]+"}]}),e.CLCM,o,{cN:"keyword",b:/\b(break|continue|return|this)\b/,starts:{c:[{cN:"symbol",b:/@\w+/}]}},r,s,c,{cN:"function",bK:"fun",e:"[(]|$",rB:!0,eE:!0,k:t,i:/fun\s+(<.*>)?[^\s\(]+(\s+[^\s\(]+)\s*=/,relevance:5,c:[{b:e.UIR+"\\s*\\(",rB:!0,relevance:0,c:[e.UTM]},{cN:"type",b:/</,e:/>/,k:"reified",relevance:0},{cN:"params",b:/\(/,e:/\)/,endsParent:!0,k:t,relevance:0,c:[{b:/:/,e:/[=,\/]/,eW:!0,c:[l,e.CLCM,o],relevance:0},e.CLCM,o,s,c,i,e.CNM]},o]},{cN:"class",bK:"class interface trait",e:/[:\{(]|$/,eE:!0,i:"extends implements",c:[{bK:"public protected internal private constructor"},e.UTM,{cN:"type",b:/</,e:/>/,eB:!0,eE:!0,relevance:0},{cN:"type",b:/[,:]\s*/,e:/[<\(,]|$/,eB:!0,rE:!0},s,c]},i,{cN:"meta",b:"^#!/usr/bin/env",e:"$",i:"\n"},{cN:"number",b:"\\b(0[bB]([01]+[01_]+[01]+|[01]+)|0[xX]([a-fA-F0-9]+[a-fA-F0-9_]+[a-fA-F0-9]+|[a-fA-F0-9]+)|(([\\d]+[\\d_]+[\\d]+|[\\d]+)(\\.([\\d]+[\\d_]+[\\d]+|[\\d]+))?|\\.([\\d]+[\\d_]+[\\d]+|[\\d]+))([eE][-+]?\\d+)?)[lLfF]?",relevance:0}]}}),hljs.registerLanguage("xml",function(e){var t={eW:!0,i:/</,relevance:0,c:[{cN:"attr",b:"[A-Za-z0-9\\._:-]+",relevance:0},{b:/=\s*/,relevance:0,c:[{cN:"string",endsParent:!0,v:[{b:/"/,e:/"/},{b:/'/,e:/'/},{b:/[^\s"'=<>`]+/}]}]}]};return{aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],cI:!0,c:[{cN:"meta",b:"<!DOCTYPE",e:">",relevance:10,c:[{b:"\\[",e:"\\]"}]},e.C("\x3c!--","--\x3e",{relevance:10}),{b:"<\\!\\[CDATA\\[",e:"\\]\\]>",relevance:10},{cN:"meta",b:/<\?xml/,e:/\?>/,relevance:10},{b:/<\?(php)?/,e:/\?>/,sL:"php",c:[{b:"/\\*",e:"\\*/",skip:!0},{b:'b"',e:'"',skip:!0},{b:"b'",e:"'",skip:!0},e.inherit(e.ASM,{i:null,cN:null,c:null,skip:!0}),e.inherit(e.QSM,{i:null,cN:null,c:null,skip:!0})]},{cN:"tag",b:"<style(?=\\s|>)",e:">",k:{name:"style"},c:[t],starts:{e:"</style>",rE:!0,sL:["css","xml"]}},{cN:"tag",b:"<script(?=\\s|>)",e:">",k:{name:"script"},c:[t],starts:{e:"<\/script>",rE:!0,sL:["actionscript","javascript","handlebars","xml"]}},{cN:"tag",b:"</?",e:"/?>",c:[{cN:"name",b:/[^\/><\s]+/,relevance:0},t]}]}}),hljs.registerLanguage("markdown",function(e){return{aliases:["md","mkdown","mkd"],c:[{cN:"section",v:[{b:"^#{1,6}",e:"$"},{b:"^.+?\\n[=-]{2,}$"}]},{b:"<",e:">",sL:"xml",relevance:0},{cN:"bullet",b:"^\\s*([*+-]|(\\d+\\.))\\s+"},{cN:"strong",b:"[*_]{2}.+?[*_]{2}"},{cN:"emphasis",v:[{b:"\\*.+?\\*"},{b:"_.+?_",relevance:0}]},{cN:"quote",b:"^>\\s+",e:"$"},{cN:"code",v:[{b:"^```\\w*\\s*$",e:"^```[ ]*$"},{b:"`.+?`"},{b:"^( {4}|\\t)",e:"$",relevance:0}]},{b:"^[-\\*]{3,}",e:"$"},{b:"\\[.+?\\][\\(\\[].*?[\\)\\]]",rB:!0,c:[{cN:"string",b:"\\[",e:"\\]",eB:!0,rE:!0,relevance:0},{cN:"link",b:"\\]\\(",e:"\\)",eB:!0,eE:!0},{cN:"symbol",b:"\\]\\[",e:"\\]",eB:!0,eE:!0}],relevance:10},{b:/^\[[^\n]+\]:/,rB:!0,c:[{cN:"symbol",b:/\[/,e:/\]/,eB:!0,eE:!0},{cN:"link",b:/:\s*/,e:/$/,eB:!0}]}]}}),hljs.registerLanguage("swift",function(e){var t={keyword:"#available #colorLiteral #column #else #elseif #endif #file #fileLiteral #function #if #imageLiteral #line #selector #sourceLocation _ __COLUMN__ __FILE__ __FUNCTION__ __LINE__ Any as as! as? associatedtype associativity break case catch class continue convenience default defer deinit didSet do dynamic dynamicType else enum extension fallthrough false fileprivate final for func get guard if import in indirect infix init inout internal is lazy left let mutating nil none nonmutating open operator optional override postfix precedence prefix private protocol Protocol public repeat required rethrows return right self Self set static struct subscript super switch throw throws true try try! try? Type typealias unowned var weak where while willSet",literal:"true false nil",built_in:"abs advance alignof alignofValue anyGenerator assert assertionFailure bridgeFromObjectiveC bridgeFromObjectiveCUnconditional bridgeToObjectiveC bridgeToObjectiveCUnconditional c contains count countElements countLeadingZeros debugPrint debugPrintln distance dropFirst dropLast dump encodeBitsAsWords enumerate equal fatalError filter find getBridgedObjectiveCType getVaList indices insertionSort isBridgedToObjectiveC isBridgedVerbatimToObjectiveC isUniquelyReferenced isUniquelyReferencedNonObjC join lazy lexicographicalCompare map max maxElement min minElement numericCast overlaps partition posix precondition preconditionFailure print println quickSort readLine reduce reflect reinterpretCast reverse roundUpToAlignment sizeof sizeofValue sort split startsWith stride strideof strideofValue swap toString transcode underestimateCount unsafeAddressOf unsafeBitCast unsafeDowncast unsafeUnwrap unsafeReflect withExtendedLifetime withObjectAtPlusZero withUnsafePointer withUnsafePointerToObject withUnsafeMutablePointer withUnsafeMutablePointers withUnsafePointer withUnsafePointers withVaList zip"},r=e.C("/\\*","\\*/",{c:["self"]}),a={cN:"subst",b:/\\\(/,e:"\\)",k:t,c:[]},n={cN:"string",c:[e.BE,a],v:[{b:/"""/,e:/"""/},{b:/"/,e:/"/}]},i={cN:"number",b:"\\b([\\d_]+(\\.[\\deE_]+)?|0x[a-fA-F0-9_]+(\\.[a-fA-F0-9p_]+)?|0b[01_]+|0o[0-7_]+)\\b",relevance:0};return a.c=[i],{k:t,c:[n,e.CLCM,r,{cN:"type",b:"\\b[A-Z][\\wÀ-ʸ']*[!?]"},{cN:"type",b:"\\b[A-Z][\\wÀ-ʸ']*",relevance:0},i,{cN:"function",bK:"func",e:"{",eE:!0,c:[e.inherit(e.TM,{b:/[A-Za-z$_][0-9A-Za-z$_]*/}),{b:/</,e:/>/},{cN:"params",b:/\(/,e:/\)/,endsParent:!0,k:t,c:["self",i,n,e.CBCM,{b:":"}],i:/["']/}],i:/\[|%/},{cN:"class",bK:"struct protocol class extension enum",k:t,e:"\\{",eE:!0,c:[e.inherit(e.TM,{b:/[A-Za-z$_][\u00C0-\u02B80-9A-Za-z$_]*/})]},{cN:"meta",b:"(@discardableResult|@warn_unused_result|@exported|@lazy|@noescape|@NSCopying|@NSManaged|@objc|@objcMembers|@convention|@required|@noreturn|@IBAction|@IBDesignable|@IBInspectable|@IBOutlet|@infix|@prefix|@postfix|@autoclosure|@testable|@available|@nonobjc|@NSApplicationMain|@UIApplicationMain|@dynamicMemberLookup|@propertyWrapper)"},{bK:"import",e:/$/,c:[e.CLCM,r]}]}}),hljs.registerLanguage("plaintext",function(e){return{disableAutodetect:!0}}),hljs.registerLanguage("typescript",function(e){var t="[A-Za-z$_][0-9A-Za-z$_]*",r={keyword:"in if for while finally var new function do return void else break catch instanceof with throw case default try this switch continue typeof delete let yield const class public private protected get set super static implements enum export import declare type namespace abstract as from extends async await",literal:"true false null undefined NaN Infinity",built_in:"eval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Error EvalError InternalError RangeError ReferenceError StopIteration SyntaxError TypeError URIError Number Math Date String RegExp Array Float32Array Float64Array Int16Array Int32Array Int8Array Uint16Array Uint32Array Uint8Array Uint8ClampedArray ArrayBuffer DataView JSON Intl arguments require module console window document any number boolean string void Promise"},a={cN:"meta",b:"@"+t},n={b:"\\(",e:/\)/,k:r,c:["self",e.QSM,e.ASM,e.NM]},i={cN:"params",b:/\(/,e:/\)/,eB:!0,eE:!0,k:r,c:[e.CLCM,e.CBCM,a,n]},s={cN:"number",v:[{b:"\\b(0[bB][01]+)n?"},{b:"\\b(0[oO][0-7]+)n?"},{b:e.CNR+"n?"}],relevance:0},c={cN:"subst",b:"\\$\\{",e:"\\}",k:r,c:[]},o={b:"html`",e:"",starts:{e:"`",rE:!1,c:[e.BE,c],sL:"xml"}},l={b:"css`",e:"",starts:{e:"`",rE:!1,c:[e.BE,c],sL:"css"}},d={cN:"string",b:"`",e:"`",c:[e.BE,c]};return c.c=[e.ASM,e.QSM,o,l,d,s,e.RM],{aliases:["ts"],k:r,c:[{cN:"meta",b:/^\s*['"]use strict['"]/},e.ASM,e.QSM,o,l,d,e.CLCM,e.CBCM,s,{b:"("+e.RSR+"|\\b(case|return|throw)\\b)\\s*",k:"return throw case",c:[e.CLCM,e.CBCM,e.RM,{cN:"function",b:"(\\(.*?\\)|"+e.IR+")\\s*=>",rB:!0,e:"\\s*=>",c:[{cN:"params",v:[{b:e.IR},{b:/\(\s*\)/},{b:/\(/,e:/\)/,eB:!0,eE:!0,k:r,c:["self",e.CLCM,e.CBCM]}]}]}],relevance:0},{cN:"function",bK:"function",e:/[\{;]/,eE:!0,k:r,c:["self",e.inherit(e.TM,{b:t}),i],i:/%/,relevance:0},{bK:"constructor",e:/[\{;]/,eE:!0,c:["self",i]},{b:/module\./,k:{built_in:"module"},relevance:0},{bK:"module",e:/\{/,eE:!0},{bK:"interface",e:/\{/,eE:!0,k:"interface extends"},{b:/\$[(.]/},{b:"\\."+e.IR,relevance:0},a,n]}}),hljs.registerLanguage("nginx",function(e){var t={cN:"variable",v:[{b:/\$\d+/},{b:/\$\{/,e:/}/},{b:"[\\$\\@]"+e.UIR}]},r={eW:!0,l:"[a-z/_]+",k:{literal:"on off yes no true false none blocked debug info notice warn error crit select break last permanent redirect kqueue rtsig epoll poll /dev/poll"},relevance:0,i:"=>",c:[e.HCM,{cN:"string",c:[e.BE,t],v:[{b:/"/,e:/"/},{b:/'/,e:/'/}]},{b:"([a-z]+):/",e:"\\s",eW:!0,eE:!0,c:[t]},{cN:"regexp",c:[e.BE,t],v:[{b:"\\s\\^",e:"\\s|{|;",rE:!0},{b:"~\\*?\\s+",e:"\\s|{|;",rE:!0},{b:"\\*(\\.[a-z\\-]+)+"},{b:"([a-z\\-]+\\.)+\\*"}]},{cN:"number",b:"\\b\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}(:\\d{1,5})?\\b"},{cN:"number",b:"\\b\\d+[kKmMgGdshdwy]*\\b",relevance:0},t]};return{aliases:["nginxconf"],c:[e.HCM,{b:e.UIR+"\\s+{",rB:!0,e:"{",c:[{cN:"section",b:e.UIR}],relevance:0},{b:e.UIR+"\\s",e:";|{",rB:!0,c:[{cN:"attribute",b:e.UIR,starts:r}],relevance:0}],i:"[^\\s\\}]"}}),hljs.registerLanguage("go",function(e){var t={keyword:"break default func interface select case map struct chan else goto package switch const fallthrough if range type continue for import return var go defer bool byte complex64 complex128 float32 float64 int8 int16 int32 int64 string uint8 uint16 uint32 uint64 int uint uintptr rune",literal:"true false iota nil",built_in:"append cap close complex copy imag len make new panic print println real recover delete"};return{aliases:["golang"],k:t,i:"</",c:[e.CLCM,e.CBCM,{cN:"string",v:[e.QSM,{b:"'",e:"[^\\\\]'"},{b:"`",e:"`"}]},{cN:"number",v:[{b:e.CNR+"[i]",relevance:1},e.CNM]},{b:/:=/},{cN:"function",bK:"func",e:"\\s*(\\{|$)",eE:!0,c:[e.TM,{cN:"params",b:/\(/,e:/\)/,k:t,i:/["']/}]}]}}),hljs.registerLanguage("javascript",function(e){var t="[A-Za-z$_][0-9A-Za-z$_]*",r={keyword:"in of if for while finally var new function do return void else break catch instanceof with throw case default try this switch continue typeof delete let yield const export super debugger as async await static import from as",literal:"true false null undefined NaN Infinity",built_in:"eval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Error EvalError InternalError RangeError ReferenceError StopIteration SyntaxError TypeError URIError Number Math Date String RegExp Array Float32Array Float64Array Int16Array Int32Array Int8Array Uint16Array Uint32Array Uint8Array Uint8ClampedArray ArrayBuffer DataView JSON Intl arguments require module console window document Symbol Set Map WeakSet WeakMap Proxy Reflect Promise"},a={cN:"number",v:[{b:"\\b(0[bB][01]+)n?"},{b:"\\b(0[oO][0-7]+)n?"},{b:e.CNR+"n?"}],relevance:0},n={cN:"subst",b:"\\$\\{",e:"\\}",k:r,c:[]},i={b:"html`",e:"",starts:{e:"`",rE:!1,c:[e.BE,n],sL:"xml"}},s={b:"css`",e:"",starts:{e:"`",rE:!1,c:[e.BE,n],sL:"css"}},c={cN:"string",b:"`",e:"`",c:[e.BE,n]};n.c=[e.ASM,e.QSM,i,s,c,a,e.RM];var o=n.c.concat([e.CBCM,e.CLCM]);return{aliases:["js","jsx"],k:r,c:[{cN:"meta",relevance:10,b:/^\s*['"]use (strict|asm)['"]/},{cN:"meta",b:/^#!/,e:/$/},e.ASM,e.QSM,i,s,c,e.CLCM,e.CBCM,a,{b:/[{,\n]\s*/,relevance:0,c:[{b:t+"\\s*:",rB:!0,relevance:0,c:[{cN:"attr",b:t,relevance:0}]}]},{b:"("+e.RSR+"|\\b(case|return|throw)\\b)\\s*",k:"return throw case",c:[e.CLCM,e.CBCM,e.RM,{cN:"function",b:"(\\(.*?\\)|"+t+")\\s*=>",rB:!0,e:"\\s*=>",c:[{cN:"params",v:[{b:t},{b:/\(\s*\)/},{b:/\(/,e:/\)/,eB:!0,eE:!0,k:r,c:o}]}]},{cN:"",b:/\s/,e:/\s*/,skip:!0},{b:/</,e:/(\/[A-Za-z0-9\\._:-]+|[A-Za-z0-9\\._:-]+\/)>/,sL:"xml",c:[{b:/<[A-Za-z0-9\\._:-]+\s*\/>/,skip:!0},{b:/<[A-Za-z0-9\\._:-]+/,e:/(\/[A-Za-z0-9\\._:-]+|[A-Za-z0-9\\._:-]+\/)>/,skip:!0,c:[{b:/<[A-Za-z0-9\\._:-]+\s*\/>/,skip:!0},"self"]}]}],relevance:0},{cN:"function",bK:"function",e:/\{/,eE:!0,c:[e.inherit(e.TM,{b:t}),{cN:"params",b:/\(/,e:/\)/,eB:!0,eE:!0,c:o}],i:/\[|%/},{b:/\$[(.]/},e.METHOD_GUARD,{cN:"class",bK:"class",e:/[{;=]/,eE:!0,i:/[:"\[\]]/,c:[{bK:"extends"},e.UTM]},{bK:"constructor get set",e:/\{/,eE:!0}],i:/#(?!!)/}}),hljs.registerLanguage("php",function(e){var t={b:"\\$+[a-zA-Z_-ÿ][a-zA-Z0-9_-ÿ]*"},r={cN:"meta",b:/<\?(php)?|\?>/},a={cN:"string",c:[e.BE,r],v:[{b:'b"',e:'"'},{b:"b'",e:"'"},e.inherit(e.ASM,{i:null}),e.inherit(e.QSM,{i:null})]},n={v:[e.BNM,e.CNM]};return{aliases:["php","php3","php4","php5","php6","php7"],cI:!0,k:"and include_once list abstract global private echo interface as static endswitch array null if endwhile or const for endforeach self var while isset public protected exit foreach throw elseif include __FILE__ empty require_once do xor return parent clone use __CLASS__ __LINE__ else break print eval new catch __METHOD__ case exception default die require __FUNCTION__ enddeclare final try switch continue endfor endif declare unset true false trait goto instanceof insteadof __DIR__ __NAMESPACE__ yield finally",c:[e.HCM,e.C("//","$",{c:[r]}),e.C("/\\*","\\*/",{c:[{cN:"doctag",b:"@[A-Za-z]+"}]}),e.C("__halt_compiler.+?;",!1,{eW:!0,k:"__halt_compiler",l:e.UIR}),{cN:"string",b:/<<<['"]?\w+['"]?$/,e:/^\w+;?$/,c:[e.BE,{cN:"subst",v:[{b:/\$\w+/},{b:/\{\$/,e:/\}/}]}]},r,{cN:"keyword",b:/\$this\b/},t,{b:/(::|->)+[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/},{cN:"function",bK:"function",e:/[;{]/,eE:!0,i:"\\$|\\[|%",c:[e.UTM,{cN:"params",b:"\\(",e:"\\)",c:["self",t,e.CBCM,a,n]}]},{cN:"class",bK:"class interface",e:"{",eE:!0,i:/[:\(\$"]/,c:[{bK:"extends implements"},e.UTM]},{bK:"namespace",e:";",i:/[\.']/,c:[e.UTM]},{bK:"use",e:";",c:[e.UTM]},{b:"=>"},a,n]}}),hljs.registerLanguage("cs",function(e){var t={keyword:"abstract as base bool break byte case catch char checked const continue decimal default delegate do double enum event explicit extern finally fixed float for foreach goto if implicit in int interface internal is lock long object operator out override params private protected public readonly ref sbyte sealed short sizeof stackalloc static string struct switch this try typeof uint ulong unchecked unsafe ushort using virtual void volatile while add alias ascending async await by descending dynamic equals from get global group into join let nameof on orderby partial remove select set value var when where yield",literal:"null false true"},r={cN:"number",v:[{b:"\\b(0b[01']+)"},{b:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{b:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},a={cN:"string",b:'@"',e:'"',c:[{b:'""'}]},n=e.inherit(a,{i:/\n/}),i={cN:"subst",b:"{",e:"}",k:t},s=e.inherit(i,{i:/\n/}),c={cN:"string",b:/\$"/,e:'"',i:/\n/,c:[{b:"{{"},{b:"}}"},e.BE,s]},o={cN:"string",b:/\$@"/,e:'"',c:[{b:"{{"},{b:"}}"},{b:'""'},i]},l=e.inherit(o,{i:/\n/,c:[{b:"{{"},{b:"}}"},{b:'""'},s]});i.c=[o,c,a,e.ASM,e.QSM,r,e.CBCM],s.c=[l,c,n,e.ASM,e.QSM,r,e.inherit(e.CBCM,{i:/\n/})];var d={v:[o,c,a,e.ASM,e.QSM]},u=e.IR+"(<"+e.IR+"(\\s*,\\s*"+e.IR+")*>)?(\\[\\])?";return{aliases:["csharp","c#"],k:t,i:/::/,c:[e.C("///","$",{rB:!0,c:[{cN:"doctag",v:[{b:"///",relevance:0},{b:"\x3c!--|--\x3e"},{b:"</?",e:">"}]}]}),e.CLCM,e.CBCM,{cN:"meta",b:"#",e:"$",k:{"meta-keyword":"if else elif endif define undef warning error line region endregion pragma checksum"}},d,r,{bK:"class interface",e:/[{;=]/,i:/[^\s:,]/,c:[e.TM,e.CLCM,e.CBCM]},{bK:"namespace",e:/[{;=]/,i:/[^\s:]/,c:[e.inherit(e.TM,{b:"[a-zA-Z](\\.?\\w)*"}),e.CLCM,e.CBCM]},{cN:"meta",b:"^\\s*\\[",eB:!0,e:"\\]",eE:!0,c:[{cN:"meta-string",b:/"/,e:/"/}]},{bK:"new return throw await else",relevance:0},{cN:"function",b:"("+u+"\\s+)+"+e.IR+"\\s*\\(",rB:!0,e:/\s*[{;=]/,eE:!0,k:t,c:[{b:e.IR+"\\s*\\(",rB:!0,c:[e.TM],relevance:0},{cN:"params",b:/\(/,e:/\)/,eB:!0,eE:!0,k:t,relevance:0,c:[d,r,e.CBCM]},e.CLCM,e.CBCM]}]}}),hljs.registerLanguage("lua",function(e){var t="\\[=*\\[",r="\\]=*\\]",a={b:t,e:r,c:["self"]},n=[e.C("--(?!"+t+")","$"),e.C("--"+t,r,{c:[a],relevance:10})];return{l:e.UIR,k:{literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstringmodule next pairs pcall print rawequal rawget rawset require select setfenvsetmetatable tonumber tostring type unpack xpcall arg selfcoroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},c:n.concat([{cN:"function",bK:"function",e:"\\)",c:[e.inherit(e.TM,{b:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{cN:"params",b:"\\(",eW:!0,c:n}].concat(n)},e.CNM,e.ASM,e.QSM,{cN:"string",b:t,e:r,c:[a],relevance:5}])}}),hljs.registerLanguage("cpp",function(e){var t={cN:"keyword",b:"\\b[a-z\\d_]*_t\\b"},r={cN:"string",v:[{b:'(u8?|U|L)?"',e:'"',i:"\\n",c:[e.BE]},{b:"(u8?|U|L)?'(\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)|.)",e:"'",i:"."},{b:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\((?:.|\n)*?\)\1"/}]},a={cN:"number",v:[{b:"\\b(0b[01']+)"},{b:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{b:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},n={cN:"meta",b:/#\s*[a-z]+\b/,e:/$/,k:{"meta-keyword":"if else elif endif define undef warning error line pragma ifdef ifndef include"},c:[{b:/\\\n/,relevance:0},e.inherit(r,{cN:"meta-string"}),{cN:"meta-string",b:/<[^\n>]*>/,e:/$/,i:"\\n"},e.CLCM,e.CBCM]},i=e.IR+"\\s*\\(",s={keyword:"int float while private char catch import module export virtual operator sizeof dynamic_cast|10 typedef const_cast|10 const for static_cast|10 union namespace unsigned long volatile static protected bool template mutable if public friend do goto auto void enum else break extern using asm case typeid short reinterpret_cast|10 default double register explicit signed typename try this switch continue inline delete alignof constexpr consteval constinit decltype concept co_await co_return co_yield requires noexcept static_assert thread_local restrict _Bool complex _Complex _Imaginary atomic_bool atomic_char atomic_schar atomic_uchar atomic_short atomic_ushort atomic_int atomic_uint atomic_long atomic_ulong atomic_llong atomic_ullong new throw return and or not",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap array shared_ptr abort abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr",literal:"true false nullptr NULL"},c=[t,e.CLCM,e.CBCM,a,r];return{aliases:["c","cc","h","c++","h++","hpp","hh","hxx","cxx"],k:s,i:"</",c:c.concat([n,{b:"\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",e:">",k:s,c:["self",t]},{b:e.IR+"::",k:s},{v:[{b:/=/,e:/;/},{b:/\(/,e:/\)/},{bK:"new throw return else",e:/;/}],k:s,c:c.concat([{b:/\(/,e:/\)/,k:s,c:c.concat(["self"]),relevance:0}]),relevance:0},{cN:"function",b:"("+e.IR+"[\\*&\\s]+)+"+i,rB:!0,e:/[{;=]/,eE:!0,k:s,i:/[^\w\s\*&]/,c:[{b:i,rB:!0,c:[e.TM],relevance:0},{cN:"params",b:/\(/,e:/\)/,k:s,relevance:0,c:[e.CLCM,e.CBCM,r,a,t,{b:/\(/,e:/\)/,k:s,relevance:0,c:["self",e.CLCM,e.CBCM,r,a,t]}]},e.CLCM,e.CBCM,n]},{cN:"class",bK:"class struct",e:/[{;:]/,c:[{b:/</,e:/>/,c:["self"]},e.TM]}]),exports:{preprocessor:n,strings:r,k:s}}});
var selectRange=function(e){this.__element=e};selectRange.of=function(e){return e?new selectRange(e):{}},selectRange.prototype={constructor:selectRange,getCurPos:function(){var e=this.__element,t=0;if(document.selection){e.focus();var n=document.selection.createRange();n.moveStart("character",-e.value.length),t=n.text.length}else(e.selectionStart||"0"==e.selectionStart)&&(t=e.selectionStart);return t},setCurPos:function(e){var t=this.__element;if(t.setSelectionRange)t.focus(),t.setSelectionRange(e,e);else if(t.createTextRange){var n=t.createTextRange();n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",e),n.select()}},getSelectText:function(){var e,t="";return window.getSelection?e=window.getSelection():document.selection&&(e=document.selection.createRange()),(t=e.text)||(t=e),t},setSelectText:function(e,t){var n=this.__element,c=(e=parseInt(e),t=parseInt(t),n.value.length);if(c)if(e||(e=0),t||(t=c),e>c&&(e=c),t>c&&(t=c),e<0&&(e=c+e),t<0&&(t=c+t),n.createTextRange){var a=n.createTextRange();a.moveStart("character",-c),a.moveEnd("character",-c),a.moveStart("character",e),a.moveEnd("character",t),a.select()}else n.setSelectionRange(e,t),n.focus()},insertAfterText:function(e){var t=this.__element;if(document.selection)t.focus(),document.selection.createRange().text=e,t.focus();else if(t.selectionStart||"0"==t.selectionStart){var n=t.selectionStart,c=t.selectionEnd,a=t.scrollTop;t.value=t.value.substring(0,n)+e+t.value.substring(c,t.value.length),t.focus(),t.selectionStart=n+e.length,t.selectionEnd=n+e.length,t.scrollTop=a}else t.value+=e,t.focus()}};
!function(e){var o={commentFormSelector:"#commentForm",commentsWrapEl:e(".comments-wrap"),toggleLoadComments:e.noop(),onRemoveForm:e.noop(),url:"",params:{},commentedAutoScrollToTop:!0,contentField:"content",commentMaxLength:1e3},t=function(t){"object"!=typeof t||(this.option=e.extend({},o,t))};t.prototype.init=function(){this.commentsWrapEl=this.option.commentsWrapEl,this.initCommentForm(),this.initToolBoxPopup()},t.prototype.initCommentForm=function(){var o=this;o.commentFormVue=new Vue({el:o.option.commentFormSelector,data:function(){return{commentMaxLength:o.option.commentMaxLength||1e3,commentContent:"",commentPublishLoading:!1,tipMessage:{show:!1,content:"",className:""},curEmojiType:"People",emojiList:[{type:"People",items:["bowtie","smile","laughing","blush","smiley","relaxed","smirk","heart_eyes","kissing_heart","kissing_closed_eyes","flushed","relieved","satisfied","grin","wink","stuck_out_tongue_winking_eye","stuck_out_tongue_closed_eyes","grinning","kissing","kissing_smiling_eyes","stuck_out_tongue","sleeping","worried","frowning","anguished","open_mouth","grimacing","confused","hushed","expressionless","unamused","sweat_smile","sweat","disappointed_relieved","weary","pensive","disappointed","confounded","fearful","cold_sweat","persevere","cry","sob","joy","astonished","scream","neckbeard","tired_face","angry","rage","triumph","sleepy","yum","mask","sunglasses","dizzy_face","imp","smiling_imp","neutral_face","no_mouth","innocent","alien","yellow_heart","blue_heart","purple_heart","heart","green_heart","broken_heart","heartbeat","heartpulse","two_hearts","revolving_hearts","cupid","sparkling_heart","sparkles","star","star2","dizzy","boom","collision","anger","exclamation","question","grey_exclamation","grey_question","zzz","dash","sweat_drops","notes","musical_note","fire","hankey","poop","shit","+1","thumbsup","-1","thumbsdown","ok_hand","punch","facepunch","fist","v","wave","hand","raised_hand","open_hands","point_up","point_down","point_left","point_right","raised_hands","pray","point_up_2","clap","muscle","metal","fu","walking","runner","running","couple","family","two_men_holding_hands","two_women_holding_hands","dancer","dancers","ok_woman","no_good","information_desk_person","raising_hand","bride_with_veil","person_with_pouting_face","person_frowning","bow","couplekiss","couple_with_heart","massage","haircut","nail_care","boy","girl","woman","man","baby","older_woman","older_man","person_with_blond_hair","man_with_gua_pi_mao","man_with_turban","construction_worker","cop","angel","princess","smiley_cat","smile_cat","heart_eyes_cat","kissing_cat","smirk_cat","scream_cat","crying_cat_face","joy_cat","pouting_cat","japanese_ogre","japanese_goblin","see_no_evil","hear_no_evil","speak_no_evil","guardsman","skull","feet","lips","kiss","droplet","ear","eyes","nose","tongue","love_letter","bust_in_silhouette","busts_in_silhouette","speech_balloon","thought_balloon","feelsgood","finnadie","goberserk","godmode","hurtrealbad","rage1","rage2","rage3","rage4","suspect","trollface"]},{type:"Nature",items:["sunny","umbrella","cloud","snowflake","snowman","zap","cyclone","foggy","ocean","cat","dog","mouse","hamster","rabbit","wolf","frog","tiger","koala","bear","pig","pig_nose","cow","boar","monkey_face","monkey","horse","racehorse","camel","sheep","elephant","panda_face","snake","bird","baby_chick","hatched_chick","hatching_chick","chicken","penguin","turtle","bug","honeybee","ant","beetle","snail","octopus","tropical_fish","fish","whale","whale2","dolphin","cow2","ram","rat","water_buffalo","tiger2","rabbit2","dragon","goat","rooster","dog2","pig2","mouse2","ox","dragon_face","blowfish","crocodile","dromedary_camel","leopard","cat2","poodle","paw_prints","bouquet","cherry_blossom","tulip","four_leaf_clover","rose","sunflower","hibiscus","maple_leaf","leaves","fallen_leaf","herb","mushroom","cactus","palm_tree","evergreen_tree","deciduous_tree","chestnut","seedling","blossom","ear_of_rice","shell","globe_with_meridians","sun_with_face","full_moon_with_face","new_moon_with_face","new_moon","waxing_crescent_moon","first_quarter_moon","waxing_gibbous_moon","full_moon","waning_gibbous_moon","last_quarter_moon","waning_crescent_moon","last_quarter_moon_with_face","first_quarter_moon_with_face","moon","earth_africa","earth_americas","earth_asia","volcano","milky_way","partly_sunny","octocat","squirrel"]},{type:"Objects",items:["bamboo","gift_heart","dolls","school_satchel","mortar_board","flags","fireworks","sparkler","wind_chime","rice_scene","jack_o_lantern","ghost","santa","christmas_tree","gift","bell","no_bell","tanabata_tree","tada","confetti_ball","balloon","crystal_ball","cd","dvd","floppy_disk","camera","video_camera","movie_camera","computer","tv","iphone","phone","telephone","telephone_receiver","pager","fax","minidisc","vhs","sound","speaker","mute","loudspeaker","mega","hourglass","hourglass_flowing_sand","alarm_clock","watch","radio","satellite","loop","mag","mag_right","unlock","lock","lock_with_ink_pen","closed_lock_with_key","key","bulb","flashlight","high_brightness","low_brightness","electric_plug","battery","calling","email","mailbox","postbox","bath","bathtub","shower","toilet","wrench","nut_and_bolt","hammer","seat","moneybag","yen","dollar","pound","euro","credit_card","money_with_wings","e-mail","inbox_tray","outbox_tray","envelope","incoming_envelope","postal_horn","mailbox_closed","mailbox_with_mail","mailbox_with_no_mail","package","door","smoking","bomb","gun","hocho","pill","syringe","page_facing_up","page_with_curl","bookmark_tabs","bar_chart","chart_with_upwards_trend","chart_with_downwards_trend","scroll","clipboard","calendar","date","card_index","file_folder","open_file_folder","scissors","pushpin","paperclip","black_nib","pencil2","straight_ruler","triangular_ruler","closed_book","green_book","blue_book","orange_book","notebook","notebook_with_decorative_cover","ledger","books","bookmark","name_badge","microscope","telescope","newspaper","football","basketball","soccer","baseball","tennis","8ball","rugby_football","bowling","golf","mountain_bicyclist","bicyclist","horse_racing","snowboarder","swimmer","surfer","ski","spades","hearts","clubs","diamonds","gem","ring","trophy","musical_score","musical_keyboard","violin","space_invader","video_game","black_joker","flower_playing_cards","game_die","dart","mahjong","clapper","memo","pencil","book","art","microphone","headphones","trumpet","saxophone","guitar","shoe","sandal","high_heel","lipstick","boot","shirt","tshirt","necktie","womans_clothes","dress","running_shirt_with_sash","jeans","kimono","bikini","ribbon","tophat","crown","womans_hat","mans_shoe","closed_umbrella","briefcase","handbag","pouch","purse","eyeglasses","fishing_pole_and_fish","coffee","tea","sake","baby_bottle","beer","beers","cocktail","tropical_drink","wine_glass","fork_and_knife","pizza","hamburger","fries","poultry_leg","meat_on_bone","spaghetti","curry","fried_shrimp","bento","sushi","fish_cake","rice_ball","rice_cracker","rice","ramen","stew","oden","dango","egg","bread","doughnut","custard","icecream","ice_cream","shaved_ice","birthday","cake","cookie","chocolate_bar","candy","lollipop","honey_pot","apple","green_apple","tangerine","lemon","cherries","grapes","watermelon","strawberry","peach","melon","banana","pear","pineapple","sweet_potato","eggplant","tomato","corn"]},{type:"Places",items:["house","house_with_garden","school","office","post_office","hospital","bank","convenience_store","love_hotel","hotel","wedding","church","department_store","european_post_office","city_sunrise","city_sunset","japanese_castle","european_castle","tent","factory","tokyo_tower","japan","mount_fuji","sunrise_over_mountains","sunrise","stars","statue_of_liberty","bridge_at_night","carousel_horse","rainbow","ferris_wheel","fountain","roller_coaster","ship","speedboat","boat","sailboat","rowboat","anchor","rocket","airplane","helicopter","steam_locomotive","tram","mountain_railway","bike","aerial_tramway","suspension_railway","mountain_cableway","tractor","blue_car","oncoming_automobile","car","red_car","taxi","oncoming_taxi","articulated_lorry","bus","oncoming_bus","rotating_light","police_car","oncoming_police_car","fire_engine","ambulance","minibus","truck","train","station","train2","bullettrain_front","bullettrain_side","light_rail","monorail","railway_car","trolleybus","ticket","fuelpump","vertical_traffic_light","traffic_light","warning","construction","beginner","atm","slot_machine","busstop","barber","hotsprings","checkered_flag","crossed_flags","izakaya_lantern","moyai","circus_tent","performing_arts","round_pushpin","triangular_flag_on_post","jp","kr","cn","us","fr","es","it","ru","gb","uk","de"]},{type:"Symbols",items:["one","two","three","four","five","six","seven","eight","nine","keycap_ten","1234","zero","hash","symbols","arrow_backward","arrow_down","arrow_forward","arrow_left","capital_abcd","abcd","abc","arrow_lower_left","arrow_lower_right","arrow_right","arrow_up","arrow_upper_left","arrow_upper_right","arrow_double_down","arrow_double_up","arrow_down_small","arrow_heading_down","arrow_heading_up","leftwards_arrow_with_hook","arrow_right_hook","left_right_arrow","arrow_up_down","arrow_up_small","arrows_clockwise","arrows_counterclockwise","rewind","fast_forward","information_source","ok","twisted_rightwards_arrows","repeat","repeat_one","new","top","up","cool","free","ng","cinema","koko","signal_strength","u5272","u5408","u55b6","u6307","u6708","u6709","u6e80","u7121","u7533","u7a7a","u7981","sa","restroom","mens","womens","baby_symbol","no_smoking","parking","wheelchair","metro","baggage_claim","accept","wc","potable_water","put_litter_in_its_place","secret","congratulations","m","passport_control","left_luggage","customs","ideograph_advantage","cl","sos","id","no_entry_sign","underage","no_mobile_phones","do_not_litter","non-potable_water","no_bicycles","no_pedestrians","children_crossing","no_entry","eight_spoked_asterisk","sparkle","eight_pointed_black_star","heart_decoration","vs","vibration_mode","mobile_phone_off","chart","currency_exchange","aries","taurus","gemini","cancer","leo","virgo","libra","scorpius","sagittarius","capricorn","aquarius","pisces","ophiuchus","six_pointed_star","negative_squared_cross_mark","a","b","ab","o2","diamond_shape_with_a_dot_inside","recycle","end","back","on","soon","clock1","clock130","clock10","clock1030","clock11","clock1130","clock12","clock1230","clock2","clock230","clock3","clock330","clock4","clock430","clock5","clock530","clock6","clock630","clock7","clock730","clock8","clock830","clock9","clock930","heavy_dollar_sign","copyright","registered","tm","x","heavy_exclamation_mark","bangbang","interrobang","o","heavy_multiplication_x","heavy_plus_sign","heavy_minus_sign","heavy_division_sign","white_flower","100","heavy_check_mark","ballot_box_with_check","radio_button","link","curly_loop","wavy_dash","part_alternation_mark","trident","black_small_square","white_small_square","black_medium_small_square","white_medium_small_square","black_medium_square","white_medium_square","black_large_square","white_large_square","white_check_mark","black_square_button","white_square_button","black_circle","white_circle","red_circle","large_blue_circle","large_blue_diamond","large_orange_diamond","small_blue_diamond","small_orange_diamond","small_red_triangle","small_red_triangle_down","shipit"]}]}},computed:{curEmojiItems:function(){for(var e=0,o=this.emojiList.length;e<o;e++)if(this.emojiList[e].type===this.curEmojiType)return this.emojiList[e].items;return this.emojiList[0].items},commentContentIsEmpty:function(){return 0===this.commentContent.length},commentCountText:function(){return this.commentContent.length+"/"+this.commentMaxLength}},methods:{insertEmoji:function(o){this.clearMessage();var t=":"+o+":";this.insertContent(t),e(this.$refs.showEmojiBox).popup("hide")},insertProject:function(){this.clearMessage();if(this.insertContent("#此处输入软件#")){var e=selectRange.of(this.$refs.commentTextarea),o=e.getCurPos();e.setSelectText(o-("#此处输入软件#".length-1),o-1)}},publishComment:function(){var t=this;if(!t.tweetPublishLoading)if(t.clearMessage(),t.commentContentIsEmpty)t.showMessage("error","内容不能为空",2e3);else if(t.commentContent.length>t.commentMaxLength)t.showMessage("error","最多只能输入"+t.commentMaxLength+"个字符！",2e3);else{t.commentPublishLoading=!0;var a={};a[o.option.contentField]=t.commentContent,"object"==typeof o.option.params&&(a=e.extend({},a,o.option.params)),e.post(o.option.url,a,function(a){if(1===a.code){a.message&&e("body").toast({type:"success",content:a.message}),t.commentContent="",e.isFunction(o.option.toggleLoadComments)&&o.option.toggleLoadComments.call(this);var n=e(".float-menu .comment-btn");if(a.result&&void 0!==a.result.replyCount){var r=a.result.replyCount;e("[data-article-reply-count]").html(r),n.attr("title","共有 "+r+" 条评论")}n.find(".icon").removeClass("outline"),!0===o.option.commentedAutoScrollToTop&&e("html, body").stop().animate({scrollTop:o.commentsWrapEl.offset().top-80},500,"swing"),t.removeCommentForm()}else t.showMessage("error",a.message||"发布失败",2e3)}).fail(function(){t.showMessage("error","网络错误，请稍后再试！",2e3)}).always(function(){t.commentPublishLoading=!1})}},commentContentOnKeyDown:function(e){(e.metaKey||e.ctrlKey)&&13===e.keyCode&&this.publishComment()},insertContent:function(e){return!this.commentPublishLoading&&(this.commentContent.length>=this.commentMaxLength||this.commentContent.length+e.length>this.commentMaxLength?void this.showMessage("error","最多只能输入"+this.commentMaxLength+"个字符！",2e3):(selectRange.of(this.$refs.commentTextarea).insertAfterText(e),this.commentContent=this.$refs.commentTextarea.value,!0))},showMessage:function(e,o,t){var a=this;a.tipMessage.className="success"===e?"positive":"negative",a.tipMessage.content=o;var n=parseInt(t)||0;a.tipMessage.show=!0,n>0&&setTimeout(function(){a.clearMessage()},n)},clearMessage:function(){this.tipMessage.className="",this.tipMessage.content="",this.tipMessage.show=!1},focus:function(){this.$refs.commentTextarea.focus()},removeCommentForm:function(){this.$el.remove(),this.$destroy(),e.isFunction(o.option.onRemoveForm)&&o.option.onRemoveForm.call(this)}}}),o.commentFormVue.$el.vueInstance=o.commentFormVue},t.prototype.focus=function(){this.commentFormVue&&e.isFunction(this.commentFormVue.focus)&&this.commentFormVue.focus()},t.prototype.insertContent=function(o){this.commentFormVue&&e.isFunction(this.commentFormVue.insertContent)&&this.commentFormVue.insertContent(o)},t.prototype.initToolBoxPopup=function(){e(this.commentFormVue.$el).find(".toolbox > .item[data-popup]").each(function(o,t){var a=e(t),n=e(a).parent().find(".toolbox-popup."+a.attr("data-popup"));a.popup({position:"bottom left",popup:n,on:"toolbox-picture"===a.attr("data-popup")?"manual":"click",exclusive:!0})})},window.OSCCommentForm=t}(window.jQuery||window.$);
!function(t){var o={btnSelector:".collect-btn",btnLabelSelector:"[data-label]",popupSelector:".collect.popup",formSelector:".collect.form",uniqueFlag:"",objectId:"",objectKey:"",objectFromOSC:!0,objectTypeId:"",userId:"",recommendTags:[],maxNum:99,requiredTags:!1,activeClass:"active",uncollectedIconClass:"icon star outline",collectedIconClass:"icon star yellow",uncollectedText:"收藏",collectedText:"取消收藏",initFormatLabel:!0},e=function(e){if("object"==typeof e)return this.option=t.extend({},o,e),this._collectPopupBtn=t(this.option.btnSelector+'[data-flag="'+this.option.uniqueFlag+'"]'),this._collectLabel=this._collectPopupBtn.find(this.option.btnLabelSelector),this._collectPopup=t(this.option.popupSelector+'[data-flag="'+this.option.uniqueFlag+'"]'),void(this._collectForm=this._collectPopup.find(this.option.formSelector))};e.prototype.init=function(){this.option.initFormatLabel&&this._collectLabel.length>0&&e.labelFormat(this._collectLabel,this.option.maxNum),this.insertRecommendTags(),this.btnPopup(),this.blurTagEvent(),this.formInit(),this.bindTagsEvent()},e.prototype.insertRecommendTags=function(){if(this.option.recommendTags.length>0){for(var t="",o=this.option.recommendTags.length,e=this._collectPopup.find(".recommend-tags"),a=0;a<o;a++){var n=this.option.recommendTags[a];t+='<a class="ui label" data-value="'+n+'">'+n+"</a>"}e.find(".labels").html(t+e.find(".labels").html()),e.show()}},e.prototype.btnPopup=function(){var o=this;o._collectPopupBtn.popup({popup:o._collectPopup,position:"bottom center",on:"click",onShow:function(){if(o._collectPopupBtn.hasClass(o.option.activeClass)){var a={type:o.option.objectTypeId,user:o.option.userId};return o.option.objectFromOSC?a.id=o.option.objectId:a.articleKey=o.option.objectKey,t.post(page.space_user_url+"/favorites/cancel",a,function(a){var n=a&&"string"==typeof a?JSON.parse(a):a;if(1===n.code){var c=e.getCollectNumFriendly(n.result,o.option.maxNum),l='[data-obj-type="'+o.option.objectTypeId+'"]';o.option.objectFromOSC?l+='[data-id="'+o.option.objectId+'"]':l+='[data-key="'+o.option.objectKey+'"]';var i=t(o.option.btnSelector+l);i.removeClass(o.option.activeClass),i.each(function(e,a){var n=t(a),c=n.attr("data-uncollected-class")||o.option.uncollectedIconClass;n.find("i").attr("class",c);var l=n.attr("data-uncollected-text")||o.option.uncollectedText;n.find("[data-btn-text]").text(l)});var r=i.find(o.option.btnLabelSelector);r.length>0&&r.html("收藏("+c+")"),t("[data-collect-count]"+l).each(function(o,e){var a=t(e),n=c,l=a.data("min");l&&l>0&&(n=c>=l?c:""),a.data("format")&&n>0&&(n=window.common.formatNumberK(n)),a.text(n)});let a=document.createEvent("Event");a.initEvent("collect",!0,!0),o._collectPopupBtn[0].dispatchEvent(a)}else t("body").toast({type:"error",content:"取消收藏失败"})}),!1}o._collectForm.form("reset"),o._collectForm.message("hideAll")},onVisible:function(){o._collectPopupBtn.hasClass(o.option.activeClass)||o._collectForm.find('input[name="tags"]').focus()}})},e.prototype.showPopup=function(){this._collectPopupBtn.popup("show")},e.prototype.blurTagEvent=function(){var t=this._collectForm.find("input[name=tags]");this._collectForm.on("focusout",t,function(o){setTimeout(function(){t.scrollLeft(t[0].scrollWidth)},0)})},e.prototype.formInit=function(){var o=this;o._collectForm.form({inline:!0,keyboardShortcuts:!1,on:"blur"}),o.option.requiredTags&&o._collectForm.form("add rule","tags",{identifier:"tags",rules:[{type:"empty",prompt:"必须填写收藏标签"}]}),o._collectForm.api({url:page.space_user_url+"/favorites/add",method:"post",serializeForm:!0,beforeSend:function(t){if(o._collectForm.message("hideAll"),!o._collectForm.form("validate form"))return!1;var e=t.data;return t.data={type:o.option.objectTypeId,user:o.option.userId,tags:e.tags},o.option.objectFromOSC?t.data.id=o.option.objectId:t.data.articleKey=o.option.objectKey,t},onSuccess:function(a,n,c){if(1===a.code){a.message&&t("body").toast({type:"success",content:a.message});var l=e.getCollectNumFriendly(a.result,o.option.maxNum);o._collectForm.form("reset");var i='[data-obj-type="'+o.option.objectTypeId+'"]';o.option.objectFromOSC?i+='[data-id="'+o.option.objectId+'"]':i+='[data-key="'+o.option.objectKey+'"]';var r=t(o.option.btnSelector+i);r.addClass(o.option.activeClass),r.each(function(e,a){var n=t(a),c=n.attr("data-collected-class")||o.option.collectedIconClass;n.find("i").attr("class",c);var l=n.attr("data-collected-text")||o.option.collectedText;n.find("[data-btn-text]").text(l)});var p=r.find(o.option.btnLabelSelector);p.length>0&&p.html("已收藏("+l+")"),t("[data-collect-count]"+i).each(function(o,e){var a=t(e),n=l,c=a.data("min");c&&c>0&&(n=l>=c?l:""),a.data("format")&&n>0&&(n=window.common.formatNumberK(n)),a.text(n)});let n=document.createEvent("Event");n.initEvent("collect",!0,!0),o._collectForm[0].dispatchEvent(n),o._collectPopupBtn.popup("hide")}else o._collectForm.message({type:"negative",content:"收藏失败"});const s=window.common.getUrlParams(),d=s.channel||"",u=s.recid||"",m=s.scene||"";page.rocommendGrayStatus&&("2"!==o.option.objectTypeId&&"3"!==o.option.objectTypeId||t.post(page.api_prefix+"/IndexFeed/behavior_common_action",{obj_type:o.option.objectTypeId||"",obj_id:o.option.objectId||"",actionType:"COLLECT",channel:d,recid:u,scene:m},function(t){}))},onFailure:function(t,e){o._collectForm.message({type:"negative",content:"网络错误，请稍后再试"})}})},e.prototype.bindTagsEvent=function(){var o=this;o._collectForm.on("click",".label",function(a){var n=t(this).attr("data-value"),c=o._collectForm.find("input[name=tags]"),l=e.commaStr2Arr(c.val()),i=-1;l.some(function(t,o){return t.trim()===n&&(i=o,!0)})?l.splice(i,1):l.push(n),c.val(l.join(",")).focus(),o._collectForm.form("validate form")})},e.getCollectNumFriendly=function(t,o){return t},e.labelFormat=function(t,o){var a=t.html();a=a.replace(/\((.*)?\)/,function(t,a){return"("+e.getCollectNumFriendly(a,o)+")"}),t.html(a)},e.commaStr2Arr=function(t){var o=[];t&&t.trim().length>0&&(o=(o=t.trim().replace(/，/gi,",").split(",")).filter(function(t){return t&&t.trim()}));return o},window.OSCCollect=e;var a=function(){t(".collect-btn span.label").each(function(a,n){var c=t(n),l=parseInt(c.attr("data-max"))||o.maxNum;e.labelFormat(c,l)})},n=function(){if(t(document).on("click",".collect-btn",function(a){var n=t(this);if(!window.common.checkLoginForWeChat(null,function(){try{if(window.page&&page.objType&&page.objId){var o=t(".collect-btn").index(n),e="OSC_COLLECT_"+page.objType+"_"+page.objId+"_CACHE";localStorage.setItem(e,o)}}catch(t){}}))return!1;var c=n.attr("data-user-id"),l=parseInt(n.attr("data-obj-type")),i=n.attr("data-current-user-id");if(c===i){var r="内容";switch(l){case 1:r="软件";break;case 2:r="问答";break;case 3:r="博客";break;case 4:r="新闻"}return t("body").toast({type:"error",content:"不能收藏自己的"+r}),!1}var p=n.attr("data-flag")||Math.random().toString(36).substr(2,6);n.attr("data-flag",p);var s=e.commaStr2Arr(n.attr("data-recommend-tags")),d=n.attr("data-id"),u=n.attr("data-key"),m=!0;d&&parseInt(d)>0?m=!0:u&&(m=!1);var f={btnSelector:".collect-btn",popupSelector:".collect.popup",uniqueFlag:p,objectId:d,objectKey:u,objectFromOSC:m,objectTypeId:n.attr("data-obj-type"),userId:n.attr("data-current-user-id"),recommendTags:s,maxNum:parseInt(n.attr("data-max"))||o.maxNum,requiredTag:void 0!==n.attr("data-tag-required"),initFormatLabel:!1};0===t('.collect.popup[data-flag="'+p+'"]').length&&!0!==window.oscCollectLoading&&(window.oscCollectLoading=!0,t.get(page.space_user_url+"/widgets/collect_popup",function(o){var a=document.createElement("div");a.innerHTML=o,t(a).find(".collect.popup").attr("data-flag",p),document.body.appendChild(a);var n=new e(f);n.init(),n.showPopup()}).always(function(){window.oscCollectLoading=!1}))}),void 0!==window.localStorage&&window.page&&page.g_user_code&&page.objType&&page.objId){var a="OSC_COLLECT_"+page.objType+"_"+page.objId+"_CACHE",n=localStorage.getItem(a)||"";if(n){localStorage.removeItem(a);var c=t(".collect-btn:eq("+(parseInt(n)||0)+")");if(c.length>0){var l=c.offset().top;t("html, body").stop(!0).animate({scrollTop:l-30},500,"swing"),setTimeout(function(){c.click()},1e3)}}}};t(function(){a(),n()})}(window.jQuery||window.$);
!function(t){const e={stickySelector:"",containerSelector:"",throttle:20,offsetTop:0},o=function(o){const i=this;if("object"==typeof o)return i.option=t.extend({},e,o),i.getStickyEl=function(){return t(i.option.stickySelector)},i.getContainerEl=function(){return t(i.option.containerSelector)},void(i.position={top:0,left:0,width:0,height:0})};o.prototype.init=function(){const e=this.getStickyEl();if(0===e.length)return!1;const o=e.get(0);this.position={top:o.offsetTop,left:o.offsetLeft,width:o.offsetWidth,height:o.offsetHeight},this.refresh();const i=window.common.throttle(this.render.bind(this),this.option.throttle);t(window).on("scroll",i);const n=window.common.throttle(this.refresh.bind(this),this.option.throttle);t(window).on("resize",n)},o.prototype.render=function(){const t=this.getStickyEl();if(0===t.length)return!1;const e=t.get(0),o=this.getContainerEl().get(0);this._render(e,o,this.position,this.option.offsetTop)},o.prototype.refresh=function(){const t=this,e=t.getStickyEl();if(0===e.length)return!1;const o=e.get(0);o.classList.remove("sticky");const i=t._getElementPagePosition(o);o.style.top="initial",t.position.top=i?i.top:o.offsetTop,o.style.top=t.position.top+"px",o.style.width="auto",t.position.width=o.offsetWidth,o.style.width=t.position.width+"px",o.style.left="initial",t.position.left=i?i.left:o.offsetLeft,o.style.left=t.position.left+"px",o.style.height="auto",t.position.height=o.offsetHeight,o.style.height=t.position.height+"px";const n=t.getContainerEl().get(0);n&&(n.style.minHeight=t.position.height+"px"),t.render()},o.prototype._render=function(t,e,o,i){const n=window.pageXOffset,s=window.pageYOffset,l=window.innerHeight,h=o.top+o.height,f=o.top-s,p=t.getBoundingClientRect(),r=e&&e.getBoundingClientRect(),c=e&&r.bottom;let g=!1;if(f<=i)if(o.height<l-i){t.classList.add("sticky"),t.style.width=o.width+"px",t.style.height=o.height+"px",t.style.left=o.left-n+"px";const s=e&&r.bottom-i<=o.height;t.style.top=e&&s?c-o.height+"px":i+"px"}else if(h-s<l){t.classList.add("sticky"),t.style.width=o.width+"px",t.style.height=o.height+"px",t.style.left=o.left-n+"px";const i=e&&(p.bottom>=r.bottom||r.bottom<l);t.style.top=e&&i?c-o.height+"px":l-o.height+"px"}else g=!0;else g=!0;g&&(t.classList.remove("sticky"),t.style.width=null,t.style.height=null,t.style.left=null,t.style.top=null)},o.prototype._getElementPagePosition=function(t){let e=t.offsetLeft,o=t.offsetTop,i=t.offsetParent;for(;null!==i;)e+=i.offsetLeft,o+=i.offsetTop+i.clientTop,i=i.offsetParent;return{left:e,top:o}},window.OSCSticky=o}(window.jQuery||window.$);
!function(t){const o={buttonSelector:"[data-follow-button]",buttonTextSelector:"[data-follow-button-text]",buttonIconSelector:"[data-follow-button-icon]",buttonFollowStatusDataAttr:"data-follow-status",statusCode:{UN_FOLLOW:0,FOLLOWED:1},statusStyles:{default:{UN_FOLLOW:{normal:{text:"关注",icon:"heart outline icon"},hover:{text:"关注",icon:"heart outline icon"}},FOLLOWED:{normal:{text:"已关注",icon:"heart icon"},hover:{text:"已关注",icon:"heart icon"}}},plus:{UN_FOLLOW:{normal:{text:"关注",icon:"oicon oicon-add"},hover:{text:"关注",icon:"oicon oicon-add"}},FOLLOWED:{normal:{text:"已关注",icon:""},hover:{text:"已关注",icon:""}}}},onClick(t,o,n){}},n=function(n){"object"!=typeof n||(this.option=t.extend({},o,n))};n.prototype={constructor:n,init(){this.renderDefaultStatus(),this.bindHover(),this.bindClick()},renderDefaultStatus(){const o=this;t(o.option.buttonSelector).each((n,e)=>{const i=t(e),a=parseInt(i.attr(o.option.buttonFollowStatusDataAttr));o.setBtnFollowStatus(a,"normal",i)})},bindHover(){const o=this;t(document).on("mouseenter",o.option.buttonSelector,function(){const n=t(this),e=parseInt(n.attr(o.option.buttonFollowStatusDataAttr));o.setBtnFollowStatus(e,"hover",n)}),t(document).on("mouseleave",o.option.buttonSelector,function(){const n=t(this),e=parseInt(n.attr(o.option.buttonFollowStatusDataAttr));o.setBtnFollowStatus(e,"normal",n)})},bindClick(){const o=this;t(document).on("click",o.option.buttonSelector,function(n){n.preventDefault();const e=t(this),i=parseInt(e.attr(o.option.buttonFollowStatusDataAttr)),a=function(n,i){o.setBtnFollowStatus(n,"normal",e),i&&t(o.option.buttonSelector).each((e,a)=>{const l=t(a);l.is(i)&&o.setBtnFollowStatus(n,"normal",l)})};t.isFunction(o.option.onClick)&&o.option.onClick.call(this,e,i,a)})},setBtnFollowStatus(t,o,n){const e=n.find(this.option.buttonTextSelector),i=n.find(this.option.buttonIconSelector),a=n.attr("data-status-style")||"default",l=this.option.statusStyles[a];if(!l)return!1;const s=this.option.statusCode,r=Object.keys(s);let c="";for(let o=0;o<r.length;o++)s[r[o]]===t&&(c=r[o]);if(!c)return!1;const u=l[c];if(!u)return!1;const h=u["normal"===o?"normal":"hover"];if(!h)return!1;n.attr(this.option.buttonFollowStatusDataAttr,s[c]),n.attr("title",h.text),e.html(h.text),i.find("i").attr("class",h.icon)}},window.OSCFollowButton=n}(window.jQuery||window.$);
!function(e){const o=function(){};o.prototype={constructor:o,config:{objId:0,cacheKeyPrefix:"OSC",fetchCommentsUrl:"",publishCommentUrl:"",replyCommentUrl:"",deleteCommentUrl:"",getPublishCommentData:e.noop(),getReplyCommentData:e.noop(),getDeleteCommentData:e.noop(),onDOMUpdate:e.noop(),onPublishSuccess:e.noop(),onReplySuccess:e.noop()},init:function(o){this._commentsContainer=e(".comments-box"),this._commentsWrap=this._commentsContainer.find(".comments-box__list"),this.config=e.isPlainObject(o)?e.extend(!0,{},this.config,o):e.extend({},this.config),this.initCommentForm(),this.unblockAnswer(),this.blockAnswer(),this.initCommentDeleteModal(),this.bindReplyBtn(),this.initCommentsListPJAX(),this.parseEmoticon(),this.scrollToCommentFromUrlCommentId()},loadComments:function(o,t){const n=this;let a=Math.floor(o)||1;if(-1===a){const e=n._commentsWrap.find(".comment-pagination");a=Math.floor(e.data("page"))||1}var i=window.common.addQueryParams(n.config.fetchCommentsUrl,{p:a});e.get(i,function(o){n._commentsWrap.html(o),n.parseEmoticon(),t&&e.isFunction(t)&&t.call(this),n.onDOMUpdate()})},loadCommentsByCommentId:function(o,t){const n=this,a=Math.floor(o)||1,i=window.common.addQueryParams(n.config.fetchCommentsUrl,{commentId:a});e.get(i,function(o){n._commentsWrap.html(o),n.parseEmoticon(),t&&e.isFunction(t)&&t.call(this),n.onDOMUpdate()})},updateCommentCount:function(o){const t=e("[data-article-reply-count]"),n=o>0?o:0;page.commentsCount=n,t.each(function(o,t){const a=e(t),i=a.data("format"),r=a.data("max"),s=a.data("only-data");let c=n;i&&(c=window.common.formatNumberK(n)),n>r&&(c=r+"+"),a.attr("data-value",n),a.attr("data-show",c),!0!==s&&a.text(c)})},initCommentForm:function(){const o=this,t=o.config.cacheKeyPrefix+"_"+o.config.objId+"_COMMENT_CACHE",n=o.config.cacheKeyPrefix+"_"+o.config.objId+"_COMMENT_PUBLISH_CACHE",a=window.common.throttle(function(e){try{e&&e.trim().length>0?localStorage.setItem(t,e):localStorage.removeItem(t)}catch(e){}},500);o.commentFormVue=new Vue({el:"#commentForm",data:function(){return{showForm:!1,commentMaxLength:1e3,commentContent:"",commentPublishLoading:!1,commentScore:0,tipMessage:{show:!1,content:"",className:""},curEmojiType:"People",emojiList:[{type:"People",items:["bowtie","smile","laughing","blush","smiley","relaxed","smirk","heart_eyes","kissing_heart","kissing_closed_eyes","flushed","relieved","satisfied","grin","wink","stuck_out_tongue_winking_eye","stuck_out_tongue_closed_eyes","grinning","kissing","kissing_smiling_eyes","stuck_out_tongue","sleeping","worried","frowning","anguished","open_mouth","grimacing","confused","hushed","expressionless","unamused","sweat_smile","sweat","disappointed_relieved","weary","pensive","disappointed","confounded","fearful","cold_sweat","persevere","cry","sob","joy","astonished","scream","neckbeard","tired_face","angry","rage","triumph","sleepy","yum","mask","sunglasses","dizzy_face","imp","smiling_imp","neutral_face","no_mouth","innocent","alien","yellow_heart","blue_heart","purple_heart","heart","green_heart","broken_heart","heartbeat","heartpulse","two_hearts","revolving_hearts","cupid","sparkling_heart","sparkles","star","star2","dizzy","boom","collision","anger","exclamation","question","grey_exclamation","grey_question","zzz","dash","sweat_drops","notes","musical_note","fire","hankey","poop","shit","+1","thumbsup","-1","thumbsdown","ok_hand","punch","facepunch","fist","v","wave","hand","raised_hand","open_hands","point_up","point_down","point_left","point_right","raised_hands","pray","point_up_2","clap","muscle","metal","fu","walking","runner","running","couple","family","two_men_holding_hands","two_women_holding_hands","dancer","dancers","ok_woman","no_good","information_desk_person","raising_hand","bride_with_veil","person_with_pouting_face","person_frowning","bow","couplekiss","couple_with_heart","massage","haircut","nail_care","boy","girl","woman","man","baby","older_woman","older_man","person_with_blond_hair","man_with_gua_pi_mao","man_with_turban","construction_worker","cop","angel","princess","smiley_cat","smile_cat","heart_eyes_cat","kissing_cat","smirk_cat","scream_cat","crying_cat_face","joy_cat","pouting_cat","japanese_ogre","japanese_goblin","see_no_evil","hear_no_evil","speak_no_evil","guardsman","skull","feet","lips","kiss","droplet","ear","eyes","nose","tongue","love_letter","bust_in_silhouette","busts_in_silhouette","speech_balloon","thought_balloon","feelsgood","finnadie","goberserk","godmode","hurtrealbad","rage1","rage2","rage3","rage4","suspect","trollface"]},{type:"Nature",items:["sunny","umbrella","cloud","snowflake","snowman","zap","cyclone","foggy","ocean","cat","dog","mouse","hamster","rabbit","wolf","frog","tiger","koala","bear","pig","pig_nose","cow","boar","monkey_face","monkey","horse","racehorse","camel","sheep","elephant","panda_face","snake","bird","baby_chick","hatched_chick","hatching_chick","chicken","penguin","turtle","bug","honeybee","ant","beetle","snail","octopus","tropical_fish","fish","whale","whale2","dolphin","cow2","ram","rat","water_buffalo","tiger2","rabbit2","dragon","goat","rooster","dog2","pig2","mouse2","ox","dragon_face","blowfish","crocodile","dromedary_camel","leopard","cat2","poodle","paw_prints","bouquet","cherry_blossom","tulip","four_leaf_clover","rose","sunflower","hibiscus","maple_leaf","leaves","fallen_leaf","herb","mushroom","cactus","palm_tree","evergreen_tree","deciduous_tree","chestnut","seedling","blossom","ear_of_rice","shell","globe_with_meridians","sun_with_face","full_moon_with_face","new_moon_with_face","new_moon","waxing_crescent_moon","first_quarter_moon","waxing_gibbous_moon","full_moon","waning_gibbous_moon","last_quarter_moon","waning_crescent_moon","last_quarter_moon_with_face","first_quarter_moon_with_face","moon","earth_africa","earth_americas","earth_asia","volcano","milky_way","partly_sunny","octocat","squirrel"]},{type:"Objects",items:["bamboo","gift_heart","dolls","school_satchel","mortar_board","flags","fireworks","sparkler","wind_chime","rice_scene","jack_o_lantern","ghost","santa","christmas_tree","gift","bell","no_bell","tanabata_tree","tada","confetti_ball","balloon","crystal_ball","cd","dvd","floppy_disk","camera","video_camera","movie_camera","computer","tv","iphone","phone","telephone","telephone_receiver","pager","fax","minidisc","vhs","sound","speaker","mute","loudspeaker","mega","hourglass","hourglass_flowing_sand","alarm_clock","watch","radio","satellite","loop","mag","mag_right","unlock","lock","lock_with_ink_pen","closed_lock_with_key","key","bulb","flashlight","high_brightness","low_brightness","electric_plug","battery","calling","email","mailbox","postbox","bath","bathtub","shower","toilet","wrench","nut_and_bolt","hammer","seat","moneybag","yen","dollar","pound","euro","credit_card","money_with_wings","e-mail","inbox_tray","outbox_tray","envelope","incoming_envelope","postal_horn","mailbox_closed","mailbox_with_mail","mailbox_with_no_mail","package","door","smoking","bomb","gun","hocho","pill","syringe","page_facing_up","page_with_curl","bookmark_tabs","bar_chart","chart_with_upwards_trend","chart_with_downwards_trend","scroll","clipboard","calendar","date","card_index","file_folder","open_file_folder","scissors","pushpin","paperclip","black_nib","pencil2","straight_ruler","triangular_ruler","closed_book","green_book","blue_book","orange_book","notebook","notebook_with_decorative_cover","ledger","books","bookmark","name_badge","microscope","telescope","newspaper","football","basketball","soccer","baseball","tennis","8ball","rugby_football","bowling","golf","mountain_bicyclist","bicyclist","horse_racing","snowboarder","swimmer","surfer","ski","spades","hearts","clubs","diamonds","gem","ring","trophy","musical_score","musical_keyboard","violin","space_invader","video_game","black_joker","flower_playing_cards","game_die","dart","mahjong","clapper","memo","pencil","book","art","microphone","headphones","trumpet","saxophone","guitar","shoe","sandal","high_heel","lipstick","boot","shirt","tshirt","necktie","womans_clothes","dress","running_shirt_with_sash","jeans","kimono","bikini","ribbon","tophat","crown","womans_hat","mans_shoe","closed_umbrella","briefcase","handbag","pouch","purse","eyeglasses","fishing_pole_and_fish","coffee","tea","sake","baby_bottle","beer","beers","cocktail","tropical_drink","wine_glass","fork_and_knife","pizza","hamburger","fries","poultry_leg","meat_on_bone","spaghetti","curry","fried_shrimp","bento","sushi","fish_cake","rice_ball","rice_cracker","rice","ramen","stew","oden","dango","egg","bread","doughnut","custard","icecream","ice_cream","shaved_ice","birthday","cake","cookie","chocolate_bar","candy","lollipop","honey_pot","apple","green_apple","tangerine","lemon","cherries","grapes","watermelon","strawberry","peach","melon","banana","pear","pineapple","sweet_potato","eggplant","tomato","corn"]},{type:"Places",items:["house","house_with_garden","school","office","post_office","hospital","bank","convenience_store","love_hotel","hotel","wedding","church","department_store","european_post_office","city_sunrise","city_sunset","japanese_castle","european_castle","tent","factory","tokyo_tower","japan","mount_fuji","sunrise_over_mountains","sunrise","stars","statue_of_liberty","bridge_at_night","carousel_horse","rainbow","ferris_wheel","fountain","roller_coaster","ship","speedboat","boat","sailboat","rowboat","anchor","rocket","airplane","helicopter","steam_locomotive","tram","mountain_railway","bike","aerial_tramway","suspension_railway","mountain_cableway","tractor","blue_car","oncoming_automobile","car","red_car","taxi","oncoming_taxi","articulated_lorry","bus","oncoming_bus","rotating_light","police_car","oncoming_police_car","fire_engine","ambulance","minibus","truck","train","station","train2","bullettrain_front","bullettrain_side","light_rail","monorail","railway_car","trolleybus","ticket","fuelpump","vertical_traffic_light","traffic_light","warning","construction","beginner","atm","slot_machine","busstop","barber","hotsprings","checkered_flag","crossed_flags","izakaya_lantern","moyai","circus_tent","performing_arts","round_pushpin","triangular_flag_on_post","jp","kr","cn","us","fr","es","it","ru","gb","uk","de"]},{type:"Symbols",items:["one","two","three","four","five","six","seven","eight","nine","keycap_ten","1234","zero","hash","symbols","arrow_backward","arrow_down","arrow_forward","arrow_left","capital_abcd","abcd","abc","arrow_lower_left","arrow_lower_right","arrow_right","arrow_up","arrow_upper_left","arrow_upper_right","arrow_double_down","arrow_double_up","arrow_down_small","arrow_heading_down","arrow_heading_up","leftwards_arrow_with_hook","arrow_right_hook","left_right_arrow","arrow_up_down","arrow_up_small","arrows_clockwise","arrows_counterclockwise","rewind","fast_forward","information_source","ok","twisted_rightwards_arrows","repeat","repeat_one","new","top","up","cool","free","ng","cinema","koko","signal_strength","u5272","u5408","u55b6","u6307","u6708","u6709","u6e80","u7121","u7533","u7a7a","u7981","sa","restroom","mens","womens","baby_symbol","no_smoking","parking","wheelchair","metro","baggage_claim","accept","wc","potable_water","put_litter_in_its_place","secret","congratulations","m","passport_control","left_luggage","customs","ideograph_advantage","cl","sos","id","no_entry_sign","underage","no_mobile_phones","do_not_litter","non-potable_water","no_bicycles","no_pedestrians","children_crossing","no_entry","eight_spoked_asterisk","sparkle","eight_pointed_black_star","heart_decoration","vs","vibration_mode","mobile_phone_off","chart","currency_exchange","aries","taurus","gemini","cancer","leo","virgo","libra","scorpius","sagittarius","capricorn","aquarius","pisces","ophiuchus","six_pointed_star","negative_squared_cross_mark","a","b","ab","o2","diamond_shape_with_a_dot_inside","recycle","end","back","on","soon","clock1","clock130","clock10","clock1030","clock11","clock1130","clock12","clock1230","clock2","clock230","clock3","clock330","clock4","clock430","clock5","clock530","clock6","clock630","clock7","clock730","clock8","clock830","clock9","clock930","heavy_dollar_sign","copyright","registered","tm","x","heavy_exclamation_mark","bangbang","interrobang","o","heavy_multiplication_x","heavy_plus_sign","heavy_minus_sign","heavy_division_sign","white_flower","100","heavy_check_mark","ballot_box_with_check","radio_button","link","curly_loop","wavy_dash","part_alternation_mark","trident","black_small_square","white_small_square","black_medium_small_square","white_medium_small_square","black_medium_square","white_medium_square","black_large_square","white_large_square","white_check_mark","black_square_button","white_square_button","black_circle","white_circle","red_circle","large_blue_circle","large_blue_diamond","large_orange_diamond","small_blue_diamond","small_orange_diamond","small_red_triangle","small_red_triangle_down","shipit"]}],scoreInput:0}},computed:{curEmojiItems:function(){for(var e=0,o=this.emojiList.length;e<o;e++)if(this.emojiList[e].type===this.curEmojiType)return this.emojiList[e].items;return this.emojiList[0].items},commentContentIsEmpty:function(){return 0===this.commentContent.length},commentCountText:function(){return this.commentContent.length+"/"+this.commentMaxLength},scoreStatus:function(){switch(this.scoreInput){case 0:return"";case 1:return"很差";case 2:return"较差";case 3:return"还行";case 4:return"推荐";case 5:return"力荐"}return""}},mounted:function(){if(void 0!==window.localStorage){var e=localStorage.getItem(t)||"",o=localStorage.getItem(n)||"";e&&e.trim().length>0&&(this.commentContent=e,o&&page.g_user_code&&(localStorage.removeItem(n),this.publishComment()))}},methods:{insertEmoji:function(o){this.clearMessage();var t=":"+o+":";this.insertContent(t),e(this.$refs.showEmojiBox).popup("hide")},insertProject:function(){this.clearMessage();if(this.insertContent("#此处输入软件#")){var e=selectRange.of(this.$refs.commentTextarea),o=e.getCurPos();e.setSelectText(o-("#此处输入软件#".length-1),o-1)}},publishComment:function(){const a=this,i=window.common.getCurrentUrl(!0)+"#commentForm";if(!window.common.checkLoginForWeChat(i,function(){try{localStorage.setItem(n,"1")}catch(e){}}))return!1;if(a.commentPublishLoading)return;if(a.clearMessage(),a.commentContentIsEmpty)return void a.showMessage("error","内容不能为空",2e3);if(a.commentContent.length>a.commentMaxLength)return void a.showMessage("error","最多只能输入"+a.commentMaxLength+"个字符！",2e3);a.commentPublishLoading=!0;const r=o.config.getPublishCommentData(a.commentContent,a.commentScore)||{};e.post(o.config.publishCommentUrl,r,function(n){1===n.code?(n.message&&e("body").toast({type:"success",content:n.message||"评论发布成功"}),window.localStorage&&window.localStorage.removeItem(t),a.resetForm(),o.loadComments(),o.updateCommentCount(n.result&&n.result.replyCount),o.onPublishSuccess(),e("html, body").stop().animate({scrollTop:o._commentsWrap.offset().top-80},500,"swing")):a.showMessage("error",n.message||"发布失败",2e3)}).fail(function(){a.showMessage("error","网络错误，请稍后再试！",2e3)}).always(function(){a.commentPublishLoading=!1})},commentContentOnKeyDown:function(e){(e.metaKey||e.ctrlKey)&&13==e.keyCode&&this.publishComment()},insertContent:function(e){return!this.commentPublishLoading&&(this.commentContent.length>=this.commentMaxLength||this.commentContent.length+e.length>this.commentMaxLength?void this.showMessage("error","最多只能输入"+this.commentMaxLength+"个字符！",2e3):(selectRange.of(this.$refs.commentTextarea).insertAfterText(e),this.commentContent=this.$refs.commentTextarea.value,!0))},showMessage:function(e,o,t){var n=this;n.tipMessage.className="success"===e?"positive":"negative",n.tipMessage.content=o;var a=parseInt(t)||0;n.tipMessage.show=!0,a>0&&setTimeout(function(){n.clearMessage()},a)},clearMessage:function(){this.tipMessage.className="",this.tipMessage.content="",this.tipMessage.show=!1},resetForm:function(){this.commentContent="",this.commentScore=0,this.scoreInput=0},clickScore:function(e){this.commentScore=e},hoverScore:function(e){this.scoreInput=e},blurScore:function(){this.scoreInput=this.commentScore},onFocusTextarea:function(){this.showForm=!0,o.onDOMUpdate()},closeForm:function(){this.showForm=!1,o.onDOMUpdate()}},watch:{commentContent:function(e){a(e)}}}),e("#commentForm").find(".comment-form .toolbox > .item[data-popup]").each(function(o,t){var n=e(t),a=e(n).parent().find(".toolbox-popup."+n.attr("data-popup"));n.popup({position:"bottom left",popup:a,on:"toolbox-picture"===n.attr("data-popup")?"manual":"click",exclusive:!0})})},unblockAnswer:function(){var o=this;o._commentsWrap.on("click",".comment-item .comment-item__actions [data-toggle-unblock]",function(t){t.stopPropagation();const n=e(t.target).parents(".comment-item:eq(0)"),a=n.attr("data-comment-id"),i=n.attr("data-comment-user-id");if(!window.common.checkLogin())return!1;e.ajax({url:page.site_url+"/communityManage/review_comment_agree",xhrFields:{withCredentials:!0},dataType:"json",crossDomain:!0,type:"post",data:{objId:a,objType:page.objType,author:i},success(t){1===t.code?(o.loadComments(-1),e("body").toast({type:"success",content:"操作成功"})):e("body").toast({type:"error",content:t.message||"操作失败"})},error:function(){e("body").toast({type:"error",content:"网络异常，请稍后再试"})}})})},blockAnswer:function(){var o=this;o._commentsWrap.on("click",".comment-item .comment-item__actions [data-toggle-block]",function(t){t.stopPropagation();const n=e(t.target).parents(".comment-item:eq(0)"),a=n.attr("data-comment-id"),i=n.attr("data-comment-user-id");if(!window.common.checkLogin())return!1;e.ajax({url:page.site_url+"/communityManage/review_comment_reject",xhrFields:{withCredentials:!0},dataType:"json",crossDomain:!0,type:"post",data:{objId:a,objType:page.objType,author:i},success(t){1===t.code?(o.loadComments(-1),e("body").toast({type:"success",content:"操作成功"})):e("body").toast({type:"error",content:t.message||"操作失败"})},error:function(){e("body").toast({type:"error",content:"网络异常，请稍后再试"})}})})},initCommentDeleteModal:function(){const o=this,t=e(".delete-comment.modal");t.modal({onDeny:function(){const t=e(this).attr("data-comment-id"),n=o._commentsWrap.find(".comment-item[data-comment-id="+t+"]"),a=n.attr("data-comment-user-id"),i=o.config.getDeleteCommentData(t,a)||{};e.post(o.config.deleteCommentUrl,i,function(t){if(1===t.code){e("body").toast({type:"success",content:"删除成功"}),n.fadeOut(function(){n.remove(),o.onDOMUpdate()});let t=(parseInt(page.commentsCount)||0)-(1+n.find(".comment-item").length);t<0&&(t=0),o.updateCommentCount(t)}else e("body").toast({type:"error",content:t.message||"删除失败"})})}}),o._commentsWrap.on("click",".comment-item .comment-item__actions [data-toggle-remove]",function(o){o.stopPropagation();const n=e(o.target).parents(".comment-item:eq(0)").attr("data-comment-id");t.attr("data-comment-id",n),t.modal("show")})},bindReplyBtn:function(){const o=this;o._commentsWrap.on("click",".comment-item .comment-item__actions [data-toggle-reply]",function(t){if(t.stopPropagation(),!window.common.checkLogin())return!1;const n=e(t.target).parents(".comment-item:eq(0)"),a=n.attr("data-comment-id"),i=n.attr("data-comment-user-id"),r=n.attr("data-comment-user-name"),s=!!n.data("comment-is-last-level");let c=a,m=i,l="";if(s){const e=n.parents(".comment-item:eq(0)");e&&(c=e.attr("data-comment-id"),m=e.attr("data-comment-user-id")),l=r}if(n.find(".comment-item__main:eq(0) [data-reply-comment-form]").length>0){const e=n.find(".comment-item__main:eq(0) [data-reply-comment-form]").get(0);return e.vueInstance&&e.vueInstance.focus(),!1}e("[data-reply-comment-form]").each(function(o,t){const n=e(t);t.vueInstance&&t.vueInstance.$destroy(),n.remove()}),0===e('[data-reply-comment-form][data-comment-id="'+a+'"]').length&&!0!==window.oscReplyCommentFormLoading&&(window.oscReplyCommentFormLoading=!0,e.get(page.api_prefix+"/widgets/comments_reply_form",function(t){const i=document.createElement("div");i.className="comment-item__reply-form",i.innerHTML=t,e(i).find("[data-reply-comment-form]").attr("data-comment-id",a),n.find(".comment-item__main:eq(0)").append(i);const r=new OSCCommentReplyForm({commentFormSelector:"#replyCommentForm",commentsWrapEl:o._commentsWrap,toggleLoadComments:function(){o.loadComments(-1)},onRemoveForm:function(){i.remove(),o.onDOMUpdate()},onPublishSuccess:function(e){o.onReplySuccess(),e>0&&o.updateCommentCount(e)},url:o.config.replyCommentUrl,getParams:function(e){return o.config.getReplyCommentData(c,m,e)},commentedAutoScrollToTop:!1});r.init(),r.focus(),l&&r.insertContent("回复 @"+l+" : "),o.onDOMUpdate()}).always(function(){window.oscReplyCommentFormLoading=!1}))})},initCommentsListPJAX:function(){const o=this,t=e(".comments-box__loader");e.pjax.defaults.timeout=1e4,e.pjax.defaults.maxCacheLength=20,e(document).pjax(".comments-box .comments-box__list .pagination a",".comments-box .comments-box__list",{scrollTo:!1}),e(document).on("pjax:send",function(o){e(o.target);"comments-box__list"===o.target.className&&t.addClass("active")}),e(document).on("pjax:complete",function(n){e(n.target);"comments-box__list"===n.target.className&&(o.parseEmoticon(),t.removeClass("active"),e("html, body").stop().animate({scrollTop:o._commentsWrap.offset().top-80},500,"swing"),o.onDOMUpdate())})},parseEmoticon:function(){e(function(){e("[data-emoji-render]").emoticon()})},scrollToCommentFromUrlCommentId:function(){const o=this,t=location.hash,n=t.match(/#rpl_(\d+).*/),a=n?Math.floor(n[1]):-1;a>0&&o.loadCommentsByCommentId(a,function(){setTimeout(function(){const o=e(t);if(o.length){var n=o.offset().top;n-160>0&&(n-=160),e("html, body").stop(!0).animate({scrollTop:n},500,"swing")}},0)})},onDOMUpdate:function(){const o=this;e.isFunction(o.config.onDOMUpdate)&&o.config.onDOMUpdate()},onPublishSuccess:function(){const o=this;e.isFunction(o.config.onPublishSuccess)&&o.config.onPublishSuccess()},onReplySuccess:function(){const o=this;e.isFunction(o.config.onReplySuccess)&&o.config.onReplySuccess()}},window.OSCDetailComment=o}(window.jQuery||window.$);
!function(e){var o={commentFormSelector:"#commentForm",commentsWrapEl:e(".comments-wrap"),toggleLoadComments:e.noop(),onRemoveForm:e.noop(),onPublishSuccess:e.noop(),url:"",getParams:e.noop(),commentedAutoScrollToTop:!0,commentMaxLength:1e3},t=function(t){"object"!=typeof t||(this.option=e.extend({},o,t))};t.prototype.init=function(){this.commentsWrapEl=this.option.commentsWrapEl,this.initCommentForm(),this.initToolBoxPopup()},t.prototype.initCommentForm=function(){var o=this;o.commentFormVue=new Vue({el:o.option.commentFormSelector,data:function(){return{commentMaxLength:o.option.commentMaxLength||1e3,commentContent:"",commentPublishLoading:!1,tipMessage:{show:!1,content:"",className:""},curEmojiType:"People",emojiList:[{type:"People",items:["bowtie","smile","laughing","blush","smiley","relaxed","smirk","heart_eyes","kissing_heart","kissing_closed_eyes","flushed","relieved","satisfied","grin","wink","stuck_out_tongue_winking_eye","stuck_out_tongue_closed_eyes","grinning","kissing","kissing_smiling_eyes","stuck_out_tongue","sleeping","worried","frowning","anguished","open_mouth","grimacing","confused","hushed","expressionless","unamused","sweat_smile","sweat","disappointed_relieved","weary","pensive","disappointed","confounded","fearful","cold_sweat","persevere","cry","sob","joy","astonished","scream","neckbeard","tired_face","angry","rage","triumph","sleepy","yum","mask","sunglasses","dizzy_face","imp","smiling_imp","neutral_face","no_mouth","innocent","alien","yellow_heart","blue_heart","purple_heart","heart","green_heart","broken_heart","heartbeat","heartpulse","two_hearts","revolving_hearts","cupid","sparkling_heart","sparkles","star","star2","dizzy","boom","collision","anger","exclamation","question","grey_exclamation","grey_question","zzz","dash","sweat_drops","notes","musical_note","fire","hankey","poop","shit","+1","thumbsup","-1","thumbsdown","ok_hand","punch","facepunch","fist","v","wave","hand","raised_hand","open_hands","point_up","point_down","point_left","point_right","raised_hands","pray","point_up_2","clap","muscle","metal","fu","walking","runner","running","couple","family","two_men_holding_hands","two_women_holding_hands","dancer","dancers","ok_woman","no_good","information_desk_person","raising_hand","bride_with_veil","person_with_pouting_face","person_frowning","bow","couplekiss","couple_with_heart","massage","haircut","nail_care","boy","girl","woman","man","baby","older_woman","older_man","person_with_blond_hair","man_with_gua_pi_mao","man_with_turban","construction_worker","cop","angel","princess","smiley_cat","smile_cat","heart_eyes_cat","kissing_cat","smirk_cat","scream_cat","crying_cat_face","joy_cat","pouting_cat","japanese_ogre","japanese_goblin","see_no_evil","hear_no_evil","speak_no_evil","guardsman","skull","feet","lips","kiss","droplet","ear","eyes","nose","tongue","love_letter","bust_in_silhouette","busts_in_silhouette","speech_balloon","thought_balloon","feelsgood","finnadie","goberserk","godmode","hurtrealbad","rage1","rage2","rage3","rage4","suspect","trollface"]},{type:"Nature",items:["sunny","umbrella","cloud","snowflake","snowman","zap","cyclone","foggy","ocean","cat","dog","mouse","hamster","rabbit","wolf","frog","tiger","koala","bear","pig","pig_nose","cow","boar","monkey_face","monkey","horse","racehorse","camel","sheep","elephant","panda_face","snake","bird","baby_chick","hatched_chick","hatching_chick","chicken","penguin","turtle","bug","honeybee","ant","beetle","snail","octopus","tropical_fish","fish","whale","whale2","dolphin","cow2","ram","rat","water_buffalo","tiger2","rabbit2","dragon","goat","rooster","dog2","pig2","mouse2","ox","dragon_face","blowfish","crocodile","dromedary_camel","leopard","cat2","poodle","paw_prints","bouquet","cherry_blossom","tulip","four_leaf_clover","rose","sunflower","hibiscus","maple_leaf","leaves","fallen_leaf","herb","mushroom","cactus","palm_tree","evergreen_tree","deciduous_tree","chestnut","seedling","blossom","ear_of_rice","shell","globe_with_meridians","sun_with_face","full_moon_with_face","new_moon_with_face","new_moon","waxing_crescent_moon","first_quarter_moon","waxing_gibbous_moon","full_moon","waning_gibbous_moon","last_quarter_moon","waning_crescent_moon","last_quarter_moon_with_face","first_quarter_moon_with_face","moon","earth_africa","earth_americas","earth_asia","volcano","milky_way","partly_sunny","octocat","squirrel"]},{type:"Objects",items:["bamboo","gift_heart","dolls","school_satchel","mortar_board","flags","fireworks","sparkler","wind_chime","rice_scene","jack_o_lantern","ghost","santa","christmas_tree","gift","bell","no_bell","tanabata_tree","tada","confetti_ball","balloon","crystal_ball","cd","dvd","floppy_disk","camera","video_camera","movie_camera","computer","tv","iphone","phone","telephone","telephone_receiver","pager","fax","minidisc","vhs","sound","speaker","mute","loudspeaker","mega","hourglass","hourglass_flowing_sand","alarm_clock","watch","radio","satellite","loop","mag","mag_right","unlock","lock","lock_with_ink_pen","closed_lock_with_key","key","bulb","flashlight","high_brightness","low_brightness","electric_plug","battery","calling","email","mailbox","postbox","bath","bathtub","shower","toilet","wrench","nut_and_bolt","hammer","seat","moneybag","yen","dollar","pound","euro","credit_card","money_with_wings","e-mail","inbox_tray","outbox_tray","envelope","incoming_envelope","postal_horn","mailbox_closed","mailbox_with_mail","mailbox_with_no_mail","package","door","smoking","bomb","gun","hocho","pill","syringe","page_facing_up","page_with_curl","bookmark_tabs","bar_chart","chart_with_upwards_trend","chart_with_downwards_trend","scroll","clipboard","calendar","date","card_index","file_folder","open_file_folder","scissors","pushpin","paperclip","black_nib","pencil2","straight_ruler","triangular_ruler","closed_book","green_book","blue_book","orange_book","notebook","notebook_with_decorative_cover","ledger","books","bookmark","name_badge","microscope","telescope","newspaper","football","basketball","soccer","baseball","tennis","8ball","rugby_football","bowling","golf","mountain_bicyclist","bicyclist","horse_racing","snowboarder","swimmer","surfer","ski","spades","hearts","clubs","diamonds","gem","ring","trophy","musical_score","musical_keyboard","violin","space_invader","video_game","black_joker","flower_playing_cards","game_die","dart","mahjong","clapper","memo","pencil","book","art","microphone","headphones","trumpet","saxophone","guitar","shoe","sandal","high_heel","lipstick","boot","shirt","tshirt","necktie","womans_clothes","dress","running_shirt_with_sash","jeans","kimono","bikini","ribbon","tophat","crown","womans_hat","mans_shoe","closed_umbrella","briefcase","handbag","pouch","purse","eyeglasses","fishing_pole_and_fish","coffee","tea","sake","baby_bottle","beer","beers","cocktail","tropical_drink","wine_glass","fork_and_knife","pizza","hamburger","fries","poultry_leg","meat_on_bone","spaghetti","curry","fried_shrimp","bento","sushi","fish_cake","rice_ball","rice_cracker","rice","ramen","stew","oden","dango","egg","bread","doughnut","custard","icecream","ice_cream","shaved_ice","birthday","cake","cookie","chocolate_bar","candy","lollipop","honey_pot","apple","green_apple","tangerine","lemon","cherries","grapes","watermelon","strawberry","peach","melon","banana","pear","pineapple","sweet_potato","eggplant","tomato","corn"]},{type:"Places",items:["house","house_with_garden","school","office","post_office","hospital","bank","convenience_store","love_hotel","hotel","wedding","church","department_store","european_post_office","city_sunrise","city_sunset","japanese_castle","european_castle","tent","factory","tokyo_tower","japan","mount_fuji","sunrise_over_mountains","sunrise","stars","statue_of_liberty","bridge_at_night","carousel_horse","rainbow","ferris_wheel","fountain","roller_coaster","ship","speedboat","boat","sailboat","rowboat","anchor","rocket","airplane","helicopter","steam_locomotive","tram","mountain_railway","bike","aerial_tramway","suspension_railway","mountain_cableway","tractor","blue_car","oncoming_automobile","car","red_car","taxi","oncoming_taxi","articulated_lorry","bus","oncoming_bus","rotating_light","police_car","oncoming_police_car","fire_engine","ambulance","minibus","truck","train","station","train2","bullettrain_front","bullettrain_side","light_rail","monorail","railway_car","trolleybus","ticket","fuelpump","vertical_traffic_light","traffic_light","warning","construction","beginner","atm","slot_machine","busstop","barber","hotsprings","checkered_flag","crossed_flags","izakaya_lantern","moyai","circus_tent","performing_arts","round_pushpin","triangular_flag_on_post","jp","kr","cn","us","fr","es","it","ru","gb","uk","de"]},{type:"Symbols",items:["one","two","three","four","five","six","seven","eight","nine","keycap_ten","1234","zero","hash","symbols","arrow_backward","arrow_down","arrow_forward","arrow_left","capital_abcd","abcd","abc","arrow_lower_left","arrow_lower_right","arrow_right","arrow_up","arrow_upper_left","arrow_upper_right","arrow_double_down","arrow_double_up","arrow_down_small","arrow_heading_down","arrow_heading_up","leftwards_arrow_with_hook","arrow_right_hook","left_right_arrow","arrow_up_down","arrow_up_small","arrows_clockwise","arrows_counterclockwise","rewind","fast_forward","information_source","ok","twisted_rightwards_arrows","repeat","repeat_one","new","top","up","cool","free","ng","cinema","koko","signal_strength","u5272","u5408","u55b6","u6307","u6708","u6709","u6e80","u7121","u7533","u7a7a","u7981","sa","restroom","mens","womens","baby_symbol","no_smoking","parking","wheelchair","metro","baggage_claim","accept","wc","potable_water","put_litter_in_its_place","secret","congratulations","m","passport_control","left_luggage","customs","ideograph_advantage","cl","sos","id","no_entry_sign","underage","no_mobile_phones","do_not_litter","non-potable_water","no_bicycles","no_pedestrians","children_crossing","no_entry","eight_spoked_asterisk","sparkle","eight_pointed_black_star","heart_decoration","vs","vibration_mode","mobile_phone_off","chart","currency_exchange","aries","taurus","gemini","cancer","leo","virgo","libra","scorpius","sagittarius","capricorn","aquarius","pisces","ophiuchus","six_pointed_star","negative_squared_cross_mark","a","b","ab","o2","diamond_shape_with_a_dot_inside","recycle","end","back","on","soon","clock1","clock130","clock10","clock1030","clock11","clock1130","clock12","clock1230","clock2","clock230","clock3","clock330","clock4","clock430","clock5","clock530","clock6","clock630","clock7","clock730","clock8","clock830","clock9","clock930","heavy_dollar_sign","copyright","registered","tm","x","heavy_exclamation_mark","bangbang","interrobang","o","heavy_multiplication_x","heavy_plus_sign","heavy_minus_sign","heavy_division_sign","white_flower","100","heavy_check_mark","ballot_box_with_check","radio_button","link","curly_loop","wavy_dash","part_alternation_mark","trident","black_small_square","white_small_square","black_medium_small_square","white_medium_small_square","black_medium_square","white_medium_square","black_large_square","white_large_square","white_check_mark","black_square_button","white_square_button","black_circle","white_circle","red_circle","large_blue_circle","large_blue_diamond","large_orange_diamond","small_blue_diamond","small_orange_diamond","small_red_triangle","small_red_triangle_down","shipit"]}]}},computed:{curEmojiItems:function(){for(var e=0,o=this.emojiList.length;e<o;e++)if(this.emojiList[e].type===this.curEmojiType)return this.emojiList[e].items;return this.emojiList[0].items},commentContentIsEmpty:function(){return 0===this.commentContent.length},commentCountText:function(){return this.commentContent.length+"/"+this.commentMaxLength}},methods:{insertEmoji:function(o){this.clearMessage();var t=":"+o+":";this.insertContent(t),e(this.$refs.showEmojiBox).popup("hide")},insertProject:function(){this.clearMessage();if(this.insertContent("#此处输入软件#")){var e=selectRange.of(this.$refs.commentTextarea),o=e.getCurPos();e.setSelectText(o-("#此处输入软件#".length-1),o-1)}},publishComment:function(){var t=this;if(!t.tweetPublishLoading)if(t.clearMessage(),t.commentContentIsEmpty)t.showMessage("error","内容不能为空",2e3);else if(t.commentContent.length>t.commentMaxLength)t.showMessage("error","最多只能输入"+t.commentMaxLength+"个字符！",2e3);else{t.commentPublishLoading=!0;var a=o.option.getParams(t.commentContent)||{};e.post(o.option.url,a,function(a){1===a.code?(a.message&&e("body").toast({type:"success",content:a.message}),t.commentContent="",e.isFunction(o.option.toggleLoadComments)&&o.option.toggleLoadComments.call(this),e.isFunction(o.option.onPublishSuccess)&&o.option.onPublishSuccess.call(this,a.result&&a.result.replyCount),!0===o.option.commentedAutoScrollToTop&&e("html, body").stop().animate({scrollTop:o.commentsWrapEl.offset().top-80},500,"swing"),t.removeCommentForm()):t.showMessage("error",a.message||"发布失败",2e3)}).fail(function(){t.showMessage("error","网络错误，请稍后再试！",2e3)}).always(function(){t.commentPublishLoading=!1})}},commentContentOnKeyDown:function(e){(e.metaKey||e.ctrlKey)&&13===e.keyCode&&this.publishComment()},insertContent:function(e){return!this.commentPublishLoading&&(this.commentContent.length>=this.commentMaxLength||this.commentContent.length+e.length>this.commentMaxLength?void this.showMessage("error","最多只能输入"+this.commentMaxLength+"个字符！",2e3):(selectRange.of(this.$refs.commentTextarea).insertAfterText(e),this.commentContent=this.$refs.commentTextarea.value,!0))},showMessage:function(e,o,t){var a=this;a.tipMessage.className="success"===e?"positive":"negative",a.tipMessage.content=o;var n=parseInt(t)||0;a.tipMessage.show=!0,n>0&&setTimeout(function(){a.clearMessage()},n)},clearMessage:function(){this.tipMessage.className="",this.tipMessage.content="",this.tipMessage.show=!1},focus:function(){this.$refs.commentTextarea.focus()},removeCommentForm:function(){this.$el.remove(),this.$destroy(),e.isFunction(o.option.onRemoveForm)&&o.option.onRemoveForm.call(this)}}}),o.commentFormVue.$el.vueInstance=o.commentFormVue},t.prototype.focus=function(){this.commentFormVue&&e.isFunction(this.commentFormVue.focus)&&this.commentFormVue.focus()},t.prototype.insertContent=function(o){this.commentFormVue&&e.isFunction(this.commentFormVue.insertContent)&&this.commentFormVue.insertContent(o)},t.prototype.initToolBoxPopup=function(){e(this.commentFormVue.$el).find(".toolbox > .item[data-popup]").each(function(o,t){var a=e(t),n=e(a).parent().find(".toolbox-popup."+a.attr("data-popup"));a.popup({position:"bottom left",popup:n,on:"toolbox-picture"===a.attr("data-popup")?"manual":"click",exclusive:!0})})},window.OSCCommentReplyForm=t}(window.jQuery||window.$);
!function($){const defaultConf={wechatAutoRegister:!1,registerFrom:"",successRedirectUrl:"",onBindPhoneSuccess:$.noop()},OSCQuickLogin=function(o){const t=this;if("object"==typeof o)return t.option=$.extend({},defaultConf,o),t.modalEl=null,t.isLoadingModal=!1,t._YUNPIAN_JS_URL="",t._YUNPIAN_APPID="",t._GOOGLE_RECAPTCHA_ENABLE=!1,t._GOOGLE_RECAPTCHA_JS_URL="",t._GOOGLE_RECAPTCHA_SITE_KEY="",t._GOOGLE_RECAPTCHA_ACTION="",t._PwdLoginUrl=page.site_url+"/action/user/hash_login",t._SMSLoginUrl=page.site_url+"/action/user/sms_login",t._bindPhoneUrl=page.site_url+"/action/openid/bindPhone",t._sendSMSUrl=page.site_url+"/action/user/sendVerifyCodeForLoginByYun",void(t._imgCaptchaUrl=page.site_url+"/action/user/captcha")};OSCQuickLogin.prototype.bindBtn=function(){const o=this;$(document).on("click","[data-toggle-quick-login]",function(t){if(window.page&&window.page.g_user_id)return!1;t.preventDefault(),t.stopPropagation();const n=$(this),e=n.attr("data-auto-register")||"";"true"===e&&(o.option.wechatAutoRegister=e);const i=n.attr("data-from")||"";i&&(o.option.registerFrom=i||""),o.openLoginModal()})},OSCQuickLogin.prototype.login=function(o){const t=this;"object"==typeof o&&(t.option=$.extend({},t.option,o)),t.openLoginModal()},OSCQuickLogin.prototype.loginInWeChat=function(o){const t=this;"object"==typeof o&&(t.option=$.extend({},t.option,o)),window.common.checkWeChat()&&(window.location.href=t._getWeChatLoginUrlInWeChat())},OSCQuickLogin.prototype.checkAndBindPhone=function(o){const t=this;"object"==typeof o&&(t.option=$.extend({},t.option,o));const n=window.page&&window.page.g_user_id,e=window.page&&window.page.g_user_bind_phone;if(!n||e)return!1;t.openBindPhoneModal()},OSCQuickLogin.prototype._getWeChatLoginUrlInWeChat=function(){const o=this,t=o.option.successRedirectUrl||location.href||"",n=encodeURIComponent(t),e=o.option.wechatAutoRegister?"wechat_auto":"wechat_mobile";let i=`${page.site_url}/action/openid/before_bind?op=${e}&goto=${n}`;return o.option.registerFrom&&(i+=`&from=${encodeURIComponent(o.option.registerFrom||"")}`),i},OSCQuickLogin.prototype._getWeChatLoginUrlInOther=function(){const o=this,t=o.option.successRedirectUrl||location.href||"",n=encodeURIComponent(t);let e=`${page.site_url}/action/openid/before_bind?op=wechat&goto=${n}`;return o.option.registerFrom&&(e+=`&from=${encodeURIComponent(o.option.registerFrom||"")}`),e},OSCQuickLogin.prototype._loadJS=function(o){const t=this,n=[];window.CryptoJS||n.push("/new-osc/js/utils/plugins/sha1.js"),t._GOOGLE_RECAPTCHA_ENABLE&&n.push(t._GOOGLE_RECAPTCHA_JS_URL),n.push(t._YUNPIAN_JS_URL),new window.common.dynamicLoader(n,function(){$.isFunction(o)&&o.call(t)}).loadFiles()},OSCQuickLogin.prototype.closeModal=function(){this._removeModal(this.modalEl),this.modalEl=null},OSCQuickLogin.prototype.bindModalEvent=function(){const o=this;$(".osc-quick-login-modal").on("click",".btn-close",function(){const t=$(this).parents(".osc-quick-login-modal:eq(0)");t&&t.length>0&&o.closeModal()})},OSCQuickLogin.prototype._showModal=function(o){if(!o||o.length<=0)return!1;$("body").addClass("osc-quick-login-modal-disabled-scroll"),o.addClass("active");const t=o.find(".osc-quick-login-modal__cover"),n=o.find(".osc-quick-login-modal__inner");n.transition("is visible")||n.transition("scale"),t.addClass("active")},OSCQuickLogin.prototype._removeModal=function(o){if(!o||o.length<=0)return!1;$("body").removeClass("osc-quick-login-modal-disabled-scroll");const t=o.find(".osc-quick-login-modal__cover"),n=o.find(".osc-quick-login-modal__inner");n.transition("is visible")&&(t.removeClass("active"),n.transition("scale",function(){o.removeClass("active"),o.remove()}))},OSCQuickLogin.prototype._setFormItemPrompt=function(o,t,n){const e=o.parents(".form-box__item:eq(0)").find(".prompt-tip");e&&e.length>0&&(e.html(""),o.removeClass("success error"),t?(o.addClass("success"),e.html(n)):(o.addClass("error"),e.html(n)))},OSCQuickLogin.prototype._clearFormItemPrompt=function(o){const t=o.parents(".form-box__item:eq(0)").find(".prompt-tip");t&&t.length>0&&(t.html(""),o.removeClass("success error"))},OSCQuickLogin.prototype._setFormError=function(o,t){t?(o.html(t),o.removeClass("hide")):(o.html(""),o.addClass("hide"))},OSCQuickLogin.prototype.openLoginModal=function(){const o=this;if(o.isLoadingModal)return!1;o.modalEl&&($("body").removeClass("osc-quick-login-modal-disabled-scroll"),o.modalEl.remove(),o.modalEl=null),o.isLoadingModal=!0,$.get(page.api_prefix+"/widgets/quick_login_modal",function(t){let n=$(t).filter('.osc-quick-login-modal[data-type="quick-login"]');if(!n||n.length<=0)return $("body").toast({type:"error",content:"网络错误，请稍后再试"}),!1;o.modalEl=n,$("body").append(n),o.bindModalEvent(),o._showModal(o.modalEl),o.initLoginBox()}).always(function(){o.isLoadingModal=!1})},OSCQuickLogin.prototype.initLoginBox=function(){const o=this;o.loginBox=o.modalEl.find(".login-box"),o._YUNPIAN_JS_URL=o.loginBox.find('input[name="ypJSURL"]').val()||"",o._YUNPIAN_APPID=o.loginBox.find('input[name="ypAppId"]').val()||"",o._GOOGLE_RECAPTCHA_ENABLE="true"===o.loginBox.find('input[name="reCaptchaIsOpen"]').val(),o._GOOGLE_RECAPTCHA_JS_URL=o.loginBox.find('input[name="reCaptchaJSURL"]').val()||"",o._GOOGLE_RECAPTCHA_SITE_KEY=o.loginBox.find('input[name="reCaptchaSiteKey"]').val()||"",o._GOOGLE_RECAPTCHA_ACTION=o.loginBox.find('input[name="reCaptchaActionName"]').val()||"",o._loadJS(function(){o._initReCaptcha();const t=o.loginBox.find(".form-box--nopassword");o._initYunpianRiddler(t)}),o._initTabChange(),o._initOtherLogin(),o._initNoPasswordLogin(),o._initPasswordLogin(),o._bindImgCaptchaRefreshBtn()},OSCQuickLogin.prototype._initTabChange=function(){this.loginBox.on("click",".osc-tabs .osc-tabs__item",function(){const o=$(this),t=o.attr("data-osc-tab"),n=$('[data-osc-tab-body="'+t+'"]');if(n&&n.length>0){o.parents(".osc-tabs:eq(0)").find(".osc-tabs__item").removeClass("active"),o.addClass("active"),$("[data-osc-tab-body]").removeClass("active"),n.addClass("active")}})},OSCQuickLogin.prototype._initOtherLogin=function(){const o=this,t=o.loginBox.find(".login-account-other");let n,e,i=t.find(".btn-third-login.btn-third-login--wechat");if(window.common.checkWeChat()){e=!0;const t=o._getWeChatLoginUrlInWeChat();i.attr("href",t)}else if(window.common.checkPC()){e=!0;const t=o._getWeChatLoginUrlInOther();i.attr("href",t),i.attr("target","_blank")}else e=!1,i.remove();(n=e)&&t.addClass("login-account-other--visible")},OSCQuickLogin.prototype._initNoPasswordLogin=function(){const o=this,t=o.loginBox.find(".form-box--nopassword"),n=t.find(".form-box__item-phone"),e=t.find(".form-box__item-sms"),i=n.find("input"),r=e.find("input"),s=e.find(".btn-send-sms"),a=t.find(".btn-submit"),c=t.find(".form-box__error");function d(t){return i.val().trim()?/^1\d{10}$/.test(i.val())?(o._setFormItemPrompt(i,!0,""),!0):(o._setFormItemPrompt(i,!1,"手机号码格式错误"),t&&i.focus(),!1):(o._setFormItemPrompt(i,!1,"手机号码不能为空"),t&&i.focus(),!1)}function l(t){return r.val().trim()?/^\d{6}$/.test(r.val())?(o._setFormItemPrompt(r,!0,""),!0):(o._setFormItemPrompt(r,!1,"短信验证码格式错误"),t&&r.focus(),!1):(o._setFormItemPrompt(r,!1,"短信验证码不能为空"),t&&r.focus(),!1)}function m(){o._setFormError(c,""),d(!0)&&l(!0)&&(a.html("正在登录...").attr("disabled","disabled"),o.generateReCaptchaToken(function(t){!function(t){const n={phone:i.val(),verifyCode:r.val()};t&&(n.google_code=t),o.option.registerFrom&&(n.from=o.option.registerFrom||""),a.html("正在登录...").attr("disabled","disabled"),$.ajax({url:o._SMSLoginUrl,xhrFields:{withCredentials:!0},type:"post",data:n,success(t){if(!(t=t||"")||t.length<=0){const t=o.option.successRedirectUrl||"";return void(t?location.href=t:location.reload())}a.html("登录/注册").removeAttr("disabled");const n=JSON.parse(t);return"验证码错误"===n.msg?(o._setFormItemPrompt(r,!1,n.msg),r.focus(),!1):(o._setFormError(c,n.msg||"登录失败"),!1)},error:function(){a.html("登录/注册").removeAttr("disabled"),o._setFormError(c,"网络异常，请稍后再试")}})}(t)},function(){a.html("登录/注册").removeAttr("disabled"),o._setFormError(c,"网络异常，请稍后再试")}))}t.on("blur","input",function(){setTimeout(function(){window.scrollBy(0,0)},0)}),i.bind("input propertychange",function(o){let t=(o.target.value||"")+"";t=(t=(t=(t=t.replace(/^(\+86|86)/g,"")).replace(/\s+/g,"")).replace(/[^\d]/g,"")).slice(0,11),i.val(t),setTimeout(function(){d(!1)},200)}),r.bind("input propertychange",function(){setTimeout(function(){l(!1)},200)}),s.bind("click",function(){d(!0)&&o.modalEl.find("#yp-riddler-box").click()}),t.on("keydown","input",function(o){if(13===o.keyCode)return m(),!1}),t.on("click",".btn-submit",function(){m()})},OSCQuickLogin.prototype._initYunpianRiddler=function(formEl){const self=this,_form=formEl,formItemPhone=_form.find(".form-box__item-phone"),formItemSMS=_form.find(".form-box__item-sms"),phoneInput=formItemPhone.find("input"),smsInput=formItemSMS.find("input"),sendSMSBtn=formItemSMS.find(".btn-send-sms"),ypAuthenticate=_form.find("input[id='ypAuthenticate']"),ypToken=_form.find("input[id='ypToken']"),ypRiddlerBoxDOM=self.modalEl.find("#yp-riddler-box")[0];if(!ypRiddlerBoxDOM)return!1;ypRiddlerBoxDOM.innerHTML="",window.YpRiddler&&new YpRiddler({expired:30,mode:"dialog",winWidth:300,lang:"zh-cn",noButton:!0,container:ypRiddlerBoxDOM,appId:self._YUNPIAN_APPID||"",version:"v1",onError:function(o){429!==o.code||self._setFormItemPrompt(phoneInput,!1,"验证过于频繁，请稍后再试")},onSuccess:function(validInfo,close){ypAuthenticate.val(validInfo.authenticate),ypToken.val(validInfo.token),close(),sendSMSBtn.attr("disabled","disabled"),$.ajax({type:"POST",url:self._sendSMSUrl||"",data:{phoneNumber:phoneInput.val(),ypAuthenticate:ypAuthenticate.val(),ypToken:ypToken.val()},success:function(data){function countDown(){var o=60;sendSMSBtn.attr("disabled","disabled"),sendSMSBtn.text(o+"s后重新发送");var t=setInterval(function(){o--,sendSMSBtn.attr("disabled","disabled"),sendSMSBtn.text(o+"s后重新发送"),o<1&&(clearInterval(t),sendSMSBtn.removeAttr("disabled"),sendSMSBtn.text("重新获取"))},1e3)}switch(data.msg||(data=eval("("+data+")")),data.msg){case"短信发送成功":countDown();break;case"fail":self._setFormItemPrompt(smsInput,!1,"短信发送失败");break;case"verifyCode_empty":self._setFormItemPrompt(smsInput,!1,"滑动验证失败");break;case"iPhoneVode_number_error":self._setFormItemPrompt(phoneInput,!1,"请确保你输入的是正确的手机号码！");break;case"not_allow_to_send":self._setFormItemPrompt(phoneInput,!1,"发送次数过多，暂时不可获取验证码！");break;case"phone_number_error":self._setFormItemPrompt(phoneInput,!1,"手机号码错误");break;case"phone_exist":self._setFormItemPrompt(phoneInput,!1,"手机号码已存在");break;case"该手机号码并未绑定任何账号":self._setFormItemPrompt(phoneInput,!1,"该手机号码并未绑定任何账号");break;case"success":countDown();break;default:self._setFormItemPrompt(smsInput,!1,data.msg)}"短信发送成功"!==data.msg&&"success"!==data.msg&&(self._initYunpianRiddler(_form),sendSMSBtn.removeAttr("disabled"))},error:function(){self._setFormItemPrompt(smsInput,!1,"短信发送失败"),sendSMSBtn.removeAttr("disabled")},dataType:"json"})},onFail:function(o,t,n){n()},beforeStart:function(o){o()},onExit:function(){}})};OSCQuickLogin.prototype._initPasswordLogin=function(){const o=this,t=o.loginBox.find(".form-box--password"),n=t.find(".form-box__item-account"),e=t.find(".form-box__item-password"),i=t.find(".form-box__item-code"),r=n.find("input"),s=e.find("input"),a=i.find("input"),c=t.find(".btn-submit"),d=t.find(".form-box__error"),l=t.find("input[id='saveLogin']");function m(t){const n=/^1\d{10}$/.test(r.val())||/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i.test(r.val());return r.val().trim()?n?(o._setFormItemPrompt(r,!0,""),!0):(o._setFormItemPrompt(r,!1,"手机号码或邮箱格式错误"),t&&r.focus(),!1):(o._setFormItemPrompt(r,!1,"请输入手机号码或邮箱"),t&&r.focus(),!1)}function u(t){return s.val().trim()?(o._setFormItemPrompt(s,!0,""),!0):(o._setFormItemPrompt(s,!1,"请输入登录密码"),t&&s.focus(),!1)}function p(){o._setFormError(d,""),m(!0)&&u(!0)&&(c.html("正在登录...").attr("disabled","disabled"),o.generateReCaptchaToken(function(t){!function(t){const n={email:r.val(),pwd:CryptoJS.SHA1(s.val()).toString(),verifyCode:a.val(),save_login:l[0]&&l[0].checked?1:0};t&&(n.google_code=t),c.html("正在登录...").attr("disabled",!0),$.ajax({url:o._PwdLoginUrl||"",xhrFields:{withCredentials:!0},type:"post",data:n,success(t){if(!(t=t||"")||t.length<=0){const t=o.option.successRedirectUrl||"";return void(t?location.href=t:location.reload())}c.html("登录").removeAttr("disabled");const n=JSON.parse(t);if(n.error>0||n.failCount>0){if((n.failCount>2||1==n.error)&&i.addClass("active"),"验证码错误"===n.msg)return o.refreshImgCaptcha(!0),o._setFormItemPrompt(a,!1,n.msg),!1;i.hasClass("active")&&o.refreshImgCaptcha(),o._setFormError(d,n.msg||"登录失败")}},error:function(){c.html("登录").removeAttr("disabled"),o._setFormError(d,"网络异常，请稍后再试")}})}(t)},function(){c.html("登录").removeAttr("disabled"),o._setFormError(d,"网络异常，请稍后再试")}))}t.on("blur","input",function(){setTimeout(function(){window.scrollBy(0,0)},0)}),r.bind("input propertychange",function(){setTimeout(function(){m(!1)},200)}),s.bind("input propertychange",function(){setTimeout(function(){u(!1)},200)}),t.on("keydown","input",function(o){if(13===o.keyCode)return p(),!1}),t.on("click",".btn-submit",function(){p()})},OSCQuickLogin.prototype._bindImgCaptchaRefreshBtn=function(){const o=this;o.loginBox.on("click",".img-code-wrap",function(){o.refreshImgCaptcha(!0)})},OSCQuickLogin.prototype.refreshImgCaptcha=function(o){const t=this,n=t.loginBox.find(".img-code-wrap");n.find(".img-code").attr("src",`${t._imgCaptchaUrl}?t=`+Math.random());const e=n.parents(".form-box__item:eq(0)"),i=n.attr("data-input")?e.find(n.attr("data-input")):null;i&&i.length>0&&(i.val(""),t._clearFormItemPrompt(i),o&&i.focus())},OSCQuickLogin.prototype._initReCaptcha=function(){self._GOOGLE_RECAPTCHA_ENABLE&&window.grecaptcha&&window.grecaptcha.ready&&grecaptcha.ready()},OSCQuickLogin.prototype.generateReCaptchaToken=function(o,t){const n=this,e=n._GOOGLE_RECAPTCHA_ENABLE,i=n._GOOGLE_RECAPTCHA_SITE_KEY||"";e&&window.grecaptcha&&window.grecaptcha.execute?grecaptcha.execute(i,{action:n._GOOGLE_RECAPTCHA_ACTION||""}).then(function(t){$.isFunction(o)&&o(t)},function(n){$.isFunction(o)&&t(n)}):$.isFunction(o)&&o()},OSCQuickLogin.prototype.openBindPhoneModal=function(){const o=this;if(o.isLoadingModal)return!1;o.modalEl&&($("body").removeClass("osc-quick-login-modal-disabled-scroll"),o.modalEl.remove(),o.modalEl=null),o.isLoadingModal=!0,$.get(page.api_prefix+"/widgets/quick_login_bind_phone_modal",function(t){let n=$(t).filter('.osc-quick-login-modal[data-type="bind-phone"]');if(!n||n.length<=0)return $("body").toast({type:"error",content:"网络错误，请稍后再试"}),!1;o.modalEl=n,$("body").append(n),o.bindModalEvent(),o._showModal(o.modalEl),o.initBindPhoneBox()}).always(function(){o.isLoadingModal=!1})},OSCQuickLogin.prototype.initBindPhoneBox=function(){const o=this;o.bindPhoneBox=o.modalEl.find(".bind-phone-box"),o._YUNPIAN_JS_URL=o.bindPhoneBox.find('input[name="ypJSURL"]').val()||"",o._YUNPIAN_APPID=o.bindPhoneBox.find('input[name="ypAppId"]').val()||"",o._loadJS(function(){const t=o.bindPhoneBox.find(".form-box");o._initYunpianRiddler(t)}),o._initBindPhoneForm()},OSCQuickLogin.prototype._initBindPhoneForm=function(){const o=this,t=o.bindPhoneBox.find(".form-box"),n=t.find(".form-box__item-phone"),e=t.find(".form-box__item-sms"),i=n.find("input"),r=e.find("input"),s=e.find(".btn-send-sms"),a=t.find(".btn-submit"),c=t.find(".form-box__error");function d(t){return i.val().trim()?/^1\d{10}$/.test(i.val())?(o._setFormItemPrompt(i,!0,""),!0):(o._setFormItemPrompt(i,!1,"手机号码格式错误"),t&&i.focus(),!1):(o._setFormItemPrompt(i,!1,"手机号码不能为空"),t&&i.focus(),!1)}function l(t){return r.val().trim()?/^\d{6}$/.test(r.val())?(o._setFormItemPrompt(r,!0,""),!0):(o._setFormItemPrompt(r,!1,"短信验证码格式错误"),t&&r.focus(),!1):(o._setFormItemPrompt(r,!1,"短信验证码不能为空"),t&&r.focus(),!1)}function m(){o._setFormError(c,""),d(!0)&&l(!0)&&(a.html("正在提交...").attr("disabled","disabled"),function(){const t={phoneNumber:i.val(),verifyCode:r.val()};a.html("正在提交...").attr("disabled","disabled"),$.ajax({url:o._bindPhoneUrl,xhrFields:{withCredentials:!0},type:"post",data:t,success(t){if(!t.result)return a.html("提交").removeAttr("disabled"),"手机号码格式有误"===t.msg?(o._setFormItemPrompt(i,!1,t.msg),i.focus(),!1):"手机验证码错误"===t.msg?(o._setFormItemPrompt(r,!1,t.msg),r.focus(),!1):(o._setFormError(c,t.msg||"提交失败"),!1);{if($.isFunction(o.option.onBindPhoneSuccess)&&!1===o.option.onBindPhoneSuccess.call(o,t))return void o.closeModal();const n=o.option.successRedirectUrl||"";n?location.href=n:location.reload()}},error:function(){a.html("提交").removeAttr("disabled"),o._setFormError(c,"网络异常，请稍后再试")}})}())}t.on("blur","input",function(){setTimeout(function(){window.scrollBy(0,0)},0)}),i.bind("input propertychange",function(o){let t=(o.target.value||"")+"";t=(t=(t=(t=t.replace(/^(\+86|86)/g,"")).replace(/\s+/g,"")).replace(/[^\d]/g,"")).slice(0,11),i.val(t),setTimeout(function(){d(!1)},200)}),r.bind("input propertychange",function(){setTimeout(function(){l(!1)},200)}),s.bind("click",function(){d(!0)&&o.modalEl.find("#yp-riddler-box").click()}),t.on("keydown","input",function(o){if(13===o.keyCode)return m(),!1}),t.on("click",".btn-submit",function(){m()})},$(function(){const o=new OSCQuickLogin({});o.bindBtn(),window.OSCQuickLogin=o})}(window.jQuery||window.$);
!function(t,e){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("jquery")):t.jQueryBridget=e(t,t.jQuery)}(window,function(t,e){"use strict";function i(i,r,l){(l=l||e||t.jQuery)&&(r.prototype.option||(r.prototype.option=function(t){l.isPlainObject(t)&&(this.options=l.extend(!0,this.options,t))}),l.fn[i]=function(t){return"string"==typeof t?function(t,e,n){var o,r="$()."+i+'("'+e+'")';return t.each(function(t,a){var h=l.data(a,i);if(h){var c=h[e];if(c&&"_"!=e.charAt(0)){var u=c.apply(h,n);o=void 0===o?u:o}else s(r+" is not a valid method")}else s(i+" not initialized. Cannot call methods, i.e. "+r)}),void 0!==o?o:t}(this,t,o.call(arguments,1)):(function(t,e){t.each(function(t,n){var o=l.data(n,i);o?(o.option(e),o._init()):(o=new r(n,e),l.data(n,i,o))})}(this,t),this)},n(l))}function n(t){!t||t&&t.bridget||(t.bridget=i)}var o=Array.prototype.slice,r=t.console,s=void 0===r?function(){}:function(t){r.error(t)};return n(e||t.jQuery),i}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return-1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{};return(i[t]=i[t]||{})[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return-1!=n&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];for(var n=this._onceEvents&&this._onceEvents[t],o=0;o<i.length;o++){var r=i[o];n&&n[r]&&(this.off(t,r),delete n[r]),r.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){"use strict";var t=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var n=e[i]+"MatchesSelector";if(t[n])return n}}();return function(e,i){return e[t](i)}}),function(t,e){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("desandro-matches-selector")):t.fizzyUIUtils=e(t,t.matchesSelector)}(window,function(t,e){var i={extend:function(t,e){for(var i in e)t[i]=e[i];return t},modulo:function(t,e){return(t%e+e)%e}},n=Array.prototype.slice;i.makeArray=function(t){return Array.isArray(t)?t:null===t||void 0===t?[]:"object"==typeof t&&"number"==typeof t.length?n.call(t):[t]},i.removeFrom=function(t,e){var i=t.indexOf(e);-1!=i&&t.splice(i,1)},i.getParent=function(t,i){for(;t.parentNode&&t!=document.body;)if(t=t.parentNode,e(t,i))return t},i.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.filterFindElements=function(t,n){var o=[];return(t=i.makeArray(t)).forEach(function(t){if(t instanceof HTMLElement){if(!n)return void o.push(t);e(t,n)&&o.push(t);for(var i=t.querySelectorAll(n),r=0;r<i.length;r++)o.push(i[r])}}),o},i.debounceMethod=function(t,e,i){i=i||100;var n=t.prototype[e],o=e+"Timeout";t.prototype[e]=function(){var t=this[o];clearTimeout(t);var e=arguments,r=this;this[o]=setTimeout(function(){n.apply(r,e),delete r[o]},i)}},i.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},i.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()};var o=t.console;return i.htmlInit=function(e,n){i.docReady(function(){var r=i.toDashed(n),s="data-"+r,l=document.querySelectorAll("["+s+"]"),a=document.querySelectorAll(".js-"+r),h=i.makeArray(l).concat(i.makeArray(a)),c=s+"-options",u=t.jQuery;h.forEach(function(t){var i,r=t.getAttribute(s)||t.getAttribute(c);try{i=r&&JSON.parse(r)}catch(e){return void(o&&o.error("Error parsing "+s+" on "+t.className+": "+e))}var l=new e(t,i);u&&u.data(t,n,l)})})},i}),function(t,e){"function"==typeof define&&define.amd?define("infinite-scroll/js/core",["ev-emitter/ev-emitter","fizzy-ui-utils/utils"],function(i,n){return e(t,i,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter"),require("fizzy-ui-utils")):t.InfiniteScroll=e(t,t.EvEmitter,t.fizzyUIUtils)}(window,function(t,e,i){function n(t,e){var s=i.getQueryElement(t);if(s){if((t=s).infiniteScrollGUID){var l=r[t.infiniteScrollGUID];return l.option(e),l}this.element=t,this.options=i.extend({},n.defaults),this.option(e),o&&(this.$element=o(this.element)),this.create()}}var o=t.jQuery,r={};n.defaults={},n.create={},n.destroy={};var s=n.prototype;i.extend(s,e.prototype);var l=0;s.create=function(){var t=this.guid=++l;if(this.element.infiniteScrollGUID=t,r[t]=this,this.pageIndex=1,this.loadCount=0,this.updateGetPath(),this.getPath&&this.getPath())for(var e in this.updateGetAbsolutePath(),this.log("initialized",[this.element.className]),this.callOnInit(),n.create)n.create[e].call(this)},s.option=function(t){i.extend(this.options,t)},s.callOnInit=function(){var t=this.options.onInit;t&&t.call(this,this)},s.dispatchEvent=function(t,e,i){this.log(t,i);var n=e?[e].concat(i):i;if(this.emitEvent(t,n),o&&this.$element){var r=t+=".infiniteScroll";if(e){var s=o.Event(e);s.type=t,r=s}this.$element.trigger(r,i)}};var a={initialized:function(t){return"on "+t},request:function(t){return"URL: "+t},load:function(t,e){return(t.title||"")+". URL: "+e},error:function(t,e){return t+". URL: "+e},append:function(t,e,i){return i.length+" items. URL: "+e},last:function(t,e){return"URL: "+e},history:function(t,e){return"URL: "+e},pageIndex:function(t,e){return"current page determined to be: "+t+" from "+e}};s.log=function(t,e){if(this.options.debug){var i=a[t];i&&". "+i.apply(this,e)}},s.updateMeasurements=function(){this.windowHeight=t.innerHeight;var e=this.element.getBoundingClientRect();this.top=e.top+t.pageYOffset},s.updateScroller=function(){var e=this.options.elementScroll;if(e){if(this.scroller=!0===e?this.element:i.getQueryElement(e),!this.scroller)throw"Unable to find elementScroll: "+e}else this.scroller=t},s.updateGetPath=function(){var t=this.options.path;if(t){var e=typeof t;if("function"!=e)return"string"==e&&t.match("{{#}}")?void this.updateGetPathTemplate(t):void this.updateGetPathSelector(t);this.getPath=t}},s.updateGetPathTemplate=function(t){this.getPath=function(){var e=this.pageIndex+1;return t.replace("{{#}}",e)}.bind(this);var e=t.replace("{{#}}","(\\d\\d?\\d?)"),i=new RegExp(e),n=location.href.match(i);n&&(this.pageIndex=parseInt(n[1],10),this.log("pageIndex",[this.pageIndex,"template string"]))};var h=[/^(.*?\/?page\/?)(\d\d?\d?)(.*?$)/,/^(.*?\/?\?page=)(\d\d?\d?)(.*?$)/,/(.*?)(\d\d?\d?)(?!.*\d)(.*?$)/];return s.updateGetPathSelector=function(t){var e=document.querySelector(t);if(e){for(var i,n,o=e.getAttribute("href"),r=0;o&&r<h.length;r++){n=h[r];var s=o.match(n);if(s){i=s.slice(1);break}}return i?(this.isPathSelector=!0,this.getPath=function(){var t=this.pageIndex+1;return i[0]+t+i[2]}.bind(this),this.pageIndex=parseInt(i[1],10)-1,void this.log("pageIndex",[this.pageIndex,"next link"])):void 0}},s.updateGetAbsolutePath=function(){var t=this.getPath();if(t.match(/^http/)||t.match(/^\//))this.getAbsolutePath=this.getPath;else{var e=location.pathname,i=e.substring(0,e.lastIndexOf("/"));this.getAbsolutePath=function(){return i+"/"+this.getPath()}}},n.create.hideNav=function(){var t=i.getQueryElement(this.options.hideNav);t&&(t.style.display="none",this.nav=t)},n.destroy.hideNav=function(){this.nav&&(this.nav.style.display="")},s.destroy=function(){for(var t in this.allOff(),n.destroy)n.destroy[t].call(this);delete this.element.infiniteScrollGUID,delete r[this.guid]},n.throttle=function(t,e){var i,n;return e=e||200,function(){var o=+new Date,r=arguments,s=function(){i=o,t.apply(this,r)}.bind(this);i&&o<i+e?(clearTimeout(n),n=setTimeout(s,e)):s()}},n.data=function(t){var e=(t=i.getQueryElement(t))&&t.infiniteScrollGUID;return e&&r[e]},n.setJQuery=function(t){o=t},i.htmlInit(n,"infinite-scroll"),o&&o.bridget&&o.bridget("infiniteScroll",n),n}),function(t,e){"function"==typeof define&&define.amd?define("infinite-scroll/js/page-load",["./core"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./core")):e(t,t.InfiniteScroll)}(window,function(t,e){function i(t){for(var e=document.createDocumentFragment(),i=0;t&&i<t.length;i++)e.appendChild(t[i]);return e}function n(t,e){for(var i=t.attributes,n=0;n<i.length;n++){var o=i[n];e.setAttribute(o.name,o.value)}}var o=e.prototype;return e.defaults.loadOnScroll=!0,e.defaults.checkLastPage=!0,e.defaults.responseType="document",e.create.pageLoad=function(){this.canLoad=!0,this.on("scrollThreshold",this.onScrollThresholdLoad),this.on("load",this.checkLastPage),this.options.outlayer&&this.on("append",this.onAppendOutlayer)},o.onScrollThresholdLoad=function(){this.options.loadOnScroll&&this.loadNextPage()},o.loadNextPage=function(){if(!this.isLoading&&this.canLoad){var t=this.getAbsolutePath();this.isLoading=!0;var e=function(e){this.onPageLoad(e,t)}.bind(this),i=function(e){this.onPageError(e,t)}.bind(this);(function(t,e,i,n){var o=new XMLHttpRequest;o.open("GET",t,!0),o.responseType=e||"",o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.onload=function(){if(200==o.status)i(o.response);else{var t=new Error(o.statusText);n(t)}},o.onerror=function(){var e=new Error("Network error requesting "+t);n(e)},o.send()})(t,this.options.responseType,e,i),this.dispatchEvent("request",null,[t])}},o.onPageLoad=function(t,e){return this.options.append||(this.isLoading=!1),this.pageIndex++,this.loadCount++,this.dispatchEvent("load",null,[t,e]),this.appendNextPage(t,e),t},o.appendNextPage=function(t,e){var n=this.options.append;if("document"==this.options.responseType&&n){var o=t.querySelectorAll(n),r=i(o),s=function(){this.appendItems(o,r),this.isLoading=!1,this.dispatchEvent("append",null,[t,e,o])}.bind(this);this.options.outlayer?this.appendOutlayerItems(r,s):s()}},o.appendItems=function(t,e){t&&t.length&&(function(t){for(var e=t.querySelectorAll("script"),i=0;i<e.length;i++){var o=e[i],r=document.createElement("script");n(o,r),r.innerHTML=o.innerHTML,o.parentNode.replaceChild(r,o)}}(e=e||i(t)),this.element.appendChild(e))},o.appendOutlayerItems=function(i,n){var o=e.imagesLoaded||t.imagesLoaded;return o?void o(i,n):void(this.isLoading=!1)},o.onAppendOutlayer=function(t,e,i){this.options.outlayer.appended(i)},o.checkLastPage=function(t,e){var i=this.options.checkLastPage;if(i){var n,o=this.options.path;if("function"==typeof o)if(!this.getPath())return void this.lastPageReached(t,e);if("string"==typeof i?n=i:this.isPathSelector&&(n=o),n&&t.querySelector)t.querySelector(n)||this.lastPageReached(t,e)}},o.lastPageReached=function(t,e){this.canLoad=!1,this.dispatchEvent("last",null,[t,e])},o.onPageError=function(t,e){return this.isLoading=!1,this.canLoad=!1,this.dispatchEvent("error",null,[t,e]),t},e.create.prefill=function(){if(this.options.prefill){var t=this.options.append;if(!t)return;this.updateMeasurements(),this.updateScroller(),this.isPrefilling=!0,this.on("append",this.prefill),this.once("error",this.stopPrefill),this.once("last",this.stopPrefill),this.prefill()}},o.prefill=function(){var t=this.getPrefillDistance();this.isPrefilling=t>=0,this.isPrefilling?(this.log("prefill"),this.loadNextPage()):this.stopPrefill()},o.getPrefillDistance=function(){return this.options.elementScroll?this.scroller.clientHeight-this.scroller.scrollHeight:this.windowHeight-this.element.clientHeight},o.stopPrefill=function(){this.log("stopPrefill"),this.off("append",this.prefill)},e}),function(t,e){"function"==typeof define&&define.amd?define("infinite-scroll/js/scroll-watch",["./core","fizzy-ui-utils/utils"],function(i,n){return e(t,i,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./core"),require("fizzy-ui-utils")):e(t,t.InfiniteScroll,t.fizzyUIUtils)}(window,function(t,e,i){var n=e.prototype;return e.defaults.scrollThreshold=400,e.create.scrollWatch=function(){this.pageScrollHandler=this.onPageScroll.bind(this),this.resizeHandler=this.onResize.bind(this);var t=this.options.scrollThreshold;(t||0===t)&&this.enableScrollWatch()},e.destroy.scrollWatch=function(){this.disableScrollWatch()},n.enableScrollWatch=function(){this.isScrollWatching||(this.isScrollWatching=!0,this.updateMeasurements(),this.updateScroller(),this.on("last",this.disableScrollWatch),this.bindScrollWatchEvents(!0))},n.disableScrollWatch=function(){this.isScrollWatching&&(this.bindScrollWatchEvents(!1),delete this.isScrollWatching)},n.bindScrollWatchEvents=function(e){var i=e?"addEventListener":"removeEventListener";this.scroller[i]("scroll",this.pageScrollHandler),t[i]("resize",this.resizeHandler)},n.onPageScroll=e.throttle(function(){this.getBottomDistance()<=this.options.scrollThreshold&&this.dispatchEvent("scrollThreshold")}),n.getBottomDistance=function(){return this.options.elementScroll?this.getElementBottomDistance():this.getWindowBottomDistance()},n.getWindowBottomDistance=function(){return this.top+this.element.clientHeight-(t.pageYOffset+this.windowHeight)},n.getElementBottomDistance=function(){return this.scroller.scrollHeight-(this.scroller.scrollTop+this.scroller.clientHeight)},n.onResize=function(){this.updateMeasurements()},i.debounceMethod(e,"onResize",150),e}),function(t,e){"function"==typeof define&&define.amd?define("infinite-scroll/js/history",["./core","fizzy-ui-utils/utils"],function(i,n){return e(t,i,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./core"),require("fizzy-ui-utils")):e(t,t.InfiniteScroll,t.fizzyUIUtils)}(window,function(t,e,i){var n=e.prototype;e.defaults.history="replace";var o=document.createElement("a");return e.create.history=function(){if(this.options.history)return o.href=this.getAbsolutePath(),(o.origin||o.protocol+"//"+o.host)==location.origin?void(this.options.append?this.createHistoryAppend():this.createHistoryPageLoad()):void 0},n.createHistoryAppend=function(){this.updateMeasurements(),this.updateScroller(),this.scrollPages=[{top:0,path:location.href,title:document.title}],this.scrollPageIndex=0,this.scrollHistoryHandler=this.onScrollHistory.bind(this),this.unloadHandler=this.onUnload.bind(this),this.scroller.addEventListener("scroll",this.scrollHistoryHandler),this.on("append",this.onAppendHistory),this.bindHistoryAppendEvents(!0)},n.bindHistoryAppendEvents=function(e){var i=e?"addEventListener":"removeEventListener";this.scroller[i]("scroll",this.scrollHistoryHandler),t[i]("unload",this.unloadHandler)},n.createHistoryPageLoad=function(){this.on("load",this.onPageLoadHistory)},e.destroy.history=n.destroyHistory=function(){this.options.history&&this.options.append&&this.bindHistoryAppendEvents(!1)},n.onAppendHistory=function(t,e,i){if(i&&i.length){var n=i[0],r=this.getElementScrollY(n);o.href=e,this.scrollPages.push({top:r,path:o.href,title:t.title})}},n.getElementScrollY=function(t){return this.options.elementScroll?this.getElementElementScrollY(t):this.getElementWindowScrollY(t)},n.getElementWindowScrollY=function(e){return e.getBoundingClientRect().top+t.pageYOffset},n.getElementElementScrollY=function(t){return t.offsetTop-this.top},n.onScrollHistory=function(){for(var t,e,i=this.getScrollViewY(),n=0;n<this.scrollPages.length;n++){var o=this.scrollPages[n];if(o.top>=i)break;t=n,e=o}t!=this.scrollPageIndex&&(this.scrollPageIndex=t,this.setHistory(e.title,e.path))},i.debounceMethod(e,"onScrollHistory",150),n.getScrollViewY=function(){return this.options.elementScroll?this.scroller.scrollTop+this.scroller.clientHeight/2:t.pageYOffset+this.windowHeight/2},n.setHistory=function(t,e){var i=this.options.history;i&&history[i+"State"]&&(history[i+"State"](null,t,e),this.options.historyTitle&&(document.title=t),this.dispatchEvent("history",null,[t,e]))},n.onUnload=function(){var e=this.scrollPageIndex;if(0!==e){var i=this.scrollPages[e],n=t.pageYOffset-i.top+this.top;this.destroyHistory(),scrollTo(0,n)}},n.onPageLoadHistory=function(t,e){this.setHistory(t.title,e)},e}),function(t,e){"function"==typeof define&&define.amd?define("infinite-scroll/js/button",["./core","fizzy-ui-utils/utils"],function(i,n){return e(t,i,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./core"),require("fizzy-ui-utils")):e(t,t.InfiniteScroll,t.fizzyUIUtils)}(window,function(t,e,i){function n(t,e){this.element=t,this.infScroll=e,this.clickHandler=this.onClick.bind(this),this.element.addEventListener("click",this.clickHandler),e.on("request",this.disable.bind(this)),e.on("load",this.enable.bind(this)),e.on("error",this.hide.bind(this)),e.on("last",this.hide.bind(this))}return e.create.button=function(){var t=i.getQueryElement(this.options.button);t&&(this.button=new n(t,this))},e.destroy.button=function(){this.button&&this.button.destroy()},n.prototype.onClick=function(t){t.preventDefault(),this.infScroll.loadNextPage()},n.prototype.enable=function(){this.element.removeAttribute("disabled")},n.prototype.disable=function(){this.element.disabled="disabled"},n.prototype.hide=function(){this.element.style.display="none"},n.prototype.destroy=function(){this.element.removeEventListener("click",this.clickHandler)},e.Button=n,e}),function(t,e){"function"==typeof define&&define.amd?define("infinite-scroll/js/status",["./core","fizzy-ui-utils/utils"],function(i,n){return e(t,i,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./core"),require("fizzy-ui-utils")):e(t,t.InfiniteScroll,t.fizzyUIUtils)}(window,function(t,e,i){function n(t){r(t,"none")}function o(t){r(t,"block")}function r(t,e){t&&(t.style.display=e)}var s=e.prototype;return e.create.status=function(){var t=i.getQueryElement(this.options.status);t&&(this.statusElement=t,this.statusEventElements={request:t.querySelector(".infinite-scroll-request"),error:t.querySelector(".infinite-scroll-error"),last:t.querySelector(".infinite-scroll-last")},this.on("request",this.showRequestStatus),this.on("error",this.showErrorStatus),this.on("last",this.showLastStatus),this.bindHideStatus("on"))},s.bindHideStatus=function(t){var e=this.options.append?"append":"load";this[t](e,this.hideAllStatus)},s.showRequestStatus=function(){this.showStatus("request")},s.showErrorStatus=function(){this.showStatus("error")},s.showLastStatus=function(){this.showStatus("last"),this.bindHideStatus("off")},s.showStatus=function(t){o(this.statusElement),this.hideStatusEventElements(),o(this.statusEventElements[t])},s.hideAllStatus=function(){n(this.statusElement),this.hideStatusEventElements()},s.hideStatusEventElements=function(){for(var t in this.statusEventElements){n(this.statusEventElements[t])}},e}),function(t,e){"function"==typeof define&&define.amd?define(["infinite-scroll/js/core","infinite-scroll/js/page-load","infinite-scroll/js/scroll-watch","infinite-scroll/js/history","infinite-scroll/js/button","infinite-scroll/js/status"],e):"object"==typeof module&&module.exports&&(module.exports=e(require("./core"),require("./page-load"),require("./scroll-watch"),require("./history"),require("./button"),require("./status")))}(window,function(t){return t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("imagesloaded/imagesloaded",["ev-emitter/ev-emitter"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter")):t.imagesLoaded=e(t,t.EvEmitter)}("undefined"!=typeof window?window:this,function(t,e){function i(t,e){for(var i in e)t[i]=e[i];return t}function n(t,e,o){if(!(this instanceof n))return new n(t,e,o);var r=t;return"string"==typeof t&&(r=document.querySelectorAll(t)),r?(this.elements=function(t){return Array.isArray(t)?t:"object"==typeof t&&"number"==typeof t.length?a.call(t):[t]}(r),this.options=i({},this.options),"function"==typeof e?o=e:i(this.options,e),o&&this.on("always",o),this.getImages(),s&&(this.jqDeferred=new s.Deferred),void setTimeout(this.check.bind(this))):void l.error("Bad element for imagesLoaded "+(r||t))}function o(t){this.img=t}function r(t,e){this.url=t,this.element=e,this.img=new Image}var s=t.jQuery,l=t.console,a=Array.prototype.slice;n.prototype=Object.create(e.prototype),n.prototype.options={},n.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},n.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&h[e]){for(var i=t.querySelectorAll("img"),n=0;n<i.length;n++){var o=i[n];this.addImage(o)}if("string"==typeof this.options.background){var r=t.querySelectorAll(this.options.background);for(n=0;n<r.length;n++){var s=r[n];this.addElementBackgroundImages(s)}}}};var h={1:!0,9:!0,11:!0};return n.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(e.backgroundImage);null!==n;){var o=n&&n[2];o&&this.addBackground(o,t),n=i.exec(e.backgroundImage)}},n.prototype.addImage=function(t){var e=new o(t);this.images.push(e)},n.prototype.addBackground=function(t,e){var i=new r(t,e);this.images.push(i)},n.prototype.check=function(){function t(t,i,n){setTimeout(function(){e.progress(t,i,n)})}var e=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(e){e.once("progress",t),e.check()}):void this.complete()},n.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&l&&l.log("progress: "+i,t,e)},n.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},o.prototype=Object.create(e.prototype),o.prototype.check=function(){return this.getIsImageComplete()?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},o.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},o.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},o.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},o.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},o.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},o.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},r.prototype=Object.create(o.prototype),r.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},r.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},r.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},n.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&((s=e).fn.imagesLoaded=function(t,e){return new n(this,t,e).jqDeferred.promise(s(this))})},n.makeJQueryPlugin(),n});
!function(o){var t={pagePath:void 0,containerSelector:"",itemListSelector:".articles-list-container",itemSelector:".item",loadMoreBtnSelector:".load-more-button",statusSelector:".page-load-status",hideNav:".pagination",checkLastPage:!0,loadOnScroll:!0,scrollThreshold:400,defaultAutoLoadPageCount:2,debug:!1,history:!1,onRequest:o.noop,onLoad:o.noop,onAppend:o.noop,onError:o.noop,onLast:o.noop,onShowViewMoreBtn:o.noop,onClickViewMoreBtn:o.noop},n=function(n){var i=this;if("object"==typeof n)return i.option=o.extend({},t,n),i._loadMoreButton=function(){return o(i.getFullSelector(i.option.loadMoreBtnSelector))},void(i._loader=function(){return o(i.getFullSelector(i.option.statusSelector)).find(".infinite-scroll-request .loader")})};n.prototype.init=function(){var t=this;0!==o(t.getFullSelector(t.option.itemListSelector)).length&&(t._infScroll=new InfiniteScroll(t.getFullSelector(t.option.itemListSelector),{path:t.option.pagePath,history:t.option.history,loadOnScroll:t.option.loadOnScroll,scrollThreshold:t.option.scrollThreshold,append:t.option.itemSelector,button:t.getFullSelector(t.option.loadMoreBtnSelector),status:t.getFullSelector(t.option.statusSelector),checkLastPage:t.option.checkLastPage,hideNav:t.getFullSelector(t.option.hideNav),debug:t.option.debug}),t._infScroll.on("request",function(n){t._loadMoreButton().is(":visible")&&(t._loadMoreButton().addClass("loading"),o.isFunction(t.option.onClickViewMoreBtn)&&t.option.onClickViewMoreBtn.call(this)),o.isFunction(t.option.onRequest)&&t.option.onRequest.bind(this)(n)}),t._infScroll.on("load",function(n,i){t._loadMoreButton().is(":visible")&&(t._loadMoreButton().removeClass("loading"),o.isFunction(t.option.onShowViewMoreBtn)&&t.option.onShowViewMoreBtn.call(this)),o.isFunction(t.option.onLoad)&&t.option.onLoad.bind(this)(n,i)}),t._infScroll.on("load",function n(){0!==t.option.defaultAutoLoadPageCount&&t._infScroll.loadCount===t.option.defaultAutoLoadPageCount&&(t.disabledLoadOnScroll(),t._infScroll.off("load",n),o.isFunction(t.option.onShowViewMoreBtn)&&t.option.onShowViewMoreBtn.call(this))}),t._infScroll.on("append",function(n,i,e){o.isFunction(t.option.onAppend)&&t.option.onAppend.bind(this)(n,i,e)}),t._infScroll.on("error",function(n,i){o.isFunction(t.option.onError)&&t.option.onError.bind(this)(n,i)}),t._infScroll.on("last",function(n,i){setTimeout(function(){t._loadMoreButton().hide()},0),o.isFunction(t.option.onLast)&&t.option.onLast.bind(this)(n,i)}),0!==t.option.defaultAutoLoadPageCount||t.option.loadOnScroll||(t._loadMoreButton().show(),t._loader().hide(),o.isFunction(t.option.onShowViewMoreBtn)&&t.option.onShowViewMoreBtn.call(this)))},n.prototype.loadNextPage=function(){this._infScroll&&this._infScroll.loadNextPage()},n.prototype.setPageIndex=function(o){this._infScroll&&(this._infScroll.pageIndex=o)},n.prototype.destroy=function(){0!==o(this.getFullSelector(this.option.itemListSelector)).length&&(this._infScroll&&this._infScroll.destroy(),this._loadMoreButton().hide(),this._loader().show())},n.prototype.disabledLoadOnScroll=function(){this._infScroll.option({loadOnScroll:!1}),this._loadMoreButton().show(),this._loader().hide()},n.prototype.enabledLoadOnScroll=function(){this._infScroll.option({loadOnScroll:!0}),this._loadMoreButton().hide(),this._loader().show()},n.prototype.getFullSelector=function(o){var t=o.trim();return this.option.containerSelector&&this.option.containerSelector.trim().length>0&&(t=this.option.containerSelector.trim()+" "+t),t},window.OSCInfiniteScroll=n}(window.jQuery||window.$);
!function(t){const e={durationInterval:5e3,checkEndTimeDuration:15e3},o=function(o){"object"!=typeof o||(this.option=t.extend({},e,o))};if(o.prototype.init=function(){this.clearInvalidData()},o.prototype.listRecord=function(){const t=[],e=Object.keys(localStorage);for(let o=0;o<e.length;o++){const n=e[o];if(-1!==n.indexOf("OSC_STATISTICS"))try{const e=JSON.parse(localStorage.getItem(n));e&&t.push(e)}catch(t){}}return t},o.prototype.deleteAllRecord=function(){const t=Object.keys(localStorage);for(let e=0;e<t.length;e++){const o=t[e];if(-1!==o.indexOf("OSC_STATISTICS"))try{localStorage.removeItem(o)}catch(t){}}},o.prototype.getRecord=function(t){let e=null;const o=Object.keys(localStorage);for(let n=0;n<o.length;n++){const r=o[n];if(-1!==r.indexOf("OSC_STATISTICS"))try{const o=JSON.parse(localStorage.getItem(r));if(o&&o.id===t){e=o;break}}catch(t){}}return e},o.prototype.setRecord=function(t){if(!t||!t.id)return!1;const e="OSC_STATISTICS_"+t.id,o=JSON.stringify(t);try{localStorage.setItem(e,o)}catch(t){}},o.prototype.deleteRecord=function(t){const e=Object.keys(localStorage);for(let o=0;o<e.length;o++){const n=e[o];if(-1!==n.indexOf("OSC_STATISTICS"))try{const e=JSON.parse(localStorage.getItem(n));if(e&&e.id===t)return localStorage.removeItem(n),!0}catch(t){}}return!1},o.prototype.getCurrentTime=function(){return dayjs().format("YYYY-MM-DD HH:mm:ss")},o.prototype.clearInvalidData=function(){const t=this,e=(t.listRecord()||[]).filter(e=>{if(!e.isEnd&&e.startTime&&e.endTime){const o=dayjs(e.startTime).valueOf(),n=dayjs(e.endTime).valueOf(),r=dayjs().valueOf();if(o===n&&r-n>t.option.checkEndTimeDuration)return!0}return!1});if(!e||0===e.length)return!1;e.forEach(e=>{t.deleteRecord(e.id)})},o.prototype.reportLocalData=function(){const e=this,o=(e.listRecord()||[]).filter(t=>{if(t.isEnd)return!0;if(t.endTime){const o=dayjs(t.endTime).valueOf();if(dayjs().valueOf()-o>e.option.checkEndTimeDuration)return!0}return!1});if(!o||0===o.length)return!1;o.forEach(t=>{e.deleteRecord(t.id)});const n=[];for(let t=0;t<o.length;t++){const e=o[t];if(e){const t=Math.floor(dayjs(e.startTime).valueOf())||0,o=Math.floor(dayjs(e.endTime).valueOf())||0,r=o-t;r>0&&n.push({id:e.id,startTime:t,endTime:o,duration:r,...e.data})}}function r(){o.forEach(t=>{e.setRecord(t)})}if(n&&n.length>0){const e=JSON.stringify(n);t.ajax({type:"post",url:page.api_prefix+"/IndexFeed/feed_read_stat",dataType:"json",contentType:"application/json",data:e,success(t){t&&1===t.code||r()},error(){r()}})}},o.prototype.enableDurationStatistics=function(e,o){const n=this;let r=null,i={id:uuidv4(),type:"duration",ident:e,data:o,startTime:n.getCurrentTime(),endTime:null,isEnd:!1};!function t(){i.endTime=n.getCurrentTime(),n.setRecord(i),r=setTimeout(t,n.option.durationInterval)}(),t(window).on("beforeunload",()=>{i.endTime=n.getCurrentTime(),i.isEnd=!0,n.setRecord(i)})},!window.localStorage)return!1;const n=new o({});n.init(),window.OSC_STATISTICS=n,t(function(){n.reportLocalData()})}(window.jQuery||window.$);
!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define(i):(t=t||self).Viewer=i()}(this,function(){"use strict";function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(i)}function i(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var e={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,zoomable:!0,rotatable:!0,scalable:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,zoom:null,zoomed:null},n="undefined"!=typeof window,s=n?window:{},o=!!n&&"ontouchstart"in s.document.documentElement,a=!!n&&"PointerEvent"in s,r="".concat("viewer","-active"),h="".concat("viewer","-close"),l="".concat("viewer","-fade"),c="".concat("viewer","-fixed"),d="".concat("viewer","-fullscreen"),u="".concat("viewer","-fullscreen-exit"),m="".concat("viewer","-hide"),v="".concat("viewer","-hide-md-down"),f="".concat("viewer","-hide-sm-down"),g="".concat("viewer","-hide-xs-down"),p="".concat("viewer","-in"),w="".concat("viewer","-invisible"),b="".concat("viewer","-loading"),y="".concat("viewer","-move"),k="".concat("viewer","-open"),x="".concat("viewer","-show"),z="".concat("viewer","-transition"),D=a?"pointerdown":o?"touchstart":"mousedown",T=a?"pointermove":o?"touchmove":"mousemove",E=a?"pointerup pointercancel":o?"touchend touchcancel":"mouseup",I="".concat("viewer","Action"),S=/\s\s*/,C=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"];function L(t){return"string"==typeof t}var N=Number.isNaN||s.isNaN;function R(t){return"number"==typeof t&&!N(t)}function q(t){return void 0===t}function M(i){return"object"===t(i)&&null!==i}var Y=Object.prototype.hasOwnProperty;function X(t){if(!M(t))return!1;try{var i=t.constructor,e=i.prototype;return i&&e&&Y.call(e,"isPrototypeOf")}catch(t){return!1}}function F(t){return"function"==typeof t}function O(t,i){if(t&&F(i))if(Array.isArray(t)||R(t.length)){var e,n=t.length;for(e=0;e<n&&!1!==i.call(t,t[e],e,t);e+=1);}else M(t)&&Object.keys(t).forEach(function(e){i.call(t,t[e],e,t)});return t}var A=Object.assign||function(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),n=1;n<i;n++)e[n-1]=arguments[n];return M(t)&&e.length>0&&e.forEach(function(i){M(i)&&Object.keys(i).forEach(function(e){t[e]=i[e]})}),t},W=/^(?:width|height|left|top|marginLeft|marginTop)$/;function P(t,i){var e=t.style;O(i,function(t,i){W.test(i)&&R(t)&&(t+="px"),e[i]=t})}function H(t){return L(t)?t.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):t}function j(t,i){return t.classList?t.classList.contains(i):t.className.indexOf(i)>-1}function V(t,i){if(i)if(R(t.length))O(t,function(t){V(t,i)});else if(t.classList)t.classList.add(i);else{var e=t.className.trim();e?e.indexOf(i)<0&&(t.className="".concat(e," ").concat(i)):t.className=i}}function B(t,i){i&&(R(t.length)?O(t,function(t){B(t,i)}):t.classList?t.classList.remove(i):t.className.indexOf(i)>=0&&(t.className=t.className.replace(i,"")))}function K(t,i,e){i&&(R(t.length)?O(t,function(t){K(t,i,e)}):e?V(t,i):B(t,i))}var U=/([a-z\d])([A-Z])/g;function Z(t){return t.replace(U,"$1-$2").toLowerCase()}function $(t,i){return M(t[i])?t[i]:t.dataset?t.dataset[i]:t.getAttribute("data-".concat(Z(i)))}function _(t,i,e){M(e)?t[i]=e:t.dataset?t.dataset[i]=e:t.setAttribute("data-".concat(Z(i)),e)}var G=function(){var t=!1;if(n){var i=!1,e=function(){},o=Object.defineProperty({},"once",{get:function(){return t=!0,i},set:function(t){i=t}});s.addEventListener("test",e,o),s.removeEventListener("test",e,o)}return t}();function J(t,i,e){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=e;i.trim().split(S).forEach(function(i){if(!G){var o=t.listeners;o&&o[i]&&o[i][e]&&(s=o[i][e],delete o[i][e],0===Object.keys(o[i]).length&&delete o[i],0===Object.keys(o).length&&delete t.listeners)}t.removeEventListener(i,s,n)})}function Q(t,i,e){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=e;i.trim().split(S).forEach(function(i){if(n.once&&!G){var o=t.listeners,a=void 0===o?{}:o;s=function(){delete a[i][e],t.removeEventListener(i,s,n);for(var o=arguments.length,r=new Array(o),h=0;h<o;h++)r[h]=arguments[h];e.apply(t,r)},a[i]||(a[i]={}),a[i][e]&&t.removeEventListener(i,a[i][e],n),a[i][e]=s,t.listeners=a}t.addEventListener(i,s,n)})}function tt(t,i,e){var n;return F(Event)&&F(CustomEvent)?n=new CustomEvent(i,{detail:e,bubbles:!0,cancelable:!0}):(n=document.createEvent("CustomEvent")).initCustomEvent(i,!0,!0,e),t.dispatchEvent(n)}function it(t){var i=t.rotate,e=t.scaleX,n=t.scaleY,s=t.translateX,o=t.translateY,a=[];R(s)&&0!==s&&a.push("translateX(".concat(s,"px)")),R(o)&&0!==o&&a.push("translateY(".concat(o,"px)")),R(i)&&0!==i&&a.push("rotate(".concat(i,"deg)")),R(e)&&1!==e&&a.push("scaleX(".concat(e,")")),R(n)&&1!==n&&a.push("scaleY(".concat(n,")"));var r=a.length?a.join(" "):"none";return{WebkitTransform:r,msTransform:r,transform:r}}var et=s.navigator&&/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(s.navigator.userAgent);function nt(t,i){var e=document.createElement("img");if(t.naturalWidth&&!et)return i(t.naturalWidth,t.naturalHeight),e;var n=document.body||document.documentElement;return e.onload=function(){i(e.width,e.height),et||n.removeChild(e)},e.src=t.src,et||(e.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",n.appendChild(e)),e}function st(t){switch(t){case 2:return g;case 3:return f;case 4:return v;default:return""}}function ot(t,i){var e=t.pageX,n=t.pageY,s={endX:e,endY:n};return i?s:A({timeStamp:Date.now(),startX:e,startY:n},s)}var at={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var t,i=this.options,e=this.parent;i.inline&&(t={width:Math.max(e.offsetWidth,i.minWidth),height:Math.max(e.offsetHeight,i.minHeight)},this.parentData=t),!this.fulled&&t||(t=this.containerData),this.viewerData=A({},t)},renderViewer:function(){this.options.inline&&!this.fulled&&P(this.viewer,this.viewerData)},initList:function(){var t=this,i=this.element,e=this.options,n=this.list,s=[];O(this.images,function(i,o){var a=i.src,r=H(i.alt||function(t){return L(t)?decodeURIComponent(t.replace(/^.*\//,"").replace(/[?&#].*$/,"")):""}(a)),h=e.url;if(L(h)?h=i.getAttribute(h):F(h)&&(h=h.call(t,i)),a||h){var l=document.createElement("li"),c=document.createElement("img");c.src=a||h,c.alt=r,c.setAttribute("data-index",o),c.setAttribute("data-original-url",h||a),c.setAttribute("data-viewer-action","view"),c.setAttribute("role","button"),l.appendChild(c),n.appendChild(l),s.push(l)}}),this.items=s,O(s,function(i){var n=i.firstElementChild;_(n,"filled",!0),e.loading&&V(i,b),Q(n,"load",function(n){e.loading&&B(i,b),t.loadImage(n)},{once:!0})}),e.transition&&Q(i,"viewed",function(){V(n,z)},{once:!0})},renderList:function(t){var i=t||this.index,e=this.items[i].offsetWidth||30,n=e+1;P(this.list,A({width:n*this.length},it({translateX:(this.viewerData.width-e)/2-n*i})))},resetList:function(){var t=this.list;t.innerHTML="",B(t,z),P(t,it({translateX:0}))},initImage:function(t){var i,e=this,n=this.options,s=this.image,o=this.viewerData,a=this.footer.offsetHeight,r=o.width,h=Math.max(o.height-a,a),l=this.imageData||{};this.imageInitializing={abort:function(){i.onload=null}},i=nt(s,function(i,s){var o=i/s,a=r,c=h;e.imageInitializing=!1,h*o>r?c=r/o:a=h*o;var d={naturalWidth:i,naturalHeight:s,aspectRatio:o,ratio:(a=Math.min(.9*a,i))/i,width:a,height:c=Math.min(.9*c,s),left:(r-a)/2,top:(h-c)/2},u=A({},d);n.rotatable&&(d.rotate=l.rotate||0,u.rotate=0),n.scalable&&(d.scaleX=l.scaleX||1,d.scaleY=l.scaleY||1,u.scaleX=1,u.scaleY=1),e.imageData=d,e.initialImageData=u,t&&t()})},renderImage:function(t){var i=this,e=this.image,n=this.imageData;if(P(e,A({width:n.width,height:n.height,marginLeft:n.left,marginTop:n.top},it(n))),t)if((this.viewing||this.zooming)&&this.options.transition){var s=function(){i.imageRendering=!1,t()};this.imageRendering={abort:function(){J(e,"transitionend",s)}},Q(e,"transitionend",s,{once:!0})}else t()},resetImage:function(){if(this.viewing||this.viewed){var t=this.image;this.viewing&&this.viewing.abort(),t.parentNode.removeChild(t),this.image=null}}},rt={bind:function(){var t=this.options,i=this.viewer,e=this.canvas,n=this.element.ownerDocument;Q(i,"click",this.onClick=this.click.bind(this)),Q(i,"wheel",this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),Q(i,"dragstart",this.onDragStart=this.dragstart.bind(this)),Q(e,D,this.onPointerDown=this.pointerdown.bind(this)),Q(n,T,this.onPointerMove=this.pointermove.bind(this)),Q(n,E,this.onPointerUp=this.pointerup.bind(this)),Q(n,"keydown",this.onKeyDown=this.keydown.bind(this)),Q(window,"resize",this.onResize=this.resize.bind(this)),t.toggleOnDblclick&&Q(e,"dblclick",this.onDblclick=this.dblclick.bind(this))},unbind:function(){var t=this.options,i=this.viewer,e=this.canvas,n=this.element.ownerDocument;J(i,"click",this.onClick),J(i,"wheel",this.onWheel,{passive:!1,capture:!0}),J(i,"dragstart",this.onDragStart),J(e,D,this.onPointerDown),J(n,T,this.onPointerMove),J(n,E,this.onPointerUp),J(n,"keydown",this.onKeyDown),J(window,"resize",this.onResize),t.toggleOnDblclick&&J(e,"dblclick",this.onDblclick)}},ht={click:function(t){var i=t.target,e=this.options,n=this.imageData,s=$(i,I);switch(o&&t.isTrusted&&i===this.canvas&&clearTimeout(this.clickCanvasTimeout),s){case"mix":this.played?this.stop():e.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.hide();break;case"view":this.view($(i,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(e.loop);break;case"play":this.play(e.fullscreen);break;case"next":this.next(e.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-n.scaleX||-1);break;case"flip-vertical":this.scaleY(-n.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(t){t.preventDefault(),this.viewed&&t.target===this.image&&(o&&t.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle())},load:function(){var t=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1);var i=this.element,e=this.options,n=this.image,s=this.index,o=this.viewerData;B(n,w),e.loading&&B(this.canvas,b),n.style.cssText="height:0;"+"margin-left:".concat(o.width/2,"px;")+"margin-top:".concat(o.height/2,"px;")+"max-width:none!important;position:absolute;width:0;",this.initImage(function(){K(n,y,e.movable),K(n,z,e.transition),t.renderImage(function(){t.viewed=!0,t.viewing=!1,F(e.viewed)&&Q(i,"viewed",e.viewed,{once:!0}),tt(i,"viewed",{originalImage:t.images[s],index:s,image:n})})})},loadImage:function(t){var i=t.target,e=i.parentNode,n=e.offsetWidth||30,s=e.offsetHeight||50,o=!!$(i,"filled");nt(i,function(t,e){var a=t/e,r=n,h=s;s*a>n?o?r=s*a:h=n/a:o?h=n/a:r=s*a,P(i,A({width:r,height:h},it({translateX:(n-r)/2,translateY:(s-h)/2})))})},keydown:function(t){var i=this.options;if(this.fulled&&i.keyboard)switch(t.keyCode||t.which||t.charCode){case 27:this.played?this.stop():i.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.prev(i.loop);break;case 38:t.preventDefault(),this.zoom(i.zoomRatio,!0);break;case 39:this.next(i.loop);break;case 40:t.preventDefault(),this.zoom(-i.zoomRatio,!0);break;case 48:case 49:t.ctrlKey&&(t.preventDefault(),this.toggle())}},dragstart:function(t){"img"===t.target.tagName.toLowerCase()&&t.preventDefault()},pointerdown:function(t){var i=this.options,e=this.pointers,n=t.buttons,s=t.button;if(!(!this.viewed||this.showing||this.viewing||this.hiding||R(n)&&1!==n||R(s)&&0!==s||t.ctrlKey)){t.preventDefault(),t.changedTouches?O(t.changedTouches,function(t){e[t.identifier]=ot(t)}):e[t.pointerId||0]=ot(t);var o=!!i.movable&&"move";Object.keys(e).length>1?o="zoom":"touch"!==t.pointerType&&"touchstart"!==t.type||!this.isSwitchable()||(o="switch"),!i.transition||"move"!==o&&"zoom"!==o||B(this.image,z),this.action=o}},pointermove:function(t){var i=this.pointers,e=this.action;this.viewed&&e&&(t.preventDefault(),t.changedTouches?O(t.changedTouches,function(t){A(i[t.identifier]||{},ot(t,!0))}):A(i[t.pointerId||0]||{},ot(t,!0)),this.change(t))},pointerup:function(t){var i,e=this,n=this.options,s=this.action,a=this.pointers;t.changedTouches?O(t.changedTouches,function(t){i=a[t.identifier],delete a[t.identifier]}):(i=a[t.pointerId||0],delete a[t.pointerId||0]),s&&(t.preventDefault(),!n.transition||"move"!==s&&"zoom"!==s||V(this.image,z),this.action=!1,o&&"zoom"!==s&&i&&Date.now()-i.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),n.toggleOnDblclick&&this.viewed&&t.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout(function(){tt(e.image,"dblclick")},50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout(function(){e.imageClicked=!1},500)):(this.imageClicked=!1,n.backdrop&&"static"!==n.backdrop&&t.target===this.canvas&&(this.clickCanvasTimeout=setTimeout(function(){tt(e.canvas,"click")},50)))))},resize:function(){var t=this;if(this.isShown&&!this.hiding&&(this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){t.renderImage()}),this.played)){if(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement))return void this.stop();O(this.player.getElementsByTagName("img"),function(i){Q(i,"load",t.loadImage.bind(t),{once:!0}),tt(i,"load")})}},wheel:function(t){var i=this;if(this.viewed&&(t.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout(function(){i.wheeling=!1},50);var e=Number(this.options.zoomRatio)||.1,n=1;t.deltaY?n=t.deltaY>0?1:-1:t.wheelDelta?n=-t.wheelDelta/120:t.detail&&(n=t.detail>0?1:-1),this.zoom(-n*e,!0,t)}}},lt={show:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.element,e=this.options;if(e.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(t),this;if(F(e.show)&&Q(i,"show",e.show,{once:!0}),!1===tt(i,"show")||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var n=this.viewer;if(B(n,m),e.transition&&!t){var s=this.shown.bind(this);this.transitioning={abort:function(){J(n,"transitionend",s),B(n,p)}},V(n,z),n.offsetWidth,Q(n,"transitionend",s,{once:!0}),V(n,p)}else V(n,p),this.shown();return this},hide:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.element,e=this.options;if(e.inline||this.hiding||!this.isShown&&!this.showing)return this;if(F(e.hide)&&Q(i,"hide",e.hide,{once:!0}),!1===tt(i,"hide"))return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var n=this.viewer;if(e.transition&&!t){var s=this.hidden.bind(this),o=function(){setTimeout(function(){Q(n,"transitionend",s,{once:!0}),B(n,p)},0)};this.transitioning={abort:function(){this.viewed?J(this.image,"transitionend",o):J(n,"transitionend",s)}},this.viewed&&j(this.image,z)?(Q(this.image,"transitionend",o,{once:!0}),this.zoomTo(0,!1,!1,!0)):o()}else B(n,p),this.hidden();return this},view:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.initialViewIndex;if(i=Number(i)||0,!this.isShown)return this.index=i,this.show();if(this.hiding||this.played||i<0||i>=this.length||this.viewed&&i===this.index)return this;this.viewing&&this.viewing.abort();var e=this.element,n=this.options,s=this.title,o=this.canvas,a=this.items[i],h=a.querySelector("img"),l=$(h,"originalUrl"),c=H(h.getAttribute("alt")),d=document.createElement("img");if(d.src=l,d.alt=c,F(n.view)&&Q(e,"view",n.view,{once:!0}),!1===tt(e,"view",{originalImage:this.images[i],index:i,image:d})||!this.isShown||this.hiding||this.played)return this;this.image=d,B(this.items[this.index],r),V(a,r),this.viewed=!1,this.index=i,this.imageData={},V(d,w),n.loading&&V(o,b),o.innerHTML="",o.appendChild(d),this.renderList(),s.innerHTML="";var u,m=function(){var i=t.imageData,e=Array.isArray(n.title)?n.title[1]:n.title;s.innerHTML=H(F(e)?e.call(t,d,i):"".concat(c," (").concat(i.naturalWidth," × ").concat(i.naturalHeight,")"))};return Q(e,"viewed",m,{once:!0}),this.viewing={abort:function(){J(e,"viewed",m),d.complete?this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort():(d.src="",J(d,"load",u),this.timeout&&clearTimeout(this.timeout))}},d.complete?this.load():(Q(d,"load",u=this.load.bind(this),{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){B(d,w),t.timeout=!1},1e3)),this},prev:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.index-1;return i<0&&(i=t?this.length-1:0),this.view(i),this},next:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.length-1,e=this.index+1;return e>i&&(e=t?0:i),this.view(e),this},move:function(t,i){var e=this.imageData;return this.moveTo(q(t)?t:e.left+Number(t),q(i)?i:e.top+Number(i)),this},moveTo:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,e=this.imageData;if(t=Number(t),i=Number(i),this.viewed&&!this.played&&this.options.movable){var n=!1;R(t)&&(e.left=t,n=!0),R(i)&&(e.top=i,n=!0),n&&this.renderImage()}return this},zoom:function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=this.imageData;return t=(t=Number(t))<0?1/(1-t):1+t,this.zoomTo(n.width*t/n.naturalWidth,i,e),this},zoomTo:function(t){var i=this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=this.element,a=this.options,r=this.pointers,h=this.imageData,l=h.width,c=h.height,d=h.left,u=h.top,m=h.naturalWidth,v=h.naturalHeight;if(R(t=Math.max(0,t))&&this.viewed&&!this.played&&(s||a.zoomable)){if(!s){var f=Math.max(.01,a.minZoomRatio),g=Math.min(100,a.maxZoomRatio);t=Math.min(Math.max(t,f),g)}n&&t>.95&&t<1.05&&(t=1);var p=m*t,w=v*t,b=p-l,y=w-c,k=l/m;if(F(a.zoom)&&Q(o,"zoom",a.zoom,{once:!0}),!1===tt(o,"zoom",{ratio:t,oldRatio:k,originalEvent:n}))return this;if(this.zooming=!0,n){var x=function(t){var i=t.getBoundingClientRect();return{left:i.left+(window.pageXOffset-document.documentElement.clientLeft),top:i.top+(window.pageYOffset-document.documentElement.clientTop)}}(this.viewer),z=r&&Object.keys(r).length?function(t){var i=0,e=0,n=0;return O(t,function(t){var s=t.startX,o=t.startY;i+=s,e+=o,n+=1}),{pageX:i/=n,pageY:e/=n}}(r):{pageX:n.pageX,pageY:n.pageY};h.left-=b*((z.pageX-x.left-d)/l),h.top-=y*((z.pageY-x.top-u)/c)}else h.left-=b/2,h.top-=y/2;h.width=p,h.height=w,h.ratio=t,this.renderImage(function(){i.zooming=!1,F(a.zoomed)&&Q(o,"zoomed",a.zoomed,{once:!0}),tt(o,"zoomed",{ratio:t,oldRatio:k,originalEvent:n})}),e&&this.tooltip()}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t)),this},rotateTo:function(t){var i=this.imageData;return R(t=Number(t))&&this.viewed&&!this.played&&this.options.rotatable&&(i.rotate=t,this.renderImage()),this},scaleX:function(t){return this.scale(t,this.imageData.scaleY),this},scaleY:function(t){return this.scale(this.imageData.scaleX,t),this},scale:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,e=this.imageData;if(t=Number(t),i=Number(i),this.viewed&&!this.played&&this.options.scalable){var n=!1;R(t)&&(e.scaleX=t,n=!0),R(i)&&(e.scaleY=i,n=!0),n&&this.renderImage()}return this},play:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isShown||this.played)return this;var e=this.options,n=this.player,s=this.loadImage.bind(this),o=[],a=0,h=0;if(this.played=!0,this.onLoadWhenPlay=s,i&&this.requestFullscreen(),V(n,x),O(this.items,function(t,i){var c=t.querySelector("img"),d=document.createElement("img");d.src=$(c,"originalUrl"),d.alt=H(c.getAttribute("alt")),a+=1,V(d,l),K(d,z,e.transition),j(t,r)&&(V(d,p),h=i),o.push(d),Q(d,"load",s,{once:!0}),n.appendChild(d)}),R(e.interval)&&e.interval>0){var c=function i(){t.playing=setTimeout(function(){B(o[h],p),V(o[h=(h+=1)<a?h:0],p),i()},e.interval)};a>1&&c()}return this},stop:function(){var t=this;if(!this.played)return this;var i=this.player;return this.played=!1,clearTimeout(this.playing),O(i.getElementsByTagName("img"),function(i){J(i,"load",t.onLoadWhenPlay)}),B(i,x),i.innerHTML="",this.exitFullscreen(),this},full:function(){var t=this,i=this.options,e=this.viewer,n=this.image,s=this.list;return!this.isShown||this.played||this.fulled||!i.inline?this:(this.fulled=!0,this.open(),V(this.button,u),i.transition&&(B(s,z),this.viewed&&B(n,z)),V(e,c),e.setAttribute("style",""),P(e,{zIndex:i.zIndex}),this.initContainer(),this.viewerData=A({},this.containerData),this.renderList(),this.viewed&&this.initImage(function(){t.renderImage(function(){i.transition&&setTimeout(function(){V(n,z),V(s,z)},0)})}),this)},exit:function(){var t=this,i=this.options,e=this.viewer,n=this.image,s=this.list;return this.isShown&&!this.played&&this.fulled&&i.inline?(this.fulled=!1,this.close(),B(this.button,u),i.transition&&(B(s,z),this.viewed&&B(n,z)),B(e,c),P(e,{zIndex:i.zIndexInline}),this.viewerData=A({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){t.renderImage(function(){i.transition&&setTimeout(function(){V(n,z),V(s,z)},0)})}),this):this},tooltip:function(){var t=this,i=this.options,e=this.tooltipBox,n=this.imageData;return this.viewed&&!this.played&&i.tooltip?(e.textContent="".concat(Math.round(100*n.ratio),"%"),this.tooltipping?clearTimeout(this.tooltipping):i.transition?(this.fading&&tt(e,"transitionend"),V(e,x),V(e,l),V(e,z),e.offsetWidth,V(e,p)):V(e,x),this.tooltipping=setTimeout(function(){i.transition?(Q(e,"transitionend",function(){B(e,x),B(e,l),B(e,z),t.fading=!1},{once:!0}),B(e,p),t.fading=!0):B(e,x),t.tooltipping=!1},1e3),this):this},toggle:function(){return 1===this.imageData.ratio?this.zoomTo(this.initialImageData.ratio,!0):this.zoomTo(1,!0),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=A({},this.initialImageData),this.renderImage()),this},update:function(){var t=this.element,i=this.options,e=this.isImg;if(e&&!t.parentNode)return this.destroy();var n=[];if(O(e?[t]:t.querySelectorAll("img"),function(t){i.filter?i.filter(t)&&n.push(t):n.push(t)}),!n.length)return this;if(this.images=n,this.length=n.length,this.ready){var s=[];if(O(this.items,function(t,i){var e=t.querySelector("img"),o=n[i];o?o.src!==e.src&&s.push(i):s.push(i)}),P(this.list,{width:"auto"}),this.initList(),this.isShown)if(this.length){if(this.viewed){var o=s.indexOf(this.index);o>=0?(this.viewed=!1,this.view(Math.max(this.index-(o+1),0))):V(this.items[this.index],r)}}else this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""}else this.build();return this},destroy:function(){var t=this.element,i=this.options;return t.viewer?(this.destroyed=!0,this.ready?(this.played&&this.stop(),i.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):i.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),i.inline||J(t,"click",this.onStart),t.viewer=void 0,this):this}},ct={open:function(){var t=this.body;V(t,k),t.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyPaddingRight)||0),"px")},close:function(){var t=this.body;B(t,k),t.style.paddingRight=this.initialBodyPaddingRight},shown:function(){var t=this.element,i=this.options;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,F(i.shown)&&Q(t,"shown",i.shown,{once:!0}),!1!==tt(t,"shown")&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var t=this.element,i=this.options;this.fulled=!1,this.viewed=!1,this.isShown=!1,this.close(),this.unbind(),V(this.viewer,m),this.resetList(),this.resetImage(),this.hiding=!1,this.destroyed||(F(i.hidden)&&Q(t,"hidden",i.hidden,{once:!0}),tt(t,"hidden"))},requestFullscreen:function(){var t=this.element.ownerDocument;if(this.fulled&&!(t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement)){var i=t.documentElement;i.requestFullscreen?i.requestFullscreen():i.webkitRequestFullscreen?i.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):i.mozRequestFullScreen?i.mozRequestFullScreen():i.msRequestFullscreen&&i.msRequestFullscreen()}},exitFullscreen:function(){var t=this.element.ownerDocument;this.fulled&&(t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement)&&(t.exitFullscreen?t.exitFullscreen():t.webkitExitFullscreen?t.webkitExitFullscreen():t.mozCancelFullScreen?t.mozCancelFullScreen():t.msExitFullscreen&&t.msExitFullscreen())},change:function(t){var i=this.options,e=this.pointers,n=e[Object.keys(e)[0]],s=n.endX-n.startX,o=n.endY-n.startY;switch(this.action){case"move":this.move(s,o);break;case"zoom":this.zoom(function(t){var i=A({},t),e=[];return O(t,function(t,n){delete i[n],O(i,function(i){var n=Math.abs(t.startX-i.startX),s=Math.abs(t.startY-i.startY),o=Math.abs(t.endX-i.endX),a=Math.abs(t.endY-i.endY),r=Math.sqrt(n*n+s*s),h=(Math.sqrt(o*o+a*a)-r)/r;e.push(h)})}),e.sort(function(t,i){return Math.abs(t)<Math.abs(i)}),e[0]}(e),!1,t);break;case"switch":this.action="switched";var a=Math.abs(s);a>1&&a>Math.abs(o)&&(this.pointers={},s>1?this.prev(i.loop):s<-1&&this.next(i.loop))}O(e,function(t){t.startX=t.endX,t.startY=t.endY})},isSwitchable:function(){var t=this.imageData,i=this.viewerData;return this.length>1&&t.left>=0&&t.top>=0&&t.width<=i.width&&t.height<=i.height}},dt=s.Viewer,ut=function(){function t(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),!i||1!==i.nodeType)throw new Error("The first argument is required and must be an element.");this.element=i,this.options=A({},e,X(n)&&n),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1;this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.init()}var n,s,o;return n=t,o=[{key:"noConflict",value:function(){return window.Viewer=dt,t}},{key:"setDefaults",value:function(t){A(e,X(t)&&t)}}],(s=[{key:"init",value:function(){var t=this,i=this.element,e=this.options;if(!i.viewer){i.viewer=this;var n="img"===i.tagName.toLowerCase(),s=[];O(n?[i]:i.querySelectorAll("img"),function(i){F(e.filter)?e.filter.call(t,i)&&s.push(i):s.push(i)}),this.isImg=n,this.length=s.length,this.images=s;var o=i.ownerDocument,a=o.body||o.documentElement;if(this.body=a,this.scrollbarWidth=window.innerWidth-o.documentElement.clientWidth,this.initialBodyPaddingRight=window.getComputedStyle(a).paddingRight,q(document.createElement("viewer").style.transition)&&(e.transition=!1),e.inline){var r=0,h=function(){var i;(r+=1)===t.length&&(t.initializing=!1,t.delaying={abort:function(){clearTimeout(i)}},i=setTimeout(function(){t.delaying=!1,t.build()},0))};this.initializing={abort:function(){O(s,function(t){t.complete||J(t,"load",h)})}},O(s,function(t){t.complete?h():Q(t,"load",h,{once:!0})})}else Q(i,"click",this.onStart=function(i){var n=i.target;"img"!==n.tagName.toLowerCase()||F(e.filter)&&!e.filter.call(t,n)||t.view(t.images.indexOf(n))})}}},{key:"build",value:function(){if(!this.ready){var t=this.element,i=this.options,e=t.parentNode,n=document.createElement("div");n.innerHTML='<div class="viewer-container" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-toolbar-nav"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list"></ul></div></div><div class="viewer-tooltip"></div><div role="button" class="viewer-button" data-viewer-action="mix"></div><div class="viewer-player"></div></div>';var s=n.querySelector(".".concat("viewer","-container")),o=s.querySelector(".".concat("viewer","-title")),a=s.querySelector(".".concat("viewer","-toolbar")),r=s.querySelector(".".concat("viewer","-toolbar-nav")),u=s.querySelector(".".concat("viewer","-navbar")),v=s.querySelector(".".concat("viewer","-button")),f=s.querySelector(".".concat("viewer","-canvas"));if(this.parent=e,this.viewer=s,this.title=o,this.toolbar=a,this.navbar=u,this.button=v,this.canvas=f,this.footer=s.querySelector(".".concat("viewer","-footer")),this.tooltipBox=s.querySelector(".".concat("viewer","-tooltip")),this.player=s.querySelector(".".concat("viewer","-player")),this.list=s.querySelector(".".concat("viewer","-list")),V(o,i.title?st(Array.isArray(i.title)?i.title[0]:i.title):m),V(u,i.navbar?st(i.navbar):m),K(v,m,!i.button),i.backdrop&&(V(s,"".concat("viewer","-backdrop")),i.inline||"static"===i.backdrop||_(f,I,"hide")),L(i.className)&&i.className&&i.className.split(S).forEach(function(t){V(s,t)}),i.toolbar){var g=document.createElement("ul"),p=X(i.toolbar),b=C.slice(0,3),y=C.slice(7,9),k=C.slice(9);p||V(a,st(i.toolbar)),O(p?i.toolbar:C,function(t,e){var n=p&&X(t),s=p?Z(e):t,o=n&&!q(t.show)?t.show:t;if(o&&(i.zoomable||-1===b.indexOf(s))&&(i.rotatable||-1===y.indexOf(s))&&(i.scalable||-1===k.indexOf(s))){var a=n&&!q(t.size)?t.size:t,r=n&&!q(t.click)?t.click:t,h=document.createElement("li");h.setAttribute("role","button"),V(h,"".concat("viewer","-").concat(s)),F(r)||_(h,I,s),R(o)&&V(h,st(o)),-1!==["small","large"].indexOf(a)?V(h,"".concat("viewer","-").concat(a)):"play"===s&&V(h,"".concat("viewer","-large")),F(r)&&Q(h,"click",r),g.appendChild(h)}}),a.appendChild(g);var x=[C[4],C[6]],z=document.createElement("div");z.className="".concat("viewer","-toolbar-nav-inner"),O(x,function(t,i){var e=document.createElement("span");e.setAttribute("role","button"),V(e,"".concat("viewer","-").concat(t)),_(e,I,t),z.appendChild(e)}),r.appendChild(z)}else V(a,m);if(!i.rotatable){var D=a.querySelectorAll('li[class*="rotate"]');V(D,w),O(D,function(t){a.appendChild(t)})}if(i.inline)V(v,d),P(s,{zIndex:i.zIndexInline}),"static"===window.getComputedStyle(e).position&&P(e,{position:"relative"}),e.insertBefore(s,t.nextSibling);else{V(v,h),V(s,c),V(s,l),V(s,m),P(s,{zIndex:i.zIndex});var T=i.container;L(T)&&(T=t.ownerDocument.querySelector(T)),T||(T=this.body),T.appendChild(s)}i.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,F(i.ready)&&Q(t,"ready",i.ready,{once:!0}),!1!==tt(t,"ready")?this.ready&&i.inline&&this.view(this.index):this.ready=!1}}}])&&i(n.prototype,s),o&&i(n,o),t}();return A(ut.prototype,at,rt,ht,lt,ct),ut});
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("jquery"),require("viewerjs")):"function"==typeof define&&define.amd?define(["jquery","viewerjs"],t):t(e.jQuery,e.Viewer)}(this,function(e,t){"use strict";if(e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t,e.fn){var r=e.fn.viewer,i="viewer";e.fn.viewer=function(r){for(var n=arguments.length,f=Array(1<n?n-1:0),a=1;a<n;a++)f[a-1]=arguments[a];var o=void 0;return this.each(function(n,a){var u=e(a),s="destroy"===r,d=u.data(i);if(!d){if(s)return;var v=e.extend({},u.data(),e.isPlainObject(r)&&r);d=new t(a,v),u.data(i,d)}if("string"==typeof r){var c=d[r];e.isFunction(c)&&((o=c.apply(d,f))===d&&(o=void 0),s&&u.removeData(i))}}),void 0!==o?o:this},e.fn.viewer.Constructor=t,e.fn.viewer.setDefaults=t.setDefaults,e.fn.viewer.noConflict=function(){return e.fn.viewer=r,this}}});
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Swiper=t()}(this,function(){"use strict";var e="undefined"==typeof document?{body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},location:{hash:""}}:document,t="undefined"==typeof window?{document:e,navigator:{userAgent:""},location:{},history:{},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){}}:window,a=function(e){for(var t=0;t<e.length;t+=1)this[t]=e[t];return this.length=e.length,this};function i(i,s){var r=[],n=0;if(i&&!s&&i instanceof a)return i;if(i)if("string"==typeof i){var o,l,d=i.trim();if(0<=d.indexOf("<")&&0<=d.indexOf(">")){var p="div";for(0===d.indexOf("<li")&&(p="ul"),0===d.indexOf("<tr")&&(p="tbody"),0!==d.indexOf("<td")&&0!==d.indexOf("<th")||(p="tr"),0===d.indexOf("<tbody")&&(p="table"),0===d.indexOf("<option")&&(p="select"),(l=e.createElement(p)).innerHTML=d,n=0;n<l.childNodes.length;n+=1)r.push(l.childNodes[n])}else for(o=s||"#"!==i[0]||i.match(/[ .<>:~]/)?(s||e).querySelectorAll(i.trim()):[e.getElementById(i.trim().split("#")[1])],n=0;n<o.length;n+=1)o[n]&&r.push(o[n])}else if(i.nodeType||i===t||i===e)r.push(i);else if(0<i.length&&i[0].nodeType)for(n=0;n<i.length;n+=1)r.push(i[n]);return new a(r)}function s(e){for(var t=[],a=0;a<e.length;a+=1)-1===t.indexOf(e[a])&&t.push(e[a]);return t}i.fn=a.prototype,i.Class=a,i.Dom7=a;var r={addClass:function(e){if(void 0===e)return this;for(var t=e.split(" "),a=0;a<t.length;a+=1)for(var i=0;i<this.length;i+=1)void 0!==this[i]&&void 0!==this[i].classList&&this[i].classList.add(t[a]);return this},removeClass:function(e){for(var t=e.split(" "),a=0;a<t.length;a+=1)for(var i=0;i<this.length;i+=1)void 0!==this[i]&&void 0!==this[i].classList&&this[i].classList.remove(t[a]);return this},hasClass:function(e){return!!this[0]&&this[0].classList.contains(e)},toggleClass:function(e){for(var t=e.split(" "),a=0;a<t.length;a+=1)for(var i=0;i<this.length;i+=1)void 0!==this[i]&&void 0!==this[i].classList&&this[i].classList.toggle(t[a]);return this},attr:function(e,t){var a=arguments;if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var i=0;i<this.length;i+=1)if(2===a.length)this[i].setAttribute(e,t);else for(var s in e)this[i][s]=e[s],this[i].setAttribute(s,e[s]);return this},removeAttr:function(e){for(var t=0;t<this.length;t+=1)this[t].removeAttribute(e);return this},data:function(e,t){var a;if(void 0!==t){for(var i=0;i<this.length;i+=1)(a=this[i]).dom7ElementDataStorage||(a.dom7ElementDataStorage={}),a.dom7ElementDataStorage[e]=t;return this}if(a=this[0])return a.dom7ElementDataStorage&&e in a.dom7ElementDataStorage?a.dom7ElementDataStorage[e]:a.getAttribute("data-"+e)||void 0},transform:function(e){for(var t=0;t<this.length;t+=1){var a=this[t].style;a.webkitTransform=e,a.transform=e}return this},transition:function(e){"string"!=typeof e&&(e+="ms");for(var t=0;t<this.length;t+=1){var a=this[t].style;a.webkitTransitionDuration=e,a.transitionDuration=e}return this},on:function(){for(var e,t=[],a=arguments.length;a--;)t[a]=arguments[a];var s=t[0],r=t[1],n=t[2],o=t[3];function l(e){var t=e.target;if(t){var a=e.target.dom7EventData||[];if(a.indexOf(e)<0&&a.unshift(e),i(t).is(r))n.apply(t,a);else for(var s=i(t).parents(),o=0;o<s.length;o+=1)i(s[o]).is(r)&&n.apply(s[o],a)}}function d(e){var t=e&&e.target&&e.target.dom7EventData||[];t.indexOf(e)<0&&t.unshift(e),n.apply(this,t)}"function"==typeof t[1]&&(s=(e=t)[0],n=e[1],o=e[2],r=void 0),o=o||!1;for(var p,c=s.split(" "),u=0;u<this.length;u+=1){var h=this[u];if(r)for(p=0;p<c.length;p+=1){var v=c[p];h.dom7LiveListeners||(h.dom7LiveListeners={}),h.dom7LiveListeners[v]||(h.dom7LiveListeners[v]=[]),h.dom7LiveListeners[v].push({listener:n,proxyListener:l}),h.addEventListener(v,l,o)}else for(p=0;p<c.length;p+=1){var f=c[p];h.dom7Listeners||(h.dom7Listeners={}),h.dom7Listeners[f]||(h.dom7Listeners[f]=[]),h.dom7Listeners[f].push({listener:n,proxyListener:d}),h.addEventListener(f,d,o)}}return this},off:function(){for(var e,t=[],a=arguments.length;a--;)t[a]=arguments[a];var i=t[0],s=t[1],r=t[2],n=t[3];"function"==typeof t[1]&&(i=(e=t)[0],r=e[1],n=e[2],s=void 0),n=n||!1;for(var o=i.split(" "),l=0;l<o.length;l+=1)for(var d=o[l],p=0;p<this.length;p+=1){var c=this[p],u=void 0;if(!s&&c.dom7Listeners?u=c.dom7Listeners[d]:s&&c.dom7LiveListeners&&(u=c.dom7LiveListeners[d]),u&&u.length)for(var h=u.length-1;0<=h;h-=1){var v=u[h];r&&v.listener===r?(c.removeEventListener(d,v.proxyListener,n),u.splice(h,1)):r&&v.listener&&v.listener.dom7proxy&&v.listener.dom7proxy===r?(c.removeEventListener(d,v.proxyListener,n),u.splice(h,1)):r||(c.removeEventListener(d,v.proxyListener,n),u.splice(h,1))}}return this},trigger:function(){for(var a=[],i=arguments.length;i--;)a[i]=arguments[i];for(var s=a[0].split(" "),r=a[1],n=0;n<s.length;n+=1)for(var o=s[n],l=0;l<this.length;l+=1){var d=this[l],p=void 0;try{p=new t.CustomEvent(o,{detail:r,bubbles:!0,cancelable:!0})}catch(a){(p=e.createEvent("Event")).initEvent(o,!0,!0),p.detail=r}d.dom7EventData=a.filter(function(e,t){return 0<t}),d.dispatchEvent(p),d.dom7EventData=[],delete d.dom7EventData}return this},transitionEnd:function(e){var t,a=["webkitTransitionEnd","transitionend"],i=this;function s(r){if(r.target===this)for(e.call(this,r),t=0;t<a.length;t+=1)i.off(a[t],s)}if(e)for(t=0;t<a.length;t+=1)i.on(a[t],s);return this},outerWidth:function(e){if(0<this.length){if(e){var t=this.styles();return this[0].offsetWidth+parseFloat(t.getPropertyValue("margin-right"))+parseFloat(t.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(e){if(0<this.length){if(e){var t=this.styles();return this[0].offsetHeight+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},offset:function(){if(0<this.length){var a=this[0],i=a.getBoundingClientRect(),s=e.body,r=a.clientTop||s.clientTop||0,n=a.clientLeft||s.clientLeft||0,o=a===t?t.scrollY:a.scrollTop,l=a===t?t.scrollX:a.scrollLeft;return{top:i.top+o-r,left:i.left+l-n}}return null},css:function(e,a){var i;if(1===arguments.length){if("string"!=typeof e){for(i=0;i<this.length;i+=1)for(var s in e)this[i].style[s]=e[s];return this}if(this[0])return t.getComputedStyle(this[0],null).getPropertyValue(e)}if(2!==arguments.length||"string"!=typeof e)return this;for(i=0;i<this.length;i+=1)this[i].style[e]=a;return this},each:function(e){if(!e)return this;for(var t=0;t<this.length;t+=1)if(!1===e.call(this[t],t,this[t]))return this;return this},html:function(e){if(void 0===e)return this[0]?this[0].innerHTML:void 0;for(var t=0;t<this.length;t+=1)this[t].innerHTML=e;return this},text:function(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t+=1)this[t].textContent=e;return this},is:function(s){var r,n,o=this[0];if(!o||void 0===s)return!1;if("string"==typeof s){if(o.matches)return o.matches(s);if(o.webkitMatchesSelector)return o.webkitMatchesSelector(s);if(o.msMatchesSelector)return o.msMatchesSelector(s);for(r=i(s),n=0;n<r.length;n+=1)if(r[n]===o)return!0;return!1}if(s===e)return o===e;if(s===t)return o===t;if(s.nodeType||s instanceof a){for(r=s.nodeType?[s]:s,n=0;n<r.length;n+=1)if(r[n]===o)return!0;return!1}return!1},index:function(){var e,t=this[0];if(t){for(e=0;null!==(t=t.previousSibling);)1===t.nodeType&&(e+=1);return e}},eq:function(e){if(void 0===e)return this;var t,i=this.length;return new a(i-1<e?[]:e<0?(t=i+e)<0?[]:[this[t]]:[this[e]])},append:function(){for(var t,i=[],s=arguments.length;s--;)i[s]=arguments[s];for(var r=0;r<i.length;r+=1){t=i[r];for(var n=0;n<this.length;n+=1)if("string"==typeof t){var o=e.createElement("div");for(o.innerHTML=t;o.firstChild;)this[n].appendChild(o.firstChild)}else if(t instanceof a)for(var l=0;l<t.length;l+=1)this[n].appendChild(t[l]);else this[n].appendChild(t)}return this},prepend:function(t){var i,s;for(i=0;i<this.length;i+=1)if("string"==typeof t){var r=e.createElement("div");for(r.innerHTML=t,s=r.childNodes.length-1;0<=s;s-=1)this[i].insertBefore(r.childNodes[s],this[i].childNodes[0])}else if(t instanceof a)for(s=0;s<t.length;s+=1)this[i].insertBefore(t[s],this[i].childNodes[0]);else this[i].insertBefore(t,this[i].childNodes[0]);return this},next:function(e){return 0<this.length?e?this[0].nextElementSibling&&i(this[0].nextElementSibling).is(e)?new a([this[0].nextElementSibling]):new a([]):this[0].nextElementSibling?new a([this[0].nextElementSibling]):new a([]):new a([])},nextAll:function(e){var t=[],s=this[0];if(!s)return new a([]);for(;s.nextElementSibling;){var r=s.nextElementSibling;e?i(r).is(e)&&t.push(r):t.push(r),s=r}return new a(t)},prev:function(e){if(0<this.length){var t=this[0];return e?t.previousElementSibling&&i(t.previousElementSibling).is(e)?new a([t.previousElementSibling]):new a([]):t.previousElementSibling?new a([t.previousElementSibling]):new a([])}return new a([])},prevAll:function(e){var t=[],s=this[0];if(!s)return new a([]);for(;s.previousElementSibling;){var r=s.previousElementSibling;e?i(r).is(e)&&t.push(r):t.push(r),s=r}return new a(t)},parent:function(e){for(var t=[],a=0;a<this.length;a+=1)null!==this[a].parentNode&&(e?i(this[a].parentNode).is(e)&&t.push(this[a].parentNode):t.push(this[a].parentNode));return i(s(t))},parents:function(e){for(var t=[],a=0;a<this.length;a+=1)for(var r=this[a].parentNode;r;)e?i(r).is(e)&&t.push(r):t.push(r),r=r.parentNode;return i(s(t))},closest:function(e){var t=this;return void 0===e?new a([]):(t.is(e)||(t=t.parents(e).eq(0)),t)},find:function(e){for(var t=[],i=0;i<this.length;i+=1)for(var s=this[i].querySelectorAll(e),r=0;r<s.length;r+=1)t.push(s[r]);return new a(t)},children:function(e){for(var t=[],r=0;r<this.length;r+=1)for(var n=this[r].childNodes,o=0;o<n.length;o+=1)e?1===n[o].nodeType&&i(n[o]).is(e)&&t.push(n[o]):1===n[o].nodeType&&t.push(n[o]);return new a(s(t))},remove:function(){for(var e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this},add:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a,s;for(a=0;a<e.length;a+=1){var r=i(e[a]);for(s=0;s<r.length;s+=1)this[this.length]=r[s],this.length+=1}return this},styles:function(){return this[0]?t.getComputedStyle(this[0],null):{}}};function n(e){void 0===e&&(e={});var t=this;t.params=e,t.eventsListeners={},t.params&&t.params.on&&Object.keys(t.params.on).forEach(function(e){t.on(e,t.params.on[e])})}Object.keys(r).forEach(function(e){i.fn[e]=i.fn[e]||r[e]});var o,l,d,p,c={deleteProps:function(e){var t=e;Object.keys(t).forEach(function(e){try{t[e]=null}catch(e){}try{delete t[e]}catch(e){}})},nextTick:function(e,t){return void 0===t&&(t=0),setTimeout(e,t)},now:function(){return Date.now()},getTranslate:function(e,a){var i,s,r;void 0===a&&(a="x");var n=t.getComputedStyle(e,null);return t.WebKitCSSMatrix?(6<(s=n.transform||n.webkitTransform).split(",").length&&(s=s.split(", ").map(function(e){return e.replace(",",".")}).join(", ")),r=new t.WebKitCSSMatrix("none"===s?"":s)):i=(r=n.MozTransform||n.OTransform||n.MsTransform||n.msTransform||n.transform||n.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===a&&(s=t.WebKitCSSMatrix?r.m41:16===i.length?parseFloat(i[12]):parseFloat(i[4])),"y"===a&&(s=t.WebKitCSSMatrix?r.m42:16===i.length?parseFloat(i[13]):parseFloat(i[5])),s||0},parseUrlQuery:function(e){var a,i,s,r,n={},o=e||t.location.href;if("string"==typeof o&&o.length)for(r=(i=(o=-1<o.indexOf("?")?o.replace(/\S*\?/,""):"").split("&").filter(function(e){return""!==e})).length,a=0;a<r;a+=1)s=i[a].replace(/#\S+/g,"").split("="),n[decodeURIComponent(s[0])]=void 0===s[1]?void 0:decodeURIComponent(s[1])||"";return n},isObject:function(e){return"object"==typeof e&&null!==e&&e.constructor&&e.constructor===Object},extend:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var a=Object(e[0]),i=1;i<e.length;i+=1){var s=e[i];if(null!=s)for(var r=Object.keys(Object(s)),n=0,o=r.length;n<o;n+=1){var l=r[n],d=Object.getOwnPropertyDescriptor(s,l);void 0!==d&&d.enumerable&&(c.isObject(a[l])&&c.isObject(s[l])?c.extend(a[l],s[l]):!c.isObject(a[l])&&c.isObject(s[l])?(a[l]={},c.extend(a[l],s[l])):a[l]=s[l])}}return a}},u=(d=e.createElement("div"),{touch:t.Modernizr&&!0===t.Modernizr.touch||!!(0<t.navigator.maxTouchPoints||"ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch),pointerEvents:!!(t.navigator.pointerEnabled||t.PointerEvent||"maxTouchPoints"in t.navigator&&0<t.navigator.maxTouchPoints),prefixedPointerEvents:!!t.navigator.msPointerEnabled,transition:(l=d.style,"transition"in l||"webkitTransition"in l||"MozTransition"in l),transforms3d:t.Modernizr&&!0===t.Modernizr.csstransforms3d||(o=d.style,"webkitPerspective"in o||"MozPerspective"in o||"OPerspective"in o||"MsPerspective"in o||"perspective"in o),flexbox:function(){for(var e=d.style,t="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),a=0;a<t.length;a+=1)if(t[a]in e)return!0;return!1}(),observer:"MutationObserver"in t||"WebkitMutationObserver"in t,passiveListener:function(){var e=!1;try{var a=Object.defineProperty({},"passive",{get:function(){e=!0}});t.addEventListener("testPassiveListener",null,a)}catch(e){}return e}(),gestures:"ongesturestart"in t}),h={isIE:!!t.navigator.userAgent.match(/Trident/g)||!!t.navigator.userAgent.match(/MSIE/g),isEdge:!!t.navigator.userAgent.match(/Edge/g),isSafari:(p=t.navigator.userAgent.toLowerCase(),0<=p.indexOf("safari")&&p.indexOf("chrome")<0&&p.indexOf("android")<0),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)},v={components:{configurable:!0}};n.prototype.on=function(e,t,a){var i=this;if("function"!=typeof t)return i;var s=a?"unshift":"push";return e.split(" ").forEach(function(e){i.eventsListeners[e]||(i.eventsListeners[e]=[]),i.eventsListeners[e][s](t)}),i},n.prototype.once=function(e,t,a){var i=this;if("function"!=typeof t)return i;function s(){for(var a=[],r=arguments.length;r--;)a[r]=arguments[r];t.apply(i,a),i.off(e,s),s.f7proxy&&delete s.f7proxy}return s.f7proxy=t,i.on(e,s,a)},n.prototype.off=function(e,t){var a=this;return a.eventsListeners&&e.split(" ").forEach(function(e){void 0===t?a.eventsListeners[e]=[]:a.eventsListeners[e]&&a.eventsListeners[e].length&&a.eventsListeners[e].forEach(function(i,s){(i===t||i.f7proxy&&i.f7proxy===t)&&a.eventsListeners[e].splice(s,1)})}),a},n.prototype.emit=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a,i,s,r=this;return r.eventsListeners&&(s="string"==typeof e[0]||Array.isArray(e[0])?(a=e[0],i=e.slice(1,e.length),r):(a=e[0].events,i=e[0].data,e[0].context||r),(Array.isArray(a)?a:a.split(" ")).forEach(function(e){if(r.eventsListeners&&r.eventsListeners[e]){var t=[];r.eventsListeners[e].forEach(function(e){t.push(e)}),t.forEach(function(e){e.apply(s,i)})}})),r},n.prototype.useModulesParams=function(e){var t=this;t.modules&&Object.keys(t.modules).forEach(function(a){var i=t.modules[a];i.params&&c.extend(e,i.params)})},n.prototype.useModules=function(e){void 0===e&&(e={});var t=this;t.modules&&Object.keys(t.modules).forEach(function(a){var i=t.modules[a],s=e[a]||{};i.instance&&Object.keys(i.instance).forEach(function(e){var a=i.instance[e];t[e]="function"==typeof a?a.bind(t):a}),i.on&&t.on&&Object.keys(i.on).forEach(function(e){t.on(e,i.on[e])}),i.create&&i.create.bind(t)(s)})},v.components.set=function(e){this.use&&this.use(e)},n.installModule=function(e){for(var t=[],a=arguments.length-1;0<a--;)t[a]=arguments[a+1];var i=this;i.prototype.modules||(i.prototype.modules={});var s=e.name||Object.keys(i.prototype.modules).length+"_"+c.now();return(i.prototype.modules[s]=e).proto&&Object.keys(e.proto).forEach(function(t){i.prototype[t]=e.proto[t]}),e.static&&Object.keys(e.static).forEach(function(t){i[t]=e.static[t]}),e.install&&e.install.apply(i,t),i},n.use=function(e){for(var t=[],a=arguments.length-1;0<a--;)t[a]=arguments[a+1];var i=this;return Array.isArray(e)?(e.forEach(function(e){return i.installModule(e)}),i):i.installModule.apply(i,[e].concat(t))},Object.defineProperties(n,v);var f={updateSize:function(){var e,t,a=this,i=a.$el;e=void 0!==a.params.width?a.params.width:i[0].clientWidth,t=void 0!==a.params.height?a.params.height:i[0].clientHeight,0===e&&a.isHorizontal()||0===t&&a.isVertical()||(e=e-parseInt(i.css("padding-left"),10)-parseInt(i.css("padding-right"),10),t=t-parseInt(i.css("padding-top"),10)-parseInt(i.css("padding-bottom"),10),c.extend(a,{width:e,height:t,size:a.isHorizontal()?e:t}))},updateSlides:function(){var e=this,a=e.params,i=e.$wrapperEl,s=e.size,r=e.rtlTranslate,n=e.wrongRTL,o=e.virtual&&a.virtual.enabled,l=o?e.virtual.slides.length:e.slides.length,d=i.children("."+e.params.slideClass),p=o?e.virtual.slides.length:d.length,v=[],f=[],m=[],g=a.slidesOffsetBefore;"function"==typeof g&&(g=a.slidesOffsetBefore.call(e));var b=a.slidesOffsetAfter;"function"==typeof b&&(b=a.slidesOffsetAfter.call(e));var w=e.snapGrid.length,y=e.snapGrid.length,x=a.spaceBetween,T=-g,E=0,S=0;if(void 0!==s){var C,M;"string"==typeof x&&0<=x.indexOf("%")&&(x=parseFloat(x.replace("%",""))/100*s),e.virtualSize=-x,r?d.css({marginLeft:"",marginTop:""}):d.css({marginRight:"",marginBottom:""}),1<a.slidesPerColumn&&(C=Math.floor(p/a.slidesPerColumn)===p/e.params.slidesPerColumn?p:Math.ceil(p/a.slidesPerColumn)*a.slidesPerColumn,"auto"!==a.slidesPerView&&"row"===a.slidesPerColumnFill&&(C=Math.max(C,a.slidesPerView*a.slidesPerColumn)));for(var P,k=a.slidesPerColumn,z=C/k,$=Math.floor(p/a.slidesPerColumn),L=0;L<p;L+=1){M=0;var I=d.eq(L);if(1<a.slidesPerColumn){var D=void 0,O=void 0,A=void 0;if("column"===a.slidesPerColumnFill||"row"===a.slidesPerColumnFill&&1<a.slidesPerGroup){if("column"===a.slidesPerColumnFill)A=L-(O=Math.floor(L/k))*k,($<O||O===$&&A===k-1)&&k<=(A+=1)&&(A=0,O+=1);else{var H=Math.floor(L/a.slidesPerGroup);O=L-(A=Math.floor(L/a.slidesPerView)-H*a.slidesPerColumn)*a.slidesPerView-H*a.slidesPerView}D=O+A*C/k,I.css({"-webkit-box-ordinal-group":D,"-moz-box-ordinal-group":D,"-ms-flex-order":D,"-webkit-order":D,order:D})}else O=L-(A=Math.floor(L/z))*z;I.css("margin-"+(e.isHorizontal()?"top":"left"),0!==A&&a.spaceBetween&&a.spaceBetween+"px").attr("data-swiper-column",O).attr("data-swiper-row",A)}if("none"!==I.css("display")){if("auto"===a.slidesPerView){var G=t.getComputedStyle(I[0],null),N=I[0].style.transform,B=I[0].style.webkitTransform;if(N&&(I[0].style.transform="none"),B&&(I[0].style.webkitTransform="none"),a.roundLengths)M=e.isHorizontal()?I.outerWidth(!0):I.outerHeight(!0);else if(e.isHorizontal()){var X=parseFloat(G.getPropertyValue("width")),V=parseFloat(G.getPropertyValue("padding-left")),Y=parseFloat(G.getPropertyValue("padding-right")),F=parseFloat(G.getPropertyValue("margin-left")),R=parseFloat(G.getPropertyValue("margin-right")),q=G.getPropertyValue("box-sizing");M=q&&"border-box"===q&&!h.isIE?X+F+R:X+V+Y+F+R}else{var W=parseFloat(G.getPropertyValue("height")),j=parseFloat(G.getPropertyValue("padding-top")),U=parseFloat(G.getPropertyValue("padding-bottom")),K=parseFloat(G.getPropertyValue("margin-top")),_=parseFloat(G.getPropertyValue("margin-bottom")),Z=G.getPropertyValue("box-sizing");M=Z&&"border-box"===Z&&!h.isIE?W+K+_:W+j+U+K+_}N&&(I[0].style.transform=N),B&&(I[0].style.webkitTransform=B),a.roundLengths&&(M=Math.floor(M))}else M=(s-(a.slidesPerView-1)*x)/a.slidesPerView,a.roundLengths&&(M=Math.floor(M)),d[L]&&(e.isHorizontal()?d[L].style.width=M+"px":d[L].style.height=M+"px");d[L]&&(d[L].swiperSlideSize=M),m.push(M),a.centeredSlides?(T=T+M/2+E/2+x,0===E&&0!==L&&(T=T-s/2-x),0===L&&(T=T-s/2-x),Math.abs(T)<.001&&(T=0),a.roundLengths&&(T=Math.floor(T)),S%a.slidesPerGroup==0&&v.push(T),f.push(T)):(a.roundLengths&&(T=Math.floor(T)),S%a.slidesPerGroup==0&&v.push(T),f.push(T),T=T+M+x),e.virtualSize+=M+x,E=M,S+=1}}if(e.virtualSize=Math.max(e.virtualSize,s)+b,r&&n&&("slide"===a.effect||"coverflow"===a.effect)&&i.css({width:e.virtualSize+a.spaceBetween+"px"}),u.flexbox&&!a.setWrapperSize||(e.isHorizontal()?i.css({width:e.virtualSize+a.spaceBetween+"px"}):i.css({height:e.virtualSize+a.spaceBetween+"px"})),1<a.slidesPerColumn&&(e.virtualSize=(M+a.spaceBetween)*C,e.virtualSize=Math.ceil(e.virtualSize/a.slidesPerColumn)-a.spaceBetween,e.isHorizontal()?i.css({width:e.virtualSize+a.spaceBetween+"px"}):i.css({height:e.virtualSize+a.spaceBetween+"px"}),a.centeredSlides)){P=[];for(var Q=0;Q<v.length;Q+=1){var J=v[Q];a.roundLengths&&(J=Math.floor(J)),v[Q]<e.virtualSize+v[0]&&P.push(J)}v=P}if(!a.centeredSlides){P=[];for(var ee=0;ee<v.length;ee+=1){var te=v[ee];a.roundLengths&&(te=Math.floor(te)),v[ee]<=e.virtualSize-s&&P.push(te)}v=P,1<Math.floor(e.virtualSize-s)-Math.floor(v[v.length-1])&&v.push(e.virtualSize-s)}if(0===v.length&&(v=[0]),0!==a.spaceBetween&&(e.isHorizontal()?r?d.css({marginLeft:x+"px"}):d.css({marginRight:x+"px"}):d.css({marginBottom:x+"px"})),a.centerInsufficientSlides){var ae=0;if(m.forEach(function(e){ae+=e+(a.spaceBetween?a.spaceBetween:0)}),(ae-=a.spaceBetween)<s){var ie=(s-ae)/2;v.forEach(function(e,t){v[t]=e-ie}),f.forEach(function(e,t){f[t]=e+ie})}}c.extend(e,{slides:d,snapGrid:v,slidesGrid:f,slidesSizesGrid:m}),p!==l&&e.emit("slidesLengthChange"),v.length!==w&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),f.length!==y&&e.emit("slidesGridLengthChange"),(a.watchSlidesProgress||a.watchSlidesVisibility)&&e.updateSlidesOffset()}},updateAutoHeight:function(e){var t,a=this,i=[],s=0;if("number"==typeof e?a.setTransition(e):!0===e&&a.setTransition(a.params.speed),"auto"!==a.params.slidesPerView&&1<a.params.slidesPerView)for(t=0;t<Math.ceil(a.params.slidesPerView);t+=1){var r=a.activeIndex+t;if(r>a.slides.length)break;i.push(a.slides.eq(r)[0])}else i.push(a.slides.eq(a.activeIndex)[0]);for(t=0;t<i.length;t+=1)if(void 0!==i[t]){var n=i[t].offsetHeight;s=s<n?n:s}s&&a.$wrapperEl.css("height",s+"px")},updateSlidesOffset:function(){for(var e=this.slides,t=0;t<e.length;t+=1)e[t].swiperSlideOffset=this.isHorizontal()?e[t].offsetLeft:e[t].offsetTop},updateSlidesProgress:function(e){var t=this,a=t.params;void 0===e&&(e=t&&t.translate||0);var s=t.slides,r=t.rtlTranslate;if(0!==s.length){void 0===s[0].swiperSlideOffset&&t.updateSlidesOffset();var n=-e;r&&(n=e),s.removeClass(a.slideVisibleClass),t.visibleSlidesIndexes=[],t.visibleSlides=[];for(var o=0;o<s.length;o+=1){var l=s[o],d=(n+(a.centeredSlides?t.minTranslate():0)-l.swiperSlideOffset)/(l.swiperSlideSize+a.spaceBetween);if(a.watchSlidesVisibility){var p=-(n-l.swiperSlideOffset),c=p+t.slidesSizesGrid[o];(0<=p&&p<t.size-1||1<c&&c<=t.size||p<=0&&c>=t.size)&&(t.visibleSlides.push(l),t.visibleSlidesIndexes.push(o),s.eq(o).addClass(a.slideVisibleClass))}l.progress=r?-d:d}t.visibleSlides=i(t.visibleSlides)}},updateProgress:function(e){var t=this,a=t.params;if(void 0===e){var i=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*i||0}var s=t.maxTranslate()-t.minTranslate(),r=t.progress,n=t.isBeginning,o=t.isEnd,l=n,d=o;o=0==s?n=!(r=0):(n=(r=(e-t.minTranslate())/s)<=0,1<=r),c.extend(t,{progress:r,isBeginning:n,isEnd:o}),(a.watchSlidesProgress||a.watchSlidesVisibility)&&t.updateSlidesProgress(e),n&&!l&&t.emit("reachBeginning toEdge"),o&&!d&&t.emit("reachEnd toEdge"),(l&&!n||d&&!o)&&t.emit("fromEdge"),t.emit("progress",r)},updateSlidesClasses:function(){var e,t=this,a=t.slides,i=t.params,s=t.$wrapperEl,r=t.activeIndex,n=t.realIndex,o=t.virtual&&i.virtual.enabled;a.removeClass(i.slideActiveClass+" "+i.slideNextClass+" "+i.slidePrevClass+" "+i.slideDuplicateActiveClass+" "+i.slideDuplicateNextClass+" "+i.slideDuplicatePrevClass),(e=o?t.$wrapperEl.find("."+i.slideClass+'[data-swiper-slide-index="'+r+'"]'):a.eq(r)).addClass(i.slideActiveClass),i.loop&&(e.hasClass(i.slideDuplicateClass)?s.children("."+i.slideClass+":not(."+i.slideDuplicateClass+')[data-swiper-slide-index="'+n+'"]').addClass(i.slideDuplicateActiveClass):s.children("."+i.slideClass+"."+i.slideDuplicateClass+'[data-swiper-slide-index="'+n+'"]').addClass(i.slideDuplicateActiveClass));var l=e.nextAll("."+i.slideClass).eq(0).addClass(i.slideNextClass);i.loop&&0===l.length&&(l=a.eq(0)).addClass(i.slideNextClass);var d=e.prevAll("."+i.slideClass).eq(0).addClass(i.slidePrevClass);i.loop&&0===d.length&&(d=a.eq(-1)).addClass(i.slidePrevClass),i.loop&&(l.hasClass(i.slideDuplicateClass)?s.children("."+i.slideClass+":not(."+i.slideDuplicateClass+')[data-swiper-slide-index="'+l.attr("data-swiper-slide-index")+'"]').addClass(i.slideDuplicateNextClass):s.children("."+i.slideClass+"."+i.slideDuplicateClass+'[data-swiper-slide-index="'+l.attr("data-swiper-slide-index")+'"]').addClass(i.slideDuplicateNextClass),d.hasClass(i.slideDuplicateClass)?s.children("."+i.slideClass+":not(."+i.slideDuplicateClass+')[data-swiper-slide-index="'+d.attr("data-swiper-slide-index")+'"]').addClass(i.slideDuplicatePrevClass):s.children("."+i.slideClass+"."+i.slideDuplicateClass+'[data-swiper-slide-index="'+d.attr("data-swiper-slide-index")+'"]').addClass(i.slideDuplicatePrevClass))},updateActiveIndex:function(e){var t,a=this,i=a.rtlTranslate?a.translate:-a.translate,s=a.slidesGrid,r=a.snapGrid,n=a.params,o=a.activeIndex,l=a.realIndex,d=a.snapIndex,p=e;if(void 0===p){for(var u=0;u<s.length;u+=1)void 0!==s[u+1]?i>=s[u]&&i<s[u+1]-(s[u+1]-s[u])/2?p=u:i>=s[u]&&i<s[u+1]&&(p=u+1):i>=s[u]&&(p=u);n.normalizeSlideIndex&&(p<0||void 0===p)&&(p=0)}if((t=0<=r.indexOf(i)?r.indexOf(i):Math.floor(p/n.slidesPerGroup))>=r.length&&(t=r.length-1),p!==o){var h=parseInt(a.slides.eq(p).attr("data-swiper-slide-index")||p,10);c.extend(a,{snapIndex:t,realIndex:h,previousIndex:o,activeIndex:p}),a.emit("activeIndexChange"),a.emit("snapIndexChange"),l!==h&&a.emit("realIndexChange"),(a.initialized||a.runCallbacksOnInit)&&a.emit("slideChange")}else t!==d&&(a.snapIndex=t,a.emit("snapIndexChange"))},updateClickedSlide:function(e){var t=this,a=t.params,s=i(e.target).closest("."+a.slideClass)[0],r=!1;if(s)for(var n=0;n<t.slides.length;n+=1)t.slides[n]===s&&(r=!0);if(!s||!r)return t.clickedSlide=void 0,void(t.clickedIndex=void 0);t.clickedSlide=s,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(i(s).attr("data-swiper-slide-index"),10):t.clickedIndex=i(s).index(),a.slideToClickedSlide&&void 0!==t.clickedIndex&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}},m={getTranslate:function(e){void 0===e&&(e=this.isHorizontal()?"x":"y");var t=this.params,a=this.rtlTranslate,i=this.translate,s=this.$wrapperEl;if(t.virtualTranslate)return a?-i:i;var r=c.getTranslate(s[0],e);return a&&(r=-r),r||0},setTranslate:function(e,t){var a=this,i=a.rtlTranslate,s=a.params,r=a.$wrapperEl,n=a.progress,o=0,l=0;a.isHorizontal()?o=i?-e:e:l=e,s.roundLengths&&(o=Math.floor(o),l=Math.floor(l)),s.virtualTranslate||(u.transforms3d?r.transform("translate3d("+o+"px, "+l+"px, 0px)"):r.transform("translate("+o+"px, "+l+"px)")),a.previousTranslate=a.translate,a.translate=a.isHorizontal()?o:l;var d=a.maxTranslate()-a.minTranslate();(0==d?0:(e-a.minTranslate())/d)!==n&&a.updateProgress(e),a.emit("setTranslate",a.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]}},g={slideTo:function(e,t,a,i){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===a&&(a=!0);var s=this,r=e;r<0&&(r=0);var n=s.params,o=s.snapGrid,l=s.slidesGrid,d=s.previousIndex,p=s.activeIndex,c=s.rtlTranslate;if(s.animating&&n.preventInteractionOnTransition)return!1;var h=Math.floor(r/n.slidesPerGroup);h>=o.length&&(h=o.length-1),(p||n.initialSlide||0)===(d||0)&&a&&s.emit("beforeSlideChangeStart");var v,f=-o[h];if(s.updateProgress(f),n.normalizeSlideIndex)for(var m=0;m<l.length;m+=1)-Math.floor(100*f)>=Math.floor(100*l[m])&&(r=m);if(s.initialized&&r!==p){if(!s.allowSlideNext&&f<s.translate&&f<s.minTranslate())return!1;if(!s.allowSlidePrev&&f>s.translate&&f>s.maxTranslate()&&(p||0)!==r)return!1}return v=p<r?"next":r<p?"prev":"reset",c&&-f===s.translate||!c&&f===s.translate?(s.updateActiveIndex(r),n.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),"slide"!==n.effect&&s.setTranslate(f),"reset"!==v&&(s.transitionStart(a,v),s.transitionEnd(a,v)),!1):(0!==t&&u.transition?(s.setTransition(t),s.setTranslate(f),s.updateActiveIndex(r),s.updateSlidesClasses(),s.emit("beforeTransitionStart",t,i),s.transitionStart(a,v),s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(e){s&&!s.destroyed&&e.target===this&&(s.$wrapperEl[0].removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.$wrapperEl[0].removeEventListener("webkitTransitionEnd",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(a,v))}),s.$wrapperEl[0].addEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.$wrapperEl[0].addEventListener("webkitTransitionEnd",s.onSlideToWrapperTransitionEnd))):(s.setTransition(0),s.setTranslate(f),s.updateActiveIndex(r),s.updateSlidesClasses(),s.emit("beforeTransitionStart",t,i),s.transitionStart(a,v),s.transitionEnd(a,v)),!0)},slideToLoop:function(e,t,a,i){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===a&&(a=!0);var s=e;return this.params.loop&&(s+=this.loopedSlides),this.slideTo(s,t,a,i)},slideNext:function(e,t,a){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var i=this,s=i.params,r=i.animating;return s.loop?!r&&(i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft,i.slideTo(i.activeIndex+s.slidesPerGroup,e,t,a)):i.slideTo(i.activeIndex+s.slidesPerGroup,e,t,a)},slidePrev:function(e,t,a){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var i=this,s=i.params,r=i.animating,n=i.snapGrid,o=i.slidesGrid,l=i.rtlTranslate;if(s.loop){if(r)return!1;i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft}function d(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}var p,c=d(l?i.translate:-i.translate),u=n.map(function(e){return d(e)}),h=(o.map(function(e){return d(e)}),n[u.indexOf(c)],n[u.indexOf(c)-1]);return void 0!==h&&(p=o.indexOf(h))<0&&(p=i.activeIndex-1),i.slideTo(p,e,t,a)},slideReset:function(e,t,a){return void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),this.slideTo(this.activeIndex,e,t,a)},slideToClosest:function(e,t,a){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var i=this,s=i.activeIndex,r=Math.floor(s/i.params.slidesPerGroup);if(r<i.snapGrid.length-1){var n=i.rtlTranslate?i.translate:-i.translate,o=i.snapGrid[r];(i.snapGrid[r+1]-o)/2<n-o&&(s=i.params.slidesPerGroup)}return i.slideTo(s,e,t,a)},slideToClickedSlide:function(){var e,t=this,a=t.params,s=t.$wrapperEl,r="auto"===a.slidesPerView?t.slidesPerViewDynamic():a.slidesPerView,n=t.clickedIndex;if(a.loop){if(t.animating)return;e=parseInt(i(t.clickedSlide).attr("data-swiper-slide-index"),10),a.centeredSlides?n<t.loopedSlides-r/2||n>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),n=s.children("."+a.slideClass+'[data-swiper-slide-index="'+e+'"]:not(.'+a.slideDuplicateClass+")").eq(0).index(),c.nextTick(function(){t.slideTo(n)})):t.slideTo(n):n>t.slides.length-r?(t.loopFix(),n=s.children("."+a.slideClass+'[data-swiper-slide-index="'+e+'"]:not(.'+a.slideDuplicateClass+")").eq(0).index(),c.nextTick(function(){t.slideTo(n)})):t.slideTo(n)}else t.slideTo(n)}},b={loopCreate:function(){var t=this,a=t.params,s=t.$wrapperEl;s.children("."+a.slideClass+"."+a.slideDuplicateClass).remove();var r=s.children("."+a.slideClass);if(a.loopFillGroupWithBlank){var n=a.slidesPerGroup-r.length%a.slidesPerGroup;if(n!==a.slidesPerGroup){for(var o=0;o<n;o+=1){var l=i(e.createElement("div")).addClass(a.slideClass+" "+a.slideBlankClass);s.append(l)}r=s.children("."+a.slideClass)}}"auto"!==a.slidesPerView||a.loopedSlides||(a.loopedSlides=r.length),t.loopedSlides=parseInt(a.loopedSlides||a.slidesPerView,10),t.loopedSlides+=a.loopAdditionalSlides,t.loopedSlides>r.length&&(t.loopedSlides=r.length);var d=[],p=[];r.each(function(e,a){var s=i(a);e<t.loopedSlides&&p.push(a),e<r.length&&e>=r.length-t.loopedSlides&&d.push(a),s.attr("data-swiper-slide-index",e)});for(var c=0;c<p.length;c+=1)s.append(i(p[c].cloneNode(!0)).addClass(a.slideDuplicateClass));for(var u=d.length-1;0<=u;u-=1)s.prepend(i(d[u].cloneNode(!0)).addClass(a.slideDuplicateClass))},loopFix:function(){var e,t=this,a=t.params,i=t.activeIndex,s=t.slides,r=t.loopedSlides,n=t.allowSlidePrev,o=t.allowSlideNext,l=t.snapGrid,d=t.rtlTranslate;t.allowSlidePrev=!0,t.allowSlideNext=!0;var p=-l[i]-t.getTranslate();i<r?(e=s.length-3*r+i,e+=r,t.slideTo(e,0,!1,!0)&&0!=p&&t.setTranslate((d?-t.translate:t.translate)-p)):("auto"===a.slidesPerView&&2*r<=i||i>=s.length-r)&&(e=-s.length+i+r,e+=r,t.slideTo(e,0,!1,!0)&&0!=p&&t.setTranslate((d?-t.translate:t.translate)-p)),t.allowSlidePrev=n,t.allowSlideNext=o},loopDestroy:function(){var e=this.$wrapperEl,t=this.params,a=this.slides;e.children("."+t.slideClass+"."+t.slideDuplicateClass+",."+t.slideClass+"."+t.slideBlankClass).remove(),a.removeAttr("data-swiper-slide-index")}},w={setGrabCursor:function(e){if(!(u.touch||!this.params.simulateTouch||this.params.watchOverflow&&this.isLocked)){var t=this.el;t.style.cursor="move",t.style.cursor=e?"-webkit-grabbing":"-webkit-grab",t.style.cursor=e?"-moz-grabbin":"-moz-grab",t.style.cursor=e?"grabbing":"grab"}},unsetGrabCursor:function(){u.touch||this.params.watchOverflow&&this.isLocked||(this.el.style.cursor="")}},y={appendSlide:function(e){var t=this,a=t.$wrapperEl,i=t.params;if(i.loop&&t.loopDestroy(),"object"==typeof e&&"length"in e)for(var s=0;s<e.length;s+=1)e[s]&&a.append(e[s]);else a.append(e);i.loop&&t.loopCreate(),i.observer&&u.observer||t.update()},prependSlide:function(e){var t=this,a=t.params,i=t.$wrapperEl,s=t.activeIndex;a.loop&&t.loopDestroy();var r=s+1;if("object"==typeof e&&"length"in e){for(var n=0;n<e.length;n+=1)e[n]&&i.prepend(e[n]);r=s+e.length}else i.prepend(e);a.loop&&t.loopCreate(),a.observer&&u.observer||t.update(),t.slideTo(r,0,!1)},addSlide:function(e,t){var a=this,i=a.$wrapperEl,s=a.params,r=a.activeIndex;s.loop&&(r-=a.loopedSlides,a.loopDestroy(),a.slides=i.children("."+s.slideClass));var n=a.slides.length;if(e<=0)a.prependSlide(t);else if(n<=e)a.appendSlide(t);else{for(var o=e<r?r+1:r,l=[],d=n-1;e<=d;d-=1){var p=a.slides.eq(d);p.remove(),l.unshift(p)}if("object"==typeof t&&"length"in t){for(var c=0;c<t.length;c+=1)t[c]&&i.append(t[c]);o=e<r?r+t.length:r}else i.append(t);for(var h=0;h<l.length;h+=1)i.append(l[h]);s.loop&&a.loopCreate(),s.observer&&u.observer||a.update(),s.loop?a.slideTo(o+a.loopedSlides,0,!1):a.slideTo(o,0,!1)}},removeSlide:function(e){var t=this,a=t.params,i=t.$wrapperEl,s=t.activeIndex;a.loop&&(s-=t.loopedSlides,t.loopDestroy(),t.slides=i.children("."+a.slideClass));var r,n=s;if("object"==typeof e&&"length"in e){for(var o=0;o<e.length;o+=1)r=e[o],t.slides[r]&&t.slides.eq(r).remove(),r<n&&(n-=1);n=Math.max(n,0)}else r=e,t.slides[r]&&t.slides.eq(r).remove(),r<n&&(n-=1),n=Math.max(n,0);a.loop&&t.loopCreate(),a.observer&&u.observer||t.update(),a.loop?t.slideTo(n+t.loopedSlides,0,!1):t.slideTo(n,0,!1)},removeAllSlides:function(){for(var e=[],t=0;t<this.slides.length;t+=1)e.push(t);this.removeSlide(e)}},x=function(){var a=t.navigator.userAgent,i={ios:!1,android:!1,androidChrome:!1,desktop:!1,windows:!1,iphone:!1,ipod:!1,ipad:!1,cordova:t.cordova||t.phonegap,phonegap:t.cordova||t.phonegap},s=a.match(/(Windows Phone);?[\s\/]+([\d.]+)?/),r=a.match(/(Android);?[\s\/]+([\d.]+)?/),n=a.match(/(iPad).*OS\s([\d_]+)/),o=a.match(/(iPod)(.*OS\s([\d_]+))?/),l=!n&&a.match(/(iPhone\sOS|iOS)\s([\d_]+)/);if(s&&(i.os="windows",i.osVersion=s[2],i.windows=!0),r&&!s&&(i.os="android",i.osVersion=r[2],i.android=!0,i.androidChrome=0<=a.toLowerCase().indexOf("chrome")),(n||l||o)&&(i.os="ios",i.ios=!0),l&&!o&&(i.osVersion=l[2].replace(/_/g,"."),i.iphone=!0),n&&(i.osVersion=n[2].replace(/_/g,"."),i.ipad=!0),o&&(i.osVersion=o[3]?o[3].replace(/_/g,"."):null,i.iphone=!0),i.ios&&i.osVersion&&0<=a.indexOf("Version/")&&"10"===i.osVersion.split(".")[0]&&(i.osVersion=a.toLowerCase().split("version/")[1].split(" ")[0]),i.desktop=!(i.os||i.android||i.webView),i.webView=(l||n||o)&&a.match(/.*AppleWebKit(?!.*Safari)/i),i.os&&"ios"===i.os){var d=i.osVersion.split("."),p=e.querySelector('meta[name="viewport"]');i.minimalUi=!i.webView&&(o||l)&&(1*d[0]==7?1<=1*d[1]:7<1*d[0])&&p&&0<=p.getAttribute("content").indexOf("minimal-ui")}return i.pixelRatio=t.devicePixelRatio||1,i}();function T(){var e=this,t=e.params,a=e.el;if(!a||0!==a.offsetWidth){t.breakpoints&&e.setBreakpoint();var i=e.allowSlideNext,s=e.allowSlidePrev,r=e.snapGrid;if(e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),t.freeMode){var n=Math.min(Math.max(e.translate,e.maxTranslate()),e.minTranslate());e.setTranslate(n),e.updateActiveIndex(),e.updateSlidesClasses(),t.autoHeight&&e.updateAutoHeight()}else e.updateSlidesClasses(),("auto"===t.slidesPerView||1<t.slidesPerView)&&e.isEnd&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0);e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.run(),e.allowSlidePrev=s,e.allowSlideNext=i,e.params.watchOverflow&&r!==e.snapGrid&&e.checkOverflow()}}var E=!1;function S(){}var C={init:!0,direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,preventInteractionOnTransition:!1,edgeSwipeDetection:!1,edgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsInverse:!1,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!1,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!0,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0},M={update:f,translate:m,transition:{setTransition:function(e,t){this.$wrapperEl.transition(e),this.emit("setTransition",e,t)},transitionStart:function(e,t){void 0===e&&(e=!0);var a=this,i=a.activeIndex,s=a.params,r=a.previousIndex;s.autoHeight&&a.updateAutoHeight();var n=t;if(n=n||(r<i?"next":i<r?"prev":"reset"),a.emit("transitionStart"),e&&i!==r){if("reset"===n)return void a.emit("slideResetTransitionStart");a.emit("slideChangeTransitionStart"),"next"===n?a.emit("slideNextTransitionStart"):a.emit("slidePrevTransitionStart")}},transitionEnd:function(e,t){void 0===e&&(e=!0);var a=this,i=a.activeIndex,s=a.previousIndex;a.animating=!1,a.setTransition(0);var r=t;if(r=r||(s<i?"next":i<s?"prev":"reset"),a.emit("transitionEnd"),e&&i!==s){if("reset"===r)return void a.emit("slideResetTransitionEnd");a.emit("slideChangeTransitionEnd"),"next"===r?a.emit("slideNextTransitionEnd"):a.emit("slidePrevTransitionEnd")}}},slide:g,loop:b,grabCursor:w,manipulation:y,events:{attachEvents:function(){var a=this,s=a.params,r=a.touchEvents,n=a.el,o=a.wrapperEl;a.onTouchStart=function(a){var s=this,r=s.touchEventsData,n=s.params,o=s.touches;if(!s.animating||!n.preventInteractionOnTransition){var l=a;if(l.originalEvent&&(l=l.originalEvent),r.isTouchEvent="touchstart"===l.type,(r.isTouchEvent||!("which"in l)||3!==l.which)&&!(!r.isTouchEvent&&"button"in l&&0<l.button||r.isTouched&&r.isMoved))if(n.noSwiping&&i(l.target).closest(n.noSwipingSelector?n.noSwipingSelector:"."+n.noSwipingClass)[0])s.allowClick=!0;else if(!n.swipeHandler||i(l).closest(n.swipeHandler)[0]){o.currentX="touchstart"===l.type?l.targetTouches[0].pageX:l.pageX,o.currentY="touchstart"===l.type?l.targetTouches[0].pageY:l.pageY;var d=o.currentX,p=o.currentY,u=n.edgeSwipeDetection||n.iOSEdgeSwipeDetection,h=n.edgeSwipeThreshold||n.iOSEdgeSwipeThreshold;if(!u||!(d<=h||d>=t.screen.width-h)){if(c.extend(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=d,o.startY=p,r.touchStartTime=c.now(),s.allowClick=!0,s.updateSize(),s.swipeDirection=void 0,0<n.threshold&&(r.allowThresholdMove=!1),"touchstart"!==l.type){var v=!0;i(l.target).is(r.formElements)&&(v=!1),e.activeElement&&i(e.activeElement).is(r.formElements)&&e.activeElement!==l.target&&e.activeElement.blur();var f=v&&s.allowTouchMove&&n.touchStartPreventDefault;(n.touchStartForcePreventDefault||f)&&l.preventDefault()}s.emit("touchStart",l)}}}}.bind(a),a.onTouchMove=function(t){var a=this,s=a.touchEventsData,r=a.params,n=a.touches,o=a.rtlTranslate,l=t;if(l.originalEvent&&(l=l.originalEvent),s.isTouched){if(!s.isTouchEvent||"mousemove"!==l.type){var d="touchmove"===l.type&&l.targetTouches&&(l.targetTouches[0]||l.changedTouches[0]),p="touchmove"===l.type?d.pageX:l.pageX,u="touchmove"===l.type?d.pageY:l.pageY;if(l.preventedByNestedSwiper)return n.startX=p,void(n.startY=u);if(!a.allowTouchMove)return a.allowClick=!1,void(s.isTouched&&(c.extend(n,{startX:p,startY:u,currentX:p,currentY:u}),s.touchStartTime=c.now()));if(s.isTouchEvent&&r.touchReleaseOnEdges&&!r.loop)if(a.isVertical()){if(u<n.startY&&a.translate<=a.maxTranslate()||u>n.startY&&a.translate>=a.minTranslate())return s.isTouched=!1,void(s.isMoved=!1)}else if(p<n.startX&&a.translate<=a.maxTranslate()||p>n.startX&&a.translate>=a.minTranslate())return;if(s.isTouchEvent&&e.activeElement&&l.target===e.activeElement&&i(l.target).is(s.formElements))return s.isMoved=!0,void(a.allowClick=!1);if(s.allowTouchCallbacks&&a.emit("touchMove",l),!(l.targetTouches&&1<l.targetTouches.length)){n.currentX=p,n.currentY=u;var h,v=n.currentX-n.startX,f=n.currentY-n.startY;if(!(a.params.threshold&&Math.sqrt(Math.pow(v,2)+Math.pow(f,2))<a.params.threshold))if(void 0===s.isScrolling&&(a.isHorizontal()&&n.currentY===n.startY||a.isVertical()&&n.currentX===n.startX?s.isScrolling=!1:25<=v*v+f*f&&(h=180*Math.atan2(Math.abs(f),Math.abs(v))/Math.PI,s.isScrolling=a.isHorizontal()?h>r.touchAngle:90-h>r.touchAngle)),s.isScrolling&&a.emit("touchMoveOpposite",l),void 0===s.startMoving&&(n.currentX===n.startX&&n.currentY===n.startY||(s.startMoving=!0)),s.isScrolling)s.isTouched=!1;else if(s.startMoving){a.allowClick=!1,l.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&l.stopPropagation(),s.isMoved||(r.loop&&a.loopFix(),s.startTranslate=a.getTranslate(),a.setTransition(0),a.animating&&a.$wrapperEl.trigger("webkitTransitionEnd transitionend"),s.allowMomentumBounce=!1,!r.grabCursor||!0!==a.allowSlideNext&&!0!==a.allowSlidePrev||a.setGrabCursor(!0),a.emit("sliderFirstMove",l)),a.emit("sliderMove",l),s.isMoved=!0;var m=a.isHorizontal()?v:f;n.diff=m,m*=r.touchRatio,o&&(m=-m),a.swipeDirection=0<m?"prev":"next",s.currentTranslate=m+s.startTranslate;var g=!0,b=r.resistanceRatio;if(r.touchReleaseOnEdges&&(b=0),0<m&&s.currentTranslate>a.minTranslate()?(g=!1,r.resistance&&(s.currentTranslate=a.minTranslate()-1+Math.pow(-a.minTranslate()+s.startTranslate+m,b))):m<0&&s.currentTranslate<a.maxTranslate()&&(g=!1,r.resistance&&(s.currentTranslate=a.maxTranslate()+1-Math.pow(a.maxTranslate()-s.startTranslate-m,b))),g&&(l.preventedByNestedSwiper=!0),!a.allowSlideNext&&"next"===a.swipeDirection&&s.currentTranslate<s.startTranslate&&(s.currentTranslate=s.startTranslate),!a.allowSlidePrev&&"prev"===a.swipeDirection&&s.currentTranslate>s.startTranslate&&(s.currentTranslate=s.startTranslate),0<r.threshold){if(!(Math.abs(m)>r.threshold||s.allowThresholdMove))return void(s.currentTranslate=s.startTranslate);if(!s.allowThresholdMove)return s.allowThresholdMove=!0,n.startX=n.currentX,n.startY=n.currentY,s.currentTranslate=s.startTranslate,void(n.diff=a.isHorizontal()?n.currentX-n.startX:n.currentY-n.startY)}r.followFinger&&((r.freeMode||r.watchSlidesProgress||r.watchSlidesVisibility)&&(a.updateActiveIndex(),a.updateSlidesClasses()),r.freeMode&&(0===s.velocities.length&&s.velocities.push({position:n[a.isHorizontal()?"startX":"startY"],time:s.touchStartTime}),s.velocities.push({position:n[a.isHorizontal()?"currentX":"currentY"],time:c.now()})),a.updateProgress(s.currentTranslate),a.setTranslate(s.currentTranslate))}}}}else s.startMoving&&s.isScrolling&&a.emit("touchMoveOpposite",l)}.bind(a),a.onTouchEnd=function(e){var t=this,a=t.touchEventsData,i=t.params,s=t.touches,r=t.rtlTranslate,n=t.$wrapperEl,o=t.slidesGrid,l=t.snapGrid,d=e;if(d.originalEvent&&(d=d.originalEvent),a.allowTouchCallbacks&&t.emit("touchEnd",d),a.allowTouchCallbacks=!1,!a.isTouched)return a.isMoved&&i.grabCursor&&t.setGrabCursor(!1),a.isMoved=!1,void(a.startMoving=!1);i.grabCursor&&a.isMoved&&a.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);var p,u=c.now(),h=u-a.touchStartTime;if(t.allowClick&&(t.updateClickedSlide(d),t.emit("tap",d),h<300&&300<u-a.lastClickTime&&(a.clickTimeout&&clearTimeout(a.clickTimeout),a.clickTimeout=c.nextTick(function(){t&&!t.destroyed&&t.emit("click",d)},300)),h<300&&u-a.lastClickTime<300&&(a.clickTimeout&&clearTimeout(a.clickTimeout),t.emit("doubleTap",d))),a.lastClickTime=c.now(),c.nextTick(function(){t.destroyed||(t.allowClick=!0)}),!a.isTouched||!a.isMoved||!t.swipeDirection||0===s.diff||a.currentTranslate===a.startTranslate)return a.isTouched=!1,a.isMoved=!1,void(a.startMoving=!1);if(a.isTouched=!1,a.isMoved=!1,a.startMoving=!1,p=i.followFinger?r?t.translate:-t.translate:-a.currentTranslate,i.freeMode){if(p<-t.minTranslate())return void t.slideTo(t.activeIndex);if(p>-t.maxTranslate())return void(t.slides.length<l.length?t.slideTo(l.length-1):t.slideTo(t.slides.length-1));if(i.freeModeMomentum){if(1<a.velocities.length){var v=a.velocities.pop(),f=a.velocities.pop(),m=v.position-f.position,g=v.time-f.time;t.velocity=m/g,t.velocity/=2,Math.abs(t.velocity)<i.freeModeMinimumVelocity&&(t.velocity=0),(150<g||300<c.now()-v.time)&&(t.velocity=0)}else t.velocity=0;t.velocity*=i.freeModeMomentumVelocityRatio,a.velocities.length=0;var b=1e3*i.freeModeMomentumRatio,w=t.velocity*b,y=t.translate+w;r&&(y=-y);var x,T,E=!1,S=20*Math.abs(t.velocity)*i.freeModeMomentumBounceRatio;if(y<t.maxTranslate())i.freeModeMomentumBounce?(y+t.maxTranslate()<-S&&(y=t.maxTranslate()-S),x=t.maxTranslate(),E=!0,a.allowMomentumBounce=!0):y=t.maxTranslate(),i.loop&&i.centeredSlides&&(T=!0);else if(y>t.minTranslate())i.freeModeMomentumBounce?(y-t.minTranslate()>S&&(y=t.minTranslate()+S),x=t.minTranslate(),E=!0,a.allowMomentumBounce=!0):y=t.minTranslate(),i.loop&&i.centeredSlides&&(T=!0);else if(i.freeModeSticky){for(var C,M=0;M<l.length;M+=1)if(l[M]>-y){C=M;break}y=-(y=Math.abs(l[C]-y)<Math.abs(l[C-1]-y)||"next"===t.swipeDirection?l[C]:l[C-1])}if(T&&t.once("transitionEnd",function(){t.loopFix()}),0!==t.velocity)b=r?Math.abs((-y-t.translate)/t.velocity):Math.abs((y-t.translate)/t.velocity);else if(i.freeModeSticky)return void t.slideToClosest();i.freeModeMomentumBounce&&E?(t.updateProgress(x),t.setTransition(b),t.setTranslate(y),t.transitionStart(!0,t.swipeDirection),t.animating=!0,n.transitionEnd(function(){t&&!t.destroyed&&a.allowMomentumBounce&&(t.emit("momentumBounce"),t.setTransition(i.speed),t.setTranslate(x),n.transitionEnd(function(){t&&!t.destroyed&&t.transitionEnd()}))})):t.velocity?(t.updateProgress(y),t.setTransition(b),t.setTranslate(y),t.transitionStart(!0,t.swipeDirection),t.animating||(t.animating=!0,n.transitionEnd(function(){t&&!t.destroyed&&t.transitionEnd()}))):t.updateProgress(y),t.updateActiveIndex(),t.updateSlidesClasses()}else if(i.freeModeSticky)return void t.slideToClosest();(!i.freeModeMomentum||h>=i.longSwipesMs)&&(t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses())}else{for(var P=0,k=t.slidesSizesGrid[0],z=0;z<o.length;z+=i.slidesPerGroup)void 0!==o[z+i.slidesPerGroup]?p>=o[z]&&p<o[z+i.slidesPerGroup]&&(k=o[(P=z)+i.slidesPerGroup]-o[z]):p>=o[z]&&(P=z,k=o[o.length-1]-o[o.length-2]);var $=(p-o[P])/k;if(h>i.longSwipesMs){if(!i.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&($>=i.longSwipesRatio?t.slideTo(P+i.slidesPerGroup):t.slideTo(P)),"prev"===t.swipeDirection&&($>1-i.longSwipesRatio?t.slideTo(P+i.slidesPerGroup):t.slideTo(P))}else{if(!i.shortSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&t.slideTo(P+i.slidesPerGroup),"prev"===t.swipeDirection&&t.slideTo(P)}}}.bind(a),a.onClick=function(e){this.allowClick||(this.params.preventClicks&&e.preventDefault(),this.params.preventClicksPropagation&&this.animating&&(e.stopPropagation(),e.stopImmediatePropagation()))}.bind(a);var l="container"===s.touchEventsTarget?n:o,d=!!s.nested;if(u.touch||!u.pointerEvents&&!u.prefixedPointerEvents){if(u.touch){var p=!("touchstart"!==r.start||!u.passiveListener||!s.passiveListeners)&&{passive:!0,capture:!1};l.addEventListener(r.start,a.onTouchStart,p),l.addEventListener(r.move,a.onTouchMove,u.passiveListener?{passive:!1,capture:d}:d),l.addEventListener(r.end,a.onTouchEnd,p),E||(e.addEventListener("touchstart",S),E=!0)}(s.simulateTouch&&!x.ios&&!x.android||s.simulateTouch&&!u.touch&&x.ios)&&(l.addEventListener("mousedown",a.onTouchStart,!1),e.addEventListener("mousemove",a.onTouchMove,d),e.addEventListener("mouseup",a.onTouchEnd,!1))}else l.addEventListener(r.start,a.onTouchStart,!1),e.addEventListener(r.move,a.onTouchMove,d),e.addEventListener(r.end,a.onTouchEnd,!1);(s.preventClicks||s.preventClicksPropagation)&&l.addEventListener("click",a.onClick,!0),a.on(x.ios||x.android?"resize orientationchange observerUpdate":"resize observerUpdate",T,!0)},detachEvents:function(){var t=this,a=t.params,i=t.touchEvents,s=t.el,r=t.wrapperEl,n="container"===a.touchEventsTarget?s:r,o=!!a.nested;if(u.touch||!u.pointerEvents&&!u.prefixedPointerEvents){if(u.touch){var l=!("onTouchStart"!==i.start||!u.passiveListener||!a.passiveListeners)&&{passive:!0,capture:!1};n.removeEventListener(i.start,t.onTouchStart,l),n.removeEventListener(i.move,t.onTouchMove,o),n.removeEventListener(i.end,t.onTouchEnd,l)}(a.simulateTouch&&!x.ios&&!x.android||a.simulateTouch&&!u.touch&&x.ios)&&(n.removeEventListener("mousedown",t.onTouchStart,!1),e.removeEventListener("mousemove",t.onTouchMove,o),e.removeEventListener("mouseup",t.onTouchEnd,!1))}else n.removeEventListener(i.start,t.onTouchStart,!1),e.removeEventListener(i.move,t.onTouchMove,o),e.removeEventListener(i.end,t.onTouchEnd,!1);(a.preventClicks||a.preventClicksPropagation)&&n.removeEventListener("click",t.onClick,!0),t.off(x.ios||x.android?"resize orientationchange observerUpdate":"resize observerUpdate",T)}},breakpoints:{setBreakpoint:function(){var e=this,t=e.activeIndex,a=e.initialized,i=e.loopedSlides;void 0===i&&(i=0);var s=e.params,r=s.breakpoints;if(r&&(!r||0!==Object.keys(r).length)){var n=e.getBreakpoint(r);if(n&&e.currentBreakpoint!==n){var o=n in r?r[n]:void 0;o&&["slidesPerView","spaceBetween","slidesPerGroup"].forEach(function(e){var t=o[e];void 0!==t&&(o[e]="slidesPerView"!==e||"AUTO"!==t&&"auto"!==t?"slidesPerView"===e?parseFloat(t):parseInt(t,10):"auto")});var l=o||e.originalParams,d=l.direction&&l.direction!==s.direction,p=s.loop&&(l.slidesPerView!==s.slidesPerView||d);d&&a&&e.changeDirection(),c.extend(e.params,l),c.extend(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),e.currentBreakpoint=n,p&&a&&(e.loopDestroy(),e.loopCreate(),e.updateSlides(),e.slideTo(t-i+e.loopedSlides,0,!1)),e.emit("breakpoint",l)}}},getBreakpoint:function(e){if(e){var a=!1,i=[];Object.keys(e).forEach(function(e){i.push(e)}),i.sort(function(e,t){return parseInt(e,10)-parseInt(t,10)});for(var s=0;s<i.length;s+=1){var r=i[s];this.params.breakpointsInverse?r<=t.innerWidth&&(a=r):r>=t.innerWidth&&!a&&(a=r)}return a||"max"}}},checkOverflow:{checkOverflow:function(){var e=this,t=e.isLocked;e.isLocked=1===e.snapGrid.length,e.allowSlideNext=!e.isLocked,e.allowSlidePrev=!e.isLocked,t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock"),t&&t!==e.isLocked&&(e.isEnd=!1,e.navigation.update())}},classes:{addClasses:function(){var e=this.classNames,t=this.params,a=this.rtl,i=this.$el,s=[];s.push("initialized"),s.push(t.direction),t.freeMode&&s.push("free-mode"),u.flexbox||s.push("no-flexbox"),t.autoHeight&&s.push("autoheight"),a&&s.push("rtl"),1<t.slidesPerColumn&&s.push("multirow"),x.android&&s.push("android"),x.ios&&s.push("ios"),(h.isIE||h.isEdge)&&(u.pointerEvents||u.prefixedPointerEvents)&&s.push("wp8-"+t.direction),s.forEach(function(a){e.push(t.containerModifierClass+a)}),i.addClass(e.join(" "))},removeClasses:function(){var e=this.$el,t=this.classNames;e.removeClass(t.join(" "))}},images:{loadImage:function(e,a,i,s,r,n){var o;function l(){n&&n()}e.complete&&r?l():a?((o=new t.Image).onload=l,o.onerror=l,s&&(o.sizes=s),i&&(o.srcset=i),a&&(o.src=a)):l()},preloadImages:function(){var e=this;function t(){null!=e&&e&&!e.destroyed&&(void 0!==e.imagesLoaded&&(e.imagesLoaded+=1),e.imagesLoaded===e.imagesToLoad.length&&(e.params.updateOnImagesReady&&e.update(),e.emit("imagesReady")))}e.imagesToLoad=e.$el.find("img");for(var a=0;a<e.imagesToLoad.length;a+=1){var i=e.imagesToLoad[a];e.loadImage(i,i.currentSrc||i.getAttribute("src"),i.srcset||i.getAttribute("srcset"),i.sizes||i.getAttribute("sizes"),!0,t)}}}},P={},k=function(e){function t(){for(var a,s,r,n=[],o=arguments.length;o--;)n[o]=arguments[o];r=(r=1===n.length&&n[0].constructor&&n[0].constructor===Object?n[0]:(s=(a=n)[0],a[1]))||{},r=c.extend({},r),s&&!r.el&&(r.el=s),e.call(this,r),Object.keys(M).forEach(function(e){Object.keys(M[e]).forEach(function(a){t.prototype[a]||(t.prototype[a]=M[e][a])})});var l=this;void 0===l.modules&&(l.modules={}),Object.keys(l.modules).forEach(function(e){var t=l.modules[e];if(t.params){var a=Object.keys(t.params)[0],i=t.params[a];if("object"!=typeof i||null===i)return;if(!(a in r&&"enabled"in i))return;!0===r[a]&&(r[a]={enabled:!0}),"object"!=typeof r[a]||"enabled"in r[a]||(r[a].enabled=!0),r[a]||(r[a]={enabled:!1})}});var d=c.extend({},C);l.useModulesParams(d),l.params=c.extend({},d,P,r),l.originalParams=c.extend({},l.params),l.passedParams=c.extend({},r);var p=(l.$=i)(l.params.el);if(s=p[0]){if(1<p.length){var h=[];return p.each(function(e,a){var i=c.extend({},r,{el:a});h.push(new t(i))}),h}s.swiper=l,p.data("swiper",l);var v,f,m=p.children("."+l.params.wrapperClass);return c.extend(l,{$el:p,el:s,$wrapperEl:m,wrapperEl:m[0],classNames:[],slides:i(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return"horizontal"===l.params.direction},isVertical:function(){return"vertical"===l.params.direction},rtl:"rtl"===s.dir.toLowerCase()||"rtl"===p.css("direction"),rtlTranslate:"horizontal"===l.params.direction&&("rtl"===s.dir.toLowerCase()||"rtl"===p.css("direction")),wrongRTL:"-webkit-box"===m.css("display"),activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEvents:(v=["touchstart","touchmove","touchend"],f=["mousedown","mousemove","mouseup"],u.pointerEvents?f=["pointerdown","pointermove","pointerup"]:u.prefixedPointerEvents&&(f=["MSPointerDown","MSPointerMove","MSPointerUp"]),l.touchEventsTouch={start:v[0],move:v[1],end:v[2]},l.touchEventsDesktop={start:f[0],move:f[1],end:f[2]},u.touch||!l.params.simulateTouch?l.touchEventsTouch:l.touchEventsDesktop),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,formElements:"input, select, option, textarea, button, video",lastClickTime:c.now(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.useModules(),l.params.init&&l.init(),l}}e&&(t.__proto__=e);var a={extendedDefaults:{configurable:!0},defaults:{configurable:!0},Class:{configurable:!0},$:{configurable:!0}};return((t.prototype=Object.create(e&&e.prototype)).constructor=t).prototype.slidesPerViewDynamic=function(){var e=this,t=e.params,a=e.slides,i=e.slidesGrid,s=e.size,r=e.activeIndex,n=1;if(t.centeredSlides){for(var o,l=a[r].swiperSlideSize,d=r+1;d<a.length;d+=1)a[d]&&!o&&(n+=1,s<(l+=a[d].swiperSlideSize)&&(o=!0));for(var p=r-1;0<=p;p-=1)a[p]&&!o&&(n+=1,s<(l+=a[p].swiperSlideSize)&&(o=!0))}else for(var c=r+1;c<a.length;c+=1)i[c]-i[r]<s&&(n+=1);return n},t.prototype.update=function(){var e=this;if(e&&!e.destroyed){var t=e.snapGrid,a=e.params;a.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.params.freeMode?(i(),e.params.autoHeight&&e.updateAutoHeight()):(("auto"===e.params.slidesPerView||1<e.params.slidesPerView)&&e.isEnd&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0))||i(),a.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}function i(){var t=e.rtlTranslate?-1*e.translate:e.translate,a=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}},t.prototype.changeDirection=function(e,t){void 0===t&&(t=!0);var a=this,i=a.params.direction;return(e=e||("horizontal"===i?"vertical":"horizontal"))===i||"horizontal"!==e&&"vertical"!==e||(a.$el.removeClass(""+a.params.containerModifierClass+i+" wp8-"+i).addClass(""+a.params.containerModifierClass+e),(h.isIE||h.isEdge)&&(u.pointerEvents||u.prefixedPointerEvents)&&a.$el.addClass(a.params.containerModifierClass+"wp8-"+e),a.params.direction=e,a.slides.each(function(t,a){"vertical"===e?a.style.width="":a.style.height=""}),a.emit("changeDirection"),t&&a.update()),a},t.prototype.init=function(){var e=this;e.initialized||(e.emit("beforeInit"),e.params.breakpoints&&e.setBreakpoint(),e.addClasses(),e.params.loop&&e.loopCreate(),e.updateSize(),e.updateSlides(),e.params.watchOverflow&&e.checkOverflow(),e.params.grabCursor&&e.setGrabCursor(),e.params.preloadImages&&e.preloadImages(),e.params.loop?e.slideTo(e.params.initialSlide+e.loopedSlides,0,e.params.runCallbacksOnInit):e.slideTo(e.params.initialSlide,0,e.params.runCallbacksOnInit),e.attachEvents(),e.initialized=!0,e.emit("init"))},t.prototype.destroy=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);var a=this,i=a.params,s=a.$el,r=a.$wrapperEl,n=a.slides;return void 0===a.params||a.destroyed||(a.emit("beforeDestroy"),a.initialized=!1,a.detachEvents(),i.loop&&a.loopDestroy(),t&&(a.removeClasses(),s.removeAttr("style"),r.removeAttr("style"),n&&n.length&&n.removeClass([i.slideVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index").removeAttr("data-swiper-column").removeAttr("data-swiper-row")),a.emit("destroy"),Object.keys(a.eventsListeners).forEach(function(e){a.off(e)}),!1!==e&&(a.$el[0].swiper=null,a.$el.data("swiper",null),c.deleteProps(a)),a.destroyed=!0),null},t.extendDefaults=function(e){c.extend(P,e)},a.extendedDefaults.get=function(){return P},a.defaults.get=function(){return C},a.Class.get=function(){return e},a.$.get=function(){return i},Object.defineProperties(t,a),t}(n),z={name:"device",proto:{device:x},static:{device:x}},$={name:"support",proto:{support:u},static:{support:u}},L={name:"browser",proto:{browser:h},static:{browser:h}},I={name:"resize",create:function(){var e=this;c.extend(e,{resize:{resizeHandler:function(){e&&!e.destroyed&&e.initialized&&(e.emit("beforeResize"),e.emit("resize"))},orientationChangeHandler:function(){e&&!e.destroyed&&e.initialized&&e.emit("orientationchange")}}})},on:{init:function(){t.addEventListener("resize",this.resize.resizeHandler),t.addEventListener("orientationchange",this.resize.orientationChangeHandler)},destroy:function(){t.removeEventListener("resize",this.resize.resizeHandler),t.removeEventListener("orientationchange",this.resize.orientationChangeHandler)}}},D={func:t.MutationObserver||t.WebkitMutationObserver,attach:function(e,a){void 0===a&&(a={});var i=this,s=new D.func(function(e){if(1!==e.length){var a=function(){i.emit("observerUpdate",e[0])};t.requestAnimationFrame?t.requestAnimationFrame(a):t.setTimeout(a,0)}else i.emit("observerUpdate",e[0])});s.observe(e,{attributes:void 0===a.attributes||a.attributes,childList:void 0===a.childList||a.childList,characterData:void 0===a.characterData||a.characterData}),i.observer.observers.push(s)},init:function(){var e=this;if(u.observer&&e.params.observer){if(e.params.observeParents)for(var t=e.$el.parents(),a=0;a<t.length;a+=1)e.observer.attach(t[a]);e.observer.attach(e.$el[0],{childList:e.params.observeSlideChildren}),e.observer.attach(e.$wrapperEl[0],{attributes:!1})}},destroy:function(){this.observer.observers.forEach(function(e){e.disconnect()}),this.observer.observers=[]}},O={name:"observer",params:{observer:!1,observeParents:!1,observeSlideChildren:!1},create:function(){c.extend(this,{observer:{init:D.init.bind(this),attach:D.attach.bind(this),destroy:D.destroy.bind(this),observers:[]}})},on:{init:function(){this.observer.init()},destroy:function(){this.observer.destroy()}}},A={update:function(e){var t=this,a=t.params,i=a.slidesPerView,s=a.slidesPerGroup,r=a.centeredSlides,n=t.params.virtual,o=n.addSlidesBefore,l=n.addSlidesAfter,d=t.virtual,p=d.from,u=d.to,h=d.slides,v=d.slidesGrid,f=d.renderSlide,m=d.offset;t.updateActiveIndex();var g,b,w,y=t.activeIndex||0;g=t.rtlTranslate?"right":t.isHorizontal()?"left":"top",w=r?(b=Math.floor(i/2)+s+o,Math.floor(i/2)+s+l):(b=i+(s-1)+o,s+l);var x=Math.max((y||0)-w,0),T=Math.min((y||0)+b,h.length-1),E=(t.slidesGrid[x]||0)-(t.slidesGrid[0]||0);function S(){t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.lazy&&t.params.lazy.enabled&&t.lazy.load()}if(c.extend(t.virtual,{from:x,to:T,offset:E,slidesGrid:t.slidesGrid}),p===x&&u===T&&!e)return t.slidesGrid!==v&&E!==m&&t.slides.css(g,E+"px"),void t.updateProgress();if(t.params.virtual.renderExternal)return t.params.virtual.renderExternal.call(t,{offset:E,from:x,to:T,slides:function(){for(var e=[],t=x;t<=T;t+=1)e.push(h[t]);return e}()}),void S();var C=[],M=[];if(e)t.$wrapperEl.find("."+t.params.slideClass).remove();else for(var P=p;P<=u;P+=1)(P<x||T<P)&&t.$wrapperEl.find("."+t.params.slideClass+'[data-swiper-slide-index="'+P+'"]').remove();for(var k=0;k<h.length;k+=1)x<=k&&k<=T&&(void 0===u||e?M.push(k):(u<k&&M.push(k),k<p&&C.push(k)));M.forEach(function(e){t.$wrapperEl.append(f(h[e],e))}),C.sort(function(e,t){return t-e}).forEach(function(e){t.$wrapperEl.prepend(f(h[e],e))}),t.$wrapperEl.children(".swiper-slide").css(g,E+"px"),S()},renderSlide:function(e,t){var a=this,s=a.params.virtual;if(s.cache&&a.virtual.cache[t])return a.virtual.cache[t];var r=s.renderSlide?i(s.renderSlide.call(a,e,t)):i('<div class="'+a.params.slideClass+'" data-swiper-slide-index="'+t+'">'+e+"</div>");return r.attr("data-swiper-slide-index")||r.attr("data-swiper-slide-index",t),s.cache&&(a.virtual.cache[t]=r),r},appendSlide:function(e){if("object"==typeof e&&"length"in e)for(var t=0;t<e.length;t+=1)e[t]&&this.virtual.slides.push(e[t]);else this.virtual.slides.push(e);this.virtual.update(!0)},prependSlide:function(e){var t=this,a=t.activeIndex,i=a+1,s=1;if(Array.isArray(e)){for(var r=0;r<e.length;r+=1)e[r]&&t.virtual.slides.unshift(e[r]);i=a+e.length,s=e.length}else t.virtual.slides.unshift(e);if(t.params.virtual.cache){var n=t.virtual.cache,o={};Object.keys(n).forEach(function(e){o[parseInt(e,10)+s]=n[e]}),t.virtual.cache=o}t.virtual.update(!0),t.slideTo(i,0)},removeSlide:function(e){var t=this;if(null!=e){var a=t.activeIndex;if(Array.isArray(e))for(var i=e.length-1;0<=i;i-=1)t.virtual.slides.splice(e[i],1),t.params.virtual.cache&&delete t.virtual.cache[e[i]],e[i]<a&&(a-=1),a=Math.max(a,0);else t.virtual.slides.splice(e,1),t.params.virtual.cache&&delete t.virtual.cache[e],e<a&&(a-=1),a=Math.max(a,0);t.virtual.update(!0),t.slideTo(a,0)}},removeAllSlides:function(){var e=this;e.virtual.slides=[],e.params.virtual.cache&&(e.virtual.cache={}),e.virtual.update(!0),e.slideTo(0,0)}},H={name:"virtual",params:{virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,addSlidesBefore:0,addSlidesAfter:0}},create:function(){var e=this;c.extend(e,{virtual:{update:A.update.bind(e),appendSlide:A.appendSlide.bind(e),prependSlide:A.prependSlide.bind(e),removeSlide:A.removeSlide.bind(e),removeAllSlides:A.removeAllSlides.bind(e),renderSlide:A.renderSlide.bind(e),slides:e.params.virtual.slides,cache:{}}})},on:{beforeInit:function(){var e=this;if(e.params.virtual.enabled){e.classNames.push(e.params.containerModifierClass+"virtual");var t={watchSlidesProgress:!0};c.extend(e.params,t),c.extend(e.originalParams,t),e.params.initialSlide||e.virtual.update()}},setTranslate:function(){this.params.virtual.enabled&&this.virtual.update()}}},G={handle:function(a){var i=this,s=i.rtlTranslate,r=a;r.originalEvent&&(r=r.originalEvent);var n=r.keyCode||r.charCode;if(!i.allowSlideNext&&(i.isHorizontal()&&39===n||i.isVertical()&&40===n||34===n))return!1;if(!i.allowSlidePrev&&(i.isHorizontal()&&37===n||i.isVertical()&&38===n||33===n))return!1;if(!(r.shiftKey||r.altKey||r.ctrlKey||r.metaKey||e.activeElement&&e.activeElement.nodeName&&("input"===e.activeElement.nodeName.toLowerCase()||"textarea"===e.activeElement.nodeName.toLowerCase()))){if(i.params.keyboard.onlyInViewport&&(33===n||34===n||37===n||39===n||38===n||40===n)){var o=!1;if(0<i.$el.parents("."+i.params.slideClass).length&&0===i.$el.parents("."+i.params.slideActiveClass).length)return;var l=t.innerWidth,d=t.innerHeight,p=i.$el.offset();s&&(p.left-=i.$el[0].scrollLeft);for(var c=[[p.left,p.top],[p.left+i.width,p.top],[p.left,p.top+i.height],[p.left+i.width,p.top+i.height]],u=0;u<c.length;u+=1){var h=c[u];0<=h[0]&&h[0]<=l&&0<=h[1]&&h[1]<=d&&(o=!0)}if(!o)return}i.isHorizontal()?(33!==n&&34!==n&&37!==n&&39!==n||(r.preventDefault?r.preventDefault():r.returnValue=!1),(34!==n&&39!==n||s)&&(33!==n&&37!==n||!s)||i.slideNext(),(33!==n&&37!==n||s)&&(34!==n&&39!==n||!s)||i.slidePrev()):(33!==n&&34!==n&&38!==n&&40!==n||(r.preventDefault?r.preventDefault():r.returnValue=!1),34!==n&&40!==n||i.slideNext(),33!==n&&38!==n||i.slidePrev()),i.emit("keyPress",n)}},enable:function(){this.keyboard.enabled||(i(e).on("keydown",this.keyboard.handle),this.keyboard.enabled=!0)},disable:function(){this.keyboard.enabled&&(i(e).off("keydown",this.keyboard.handle),this.keyboard.enabled=!1)}},N={name:"keyboard",params:{keyboard:{enabled:!1,onlyInViewport:!0}},create:function(){c.extend(this,{keyboard:{enabled:!1,enable:G.enable.bind(this),disable:G.disable.bind(this),handle:G.handle.bind(this)}})},on:{init:function(){this.params.keyboard.enabled&&this.keyboard.enable()},destroy:function(){this.keyboard.enabled&&this.keyboard.disable()}}},B={lastScrollTime:c.now(),event:-1<t.navigator.userAgent.indexOf("firefox")?"DOMMouseScroll":function(){var t="onwheel",a=t in e;if(!a){var i=e.createElement("div");i.setAttribute(t,"return;"),a="function"==typeof i[t]}return!a&&e.implementation&&e.implementation.hasFeature&&!0!==e.implementation.hasFeature("","")&&(a=e.implementation.hasFeature("Events.wheel","3.0")),a}()?"wheel":"mousewheel",normalize:function(e){var t=0,a=0,i=0,s=0;return"detail"in e&&(a=e.detail),"wheelDelta"in e&&(a=-e.wheelDelta/120),"wheelDeltaY"in e&&(a=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=a,a=0),i=10*t,s=10*a,"deltaY"in e&&(s=e.deltaY),"deltaX"in e&&(i=e.deltaX),(i||s)&&e.deltaMode&&(1===e.deltaMode?(i*=40,s*=40):(i*=800,s*=800)),i&&!t&&(t=i<1?-1:1),s&&!a&&(a=s<1?-1:1),{spinX:t,spinY:a,pixelX:i,pixelY:s}},handleMouseEnter:function(){this.mouseEntered=!0},handleMouseLeave:function(){this.mouseEntered=!1},handle:function(e){var a=e,i=this,s=i.params.mousewheel;if(!i.mouseEntered&&!s.releaseOnEdges)return!0;a.originalEvent&&(a=a.originalEvent);var r=0,n=i.rtlTranslate?-1:1,o=B.normalize(a);if(s.forceToAxis)if(i.isHorizontal()){if(!(Math.abs(o.pixelX)>Math.abs(o.pixelY)))return!0;r=o.pixelX*n}else{if(!(Math.abs(o.pixelY)>Math.abs(o.pixelX)))return!0;r=o.pixelY}else r=Math.abs(o.pixelX)>Math.abs(o.pixelY)?-o.pixelX*n:-o.pixelY;if(0===r)return!0;if(s.invert&&(r=-r),i.params.freeMode){i.params.loop&&i.loopFix();var l=i.getTranslate()+r*s.sensitivity,d=i.isBeginning,p=i.isEnd;if(l>=i.minTranslate()&&(l=i.minTranslate()),l<=i.maxTranslate()&&(l=i.maxTranslate()),i.setTransition(0),i.setTranslate(l),i.updateProgress(),i.updateActiveIndex(),i.updateSlidesClasses(),(!d&&i.isBeginning||!p&&i.isEnd)&&i.updateSlidesClasses(),i.params.freeModeSticky&&(clearTimeout(i.mousewheel.timeout),i.mousewheel.timeout=c.nextTick(function(){i.slideToClosest()},300)),i.emit("scroll",a),i.params.autoplay&&i.params.autoplayDisableOnInteraction&&i.autoplay.stop(),l===i.minTranslate()||l===i.maxTranslate())return!0}else{if(60<c.now()-i.mousewheel.lastScrollTime)if(r<0)if(i.isEnd&&!i.params.loop||i.animating){if(s.releaseOnEdges)return!0}else i.slideNext(),i.emit("scroll",a);else if(i.isBeginning&&!i.params.loop||i.animating){if(s.releaseOnEdges)return!0}else i.slidePrev(),i.emit("scroll",a);i.mousewheel.lastScrollTime=(new t.Date).getTime()}return a.preventDefault?a.preventDefault():a.returnValue=!1,!1},enable:function(){var e=this;if(!B.event)return!1;if(e.mousewheel.enabled)return!1;var t=e.$el;return"container"!==e.params.mousewheel.eventsTarged&&(t=i(e.params.mousewheel.eventsTarged)),t.on("mouseenter",e.mousewheel.handleMouseEnter),t.on("mouseleave",e.mousewheel.handleMouseLeave),t.on(B.event,e.mousewheel.handle),e.mousewheel.enabled=!0},disable:function(){var e=this;if(!B.event)return!1;if(!e.mousewheel.enabled)return!1;var t=e.$el;return"container"!==e.params.mousewheel.eventsTarged&&(t=i(e.params.mousewheel.eventsTarged)),t.off(B.event,e.mousewheel.handle),!(e.mousewheel.enabled=!1)}},X={update:function(){var e=this,t=e.params.navigation;if(!e.params.loop){var a=e.navigation,i=a.$nextEl,s=a.$prevEl;s&&0<s.length&&(e.isBeginning?s.addClass(t.disabledClass):s.removeClass(t.disabledClass),s[e.params.watchOverflow&&e.isLocked?"addClass":"removeClass"](t.lockClass)),i&&0<i.length&&(e.isEnd?i.addClass(t.disabledClass):i.removeClass(t.disabledClass),i[e.params.watchOverflow&&e.isLocked?"addClass":"removeClass"](t.lockClass))}},onPrevClick:function(e){e.preventDefault(),this.isBeginning&&!this.params.loop||this.slidePrev()},onNextClick:function(e){e.preventDefault(),this.isEnd&&!this.params.loop||this.slideNext()},init:function(){var e,t,a=this,s=a.params.navigation;(s.nextEl||s.prevEl)&&(s.nextEl&&(e=i(s.nextEl),a.params.uniqueNavElements&&"string"==typeof s.nextEl&&1<e.length&&1===a.$el.find(s.nextEl).length&&(e=a.$el.find(s.nextEl))),s.prevEl&&(t=i(s.prevEl),a.params.uniqueNavElements&&"string"==typeof s.prevEl&&1<t.length&&1===a.$el.find(s.prevEl).length&&(t=a.$el.find(s.prevEl))),e&&0<e.length&&e.on("click",a.navigation.onNextClick),t&&0<t.length&&t.on("click",a.navigation.onPrevClick),c.extend(a.navigation,{$nextEl:e,nextEl:e&&e[0],$prevEl:t,prevEl:t&&t[0]}))},destroy:function(){var e=this,t=e.navigation,a=t.$nextEl,i=t.$prevEl;a&&a.length&&(a.off("click",e.navigation.onNextClick),a.removeClass(e.params.navigation.disabledClass)),i&&i.length&&(i.off("click",e.navigation.onPrevClick),i.removeClass(e.params.navigation.disabledClass))}},V={update:function(){var e=this,t=e.rtl,a=e.params.pagination;if(a.el&&e.pagination.el&&e.pagination.$el&&0!==e.pagination.$el.length){var s,r=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,n=e.pagination.$el,o=e.params.loop?Math.ceil((r-2*e.loopedSlides)/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?((s=Math.ceil((e.activeIndex-e.loopedSlides)/e.params.slidesPerGroup))>r-1-2*e.loopedSlides&&(s-=r-2*e.loopedSlides),o-1<s&&(s-=o),s<0&&"bullets"!==e.params.paginationType&&(s=o+s)):s=void 0!==e.snapIndex?e.snapIndex:e.activeIndex||0,"bullets"===a.type&&e.pagination.bullets&&0<e.pagination.bullets.length){var l,d,p,c=e.pagination.bullets;if(a.dynamicBullets&&(e.pagination.bulletSize=c.eq(0)[e.isHorizontal()?"outerWidth":"outerHeight"](!0),n.css(e.isHorizontal()?"width":"height",e.pagination.bulletSize*(a.dynamicMainBullets+4)+"px"),1<a.dynamicMainBullets&&void 0!==e.previousIndex&&(e.pagination.dynamicBulletIndex+=s-e.previousIndex,e.pagination.dynamicBulletIndex>a.dynamicMainBullets-1?e.pagination.dynamicBulletIndex=a.dynamicMainBullets-1:e.pagination.dynamicBulletIndex<0&&(e.pagination.dynamicBulletIndex=0)),l=s-e.pagination.dynamicBulletIndex,p=((d=l+(Math.min(c.length,a.dynamicMainBullets)-1))+l)/2),c.removeClass(a.bulletActiveClass+" "+a.bulletActiveClass+"-next "+a.bulletActiveClass+"-next-next "+a.bulletActiveClass+"-prev "+a.bulletActiveClass+"-prev-prev "+a.bulletActiveClass+"-main"),1<n.length)c.each(function(e,t){var r=i(t),n=r.index();n===s&&r.addClass(a.bulletActiveClass),a.dynamicBullets&&(l<=n&&n<=d&&r.addClass(a.bulletActiveClass+"-main"),n===l&&r.prev().addClass(a.bulletActiveClass+"-prev").prev().addClass(a.bulletActiveClass+"-prev-prev"),n===d&&r.next().addClass(a.bulletActiveClass+"-next").next().addClass(a.bulletActiveClass+"-next-next"))});else if(c.eq(s).addClass(a.bulletActiveClass),a.dynamicBullets){for(var u=c.eq(l),h=c.eq(d),v=l;v<=d;v+=1)c.eq(v).addClass(a.bulletActiveClass+"-main");u.prev().addClass(a.bulletActiveClass+"-prev").prev().addClass(a.bulletActiveClass+"-prev-prev"),h.next().addClass(a.bulletActiveClass+"-next").next().addClass(a.bulletActiveClass+"-next-next")}if(a.dynamicBullets){var f=Math.min(c.length,a.dynamicMainBullets+4),m=(e.pagination.bulletSize*f-e.pagination.bulletSize)/2-p*e.pagination.bulletSize,g=t?"right":"left";c.css(e.isHorizontal()?g:"top",m+"px")}}if("fraction"===a.type&&(n.find("."+a.currentClass).text(a.formatFractionCurrent(s+1)),n.find("."+a.totalClass).text(a.formatFractionTotal(o))),"progressbar"===a.type){var b;b=a.progressbarOpposite?e.isHorizontal()?"vertical":"horizontal":e.isHorizontal()?"horizontal":"vertical";var w=(s+1)/o,y=1,x=1;"horizontal"===b?y=w:x=w,n.find("."+a.progressbarFillClass).transform("translate3d(0,0,0) scaleX("+y+") scaleY("+x+")").transition(e.params.speed)}"custom"===a.type&&a.renderCustom?(n.html(a.renderCustom(e,s+1,o)),e.emit("paginationRender",e,n[0])):e.emit("paginationUpdate",e,n[0]),n[e.params.watchOverflow&&e.isLocked?"addClass":"removeClass"](a.lockClass)}},render:function(){var e=this,t=e.params.pagination;if(t.el&&e.pagination.el&&e.pagination.$el&&0!==e.pagination.$el.length){var a=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,i=e.pagination.$el,s="";if("bullets"===t.type){for(var r=e.params.loop?Math.ceil((a-2*e.loopedSlides)/e.params.slidesPerGroup):e.snapGrid.length,n=0;n<r;n+=1)t.renderBullet?s+=t.renderBullet.call(e,n,t.bulletClass):s+="<"+t.bulletElement+' class="'+t.bulletClass+'"></'+t.bulletElement+">";i.html(s),e.pagination.bullets=i.find("."+t.bulletClass)}"fraction"===t.type&&(s=t.renderFraction?t.renderFraction.call(e,t.currentClass,t.totalClass):'<span class="'+t.currentClass+'"></span> / <span class="'+t.totalClass+'"></span>',i.html(s)),"progressbar"===t.type&&(s=t.renderProgressbar?t.renderProgressbar.call(e,t.progressbarFillClass):'<span class="'+t.progressbarFillClass+'"></span>',i.html(s)),"custom"!==t.type&&e.emit("paginationRender",e.pagination.$el[0])}},init:function(){var e=this,t=e.params.pagination;if(t.el){var a=i(t.el);0!==a.length&&(e.params.uniqueNavElements&&"string"==typeof t.el&&1<a.length&&1===e.$el.find(t.el).length&&(a=e.$el.find(t.el)),"bullets"===t.type&&t.clickable&&a.addClass(t.clickableClass),a.addClass(t.modifierClass+t.type),"bullets"===t.type&&t.dynamicBullets&&(a.addClass(""+t.modifierClass+t.type+"-dynamic"),e.pagination.dynamicBulletIndex=0,t.dynamicMainBullets<1&&(t.dynamicMainBullets=1)),"progressbar"===t.type&&t.progressbarOpposite&&a.addClass(t.progressbarOppositeClass),t.clickable&&a.on("click","."+t.bulletClass,function(t){t.preventDefault();var a=i(this).index()*e.params.slidesPerGroup;e.params.loop&&(a+=e.loopedSlides),e.slideTo(a)}),c.extend(e.pagination,{$el:a,el:a[0]}))}},destroy:function(){var e=this,t=e.params.pagination;if(t.el&&e.pagination.el&&e.pagination.$el&&0!==e.pagination.$el.length){var a=e.pagination.$el;a.removeClass(t.hiddenClass),a.removeClass(t.modifierClass+t.type),e.pagination.bullets&&e.pagination.bullets.removeClass(t.bulletActiveClass),t.clickable&&a.off("click","."+t.bulletClass)}}},Y={setTranslate:function(){var e=this;if(e.params.scrollbar.el&&e.scrollbar.el){var t=e.scrollbar,a=e.rtlTranslate,i=e.progress,s=t.dragSize,r=t.trackSize,n=t.$dragEl,o=t.$el,l=e.params.scrollbar,d=s,p=(r-s)*i;a?0<(p=-p)?(d=s-p,p=0):r<-p+s&&(d=r+p):p<0?(d=s+p,p=0):r<p+s&&(d=r-p),e.isHorizontal()?(u.transforms3d?n.transform("translate3d("+p+"px, 0, 0)"):n.transform("translateX("+p+"px)"),n[0].style.width=d+"px"):(u.transforms3d?n.transform("translate3d(0px, "+p+"px, 0)"):n.transform("translateY("+p+"px)"),n[0].style.height=d+"px"),l.hide&&(clearTimeout(e.scrollbar.timeout),o[0].style.opacity=1,e.scrollbar.timeout=setTimeout(function(){o[0].style.opacity=0,o.transition(400)},1e3))}},setTransition:function(e){this.params.scrollbar.el&&this.scrollbar.el&&this.scrollbar.$dragEl.transition(e)},updateSize:function(){var e=this;if(e.params.scrollbar.el&&e.scrollbar.el){var t=e.scrollbar,a=t.$dragEl,i=t.$el;a[0].style.width="",a[0].style.height="";var s,r=e.isHorizontal()?i[0].offsetWidth:i[0].offsetHeight,n=e.size/e.virtualSize,o=n*(r/e.size);s="auto"===e.params.scrollbar.dragSize?r*n:parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?a[0].style.width=s+"px":a[0].style.height=s+"px",i[0].style.display=1<=n?"none":"",e.params.scrollbar.hide&&(i[0].style.opacity=0),c.extend(t,{trackSize:r,divider:n,moveDivider:o,dragSize:s}),t.$el[e.params.watchOverflow&&e.isLocked?"addClass":"removeClass"](e.params.scrollbar.lockClass)}},getPointerPosition:function(e){return this.isHorizontal()?"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageX:e.pageX||e.clientX:"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageY:e.pageY||e.clientY},setDragPosition:function(e){var t,a=this,i=a.scrollbar,s=a.rtlTranslate,r=i.$el,n=i.dragSize,o=i.trackSize,l=i.dragStartPos;t=(i.getPointerPosition(e)-r.offset()[a.isHorizontal()?"left":"top"]-(null!==l?l:n/2))/(o-n),t=Math.max(Math.min(t,1),0),s&&(t=1-t);var d=a.minTranslate()+(a.maxTranslate()-a.minTranslate())*t;a.updateProgress(d),a.setTranslate(d),a.updateActiveIndex(),a.updateSlidesClasses()},onDragStart:function(e){var t=this,a=t.params.scrollbar,i=t.scrollbar,s=t.$wrapperEl,r=i.$el,n=i.$dragEl;t.scrollbar.isTouched=!0,t.scrollbar.dragStartPos=e.target===n[0]||e.target===n?i.getPointerPosition(e)-e.target.getBoundingClientRect()[t.isHorizontal()?"left":"top"]:null,e.preventDefault(),e.stopPropagation(),s.transition(100),n.transition(100),i.setDragPosition(e),clearTimeout(t.scrollbar.dragTimeout),r.transition(0),a.hide&&r.css("opacity",1),t.emit("scrollbarDragStart",e)},onDragMove:function(e){var t=this.scrollbar,a=this.$wrapperEl,i=t.$el,s=t.$dragEl;this.scrollbar.isTouched&&(e.preventDefault?e.preventDefault():e.returnValue=!1,t.setDragPosition(e),a.transition(0),i.transition(0),s.transition(0),this.emit("scrollbarDragMove",e))},onDragEnd:function(e){var t=this,a=t.params.scrollbar,i=t.scrollbar.$el;t.scrollbar.isTouched&&(t.scrollbar.isTouched=!1,a.hide&&(clearTimeout(t.scrollbar.dragTimeout),t.scrollbar.dragTimeout=c.nextTick(function(){i.css("opacity",0),i.transition(400)},1e3)),t.emit("scrollbarDragEnd",e),a.snapOnRelease&&t.slideToClosest())},enableDraggable:function(){var t=this;if(t.params.scrollbar.el){var a=t.scrollbar,i=t.touchEventsTouch,s=t.touchEventsDesktop,r=t.params,n=a.$el[0],o=!(!u.passiveListener||!r.passiveListeners)&&{passive:!1,capture:!1},l=!(!u.passiveListener||!r.passiveListeners)&&{passive:!0,capture:!1};u.touch?(n.addEventListener(i.start,t.scrollbar.onDragStart,o),n.addEventListener(i.move,t.scrollbar.onDragMove,o),n.addEventListener(i.end,t.scrollbar.onDragEnd,l)):(n.addEventListener(s.start,t.scrollbar.onDragStart,o),e.addEventListener(s.move,t.scrollbar.onDragMove,o),e.addEventListener(s.end,t.scrollbar.onDragEnd,l))}},disableDraggable:function(){var t=this;if(t.params.scrollbar.el){var a=t.scrollbar,i=t.touchEventsTouch,s=t.touchEventsDesktop,r=t.params,n=a.$el[0],o=!(!u.passiveListener||!r.passiveListeners)&&{passive:!1,capture:!1},l=!(!u.passiveListener||!r.passiveListeners)&&{passive:!0,capture:!1};u.touch?(n.removeEventListener(i.start,t.scrollbar.onDragStart,o),n.removeEventListener(i.move,t.scrollbar.onDragMove,o),n.removeEventListener(i.end,t.scrollbar.onDragEnd,l)):(n.removeEventListener(s.start,t.scrollbar.onDragStart,o),e.removeEventListener(s.move,t.scrollbar.onDragMove,o),e.removeEventListener(s.end,t.scrollbar.onDragEnd,l))}},init:function(){var e=this;if(e.params.scrollbar.el){var t=e.scrollbar,a=e.$el,s=e.params.scrollbar,r=i(s.el);e.params.uniqueNavElements&&"string"==typeof s.el&&1<r.length&&1===a.find(s.el).length&&(r=a.find(s.el));var n=r.find("."+e.params.scrollbar.dragClass);0===n.length&&(n=i('<div class="'+e.params.scrollbar.dragClass+'"></div>'),r.append(n)),c.extend(t,{$el:r,el:r[0],$dragEl:n,dragEl:n[0]}),s.draggable&&t.enableDraggable()}},destroy:function(){this.scrollbar.disableDraggable()}},F={setTransform:function(e,t){var a=this.rtl,s=i(e),r=a?-1:1,n=s.attr("data-swiper-parallax")||"0",o=s.attr("data-swiper-parallax-x"),l=s.attr("data-swiper-parallax-y"),d=s.attr("data-swiper-parallax-scale"),p=s.attr("data-swiper-parallax-opacity");if(o||l?(o=o||"0",l=l||"0"):this.isHorizontal()?(o=n,l="0"):(l=n,o="0"),o=0<=o.indexOf("%")?parseInt(o,10)*t*r+"%":o*t*r+"px",l=0<=l.indexOf("%")?parseInt(l,10)*t+"%":l*t+"px",null!=p){var c=p-(p-1)*(1-Math.abs(t));s[0].style.opacity=c}if(null==d)s.transform("translate3d("+o+", "+l+", 0px)");else{var u=d-(d-1)*(1-Math.abs(t));s.transform("translate3d("+o+", "+l+", 0px) scale("+u+")")}},setTranslate:function(){var e=this,t=e.$el,a=e.slides,s=e.progress,r=e.snapGrid;t.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(function(t,a){e.parallax.setTransform(a,s)}),a.each(function(t,a){var n=a.progress;1<e.params.slidesPerGroup&&"auto"!==e.params.slidesPerView&&(n+=Math.ceil(t/2)-s*(r.length-1)),n=Math.min(Math.max(n,-1),1),i(a).find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(function(t,a){e.parallax.setTransform(a,n)})})},setTransition:function(e){void 0===e&&(e=this.params.speed),this.$el.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(function(t,a){var s=i(a),r=parseInt(s.attr("data-swiper-parallax-duration"),10)||e;0===e&&(r=0),s.transition(r)})}},R={getDistanceBetweenTouches:function(e){if(e.targetTouches.length<2)return 1;var t=e.targetTouches[0].pageX,a=e.targetTouches[0].pageY,i=e.targetTouches[1].pageX,s=e.targetTouches[1].pageY;return Math.sqrt(Math.pow(i-t,2)+Math.pow(s-a,2))},onGestureStart:function(e){var t=this,a=t.params.zoom,s=t.zoom,r=s.gesture;if(s.fakeGestureTouched=!1,s.fakeGestureMoved=!1,!u.gestures){if("touchstart"!==e.type||"touchstart"===e.type&&e.targetTouches.length<2)return;s.fakeGestureTouched=!0,r.scaleStart=R.getDistanceBetweenTouches(e)}r.$slideEl&&r.$slideEl.length||(r.$slideEl=i(e.target).closest(".swiper-slide"),0===r.$slideEl.length&&(r.$slideEl=t.slides.eq(t.activeIndex)),r.$imageEl=r.$slideEl.find("img, svg, canvas"),r.$imageWrapEl=r.$imageEl.parent("."+a.containerClass),r.maxRatio=r.$imageWrapEl.attr("data-swiper-zoom")||a.maxRatio,0!==r.$imageWrapEl.length)?(r.$imageEl.transition(0),t.zoom.isScaling=!0):r.$imageEl=void 0},onGestureChange:function(e){var t=this.params.zoom,a=this.zoom,i=a.gesture;if(!u.gestures){if("touchmove"!==e.type||"touchmove"===e.type&&e.targetTouches.length<2)return;a.fakeGestureMoved=!0,i.scaleMove=R.getDistanceBetweenTouches(e)}i.$imageEl&&0!==i.$imageEl.length&&(a.scale=u.gestures?e.scale*a.currentScale:i.scaleMove/i.scaleStart*a.currentScale,a.scale>i.maxRatio&&(a.scale=i.maxRatio-1+Math.pow(a.scale-i.maxRatio+1,.5)),a.scale<t.minRatio&&(a.scale=t.minRatio+1-Math.pow(t.minRatio-a.scale+1,.5)),i.$imageEl.transform("translate3d(0,0,0) scale("+a.scale+")"))},onGestureEnd:function(e){var t=this.params.zoom,a=this.zoom,i=a.gesture;if(!u.gestures){if(!a.fakeGestureTouched||!a.fakeGestureMoved)return;if("touchend"!==e.type||"touchend"===e.type&&e.changedTouches.length<2&&!x.android)return;a.fakeGestureTouched=!1,a.fakeGestureMoved=!1}i.$imageEl&&0!==i.$imageEl.length&&(a.scale=Math.max(Math.min(a.scale,i.maxRatio),t.minRatio),i.$imageEl.transition(this.params.speed).transform("translate3d(0,0,0) scale("+a.scale+")"),a.currentScale=a.scale,a.isScaling=!1,1===a.scale&&(i.$slideEl=void 0))},onTouchStart:function(e){var t=this.zoom,a=t.gesture,i=t.image;a.$imageEl&&0!==a.$imageEl.length&&(i.isTouched||(x.android&&e.preventDefault(),i.isTouched=!0,i.touchesStart.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,i.touchesStart.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY))},onTouchMove:function(e){var t=this,a=t.zoom,i=a.gesture,s=a.image,r=a.velocity;if(i.$imageEl&&0!==i.$imageEl.length&&(t.allowClick=!1,s.isTouched&&i.$slideEl)){s.isMoved||(s.width=i.$imageEl[0].offsetWidth,s.height=i.$imageEl[0].offsetHeight,s.startX=c.getTranslate(i.$imageWrapEl[0],"x")||0,s.startY=c.getTranslate(i.$imageWrapEl[0],"y")||0,i.slideWidth=i.$slideEl[0].offsetWidth,i.slideHeight=i.$slideEl[0].offsetHeight,i.$imageWrapEl.transition(0),t.rtl&&(s.startX=-s.startX,s.startY=-s.startY));var n=s.width*a.scale,o=s.height*a.scale;if(!(n<i.slideWidth&&o<i.slideHeight)){if(s.minX=Math.min(i.slideWidth/2-n/2,0),s.maxX=-s.minX,s.minY=Math.min(i.slideHeight/2-o/2,0),s.maxY=-s.minY,s.touchesCurrent.x="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,s.touchesCurrent.y="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,!s.isMoved&&!a.isScaling){if(t.isHorizontal()&&(Math.floor(s.minX)===Math.floor(s.startX)&&s.touchesCurrent.x<s.touchesStart.x||Math.floor(s.maxX)===Math.floor(s.startX)&&s.touchesCurrent.x>s.touchesStart.x))return void(s.isTouched=!1);if(!t.isHorizontal()&&(Math.floor(s.minY)===Math.floor(s.startY)&&s.touchesCurrent.y<s.touchesStart.y||Math.floor(s.maxY)===Math.floor(s.startY)&&s.touchesCurrent.y>s.touchesStart.y))return void(s.isTouched=!1)}e.preventDefault(),e.stopPropagation(),s.isMoved=!0,s.currentX=s.touchesCurrent.x-s.touchesStart.x+s.startX,s.currentY=s.touchesCurrent.y-s.touchesStart.y+s.startY,s.currentX<s.minX&&(s.currentX=s.minX+1-Math.pow(s.minX-s.currentX+1,.8)),s.currentX>s.maxX&&(s.currentX=s.maxX-1+Math.pow(s.currentX-s.maxX+1,.8)),s.currentY<s.minY&&(s.currentY=s.minY+1-Math.pow(s.minY-s.currentY+1,.8)),s.currentY>s.maxY&&(s.currentY=s.maxY-1+Math.pow(s.currentY-s.maxY+1,.8)),r.prevPositionX||(r.prevPositionX=s.touchesCurrent.x),r.prevPositionY||(r.prevPositionY=s.touchesCurrent.y),r.prevTime||(r.prevTime=Date.now()),r.x=(s.touchesCurrent.x-r.prevPositionX)/(Date.now()-r.prevTime)/2,r.y=(s.touchesCurrent.y-r.prevPositionY)/(Date.now()-r.prevTime)/2,Math.abs(s.touchesCurrent.x-r.prevPositionX)<2&&(r.x=0),Math.abs(s.touchesCurrent.y-r.prevPositionY)<2&&(r.y=0),r.prevPositionX=s.touchesCurrent.x,r.prevPositionY=s.touchesCurrent.y,r.prevTime=Date.now(),i.$imageWrapEl.transform("translate3d("+s.currentX+"px, "+s.currentY+"px,0)")}}},onTouchEnd:function(){var e=this.zoom,t=e.gesture,a=e.image,i=e.velocity;if(t.$imageEl&&0!==t.$imageEl.length){if(!a.isTouched||!a.isMoved)return a.isTouched=!1,void(a.isMoved=!1);a.isTouched=!1,a.isMoved=!1;var s=300,r=300,n=i.x*s,o=a.currentX+n,l=i.y*r,d=a.currentY+l;0!==i.x&&(s=Math.abs((o-a.currentX)/i.x)),0!==i.y&&(r=Math.abs((d-a.currentY)/i.y));var p=Math.max(s,r);a.currentX=o,a.currentY=d;var c=a.width*e.scale,u=a.height*e.scale;a.minX=Math.min(t.slideWidth/2-c/2,0),a.maxX=-a.minX,a.minY=Math.min(t.slideHeight/2-u/2,0),a.maxY=-a.minY,a.currentX=Math.max(Math.min(a.currentX,a.maxX),a.minX),a.currentY=Math.max(Math.min(a.currentY,a.maxY),a.minY),t.$imageWrapEl.transition(p).transform("translate3d("+a.currentX+"px, "+a.currentY+"px,0)")}},onTransitionEnd:function(){var e=this.zoom,t=e.gesture;t.$slideEl&&this.previousIndex!==this.activeIndex&&(t.$imageEl.transform("translate3d(0,0,0) scale(1)"),t.$imageWrapEl.transform("translate3d(0,0,0)"),e.scale=1,e.currentScale=1,t.$slideEl=void 0,t.$imageEl=void 0,t.$imageWrapEl=void 0)},toggle:function(e){var t=this.zoom;t.scale&&1!==t.scale?t.out():t.in(e)},in:function(e){var t,a,s,r,n,o,l,d,p,c,u,h,v,f,m,g,b=this,w=b.zoom,y=b.params.zoom,x=w.gesture,T=w.image;x.$slideEl||(x.$slideEl=b.clickedSlide?i(b.clickedSlide):b.slides.eq(b.activeIndex),x.$imageEl=x.$slideEl.find("img, svg, canvas"),x.$imageWrapEl=x.$imageEl.parent("."+y.containerClass)),x.$imageEl&&0!==x.$imageEl.length&&(x.$slideEl.addClass(""+y.zoomedSlideClass),a=void 0===T.touchesStart.x&&e?(t="touchend"===e.type?e.changedTouches[0].pageX:e.pageX,"touchend"===e.type?e.changedTouches[0].pageY:e.pageY):(t=T.touchesStart.x,T.touchesStart.y),w.scale=x.$imageWrapEl.attr("data-swiper-zoom")||y.maxRatio,w.currentScale=x.$imageWrapEl.attr("data-swiper-zoom")||y.maxRatio,e?(m=x.$slideEl[0].offsetWidth,g=x.$slideEl[0].offsetHeight,s=x.$slideEl.offset().left+m/2-t,r=x.$slideEl.offset().top+g/2-a,l=x.$imageEl[0].offsetWidth,d=x.$imageEl[0].offsetHeight,p=l*w.scale,c=d*w.scale,v=-(u=Math.min(m/2-p/2,0)),f=-(h=Math.min(g/2-c/2,0)),(n=s*w.scale)<u&&(n=u),v<n&&(n=v),(o=r*w.scale)<h&&(o=h),f<o&&(o=f)):o=n=0,x.$imageWrapEl.transition(300).transform("translate3d("+n+"px, "+o+"px,0)"),x.$imageEl.transition(300).transform("translate3d(0,0,0) scale("+w.scale+")"))},out:function(){var e=this,t=e.zoom,a=e.params.zoom,s=t.gesture;s.$slideEl||(s.$slideEl=e.clickedSlide?i(e.clickedSlide):e.slides.eq(e.activeIndex),s.$imageEl=s.$slideEl.find("img, svg, canvas"),s.$imageWrapEl=s.$imageEl.parent("."+a.containerClass)),s.$imageEl&&0!==s.$imageEl.length&&(t.scale=1,t.currentScale=1,s.$imageWrapEl.transition(300).transform("translate3d(0,0,0)"),s.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)"),s.$slideEl.removeClass(""+a.zoomedSlideClass),s.$slideEl=void 0)},enable:function(){var e=this,t=e.zoom;if(!t.enabled){t.enabled=!0;var a=!("touchstart"!==e.touchEvents.start||!u.passiveListener||!e.params.passiveListeners)&&{passive:!0,capture:!1};u.gestures?(e.$wrapperEl.on("gesturestart",".swiper-slide",t.onGestureStart,a),e.$wrapperEl.on("gesturechange",".swiper-slide",t.onGestureChange,a),e.$wrapperEl.on("gestureend",".swiper-slide",t.onGestureEnd,a)):"touchstart"===e.touchEvents.start&&(e.$wrapperEl.on(e.touchEvents.start,".swiper-slide",t.onGestureStart,a),e.$wrapperEl.on(e.touchEvents.move,".swiper-slide",t.onGestureChange,a),e.$wrapperEl.on(e.touchEvents.end,".swiper-slide",t.onGestureEnd,a)),e.$wrapperEl.on(e.touchEvents.move,"."+e.params.zoom.containerClass,t.onTouchMove)}},disable:function(){var e=this,t=e.zoom;if(t.enabled){e.zoom.enabled=!1;var a=!("touchstart"!==e.touchEvents.start||!u.passiveListener||!e.params.passiveListeners)&&{passive:!0,capture:!1};u.gestures?(e.$wrapperEl.off("gesturestart",".swiper-slide",t.onGestureStart,a),e.$wrapperEl.off("gesturechange",".swiper-slide",t.onGestureChange,a),e.$wrapperEl.off("gestureend",".swiper-slide",t.onGestureEnd,a)):"touchstart"===e.touchEvents.start&&(e.$wrapperEl.off(e.touchEvents.start,".swiper-slide",t.onGestureStart,a),e.$wrapperEl.off(e.touchEvents.move,".swiper-slide",t.onGestureChange,a),e.$wrapperEl.off(e.touchEvents.end,".swiper-slide",t.onGestureEnd,a)),e.$wrapperEl.off(e.touchEvents.move,"."+e.params.zoom.containerClass,t.onTouchMove)}}},q={loadInSlide:function(e,t){void 0===t&&(t=!0);var a=this,s=a.params.lazy;if(void 0!==e&&0!==a.slides.length){var r=a.virtual&&a.params.virtual.enabled?a.$wrapperEl.children("."+a.params.slideClass+'[data-swiper-slide-index="'+e+'"]'):a.slides.eq(e),n=r.find("."+s.elementClass+":not(."+s.loadedClass+"):not(."+s.loadingClass+")");!r.hasClass(s.elementClass)||r.hasClass(s.loadedClass)||r.hasClass(s.loadingClass)||(n=n.add(r[0])),0!==n.length&&n.each(function(e,n){var o=i(n);o.addClass(s.loadingClass);var l=o.attr("data-background"),d=o.attr("data-src"),p=o.attr("data-srcset"),c=o.attr("data-sizes");a.loadImage(o[0],d||l,p,c,!1,function(){if(null!=a&&a&&(!a||a.params)&&!a.destroyed){if(l?(o.css("background-image",'url("'+l+'")'),o.removeAttr("data-background")):(p&&(o.attr("srcset",p),o.removeAttr("data-srcset")),c&&(o.attr("sizes",c),o.removeAttr("data-sizes")),d&&(o.attr("src",d),o.removeAttr("data-src"))),o.addClass(s.loadedClass).removeClass(s.loadingClass),r.find("."+s.preloaderClass).remove(),a.params.loop&&t){var e=r.attr("data-swiper-slide-index");if(r.hasClass(a.params.slideDuplicateClass)){var i=a.$wrapperEl.children('[data-swiper-slide-index="'+e+'"]:not(.'+a.params.slideDuplicateClass+")");a.lazy.loadInSlide(i.index(),!1)}else{var n=a.$wrapperEl.children("."+a.params.slideDuplicateClass+'[data-swiper-slide-index="'+e+'"]');a.lazy.loadInSlide(n.index(),!1)}}a.emit("lazyImageReady",r[0],o[0])}}),a.emit("lazyImageLoad",r[0],o[0])})}},load:function(){var e=this,t=e.$wrapperEl,a=e.params,s=e.slides,r=e.activeIndex,n=e.virtual&&a.virtual.enabled,o=a.lazy,l=a.slidesPerView;function d(e){if(n){if(t.children("."+a.slideClass+'[data-swiper-slide-index="'+e+'"]').length)return!0}else if(s[e])return!0;return!1}function p(e){return n?i(e).attr("data-swiper-slide-index"):i(e).index()}if("auto"===l&&(l=0),e.lazy.initialImageLoaded||(e.lazy.initialImageLoaded=!0),e.params.watchSlidesVisibility)t.children("."+a.slideVisibleClass).each(function(t,a){var s=n?i(a).attr("data-swiper-slide-index"):i(a).index();e.lazy.loadInSlide(s)});else if(1<l)for(var c=r;c<r+l;c+=1)d(c)&&e.lazy.loadInSlide(c);else e.lazy.loadInSlide(r);if(o.loadPrevNext)if(1<l||o.loadPrevNextAmount&&1<o.loadPrevNextAmount){for(var u=o.loadPrevNextAmount,h=l,v=Math.min(r+h+Math.max(u,h),s.length),f=Math.max(r-Math.max(h,u),0),m=r+l;m<v;m+=1)d(m)&&e.lazy.loadInSlide(m);for(var g=f;g<r;g+=1)d(g)&&e.lazy.loadInSlide(g)}else{var b=t.children("."+a.slideNextClass);0<b.length&&e.lazy.loadInSlide(p(b));var w=t.children("."+a.slidePrevClass);0<w.length&&e.lazy.loadInSlide(p(w))}}},W={LinearSpline:function(e,t){var a,i,s,r,n;return this.x=e,this.y=t,this.lastIndex=e.length-1,this.interpolate=function(e){return e?(n=function(e,t){for(i=-1,a=e.length;1<a-i;)e[s=a+i>>1]<=t?i=s:a=s;return a}(this.x,e),r=n-1,(e-this.x[r])*(this.y[n]-this.y[r])/(this.x[n]-this.x[r])+this.y[r]):0},this},getInterpolateFunction:function(e){var t=this;t.controller.spline||(t.controller.spline=t.params.loop?new W.LinearSpline(t.slidesGrid,e.slidesGrid):new W.LinearSpline(t.snapGrid,e.snapGrid))},setTranslate:function(e,t){var a,i,s=this,r=s.controller.control;function n(e){var t=s.rtlTranslate?-s.translate:s.translate;"slide"===s.params.controller.by&&(s.controller.getInterpolateFunction(e),i=-s.controller.spline.interpolate(-t)),i&&"container"!==s.params.controller.by||(a=(e.maxTranslate()-e.minTranslate())/(s.maxTranslate()-s.minTranslate()),i=(t-s.minTranslate())*a+e.minTranslate()),s.params.controller.inverse&&(i=e.maxTranslate()-i),e.updateProgress(i),e.setTranslate(i,s),e.updateActiveIndex(),e.updateSlidesClasses()}if(Array.isArray(r))for(var o=0;o<r.length;o+=1)r[o]!==t&&r[o]instanceof k&&n(r[o]);else r instanceof k&&t!==r&&n(r)},setTransition:function(e,t){var a,i=this,s=i.controller.control;function r(t){t.setTransition(e,i),0!==e&&(t.transitionStart(),t.params.autoHeight&&c.nextTick(function(){t.updateAutoHeight()}),t.$wrapperEl.transitionEnd(function(){s&&(t.params.loop&&"slide"===i.params.controller.by&&t.loopFix(),t.transitionEnd())}))}if(Array.isArray(s))for(a=0;a<s.length;a+=1)s[a]!==t&&s[a]instanceof k&&r(s[a]);else s instanceof k&&t!==s&&r(s)}},j={makeElFocusable:function(e){return e.attr("tabIndex","0"),e},addElRole:function(e,t){return e.attr("role",t),e},addElLabel:function(e,t){return e.attr("aria-label",t),e},disableEl:function(e){return e.attr("aria-disabled",!0),e},enableEl:function(e){return e.attr("aria-disabled",!1),e},onEnterKey:function(e){var t=this,a=t.params.a11y;if(13===e.keyCode){var s=i(e.target);t.navigation&&t.navigation.$nextEl&&s.is(t.navigation.$nextEl)&&(t.isEnd&&!t.params.loop||t.slideNext(),t.isEnd?t.a11y.notify(a.lastSlideMessage):t.a11y.notify(a.nextSlideMessage)),t.navigation&&t.navigation.$prevEl&&s.is(t.navigation.$prevEl)&&(t.isBeginning&&!t.params.loop||t.slidePrev(),t.isBeginning?t.a11y.notify(a.firstSlideMessage):t.a11y.notify(a.prevSlideMessage)),t.pagination&&s.is("."+t.params.pagination.bulletClass)&&s[0].click()}},notify:function(e){var t=this.a11y.liveRegion;0!==t.length&&(t.html(""),t.html(e))},updateNavigation:function(){var e=this;if(!e.params.loop){var t=e.navigation,a=t.$nextEl,i=t.$prevEl;i&&0<i.length&&(e.isBeginning?e.a11y.disableEl(i):e.a11y.enableEl(i)),a&&0<a.length&&(e.isEnd?e.a11y.disableEl(a):e.a11y.enableEl(a))}},updatePagination:function(){var e=this,t=e.params.a11y;e.pagination&&e.params.pagination.clickable&&e.pagination.bullets&&e.pagination.bullets.length&&e.pagination.bullets.each(function(a,s){var r=i(s);e.a11y.makeElFocusable(r),e.a11y.addElRole(r,"button"),e.a11y.addElLabel(r,t.paginationBulletMessage.replace(/{{index}}/,r.index()+1))})},init:function(){var e=this;e.$el.append(e.a11y.liveRegion);var t,a,i=e.params.a11y;e.navigation&&e.navigation.$nextEl&&(t=e.navigation.$nextEl),e.navigation&&e.navigation.$prevEl&&(a=e.navigation.$prevEl),t&&(e.a11y.makeElFocusable(t),e.a11y.addElRole(t,"button"),e.a11y.addElLabel(t,i.nextSlideMessage),t.on("keydown",e.a11y.onEnterKey)),a&&(e.a11y.makeElFocusable(a),e.a11y.addElRole(a,"button"),e.a11y.addElLabel(a,i.prevSlideMessage),a.on("keydown",e.a11y.onEnterKey)),e.pagination&&e.params.pagination.clickable&&e.pagination.bullets&&e.pagination.bullets.length&&e.pagination.$el.on("keydown","."+e.params.pagination.bulletClass,e.a11y.onEnterKey)},destroy:function(){var e,t,a=this;a.a11y.liveRegion&&0<a.a11y.liveRegion.length&&a.a11y.liveRegion.remove(),a.navigation&&a.navigation.$nextEl&&(e=a.navigation.$nextEl),a.navigation&&a.navigation.$prevEl&&(t=a.navigation.$prevEl),e&&e.off("keydown",a.a11y.onEnterKey),t&&t.off("keydown",a.a11y.onEnterKey),a.pagination&&a.params.pagination.clickable&&a.pagination.bullets&&a.pagination.bullets.length&&a.pagination.$el.off("keydown","."+a.params.pagination.bulletClass,a.a11y.onEnterKey)}},U={init:function(){var e=this;if(e.params.history){if(!t.history||!t.history.pushState)return e.params.history.enabled=!1,void(e.params.hashNavigation.enabled=!0);var a=e.history;a.initialized=!0,a.paths=U.getPathValues(),(a.paths.key||a.paths.value)&&(a.scrollToSlide(0,a.paths.value,e.params.runCallbacksOnInit),e.params.history.replaceState||t.addEventListener("popstate",e.history.setHistoryPopState))}},destroy:function(){this.params.history.replaceState||t.removeEventListener("popstate",this.history.setHistoryPopState)},setHistoryPopState:function(){this.history.paths=U.getPathValues(),this.history.scrollToSlide(this.params.speed,this.history.paths.value,!1)},getPathValues:function(){var e=t.location.pathname.slice(1).split("/").filter(function(e){return""!==e}),a=e.length;return{key:e[a-2],value:e[a-1]}},setHistory:function(e,a){if(this.history.initialized&&this.params.history.enabled){var i=this.slides.eq(a),s=U.slugify(i.attr("data-history"));t.location.pathname.includes(e)||(s=e+"/"+s);var r=t.history.state;r&&r.value===s||(this.params.history.replaceState?t.history.replaceState({value:s},null,s):t.history.pushState({value:s},null,s))}},slugify:function(e){return e.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},scrollToSlide:function(e,t,a){var i=this;if(t)for(var s=0,r=i.slides.length;s<r;s+=1){var n=i.slides.eq(s);if(U.slugify(n.attr("data-history"))===t&&!n.hasClass(i.params.slideDuplicateClass)){var o=n.index();i.slideTo(o,e,a)}}else i.slideTo(0,e,a)}},K={onHashCange:function(){var t=this,a=e.location.hash.replace("#","");if(a!==t.slides.eq(t.activeIndex).attr("data-hash")){var i=t.$wrapperEl.children("."+t.params.slideClass+'[data-hash="'+a+'"]').index();if(void 0===i)return;t.slideTo(i)}},setHash:function(){var a=this;if(a.hashNavigation.initialized&&a.params.hashNavigation.enabled)if(a.params.hashNavigation.replaceState&&t.history&&t.history.replaceState)t.history.replaceState(null,null,"#"+a.slides.eq(a.activeIndex).attr("data-hash")||"");else{var i=a.slides.eq(a.activeIndex),s=i.attr("data-hash")||i.attr("data-history");e.location.hash=s||""}},init:function(){var a=this;if(!(!a.params.hashNavigation.enabled||a.params.history&&a.params.history.enabled)){a.hashNavigation.initialized=!0;var s=e.location.hash.replace("#","");if(s)for(var r=0,n=a.slides.length;r<n;r+=1){var o=a.slides.eq(r);if((o.attr("data-hash")||o.attr("data-history"))===s&&!o.hasClass(a.params.slideDuplicateClass)){var l=o.index();a.slideTo(l,0,a.params.runCallbacksOnInit,!0)}}a.params.hashNavigation.watchState&&i(t).on("hashchange",a.hashNavigation.onHashCange)}},destroy:function(){this.params.hashNavigation.watchState&&i(t).off("hashchange",this.hashNavigation.onHashCange)}},_={run:function(){var e=this,t=e.slides.eq(e.activeIndex),a=e.params.autoplay.delay;t.attr("data-swiper-autoplay")&&(a=t.attr("data-swiper-autoplay")||e.params.autoplay.delay),clearTimeout(e.autoplay.timeout),e.autoplay.timeout=c.nextTick(function(){e.params.autoplay.reverseDirection?e.params.loop?(e.loopFix(),e.slidePrev(e.params.speed,!0,!0),e.emit("autoplay")):e.isBeginning?e.params.autoplay.stopOnLastSlide?e.autoplay.stop():(e.slideTo(e.slides.length-1,e.params.speed,!0,!0),e.emit("autoplay")):(e.slidePrev(e.params.speed,!0,!0),e.emit("autoplay")):e.params.loop?(e.loopFix(),e.slideNext(e.params.speed,!0,!0),e.emit("autoplay")):e.isEnd?e.params.autoplay.stopOnLastSlide?e.autoplay.stop():(e.slideTo(0,e.params.speed,!0,!0),e.emit("autoplay")):(e.slideNext(e.params.speed,!0,!0),e.emit("autoplay"))},a)},start:function(){var e=this;return void 0===e.autoplay.timeout&&!e.autoplay.running&&(e.autoplay.running=!0,e.emit("autoplayStart"),e.autoplay.run(),!0)},stop:function(){var e=this;return!!e.autoplay.running&&void 0!==e.autoplay.timeout&&(e.autoplay.timeout&&(clearTimeout(e.autoplay.timeout),e.autoplay.timeout=void 0),e.autoplay.running=!1,e.emit("autoplayStop"),!0)},pause:function(e){var t=this;t.autoplay.running&&(t.autoplay.paused||(t.autoplay.timeout&&clearTimeout(t.autoplay.timeout),t.autoplay.paused=!0,0!==e&&t.params.autoplay.waitForTransition?(t.$wrapperEl[0].addEventListener("transitionend",t.autoplay.onTransitionEnd),t.$wrapperEl[0].addEventListener("webkitTransitionEnd",t.autoplay.onTransitionEnd)):(t.autoplay.paused=!1,t.autoplay.run())))}},Z={setTranslate:function(){for(var e=this,t=e.slides,a=0;a<t.length;a+=1){var i=e.slides.eq(a),s=-i[0].swiperSlideOffset;e.params.virtualTranslate||(s-=e.translate);var r=0;e.isHorizontal()||(r=s,s=0);var n=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(i[0].progress),0):1+Math.min(Math.max(i[0].progress,-1),0);i.css({opacity:n}).transform("translate3d("+s+"px, "+r+"px, 0px)")}},setTransition:function(e){var t=this,a=t.slides,i=t.$wrapperEl;if(a.transition(e),t.params.virtualTranslate&&0!==e){var s=!1;a.transitionEnd(function(){if(!s&&t&&!t.destroyed){s=!0,t.animating=!1;for(var e=["webkitTransitionEnd","transitionend"],a=0;a<e.length;a+=1)i.trigger(e[a])}})}}},Q={setTranslate:function(){var e,t=this,a=t.$el,s=t.$wrapperEl,r=t.slides,n=t.width,o=t.height,l=t.rtlTranslate,d=t.size,p=t.params.cubeEffect,c=t.isHorizontal(),u=t.virtual&&t.params.virtual.enabled,v=0;p.shadow&&(c?(0===(e=s.find(".swiper-cube-shadow")).length&&(e=i('<div class="swiper-cube-shadow"></div>'),s.append(e)),e.css({height:n+"px"})):0===(e=a.find(".swiper-cube-shadow")).length&&(e=i('<div class="swiper-cube-shadow"></div>'),a.append(e)));for(var f=0;f<r.length;f+=1){var m=r.eq(f),g=f;u&&(g=parseInt(m.attr("data-swiper-slide-index"),10));var b=90*g,w=Math.floor(b/360);l&&(b=-b,w=Math.floor(-b/360));var y=Math.max(Math.min(m[0].progress,1),-1),x=0,T=0,E=0;g%4==0?(x=4*-w*d,E=0):(g-1)%4==0?(x=0,E=4*-w*d):(g-2)%4==0?(x=d+4*w*d,E=d):(g-3)%4==0&&(x=-d,E=3*d+4*d*w),l&&(x=-x),c||(T=x,x=0);var S="rotateX("+(c?0:-b)+"deg) rotateY("+(c?b:0)+"deg) translate3d("+x+"px, "+T+"px, "+E+"px)";if(y<=1&&-1<y&&(v=90*g+90*y,l&&(v=90*-g-90*y)),m.transform(S),p.slideShadows){var C=c?m.find(".swiper-slide-shadow-left"):m.find(".swiper-slide-shadow-top"),M=c?m.find(".swiper-slide-shadow-right"):m.find(".swiper-slide-shadow-bottom");0===C.length&&(C=i('<div class="swiper-slide-shadow-'+(c?"left":"top")+'"></div>'),m.append(C)),0===M.length&&(M=i('<div class="swiper-slide-shadow-'+(c?"right":"bottom")+'"></div>'),m.append(M)),C.length&&(C[0].style.opacity=Math.max(-y,0)),M.length&&(M[0].style.opacity=Math.max(y,0))}}if(s.css({"-webkit-transform-origin":"50% 50% -"+d/2+"px","-moz-transform-origin":"50% 50% -"+d/2+"px","-ms-transform-origin":"50% 50% -"+d/2+"px","transform-origin":"50% 50% -"+d/2+"px"}),p.shadow)if(c)e.transform("translate3d(0px, "+(n/2+p.shadowOffset)+"px, "+-n/2+"px) rotateX(90deg) rotateZ(0deg) scale("+p.shadowScale+")");else{var P=Math.abs(v)-90*Math.floor(Math.abs(v)/90),k=1.5-(Math.sin(2*P*Math.PI/360)/2+Math.cos(2*P*Math.PI/360)/2),z=p.shadowScale,$=p.shadowScale/k,L=p.shadowOffset;e.transform("scale3d("+z+", 1, "+$+") translate3d(0px, "+(o/2+L)+"px, "+-o/2/$+"px) rotateX(-90deg)")}var I=h.isSafari||h.isUiWebView?-d/2:0;s.transform("translate3d(0px,0,"+I+"px) rotateX("+(t.isHorizontal()?0:v)+"deg) rotateY("+(t.isHorizontal()?-v:0)+"deg)")},setTransition:function(e){var t=this.$el;this.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),this.params.cubeEffect.shadow&&!this.isHorizontal()&&t.find(".swiper-cube-shadow").transition(e)}},J={setTranslate:function(){for(var e=this,t=e.slides,a=e.rtlTranslate,s=0;s<t.length;s+=1){var r=t.eq(s),n=r[0].progress;e.params.flipEffect.limitRotation&&(n=Math.max(Math.min(r[0].progress,1),-1));var o=-180*n,l=0,d=-r[0].swiperSlideOffset,p=0;if(e.isHorizontal()?a&&(o=-o):(p=d,l=-o,o=d=0),r[0].style.zIndex=-Math.abs(Math.round(n))+t.length,e.params.flipEffect.slideShadows){var c=e.isHorizontal()?r.find(".swiper-slide-shadow-left"):r.find(".swiper-slide-shadow-top"),u=e.isHorizontal()?r.find(".swiper-slide-shadow-right"):r.find(".swiper-slide-shadow-bottom");0===c.length&&(c=i('<div class="swiper-slide-shadow-'+(e.isHorizontal()?"left":"top")+'"></div>'),r.append(c)),0===u.length&&(u=i('<div class="swiper-slide-shadow-'+(e.isHorizontal()?"right":"bottom")+'"></div>'),r.append(u)),c.length&&(c[0].style.opacity=Math.max(-n,0)),u.length&&(u[0].style.opacity=Math.max(n,0))}r.transform("translate3d("+d+"px, "+p+"px, 0px) rotateX("+l+"deg) rotateY("+o+"deg)")}},setTransition:function(e){var t=this,a=t.slides,i=t.activeIndex,s=t.$wrapperEl;if(a.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),t.params.virtualTranslate&&0!==e){var r=!1;a.eq(i).transitionEnd(function(){if(!r&&t&&!t.destroyed){r=!0,t.animating=!1;for(var e=["webkitTransitionEnd","transitionend"],a=0;a<e.length;a+=1)s.trigger(e[a])}})}}},ee={setTranslate:function(){for(var e=this,t=e.width,a=e.height,s=e.slides,r=e.$wrapperEl,n=e.slidesSizesGrid,o=e.params.coverflowEffect,l=e.isHorizontal(),d=e.translate,p=l?t/2-d:a/2-d,c=l?o.rotate:-o.rotate,h=o.depth,v=0,f=s.length;v<f;v+=1){var m=s.eq(v),g=n[v],b=(p-m[0].swiperSlideOffset-g/2)/g*o.modifier,w=l?c*b:0,y=l?0:c*b,x=-h*Math.abs(b),T=l?0:o.stretch*b,E=l?o.stretch*b:0;Math.abs(E)<.001&&(E=0),Math.abs(T)<.001&&(T=0),Math.abs(x)<.001&&(x=0),Math.abs(w)<.001&&(w=0),Math.abs(y)<.001&&(y=0);var S="translate3d("+E+"px,"+T+"px,"+x+"px)  rotateX("+y+"deg) rotateY("+w+"deg)";if(m.transform(S),m[0].style.zIndex=1-Math.abs(Math.round(b)),o.slideShadows){var C=l?m.find(".swiper-slide-shadow-left"):m.find(".swiper-slide-shadow-top"),M=l?m.find(".swiper-slide-shadow-right"):m.find(".swiper-slide-shadow-bottom");0===C.length&&(C=i('<div class="swiper-slide-shadow-'+(l?"left":"top")+'"></div>'),m.append(C)),0===M.length&&(M=i('<div class="swiper-slide-shadow-'+(l?"right":"bottom")+'"></div>'),m.append(M)),C.length&&(C[0].style.opacity=0<b?b:0),M.length&&(M[0].style.opacity=0<-b?-b:0)}}(u.pointerEvents||u.prefixedPointerEvents)&&(r[0].style.perspectiveOrigin=p+"px 50%")},setTransition:function(e){this.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}},te={init:function(){var e=this,t=e.params.thumbs,a=e.constructor;t.swiper instanceof a?(e.thumbs.swiper=t.swiper,c.extend(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),c.extend(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1})):c.isObject(t.swiper)&&(e.thumbs.swiper=new a(c.extend({},t.swiper,{watchSlidesVisibility:!0,watchSlidesProgress:!0,slideToClickedSlide:!1})),e.thumbs.swiperCreated=!0),e.thumbs.swiper.$el.addClass(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",e.thumbs.onThumbClick)},onThumbClick:function(){var e=this,t=e.thumbs.swiper;if(t){var a=t.clickedIndex,s=t.clickedSlide;if(!(s&&i(s).hasClass(e.params.thumbs.slideThumbActiveClass)||null==a)){var r;if(r=t.params.loop?parseInt(i(t.clickedSlide).attr("data-swiper-slide-index"),10):a,e.params.loop){var n=e.activeIndex;e.slides.eq(n).hasClass(e.params.slideDuplicateClass)&&(e.loopFix(),e._clientLeft=e.$wrapperEl[0].clientLeft,n=e.activeIndex);var o=e.slides.eq(n).prevAll('[data-swiper-slide-index="'+r+'"]').eq(0).index(),l=e.slides.eq(n).nextAll('[data-swiper-slide-index="'+r+'"]').eq(0).index();r=void 0===o?l:void 0===l?o:l-n<n-o?l:o}e.slideTo(r)}}},update:function(e){var t=this,a=t.thumbs.swiper;if(a){var i="auto"===a.params.slidesPerView?a.slidesPerViewDynamic():a.params.slidesPerView;if(t.realIndex!==a.realIndex){var s,r=a.activeIndex;if(a.params.loop){a.slides.eq(r).hasClass(a.params.slideDuplicateClass)&&(a.loopFix(),a._clientLeft=a.$wrapperEl[0].clientLeft,r=a.activeIndex);var n=a.slides.eq(r).prevAll('[data-swiper-slide-index="'+t.realIndex+'"]').eq(0).index(),o=a.slides.eq(r).nextAll('[data-swiper-slide-index="'+t.realIndex+'"]').eq(0).index();s=void 0===n?o:void 0===o?n:o-r==r-n?r:o-r<r-n?o:n}else s=t.realIndex;a.visibleSlidesIndexes&&a.visibleSlidesIndexes.indexOf(s)<0&&(a.params.centeredSlides?s=r<s?s-Math.floor(i/2)+1:s+Math.floor(i/2)-1:r<s&&(s=s-i+1),a.slideTo(s,e?0:void 0))}var l=1,d=t.params.thumbs.slideThumbActiveClass;if(1<t.params.slidesPerView&&!t.params.centeredSlides&&(l=t.params.slidesPerView),a.slides.removeClass(d),a.params.loop||a.params.virtual)for(var p=0;p<l;p+=1)a.$wrapperEl.children('[data-swiper-slide-index="'+(t.realIndex+p)+'"]').addClass(d);else for(var c=0;c<l;c+=1)a.slides.eq(t.realIndex+c).addClass(d)}}},ae=[z,$,L,I,O,H,N,{name:"mousewheel",params:{mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarged:"container"}},create:function(){var e=this;c.extend(e,{mousewheel:{enabled:!1,enable:B.enable.bind(e),disable:B.disable.bind(e),handle:B.handle.bind(e),handleMouseEnter:B.handleMouseEnter.bind(e),handleMouseLeave:B.handleMouseLeave.bind(e),lastScrollTime:c.now()}})},on:{init:function(){this.params.mousewheel.enabled&&this.mousewheel.enable()},destroy:function(){this.mousewheel.enabled&&this.mousewheel.disable()}}},{name:"navigation",params:{navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock"}},create:function(){var e=this;c.extend(e,{navigation:{init:X.init.bind(e),update:X.update.bind(e),destroy:X.destroy.bind(e),onNextClick:X.onNextClick.bind(e),onPrevClick:X.onPrevClick.bind(e)}})},on:{init:function(){this.navigation.init(),this.navigation.update()},toEdge:function(){this.navigation.update()},fromEdge:function(){this.navigation.update()},destroy:function(){this.navigation.destroy()},click:function(e){var t,a=this,s=a.navigation,r=s.$nextEl,n=s.$prevEl;!a.params.navigation.hideOnClick||i(e.target).is(n)||i(e.target).is(r)||(r?t=r.hasClass(a.params.navigation.hiddenClass):n&&(t=n.hasClass(a.params.navigation.hiddenClass)),!0===t?a.emit("navigationShow",a):a.emit("navigationHide",a),r&&r.toggleClass(a.params.navigation.hiddenClass),n&&n.toggleClass(a.params.navigation.hiddenClass))}}},{name:"pagination",params:{pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:function(e){return e},formatFractionTotal:function(e){return e},bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",modifierClass:"swiper-pagination-",currentClass:"swiper-pagination-current",totalClass:"swiper-pagination-total",hiddenClass:"swiper-pagination-hidden",progressbarFillClass:"swiper-pagination-progressbar-fill",progressbarOppositeClass:"swiper-pagination-progressbar-opposite",clickableClass:"swiper-pagination-clickable",lockClass:"swiper-pagination-lock"}},create:function(){var e=this;c.extend(e,{pagination:{init:V.init.bind(e),render:V.render.bind(e),update:V.update.bind(e),destroy:V.destroy.bind(e),dynamicBulletIndex:0}})},on:{init:function(){this.pagination.init(),this.pagination.render(),this.pagination.update()},activeIndexChange:function(){this.params.loop?this.pagination.update():void 0===this.snapIndex&&this.pagination.update()},snapIndexChange:function(){this.params.loop||this.pagination.update()},slidesLengthChange:function(){this.params.loop&&(this.pagination.render(),this.pagination.update())},snapGridLengthChange:function(){this.params.loop||(this.pagination.render(),this.pagination.update())},destroy:function(){this.pagination.destroy()},click:function(e){var t=this;t.params.pagination.el&&t.params.pagination.hideOnClick&&0<t.pagination.$el.length&&!i(e.target).hasClass(t.params.pagination.bulletClass)&&(!0===t.pagination.$el.hasClass(t.params.pagination.hiddenClass)?t.emit("paginationShow",t):t.emit("paginationHide",t),t.pagination.$el.toggleClass(t.params.pagination.hiddenClass))}}},{name:"scrollbar",params:{scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag"}},create:function(){var e=this;c.extend(e,{scrollbar:{init:Y.init.bind(e),destroy:Y.destroy.bind(e),updateSize:Y.updateSize.bind(e),setTranslate:Y.setTranslate.bind(e),setTransition:Y.setTransition.bind(e),enableDraggable:Y.enableDraggable.bind(e),disableDraggable:Y.disableDraggable.bind(e),setDragPosition:Y.setDragPosition.bind(e),getPointerPosition:Y.getPointerPosition.bind(e),onDragStart:Y.onDragStart.bind(e),onDragMove:Y.onDragMove.bind(e),onDragEnd:Y.onDragEnd.bind(e),isTouched:!1,timeout:null,dragTimeout:null}})},on:{init:function(){this.scrollbar.init(),this.scrollbar.updateSize(),this.scrollbar.setTranslate()},update:function(){this.scrollbar.updateSize()},resize:function(){this.scrollbar.updateSize()},observerUpdate:function(){this.scrollbar.updateSize()},setTranslate:function(){this.scrollbar.setTranslate()},setTransition:function(e){this.scrollbar.setTransition(e)},destroy:function(){this.scrollbar.destroy()}}},{name:"parallax",params:{parallax:{enabled:!1}},create:function(){c.extend(this,{parallax:{setTransform:F.setTransform.bind(this),setTranslate:F.setTranslate.bind(this),setTransition:F.setTransition.bind(this)}})},on:{beforeInit:function(){this.params.parallax.enabled&&(this.params.watchSlidesProgress=!0,this.originalParams.watchSlidesProgress=!0)},init:function(){this.params.parallax.enabled&&this.parallax.setTranslate()},setTranslate:function(){this.params.parallax.enabled&&this.parallax.setTranslate()},setTransition:function(e){this.params.parallax.enabled&&this.parallax.setTransition(e)}}},{name:"zoom",params:{zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}},create:function(){var e=this,t={enabled:!1,scale:1,currentScale:1,isScaling:!1,gesture:{$slideEl:void 0,slideWidth:void 0,slideHeight:void 0,$imageEl:void 0,$imageWrapEl:void 0,maxRatio:3},image:{isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},velocity:{x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0}};"onGestureStart onGestureChange onGestureEnd onTouchStart onTouchMove onTouchEnd onTransitionEnd toggle enable disable in out".split(" ").forEach(function(a){t[a]=R[a].bind(e)}),c.extend(e,{zoom:t});var a=1;Object.defineProperty(e.zoom,"scale",{get:function(){return a},set:function(t){if(a!==t){var i=e.zoom.gesture.$imageEl?e.zoom.gesture.$imageEl[0]:void 0,s=e.zoom.gesture.$slideEl?e.zoom.gesture.$slideEl[0]:void 0;e.emit("zoomChange",t,i,s)}a=t}})},on:{init:function(){this.params.zoom.enabled&&this.zoom.enable()},destroy:function(){this.zoom.disable()},touchStart:function(e){this.zoom.enabled&&this.zoom.onTouchStart(e)},touchEnd:function(e){this.zoom.enabled&&this.zoom.onTouchEnd(e)},doubleTap:function(e){this.params.zoom.enabled&&this.zoom.enabled&&this.params.zoom.toggle&&this.zoom.toggle(e)},transitionEnd:function(){this.zoom.enabled&&this.params.zoom.enabled&&this.zoom.onTransitionEnd()}}},{name:"lazy",params:{lazy:{enabled:!1,loadPrevNext:!1,loadPrevNextAmount:1,loadOnTransitionStart:!1,elementClass:"swiper-lazy",loadingClass:"swiper-lazy-loading",loadedClass:"swiper-lazy-loaded",preloaderClass:"swiper-lazy-preloader"}},create:function(){c.extend(this,{lazy:{initialImageLoaded:!1,load:q.load.bind(this),loadInSlide:q.loadInSlide.bind(this)}})},on:{beforeInit:function(){this.params.lazy.enabled&&this.params.preloadImages&&(this.params.preloadImages=!1)},init:function(){this.params.lazy.enabled&&!this.params.loop&&0===this.params.initialSlide&&this.lazy.load()},scroll:function(){this.params.freeMode&&!this.params.freeModeSticky&&this.lazy.load()},resize:function(){this.params.lazy.enabled&&this.lazy.load()},scrollbarDragMove:function(){this.params.lazy.enabled&&this.lazy.load()},transitionStart:function(){var e=this;e.params.lazy.enabled&&(!e.params.lazy.loadOnTransitionStart&&(e.params.lazy.loadOnTransitionStart||e.lazy.initialImageLoaded)||e.lazy.load())},transitionEnd:function(){this.params.lazy.enabled&&!this.params.lazy.loadOnTransitionStart&&this.lazy.load()}}},{name:"controller",params:{controller:{control:void 0,inverse:!1,by:"slide"}},create:function(){var e=this;c.extend(e,{controller:{control:e.params.controller.control,getInterpolateFunction:W.getInterpolateFunction.bind(e),setTranslate:W.setTranslate.bind(e),setTransition:W.setTransition.bind(e)}})},on:{update:function(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},resize:function(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},observerUpdate:function(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},setTranslate:function(e,t){this.controller.control&&this.controller.setTranslate(e,t)},setTransition:function(e,t){this.controller.control&&this.controller.setTransition(e,t)}}},{name:"a11y",params:{a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}"}},create:function(){var e=this;c.extend(e,{a11y:{liveRegion:i('<span class="'+e.params.a11y.notificationClass+'" aria-live="assertive" aria-atomic="true"></span>')}}),Object.keys(j).forEach(function(t){e.a11y[t]=j[t].bind(e)})},on:{init:function(){this.params.a11y.enabled&&(this.a11y.init(),this.a11y.updateNavigation())},toEdge:function(){this.params.a11y.enabled&&this.a11y.updateNavigation()},fromEdge:function(){this.params.a11y.enabled&&this.a11y.updateNavigation()},paginationUpdate:function(){this.params.a11y.enabled&&this.a11y.updatePagination()},destroy:function(){this.params.a11y.enabled&&this.a11y.destroy()}}},{name:"history",params:{history:{enabled:!1,replaceState:!1,key:"slides"}},create:function(){var e=this;c.extend(e,{history:{init:U.init.bind(e),setHistory:U.setHistory.bind(e),setHistoryPopState:U.setHistoryPopState.bind(e),scrollToSlide:U.scrollToSlide.bind(e),destroy:U.destroy.bind(e)}})},on:{init:function(){this.params.history.enabled&&this.history.init()},destroy:function(){this.params.history.enabled&&this.history.destroy()},transitionEnd:function(){this.history.initialized&&this.history.setHistory(this.params.history.key,this.activeIndex)}}},{name:"hash-navigation",params:{hashNavigation:{enabled:!1,replaceState:!1,watchState:!1}},create:function(){var e=this;c.extend(e,{hashNavigation:{initialized:!1,init:K.init.bind(e),destroy:K.destroy.bind(e),setHash:K.setHash.bind(e),onHashCange:K.onHashCange.bind(e)}})},on:{init:function(){this.params.hashNavigation.enabled&&this.hashNavigation.init()},destroy:function(){this.params.hashNavigation.enabled&&this.hashNavigation.destroy()},transitionEnd:function(){this.hashNavigation.initialized&&this.hashNavigation.setHash()}}},{name:"autoplay",params:{autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1}},create:function(){var e=this;c.extend(e,{autoplay:{running:!1,paused:!1,run:_.run.bind(e),start:_.start.bind(e),stop:_.stop.bind(e),pause:_.pause.bind(e),onTransitionEnd:function(t){e&&!e.destroyed&&e.$wrapperEl&&t.target===this&&(e.$wrapperEl[0].removeEventListener("transitionend",e.autoplay.onTransitionEnd),e.$wrapperEl[0].removeEventListener("webkitTransitionEnd",e.autoplay.onTransitionEnd),e.autoplay.paused=!1,e.autoplay.running?e.autoplay.run():e.autoplay.stop())}}})},on:{init:function(){this.params.autoplay.enabled&&this.autoplay.start()},beforeTransitionStart:function(e,t){this.autoplay.running&&(t||!this.params.autoplay.disableOnInteraction?this.autoplay.pause(e):this.autoplay.stop())},sliderFirstMove:function(){this.autoplay.running&&(this.params.autoplay.disableOnInteraction?this.autoplay.stop():this.autoplay.pause())},destroy:function(){this.autoplay.running&&this.autoplay.stop()}}},{name:"effect-fade",params:{fadeEffect:{crossFade:!1}},create:function(){c.extend(this,{fadeEffect:{setTranslate:Z.setTranslate.bind(this),setTransition:Z.setTransition.bind(this)}})},on:{beforeInit:function(){var e=this;if("fade"===e.params.effect){e.classNames.push(e.params.containerModifierClass+"fade");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};c.extend(e.params,t),c.extend(e.originalParams,t)}},setTranslate:function(){"fade"===this.params.effect&&this.fadeEffect.setTranslate()},setTransition:function(e){"fade"===this.params.effect&&this.fadeEffect.setTransition(e)}}},{name:"effect-cube",params:{cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}},create:function(){c.extend(this,{cubeEffect:{setTranslate:Q.setTranslate.bind(this),setTransition:Q.setTransition.bind(this)}})},on:{beforeInit:function(){var e=this;if("cube"===e.params.effect){e.classNames.push(e.params.containerModifierClass+"cube"),e.classNames.push(e.params.containerModifierClass+"3d");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0};c.extend(e.params,t),c.extend(e.originalParams,t)}},setTranslate:function(){"cube"===this.params.effect&&this.cubeEffect.setTranslate()},setTransition:function(e){"cube"===this.params.effect&&this.cubeEffect.setTransition(e)}}},{name:"effect-flip",params:{flipEffect:{slideShadows:!0,limitRotation:!0}},create:function(){c.extend(this,{flipEffect:{setTranslate:J.setTranslate.bind(this),setTransition:J.setTransition.bind(this)}})},on:{beforeInit:function(){var e=this;if("flip"===e.params.effect){e.classNames.push(e.params.containerModifierClass+"flip"),e.classNames.push(e.params.containerModifierClass+"3d");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};c.extend(e.params,t),c.extend(e.originalParams,t)}},setTranslate:function(){"flip"===this.params.effect&&this.flipEffect.setTranslate()},setTransition:function(e){"flip"===this.params.effect&&this.flipEffect.setTransition(e)}}},{name:"effect-coverflow",params:{coverflowEffect:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0}},create:function(){c.extend(this,{coverflowEffect:{setTranslate:ee.setTranslate.bind(this),setTransition:ee.setTransition.bind(this)}})},on:{beforeInit:function(){var e=this;"coverflow"===e.params.effect&&(e.classNames.push(e.params.containerModifierClass+"coverflow"),e.classNames.push(e.params.containerModifierClass+"3d"),e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)},setTranslate:function(){"coverflow"===this.params.effect&&this.coverflowEffect.setTranslate()},setTransition:function(e){"coverflow"===this.params.effect&&this.coverflowEffect.setTransition(e)}}},{name:"thumbs",params:{thumbs:{swiper:null,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-container-thumbs"}},create:function(){c.extend(this,{thumbs:{swiper:null,init:te.init.bind(this),update:te.update.bind(this),onThumbClick:te.onThumbClick.bind(this)}})},on:{beforeInit:function(){var e=this.params.thumbs;e&&e.swiper&&(this.thumbs.init(),this.thumbs.update(!0))},slideChange:function(){this.thumbs.swiper&&this.thumbs.update()},update:function(){this.thumbs.swiper&&this.thumbs.update()},resize:function(){this.thumbs.swiper&&this.thumbs.update()},observerUpdate:function(){this.thumbs.swiper&&this.thumbs.update()},setTransition:function(e){var t=this.thumbs.swiper;t&&t.setTransition(e)},beforeDestroy:function(){var e=this.thumbs.swiper;e&&this.thumbs.swiperCreated&&e&&e.destroy()}}}];return void 0===k.use&&(k.use=k.Class.use,k.installModule=k.Class.installModule),k.use(ae),k});
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ClipboardJS=e():t.ClipboardJS=e()}(this,function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=u(n(1)),a=u(n(3)),c=u(n(4));function u(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(t,n){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return o.resolveOptions(n),o.listenClick(t),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),r(e,[{key:"resolveOptions",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText,this.container="object"===o(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=(0,c.default)(t,"click",function(t){return e.onClick(t)})}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new i.default({action:this.action(e),target:this.target(e),text:this.text(e),container:this.container,trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return s("action",t)}},{key:"defaultTarget",value:function(t){var e=s("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return s("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"==typeof t?[t]:t,n=!!document.queryCommandSupported;return e.forEach(function(t){n=n&&!!document.queryCommandSupported(t)}),n}}]),e}();function s(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}t.exports=l},function(t,e,n){"use strict";var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),a=(o=n(2))&&o.__esModule?o:{default:o},c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.resolveOptions(e),this.initSelection()}return i(t,[{key:"resolveOptions",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.container=t.container,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,a.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,a.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==(void 0===t?"undefined":r(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=c},function(t,e){t.exports=function(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var n=t.hasAttribute("readonly");n||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),n||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var o=window.getSelection(),r=document.createRange();r.selectNodeContents(t),o.removeAllRanges(),o.addRange(r),e=o.toString()}return e}},function(t,e){function n(){}n.prototype={on:function(t,e,n){var o=this.e||(this.e={});return(o[t]||(o[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){var o=this;function r(){o.off(t,r),e.apply(n,arguments)}return r._=e,this.on(t,r,n)},emit:function(t){for(var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),o=0,r=n.length;o<r;o++)n[o].fn.apply(n[o].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),o=n[t],r=[];if(o&&e)for(var i=0,a=o.length;i<a;i++)o[i].fn!==e&&o[i].fn._!==e&&r.push(o[i]);return r.length?n[t]=r:delete n[t],this}},t.exports=n},function(t,e,n){var o=n(5),r=n(6);t.exports=function(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!o.string(e))throw new TypeError("Second argument must be a String");if(!o.fn(n))throw new TypeError("Third argument must be a Function");if(o.node(t))return d=e,h=n,(f=t).addEventListener(d,h),{destroy:function(){f.removeEventListener(d,h)}};if(o.nodeList(t))return u=t,l=e,s=n,Array.prototype.forEach.call(u,function(t){t.addEventListener(l,s)}),{destroy:function(){Array.prototype.forEach.call(u,function(t){t.removeEventListener(l,s)})}};if(o.string(t))return i=t,a=e,c=n,r(document.body,i,a,c);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");var i,a,c,u,l,s,f,d,h}},function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var n=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"==typeof t||t instanceof String},e.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},function(t,e,n){var o=n(7);function r(t,e,n,r,i){var a=function(t,e,n,r){return function(n){n.delegateTarget=o(n.target,e),n.delegateTarget&&r.call(t,n)}}.apply(this,arguments);return t.addEventListener(n,a,i),{destroy:function(){t.removeEventListener(n,a,i)}}}t.exports=function(t,e,n,o,i){return"function"==typeof t.addEventListener?r.apply(null,arguments):"function"==typeof n?r.bind(null,document).apply(null,arguments):("string"==typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,function(t){return r(t,e,n,o,i)}))}},function(t,e){if("undefined"!=typeof Element&&!Element.prototype.matches){var n=Element.prototype;n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}t.exports=function(t,e){for(;t&&9!==t.nodeType;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}}])});
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";var e,t;function n(){return e.apply(null,arguments)}function s(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function i(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function r(e){return void 0===e}function a(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function o(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function u(e,t){var n,s=[];for(n=0;n<e.length;++n)s.push(t(e[n],n));return s}function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function h(e,t){for(var n in t)l(t,n)&&(e[n]=t[n]);return l(t,"toString")&&(e.toString=t.toString),l(t,"valueOf")&&(e.valueOf=t.valueOf),e}function d(e,t,n,s){return Ot(e,t,n,s,!0).utc()}function c(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function f(e){if(null==e._isValid){var n=c(e),s=t.call(n.parsedDateParts,function(e){return null!=e}),i=!isNaN(e._d.getTime())&&n.overflow<0&&!n.empty&&!n.invalidMonth&&!n.invalidWeekday&&!n.weekdayMismatch&&!n.nullInput&&!n.invalidFormat&&!n.userInvalidated&&(!n.meridiem||n.meridiem&&s);if(e._strict&&(i=i&&0===n.charsLeftOver&&0===n.unusedTokens.length&&void 0===n.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function m(e){var t=d(NaN);return null!=e?h(c(t),e):c(t).userInvalidated=!0,t}t=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,s=0;s<n;s++)if(s in t&&e.call(this,t[s],s,t))return!0;return!1};var _=n.momentProperties=[];function y(e,t){var n,s,i;if(r(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),r(t._i)||(e._i=t._i),r(t._f)||(e._f=t._f),r(t._l)||(e._l=t._l),r(t._strict)||(e._strict=t._strict),r(t._tzm)||(e._tzm=t._tzm),r(t._isUTC)||(e._isUTC=t._isUTC),r(t._offset)||(e._offset=t._offset),r(t._pf)||(e._pf=c(t)),r(t._locale)||(e._locale=t._locale),0<_.length)for(n=0;n<_.length;n++)r(i=t[s=_[n]])||(e[s]=i);return e}var g=!1;function p(e){y(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===g&&(g=!0,n.updateOffset(this),g=!1)}function v(e){return e instanceof p||null!=e&&null!=e._isAMomentObject}function w(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function M(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=w(t)),n}function k(e,t,n){var s,i=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),a=0;for(s=0;s<i;s++)(n&&e[s]!==t[s]||!n&&M(e[s])!==M(t[s]))&&a++;return a+r}function S(e){!1===n.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn}function D(e,t){var s=!0;return h(function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,e),s){for(var i,r=[],a=0;a<arguments.length;a++){if(i="","object"==typeof arguments[a]){for(var o in i+="\n["+a+"] ",arguments[0])i+=o+": "+arguments[0][o]+", ";i=i.slice(0,-2)}else i=arguments[a];r.push(i)}S((Array.prototype.slice.call(r).join(""),(new Error).stack)),s=!1}return t.apply(this,arguments)},t)}var Y,O={};function T(e,t){null!=n.deprecationHandler&&n.deprecationHandler(e,t),O[e]||(S(),O[e]=!0)}function b(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function x(e,t){var n,s=h({},e);for(n in t)l(t,n)&&(i(e[n])&&i(t[n])?(s[n]={},h(s[n],e[n]),h(s[n],t[n])):null!=t[n]?s[n]=t[n]:delete s[n]);for(n in e)l(e,n)&&!l(t,n)&&i(e[n])&&(s[n]=h({},s[n]));return s}function P(e){null!=e&&this.set(e)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null,Y=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)l(e,t)&&n.push(t);return n};var W={};function C(e,t){var n=e.toLowerCase();W[n]=W[n+"s"]=W[t]=e}function H(e){return"string"==typeof e?W[e]||W[e.toLowerCase()]:void 0}function R(e){var t,n,s={};for(n in e)l(e,n)&&(t=H(n))&&(s[t]=e[n]);return s}var U={};function F(e,t){U[e]=t}function L(e,t,n){var s=""+Math.abs(e),i=t-s.length;return(0<=e?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+s}var N=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,G=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,V={},E={};function I(e,t,n,s){var i=s;"string"==typeof s&&(i=function(){return this[s]()}),e&&(E[e]=i),t&&(E[t[0]]=function(){return L(i.apply(this,arguments),t[1],t[2])}),n&&(E[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function A(e,t){return e.isValid()?(t=j(t,e.localeData()),V[t]=V[t]||function(e){var t,n,s,i=e.match(N);for(t=0,n=i.length;t<n;t++)E[i[t]]?i[t]=E[i[t]]:i[t]=(s=i[t]).match(/\[[\s\S]/)?s.replace(/^\[|\]$/g,""):s.replace(/\\/g,"");return function(t){var s,r="";for(s=0;s<n;s++)r+=b(i[s])?i[s].call(t,e):i[s];return r}}(t),V[t](e)):e.localeData().invalidDate()}function j(e,t){var n=5;function s(e){return t.longDateFormat(e)||e}for(G.lastIndex=0;0<=n&&G.test(e);)e=e.replace(G,s),G.lastIndex=0,n-=1;return e}var Z=/\d/,z=/\d\d/,$=/\d{3}/,q=/\d{4}/,J=/[+-]?\d{6}/,B=/\d\d?/,Q=/\d\d\d\d?/,X=/\d\d\d\d\d\d?/,K=/\d{1,3}/,ee=/\d{1,4}/,te=/[+-]?\d{1,6}/,ne=/\d+/,se=/[+-]?\d+/,ie=/Z|[+-]\d\d:?\d\d/gi,re=/Z|[+-]\d\d(?::?\d\d)?/gi,ae=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,oe={};function ue(e,t,n){oe[e]=b(t)?t:function(e,s){return e&&n?n:t}}function le(e,t){return l(oe,e)?oe[e](t._strict,t._locale):new RegExp(he(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,s,i){return t||n||s||i})))}function he(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var de={};function ce(e,t){var n,s=t;for("string"==typeof e&&(e=[e]),a(t)&&(s=function(e,n){n[t]=M(e)}),n=0;n<e.length;n++)de[e[n]]=s}function fe(e,t){ce(e,function(e,n,s,i){s._w=s._w||{},t(e,s._w,s,i)})}var me=0,_e=1,ye=2,ge=3,pe=4,ve=5,we=6,Me=7,ke=8;function Se(e){return De(e)?366:365}function De(e){return e%4==0&&e%100!=0||e%400==0}I("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),I(0,["YY",2],0,function(){return this.year()%100}),I(0,["YYYY",4],0,"year"),I(0,["YYYYY",5],0,"year"),I(0,["YYYYYY",6,!0],0,"year"),C("year","y"),F("year",1),ue("Y",se),ue("YY",B,z),ue("YYYY",ee,q),ue("YYYYY",te,J),ue("YYYYYY",te,J),ce(["YYYYY","YYYYYY"],me),ce("YYYY",function(e,t){t[me]=2===e.length?n.parseTwoDigitYear(e):M(e)}),ce("YY",function(e,t){t[me]=n.parseTwoDigitYear(e)}),ce("Y",function(e,t){t[me]=parseInt(e,10)}),n.parseTwoDigitYear=function(e){return M(e)+(68<M(e)?1900:2e3)};var Ye,Oe=Te("FullYear",!0);function Te(e,t){return function(s){return null!=s?(xe(this,e,s),n.updateOffset(this,t),this):be(this,e)}}function be(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function xe(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&De(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Pe(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function Pe(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=(t%12+12)%12;return e+=(t-n)/12,1===n?De(e)?29:28:31-n%7%2}Ye=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},I("M",["MM",2],"Mo",function(){return this.month()+1}),I("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),I("MMMM",0,0,function(e){return this.localeData().months(this,e)}),C("month","M"),F("month",8),ue("M",B),ue("MM",B,z),ue("MMM",function(e,t){return t.monthsShortRegex(e)}),ue("MMMM",function(e,t){return t.monthsRegex(e)}),ce(["M","MM"],function(e,t){t[_e]=M(e)-1}),ce(["MMM","MMMM"],function(e,t,n,s){var i=n._locale.monthsParse(e,s,n._strict);null!=i?t[_e]=i:c(n).invalidMonth=e});var We=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ce="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),He="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Re(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=M(t);else if(!a(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Pe(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Ue(e){return null!=e?(Re(this,e),n.updateOffset(this,!0),this):be(this,"Month")}var Fe=ae,Le=ae;function Ne(){function e(e,t){return t.length-e.length}var t,n,s=[],i=[],r=[];for(t=0;t<12;t++)n=d([2e3,t]),s.push(this.monthsShort(n,"")),i.push(this.months(n,"")),r.push(this.months(n,"")),r.push(this.monthsShort(n,""));for(s.sort(e),i.sort(e),r.sort(e),t=0;t<12;t++)s[t]=he(s[t]),i[t]=he(i[t]);for(t=0;t<24;t++)r[t]=he(r[t]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Ge(e){var t;if(e<100&&0<=e){var n=Array.prototype.slice.call(arguments);n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)}else t=new Date(Date.UTC.apply(null,arguments));return t}function Ve(e,t,n){var s=7+t-n;return-(7+Ge(e,0,s).getUTCDay()-t)%7+s-1}function Ee(e,t,n,s,i){var r,a,o=1+7*(t-1)+(7+n-s)%7+Ve(e,s,i);return a=o<=0?Se(r=e-1)+o:o>Se(e)?(r=e+1,o-Se(e)):(r=e,o),{year:r,dayOfYear:a}}function Ie(e,t,n){var s,i,r=Ve(e.year(),t,n),a=Math.floor((e.dayOfYear()-r-1)/7)+1;return a<1?s=a+Ae(i=e.year()-1,t,n):a>Ae(e.year(),t,n)?(s=a-Ae(e.year(),t,n),i=e.year()+1):(i=e.year(),s=a),{week:s,year:i}}function Ae(e,t,n){var s=Ve(e,t,n),i=Ve(e+1,t,n);return(Se(e)-s+i)/7}function je(e,t){return e.slice(t,7).concat(e.slice(0,t))}I("w",["ww",2],"wo","week"),I("W",["WW",2],"Wo","isoWeek"),C("week","w"),C("isoWeek","W"),F("week",5),F("isoWeek",5),ue("w",B),ue("ww",B,z),ue("W",B),ue("WW",B,z),fe(["w","ww","W","WW"],function(e,t,n,s){t[s.substr(0,1)]=M(e)}),I("d",0,"do","day"),I("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),I("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),I("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),I("e",0,0,"weekday"),I("E",0,0,"isoWeekday"),C("day","d"),C("weekday","e"),C("isoWeekday","E"),F("day",11),F("weekday",11),F("isoWeekday",11),ue("d",B),ue("e",B),ue("E",B),ue("dd",function(e,t){return t.weekdaysMinRegex(e)}),ue("ddd",function(e,t){return t.weekdaysShortRegex(e)}),ue("dddd",function(e,t){return t.weekdaysRegex(e)}),fe(["dd","ddd","dddd"],function(e,t,n,s){var i=n._locale.weekdaysParse(e,s,n._strict);null!=i?t.d=i:c(n).invalidWeekday=e}),fe(["d","e","E"],function(e,t,n,s){t[s]=M(e)});var Ze="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ze="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),$e="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),qe=ae,Je=ae,Be=ae;function Qe(){function e(e,t){return t.length-e.length}var t,n,s,i,r,a=[],o=[],u=[],l=[];for(t=0;t<7;t++)n=d([2e3,1]).day(t),s=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),r=this.weekdays(n,""),a.push(s),o.push(i),u.push(r),l.push(s),l.push(i),l.push(r);for(a.sort(e),o.sort(e),u.sort(e),l.sort(e),t=0;t<7;t++)o[t]=he(o[t]),u[t]=he(u[t]),l[t]=he(l[t]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Xe(){return this.hours()%12||12}function Ke(e,t){I(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function et(e,t){return t._meridiemParse}I("H",["HH",2],0,"hour"),I("h",["hh",2],0,Xe),I("k",["kk",2],0,function(){return this.hours()||24}),I("hmm",0,0,function(){return""+Xe.apply(this)+L(this.minutes(),2)}),I("hmmss",0,0,function(){return""+Xe.apply(this)+L(this.minutes(),2)+L(this.seconds(),2)}),I("Hmm",0,0,function(){return""+this.hours()+L(this.minutes(),2)}),I("Hmmss",0,0,function(){return""+this.hours()+L(this.minutes(),2)+L(this.seconds(),2)}),Ke("a",!0),Ke("A",!1),C("hour","h"),F("hour",13),ue("a",et),ue("A",et),ue("H",B),ue("h",B),ue("k",B),ue("HH",B,z),ue("hh",B,z),ue("kk",B,z),ue("hmm",Q),ue("hmmss",X),ue("Hmm",Q),ue("Hmmss",X),ce(["H","HH"],ge),ce(["k","kk"],function(e,t,n){var s=M(e);t[ge]=24===s?0:s}),ce(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),ce(["h","hh"],function(e,t,n){t[ge]=M(e),c(n).bigHour=!0}),ce("hmm",function(e,t,n){var s=e.length-2;t[ge]=M(e.substr(0,s)),t[pe]=M(e.substr(s)),c(n).bigHour=!0}),ce("hmmss",function(e,t,n){var s=e.length-4,i=e.length-2;t[ge]=M(e.substr(0,s)),t[pe]=M(e.substr(s,2)),t[ve]=M(e.substr(i)),c(n).bigHour=!0}),ce("Hmm",function(e,t,n){var s=e.length-2;t[ge]=M(e.substr(0,s)),t[pe]=M(e.substr(s))}),ce("Hmmss",function(e,t,n){var s=e.length-4,i=e.length-2;t[ge]=M(e.substr(0,s)),t[pe]=M(e.substr(s,2)),t[ve]=M(e.substr(i))});var tt,nt=Te("Hours",!0),st={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ce,monthsShort:He,week:{dow:0,doy:6},weekdays:Ze,weekdaysMin:$e,weekdaysShort:ze,meridiemParse:/[ap]\.?m?\.?/i},it={},rt={};function at(e){return e?e.toLowerCase().replace("_","-"):e}function ot(e){var t=null;if(!it[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=tt._abbr,require("./locale/"+e),ut(t)}catch(e){}return it[e]}function ut(e,t){var n;return e&&((n=r(t)?ht(e):lt(e,t))?tt=n:"undefined"!=typeof console&&console.warn),tt._abbr}function lt(e,t){if(null===t)return delete it[e],null;var n,s=st;if(t.abbr=e,null!=it[e])T("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),s=it[e]._config;else if(null!=t.parentLocale)if(null!=it[t.parentLocale])s=it[t.parentLocale]._config;else{if(null==(n=ot(t.parentLocale)))return rt[t.parentLocale]||(rt[t.parentLocale]=[]),rt[t.parentLocale].push({name:e,config:t}),null;s=n._config}return it[e]=new P(x(s,t)),rt[e]&&rt[e].forEach(function(e){lt(e.name,e.config)}),ut(e),it[e]}function ht(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return tt;if(!s(e)){if(t=ot(e))return t;e=[e]}return function(e){for(var t,n,s,i,r=0;r<e.length;){for(t=(i=at(e[r]).split("-")).length,n=(n=at(e[r+1]))?n.split("-"):null;0<t;){if(s=ot(i.slice(0,t).join("-")))return s;if(n&&n.length>=t&&k(i,n,!0)>=t-1)break;t--}r++}return tt}(e)}function dt(e){var t,n=e._a;return n&&-2===c(e).overflow&&(t=n[_e]<0||11<n[_e]?_e:n[ye]<1||n[ye]>Pe(n[me],n[_e])?ye:n[ge]<0||24<n[ge]||24===n[ge]&&(0!==n[pe]||0!==n[ve]||0!==n[we])?ge:n[pe]<0||59<n[pe]?pe:n[ve]<0||59<n[ve]?ve:n[we]<0||999<n[we]?we:-1,c(e)._overflowDayOfYear&&(t<me||ye<t)&&(t=ye),c(e)._overflowWeeks&&-1===t&&(t=Me),c(e)._overflowWeekday&&-1===t&&(t=ke),c(e).overflow=t),e}function ct(e,t,n){return null!=e?e:null!=t?t:n}function ft(e){var t,s,i,r,a,o=[];if(!e._d){var u,l;for(u=e,l=new Date(n.now()),i=u._useUTC?[l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()]:[l.getFullYear(),l.getMonth(),l.getDate()],e._w&&null==e._a[ye]&&null==e._a[_e]&&function(e){var t,n,s,i,r,a,o,u;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)r=1,a=4,n=ct(t.GG,e._a[me],Ie(Tt(),1,4).year),s=ct(t.W,1),((i=ct(t.E,1))<1||7<i)&&(u=!0);else{r=e._locale._week.dow,a=e._locale._week.doy;var l=Ie(Tt(),r,a);n=ct(t.gg,e._a[me],l.year),s=ct(t.w,l.week),null!=t.d?((i=t.d)<0||6<i)&&(u=!0):null!=t.e?(i=t.e+r,(t.e<0||6<t.e)&&(u=!0)):i=r}s<1||s>Ae(n,r,a)?c(e)._overflowWeeks=!0:null!=u?c(e)._overflowWeekday=!0:(o=Ee(n,s,i,r,a),e._a[me]=o.year,e._dayOfYear=o.dayOfYear)}(e),null!=e._dayOfYear&&(a=ct(e._a[me],i[me]),(e._dayOfYear>Se(a)||0===e._dayOfYear)&&(c(e)._overflowDayOfYear=!0),s=Ge(a,0,e._dayOfYear),e._a[_e]=s.getUTCMonth(),e._a[ye]=s.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=i[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ge]&&0===e._a[pe]&&0===e._a[ve]&&0===e._a[we]&&(e._nextDay=!0,e._a[ge]=0),e._d=(e._useUTC?Ge:function(e,t,n,s,i,r,a){var o;return e<100&&0<=e?(o=new Date(e+400,t,n,s,i,r,a),isFinite(o.getFullYear())&&o.setFullYear(e)):o=new Date(e,t,n,s,i,r,a),o}).apply(null,o),r=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ge]=24),e._w&&void 0!==e._w.d&&e._w.d!==r&&(c(e).weekdayMismatch=!0)}}var mt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_t=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,yt=/Z|[+-]\d\d(?::?\d\d)?/,gt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],pt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],vt=/^\/?Date\((\-?\d+)/i;function wt(e){var t,n,s,i,r,a,o=e._i,u=mt.exec(o)||_t.exec(o);if(u){for(c(e).iso=!0,t=0,n=gt.length;t<n;t++)if(gt[t][1].exec(u[1])){i=gt[t][0],s=!1!==gt[t][2];break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=pt.length;t<n;t++)if(pt[t][1].exec(u[3])){r=(u[2]||" ")+pt[t][0];break}if(null==r)return void(e._isValid=!1)}if(!s&&null!=r)return void(e._isValid=!1);if(u[4]){if(!yt.exec(u[4]))return void(e._isValid=!1);a="Z"}e._f=i+(r||"")+(a||""),Dt(e)}else e._isValid=!1}var Mt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;var kt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function St(e){var t,n,s,i=Mt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(i){var r=function(e,t,n,s,i,r){var a=[function(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}(e),He.indexOf(t),parseInt(n,10),parseInt(s,10),parseInt(i,10)];return r&&a.push(parseInt(r,10)),a}(i[4],i[3],i[2],i[5],i[6],i[7]);if(n=r,s=e,(t=i[1])&&ze.indexOf(t)!==new Date(n[0],n[1],n[2]).getDay()&&(c(s).weekdayMismatch=!0,!(s._isValid=!1)))return;e._a=r,e._tzm=function(e,t,n){if(e)return kt[e];if(t)return 0;var s=parseInt(n,10),i=s%100;return(s-i)/100*60+i}(i[8],i[9],i[10]),e._d=Ge.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),c(e).rfc2822=!0}else e._isValid=!1}function Dt(e){if(e._f!==n.ISO_8601)if(e._f!==n.RFC_2822){e._a=[],c(e).empty=!0;var t,s,i,r,a,o,u,h,d=""+e._i,f=d.length,m=0;for(i=j(e._f,e._locale).match(N)||[],t=0;t<i.length;t++)r=i[t],(s=(d.match(le(r,e))||[])[0])&&(0<(a=d.substr(0,d.indexOf(s))).length&&c(e).unusedInput.push(a),d=d.slice(d.indexOf(s)+s.length),m+=s.length),E[r]?(s?c(e).empty=!1:c(e).unusedTokens.push(r),o=r,h=e,null!=(u=s)&&l(de,o)&&de[o](u,h._a,h,o)):e._strict&&!s&&c(e).unusedTokens.push(r);c(e).charsLeftOver=f-m,0<d.length&&c(e).unusedInput.push(d),e._a[ge]<=12&&!0===c(e).bigHour&&0<e._a[ge]&&(c(e).bigHour=void 0),c(e).parsedDateParts=e._a.slice(0),c(e).meridiem=e._meridiem,e._a[ge]=function(e,t,n){var s;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):(null!=e.isPM&&((s=e.isPM(n))&&t<12&&(t+=12),s||12!==t||(t=0)),t)}(e._locale,e._a[ge],e._meridiem),ft(e),dt(e)}else St(e);else wt(e)}function Yt(e){var t,l,d,_,g=e._i,w=e._f;return e._locale=e._locale||ht(e._l),null===g||void 0===w&&""===g?m({nullInput:!0}):("string"==typeof g&&(e._i=g=e._locale.preparse(g)),v(g)?new p(dt(g)):(o(g)?e._d=g:s(w)?function(e){var t,n,s,i,r;if(0===e._f.length)return c(e).invalidFormat=!0,e._d=new Date(NaN);for(i=0;i<e._f.length;i++)r=0,t=y({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Dt(t),f(t)&&(r+=c(t).charsLeftOver,r+=10*c(t).unusedTokens.length,c(t).score=r,(null==s||r<s)&&(s=r,n=t));h(e,n||t)}(e):w?Dt(e):r(l=(t=e)._i)?t._d=new Date(n.now()):o(l)?t._d=new Date(l.valueOf()):"string"==typeof l?(d=t,null===(_=vt.exec(d._i))?(wt(d),!1===d._isValid&&(delete d._isValid,St(d),!1===d._isValid&&(delete d._isValid,n.createFromInputFallback(d)))):d._d=new Date(+_[1])):s(l)?(t._a=u(l.slice(0),function(e){return parseInt(e,10)}),ft(t)):i(l)?function(e){if(!e._d){var t=R(e._i);e._a=u([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),ft(e)}}(t):a(l)?t._d=new Date(l):n.createFromInputFallback(t),f(e)||(e._d=null),e))}function Ot(e,t,n,r,a){var o,u={};return!0!==n&&!1!==n||(r=n,n=void 0),(i(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||s(e)&&0===e.length)&&(e=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=a,u._l=n,u._i=e,u._f=t,u._strict=r,(o=new p(dt(Yt(u))))._nextDay&&(o.add(1,"d"),o._nextDay=void 0),o}function Tt(e,t,n,s){return Ot(e,t,n,s,!1)}n.createFromInputFallback=D("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),n.ISO_8601=function(){},n.RFC_2822=function(){};var bt=D("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Tt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:m()}),xt=D("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Tt.apply(null,arguments);return this.isValid()&&e.isValid()?this<e?this:e:m()});function Pt(e,t){var n,i;if(1===t.length&&s(t[0])&&(t=t[0]),!t.length)return Tt();for(n=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](n)||(n=t[i]);return n}var Wt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ct(e){var t=R(e),n=t.year||0,s=t.quarter||0,i=t.month||0,r=t.week||t.isoWeek||0,a=t.day||0,o=t.hour||0,u=t.minute||0,l=t.second||0,h=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===Ye.call(Wt,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,s=0;s<Wt.length;++s)if(e[Wt[s]]){if(n)return!1;parseFloat(e[Wt[s]])!==M(e[Wt[s]])&&(n=!0)}return!0}(t),this._milliseconds=+h+1e3*l+6e4*u+1e3*o*60*60,this._days=+a+7*r,this._months=+i+3*s+12*n,this._data={},this._locale=ht(),this._bubble()}function Ht(e){return e instanceof Ct}function Rt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Ut(e,t){I(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+L(~~(e/60),2)+t+L(~~e%60,2)})}Ut("Z",":"),Ut("ZZ",""),ue("Z",re),ue("ZZ",re),ce(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Lt(re,e)});var Ft=/([\+\-]|\d\d)/gi;function Lt(e,t){var n=(t||"").match(e);if(null===n)return null;var s=((n[n.length-1]||[])+"").match(Ft)||["-",0,0],i=60*s[1]+M(s[2]);return 0===i?0:"+"===s[0]?i:-i}function Nt(e,t){var s,i;return t._isUTC?(s=t.clone(),i=(v(e)||o(e)?e.valueOf():Tt(e).valueOf())-s.valueOf(),s._d.setTime(s._d.valueOf()+i),n.updateOffset(s,!1),s):Tt(e).local()}function Gt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Vt(){return!!this.isValid()&&this._isUTC&&0===this._offset}n.updateOffset=function(){};var Et=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,It=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function At(e,t){var n,s,i,r=e,o=null;return Ht(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:a(e)?(r={},t?r[t]=e:r.milliseconds=e):(o=Et.exec(e))?(n="-"===o[1]?-1:1,r={y:0,d:M(o[ye])*n,h:M(o[ge])*n,m:M(o[pe])*n,s:M(o[ve])*n,ms:M(Rt(1e3*o[we]))*n}):(o=It.exec(e))?(n="-"===o[1]?-1:1,r={y:jt(o[2],n),M:jt(o[3],n),w:jt(o[4],n),d:jt(o[5],n),h:jt(o[6],n),m:jt(o[7],n),s:jt(o[8],n)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(i=function(e,t){var n;return e.isValid()&&t.isValid()?(t=Nt(t,e),e.isBefore(t)?n=Zt(e,t):((n=Zt(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}(Tt(r.from),Tt(r.to)),(r={}).ms=i.milliseconds,r.M=i.months),s=new Ct(r),Ht(e)&&l(e,"_locale")&&(s._locale=e._locale),s}function jt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Zt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function zt(e,t){return function(n,s){var i;return null===s||isNaN(+s)||(T(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=s,s=i),$t(this,At(n="string"==typeof n?+n:n,s),e),this}}function $t(e,t,s,i){var r=t._milliseconds,a=Rt(t._days),o=Rt(t._months);e.isValid()&&(i=null==i||i,o&&Re(e,be(e,"Month")+o*s),a&&xe(e,"Date",be(e,"Date")+a*s),r&&e._d.setTime(e._d.valueOf()+r*s),i&&n.updateOffset(e,a||o))}At.fn=Ct.prototype,At.invalid=function(){return At(NaN)};var qt=zt(1,"add"),Jt=zt(-1,"subtract");function Bt(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),s=e.clone().add(n,"months");return-(n+(t-s<0?(t-s)/(s-e.clone().add(n-1,"months")):(t-s)/(e.clone().add(n+1,"months")-s)))||0}function Qt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=ht(e))&&(this._locale=t),this)}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Xt=D("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function Kt(){return this._locale}var en=126227808e5;function tn(e,t){return(e%t+t)%t}function nn(e,t,n){return e<100&&0<=e?new Date(e+400,t,n)-en:new Date(e,t,n).valueOf()}function sn(e,t,n){return e<100&&0<=e?Date.UTC(e+400,t,n)-en:Date.UTC(e,t,n)}function rn(e,t){I(0,[e,e.length],0,t)}function an(e,t,n,s,i){var r;return null==e?Ie(this,s,i).year:((r=Ae(e,s,i))<t&&(t=r),function(e,t,n,s,i){var r=Ee(e,t,n,s,i),a=Ge(r.year,0,r.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}.call(this,e,t,n,s,i))}I(0,["gg",2],0,function(){return this.weekYear()%100}),I(0,["GG",2],0,function(){return this.isoWeekYear()%100}),rn("gggg","weekYear"),rn("ggggg","weekYear"),rn("GGGG","isoWeekYear"),rn("GGGGG","isoWeekYear"),C("weekYear","gg"),C("isoWeekYear","GG"),F("weekYear",1),F("isoWeekYear",1),ue("G",se),ue("g",se),ue("GG",B,z),ue("gg",B,z),ue("GGGG",ee,q),ue("gggg",ee,q),ue("GGGGG",te,J),ue("ggggg",te,J),fe(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,s){t[s.substr(0,2)]=M(e)}),fe(["gg","GG"],function(e,t,s,i){t[i]=n.parseTwoDigitYear(e)}),I("Q",0,"Qo","quarter"),C("quarter","Q"),F("quarter",7),ue("Q",Z),ce("Q",function(e,t){t[_e]=3*(M(e)-1)}),I("D",["DD",2],"Do","date"),C("date","D"),F("date",9),ue("D",B),ue("DD",B,z),ue("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),ce(["D","DD"],ye),ce("Do",function(e,t){t[ye]=M(e.match(B)[0])});var on=Te("Date",!0);I("DDD",["DDDD",3],"DDDo","dayOfYear"),C("dayOfYear","DDD"),F("dayOfYear",4),ue("DDD",K),ue("DDDD",$),ce(["DDD","DDDD"],function(e,t,n){n._dayOfYear=M(e)}),I("m",["mm",2],0,"minute"),C("minute","m"),F("minute",14),ue("m",B),ue("mm",B,z),ce(["m","mm"],pe);var un=Te("Minutes",!1);I("s",["ss",2],0,"second"),C("second","s"),F("second",15),ue("s",B),ue("ss",B,z),ce(["s","ss"],ve);var ln,hn=Te("Seconds",!1);for(I("S",0,0,function(){return~~(this.millisecond()/100)}),I(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),I(0,["SSS",3],0,"millisecond"),I(0,["SSSS",4],0,function(){return 10*this.millisecond()}),I(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),I(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),I(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),I(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),I(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),C("millisecond","ms"),F("millisecond",16),ue("S",K,Z),ue("SS",K,z),ue("SSS",K,$),ln="SSSS";ln.length<=9;ln+="S")ue(ln,ne);function dn(e,t){t[we]=M(1e3*("0."+e))}for(ln="S";ln.length<=9;ln+="S")ce(ln,dn);var cn=Te("Milliseconds",!1);I("z",0,0,"zoneAbbr"),I("zz",0,0,"zoneName");var fn=p.prototype;function mn(e){return e}fn.add=qt,fn.calendar=function(e,t){var s=e||Tt(),i=Nt(s,this).startOf("day"),r=n.calendarFormat(this,i)||"sameElse",a=t&&(b(t[r])?t[r].call(this,s):t[r]);return this.format(a||this.localeData().calendar(r,this,Tt(s)))},fn.clone=function(){return new p(this)},fn.diff=function(e,t,n){var s,i,r;if(!this.isValid())return NaN;if(!(s=Nt(e,this)).isValid())return NaN;switch(i=6e4*(s.utcOffset()-this.utcOffset()),t=H(t)){case"year":r=Bt(this,s)/12;break;case"month":r=Bt(this,s);break;case"quarter":r=Bt(this,s)/3;break;case"second":r=(this-s)/1e3;break;case"minute":r=(this-s)/6e4;break;case"hour":r=(this-s)/36e5;break;case"day":r=(this-s-i)/864e5;break;case"week":r=(this-s-i)/6048e5;break;default:r=this-s}return n?r:w(r)},fn.endOf=function(e){var t;if(void 0===(e=H(e))||"millisecond"===e||!this.isValid())return this;var s=this._isUTC?sn:nn;switch(e){case"year":t=s(this.year()+1,0,1)-1;break;case"quarter":t=s(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=s(this.year(),this.month()+1,1)-1;break;case"week":t=s(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=s(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=36e5-tn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":t=this._d.valueOf(),t+=6e4-tn(t,6e4)-1;break;case"second":t=this._d.valueOf(),t+=1e3-tn(t,1e3)-1}return this._d.setTime(t),n.updateOffset(this,!0),this},fn.format=function(e){e||(e=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var t=A(this,e);return this.localeData().postformat(t)},fn.from=function(e,t){return this.isValid()&&(v(e)&&e.isValid()||Tt(e).isValid())?At({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},fn.fromNow=function(e){return this.from(Tt(),e)},fn.to=function(e,t){return this.isValid()&&(v(e)&&e.isValid()||Tt(e).isValid())?At({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},fn.toNow=function(e){return this.to(Tt(),e)},fn.get=function(e){return b(this[e=H(e)])?this[e]():this},fn.invalidAt=function(){return c(this).overflow},fn.isAfter=function(e,t){var n=v(e)?e:Tt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=H(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},fn.isBefore=function(e,t){var n=v(e)?e:Tt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=H(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},fn.isBetween=function(e,t,n,s){var i=v(e)?e:Tt(e),r=v(t)?t:Tt(t);return!!(this.isValid()&&i.isValid()&&r.isValid())&&("("===(s=s||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===s[1]?this.isBefore(r,n):!this.isAfter(r,n))},fn.isSame=function(e,t){var n,s=v(e)?e:Tt(e);return!(!this.isValid()||!s.isValid())&&("millisecond"===(t=H(t)||"millisecond")?this.valueOf()===s.valueOf():(n=s.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},fn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},fn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},fn.isValid=function(){return f(this)},fn.lang=Xt,fn.locale=Qt,fn.localeData=Kt,fn.max=xt,fn.min=bt,fn.parsingFlags=function(){return h({},c(this))},fn.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:U[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}(e=R(e)),s=0;s<n.length;s++)this[n[s].unit](e[n[s].unit]);else if(b(this[e=H(e)]))return this[e](t);return this},fn.startOf=function(e){var t;if(void 0===(e=H(e))||"millisecond"===e||!this.isValid())return this;var s=this._isUTC?sn:nn;switch(e){case"year":t=s(this.year(),0,1);break;case"quarter":t=s(this.year(),this.month()-this.month()%3,1);break;case"month":t=s(this.year(),this.month(),1);break;case"week":t=s(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=s(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=tn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":t=this._d.valueOf(),t-=tn(t,6e4);break;case"second":t=this._d.valueOf(),t-=tn(t,1e3)}return this._d.setTime(t),n.updateOffset(this,!0),this},fn.subtract=Jt,fn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},fn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},fn.toDate=function(){return new Date(this.valueOf())},fn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||9999<n.year()?A(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):b(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",A(n,"Z")):A(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},fn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',s=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=t+'[")]';return this.format(n+s+"-MM-DD[T]HH:mm:ss.SSS"+i)},fn.toJSON=function(){return this.isValid()?this.toISOString():null},fn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},fn.unix=function(){return Math.floor(this.valueOf()/1e3)},fn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},fn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},fn.year=Oe,fn.isLeapYear=function(){return De(this.year())},fn.weekYear=function(e){return an.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},fn.isoWeekYear=function(e){return an.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},fn.quarter=fn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},fn.month=Ue,fn.daysInMonth=function(){return Pe(this.year(),this.month())},fn.week=fn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},fn.isoWeek=fn.isoWeeks=function(e){var t=Ie(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},fn.weeksInYear=function(){var e=this.localeData()._week;return Ae(this.year(),e.dow,e.doy)},fn.isoWeeksInYear=function(){return Ae(this.year(),1,4)},fn.date=on,fn.day=fn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t,n,s=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(t=e,n=this.localeData(),e="string"!=typeof t?t:isNaN(t)?"number"==typeof(t=n.weekdaysParse(t))?t:null:parseInt(t,10),this.add(e-s,"d")):s},fn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},fn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null==e)return this.day()||7;var t,n,s=(t=e,n=this.localeData(),"string"==typeof t?n.weekdaysParse(t)%7||7:isNaN(t)?null:t);return this.day(this.day()%7?s:s-7)},fn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},fn.hour=fn.hours=nt,fn.minute=fn.minutes=un,fn.second=fn.seconds=hn,fn.millisecond=fn.milliseconds=cn,fn.utcOffset=function(e,t,s){var i,r=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null==e)return this._isUTC?r:Gt(this);if("string"==typeof e){if(null===(e=Lt(re,e)))return this}else Math.abs(e)<16&&!s&&(e*=60);return!this._isUTC&&t&&(i=Gt(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==e&&(!t||this._changeInProgress?$t(this,At(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this},fn.utc=function(e){return this.utcOffset(0,e)},fn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Gt(this),"m")),this},fn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Lt(ie,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},fn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Tt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},fn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},fn.isLocal=function(){return!!this.isValid()&&!this._isUTC},fn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},fn.isUtc=Vt,fn.isUTC=Vt,fn.zoneAbbr=function(){return this._isUTC?"UTC":""},fn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},fn.dates=D("dates accessor is deprecated. Use date instead.",on),fn.months=D("months accessor is deprecated. Use month instead",Ue),fn.years=D("years accessor is deprecated. Use year instead",Oe),fn.zone=D("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),fn.isDSTShifted=D("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!r(this._isDSTShifted))return this._isDSTShifted;var e={};if(y(e,this),(e=Yt(e))._a){var t=e._isUTC?d(e._a):Tt(e._a);this._isDSTShifted=this.isValid()&&0<k(e._a,t.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var _n=P.prototype;function yn(e,t,n,s){var i=ht(),r=d().set(s,t);return i[n](r,e)}function gn(e,t,n){if(a(e)&&(t=e,e=void 0),e=e||"",null!=t)return yn(e,t,n,"month");var s,i=[];for(s=0;s<12;s++)i[s]=yn(e,s,n,"month");return i}function pn(e,t,n,s){"boolean"==typeof e?a(t)&&(n=t,t=void 0):(t=e,e=!1,a(n=t)&&(n=t,t=void 0)),t=t||"";var i,r=ht(),o=e?r._week.dow:0;if(null!=n)return yn(t,(n+o)%7,s,"day");var u=[];for(i=0;i<7;i++)u[i]=yn(t,(i+o)%7,s,"day");return u}_n.calendar=function(e,t,n){var s=this._calendar[e]||this._calendar.sameElse;return b(s)?s.call(t,n):s},_n.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},_n.invalidDate=function(){return this._invalidDate},_n.ordinal=function(e){return this._ordinal.replace("%d",e)},_n.preparse=mn,_n.postformat=mn,_n.relativeTime=function(e,t,n,s){var i=this._relativeTime[n];return b(i)?i(e,t,n,s):i.replace(/%d/i,e)},_n.pastFuture=function(e,t){var n=this._relativeTime[0<e?"future":"past"];return b(n)?n(t):n.replace(/%s/i,t)},_n.set=function(e){var t,n;for(n in e)b(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},_n.months=function(e,t){return e?s(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||We).test(t)?"format":"standalone"][e.month()]:s(this._months)?this._months:this._months.standalone},_n.monthsShort=function(e,t){return e?s(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[We.test(t)?"format":"standalone"][e.month()]:s(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},_n.monthsParse=function(e,t,n){var s,i,r;if(this._monthsParseExact)return function(e,t,n){var s,i,r,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)r=d([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(r,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=Ye.call(this._shortMonthsParse,a))?i:null:-1!==(i=Ye.call(this._longMonthsParse,a))?i:null:"MMM"===t?-1!==(i=Ye.call(this._shortMonthsParse,a))?i:-1!==(i=Ye.call(this._longMonthsParse,a))?i:null:-1!==(i=Ye.call(this._longMonthsParse,a))?i:-1!==(i=Ye.call(this._shortMonthsParse,a))?i:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(i=d([2e3,s]),n&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[s]||(r="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[s]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[s].test(e))return s;if(n&&"MMM"===t&&this._shortMonthsParse[s].test(e))return s;if(!n&&this._monthsParse[s].test(e))return s}},_n.monthsRegex=function(e){return this._monthsParseExact?(l(this,"_monthsRegex")||Ne.call(this),e?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=Le),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},_n.monthsShortRegex=function(e){return this._monthsParseExact?(l(this,"_monthsRegex")||Ne.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=Fe),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},_n.week=function(e){return Ie(e,this._week.dow,this._week.doy).week},_n.firstDayOfYear=function(){return this._week.doy},_n.firstDayOfWeek=function(){return this._week.dow},_n.weekdays=function(e,t){var n=s(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?je(n,this._week.dow):e?n[e.day()]:n},_n.weekdaysMin=function(e){return!0===e?je(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},_n.weekdaysShort=function(e){return!0===e?je(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},_n.weekdaysParse=function(e,t,n){var s,i,r;if(this._weekdaysParseExact)return function(e,t,n){var s,i,r,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)r=d([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(r,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=Ye.call(this._weekdaysParse,a))?i:null:"ddd"===t?-1!==(i=Ye.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=Ye.call(this._minWeekdaysParse,a))?i:null:"dddd"===t?-1!==(i=Ye.call(this._weekdaysParse,a))?i:-1!==(i=Ye.call(this._shortWeekdaysParse,a))?i:-1!==(i=Ye.call(this._minWeekdaysParse,a))?i:null:"ddd"===t?-1!==(i=Ye.call(this._shortWeekdaysParse,a))?i:-1!==(i=Ye.call(this._weekdaysParse,a))?i:-1!==(i=Ye.call(this._minWeekdaysParse,a))?i:null:-1!==(i=Ye.call(this._minWeekdaysParse,a))?i:-1!==(i=Ye.call(this._weekdaysParse,a))?i:-1!==(i=Ye.call(this._shortWeekdaysParse,a))?i:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(i=d([2e3,1]).day(s),n&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[s]||(r="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[s]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[s].test(e))return s;if(n&&"ddd"===t&&this._shortWeekdaysParse[s].test(e))return s;if(n&&"dd"===t&&this._minWeekdaysParse[s].test(e))return s;if(!n&&this._weekdaysParse[s].test(e))return s}},_n.weekdaysRegex=function(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Qe.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=qe),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},_n.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Qe.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Je),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},_n.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Qe.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Be),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},_n.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},_n.meridiem=function(e,t,n){return 11<e?n?"pm":"PM":n?"am":"AM"},ut("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===M(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),n.lang=D("moment.lang is deprecated. Use moment.locale instead.",ut),n.langData=D("moment.langData is deprecated. Use moment.localeData instead.",ht);var vn=Math.abs;function wn(e,t,n,s){var i=At(t,n);return e._milliseconds+=s*i._milliseconds,e._days+=s*i._days,e._months+=s*i._months,e._bubble()}function Mn(e){return e<0?Math.floor(e):Math.ceil(e)}function kn(e){return 4800*e/146097}function Sn(e){return 146097*e/4800}function Dn(e){return function(){return this.as(e)}}var Yn=Dn("ms"),On=Dn("s"),Tn=Dn("m"),bn=Dn("h"),xn=Dn("d"),Pn=Dn("w"),Wn=Dn("M"),Cn=Dn("Q"),Hn=Dn("y");function Rn(e){return function(){return this.isValid()?this._data[e]:NaN}}var Un=Rn("milliseconds"),Fn=Rn("seconds"),Ln=Rn("minutes"),Nn=Rn("hours"),Gn=Rn("days"),Vn=Rn("months"),En=Rn("years"),In=Math.round,An={ss:44,s:45,m:45,h:22,d:26,M:11},jn=Math.abs;function Zn(e){return(0<e)-(e<0)||+e}function zn(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=jn(this._milliseconds)/1e3,s=jn(this._days),i=jn(this._months);t=w((e=w(n/60))/60),n%=60,e%=60;var r=w(i/12),a=i%=12,o=s,u=t,l=e,h=n?n.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var c=d<0?"-":"",f=Zn(this._months)!==Zn(d)?"-":"",m=Zn(this._days)!==Zn(d)?"-":"",_=Zn(this._milliseconds)!==Zn(d)?"-":"";return c+"P"+(r?f+r+"Y":"")+(a?f+a+"M":"")+(o?m+o+"D":"")+(u||l||h?"T":"")+(u?_+u+"H":"")+(l?_+l+"M":"")+(h?_+h+"S":"")}var $n=Ct.prototype;return $n.isValid=function(){return this._isValid},$n.abs=function(){var e=this._data;return this._milliseconds=vn(this._milliseconds),this._days=vn(this._days),this._months=vn(this._months),e.milliseconds=vn(e.milliseconds),e.seconds=vn(e.seconds),e.minutes=vn(e.minutes),e.hours=vn(e.hours),e.months=vn(e.months),e.years=vn(e.years),this},$n.add=function(e,t){return wn(this,e,t,1)},$n.subtract=function(e,t){return wn(this,e,t,-1)},$n.as=function(e){if(!this.isValid())return NaN;var t,n,s=this._milliseconds;if("month"===(e=H(e))||"quarter"===e||"year"===e)switch(t=this._days+s/864e5,n=this._months+kn(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Sn(this._months)),e){case"week":return t/7+s/6048e5;case"day":return t+s/864e5;case"hour":return 24*t+s/36e5;case"minute":return 1440*t+s/6e4;case"second":return 86400*t+s/1e3;case"millisecond":return Math.floor(864e5*t)+s;default:throw new Error("Unknown unit "+e)}},$n.asMilliseconds=Yn,$n.asSeconds=On,$n.asMinutes=Tn,$n.asHours=bn,$n.asDays=xn,$n.asWeeks=Pn,$n.asMonths=Wn,$n.asQuarters=Cn,$n.asYears=Hn,$n.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*M(this._months/12):NaN},$n._bubble=function(){var e,t,n,s,i,r=this._milliseconds,a=this._days,o=this._months,u=this._data;return 0<=r&&0<=a&&0<=o||r<=0&&a<=0&&o<=0||(r+=864e5*Mn(Sn(o)+a),o=a=0),u.milliseconds=r%1e3,e=w(r/1e3),u.seconds=e%60,t=w(e/60),u.minutes=t%60,n=w(t/60),u.hours=n%24,o+=i=w(kn(a+=w(n/24))),a-=Mn(Sn(i)),s=w(o/12),o%=12,u.days=a,u.months=o,u.years=s,this},$n.clone=function(){return At(this)},$n.get=function(e){return e=H(e),this.isValid()?this[e+"s"]():NaN},$n.milliseconds=Un,$n.seconds=Fn,$n.minutes=Ln,$n.hours=Nn,$n.days=Gn,$n.weeks=function(){return w(this.days()/7)},$n.months=Vn,$n.years=En,$n.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t,n,s,i,r,a,o,u,l,h,d=this.localeData(),c=(t=!e,n=d,s=At(this).abs(),i=In(s.as("s")),r=In(s.as("m")),a=In(s.as("h")),o=In(s.as("d")),u=In(s.as("M")),l=In(s.as("y")),(h=i<=An.ss&&["s",i]||i<An.s&&["ss",i]||r<=1&&["m"]||r<An.m&&["mm",r]||a<=1&&["h"]||a<An.h&&["hh",a]||o<=1&&["d"]||o<An.d&&["dd",o]||u<=1&&["M"]||u<An.M&&["MM",u]||l<=1&&["y"]||["yy",l])[2]=t,h[3]=0<+this,h[4]=n,function(e,t,n,s,i){return i.relativeTime(t||1,!!n,e,s)}.apply(null,h));return e&&(c=d.pastFuture(+this,c)),d.postformat(c)},$n.toISOString=zn,$n.toString=zn,$n.toJSON=zn,$n.locale=Qt,$n.localeData=Kt,$n.toIsoString=D("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",zn),$n.lang=Xt,I("X",0,0,"unix"),I("x",0,0,"valueOf"),ue("x",se),ue("X",/[+-]?\d+(\.\d{1,3})?/),ce("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),ce("x",function(e,t,n){n._d=new Date(M(e))}),n.version="2.24.0",e=Tt,n.fn=fn,n.min=function(){return Pt("isBefore",[].slice.call(arguments,0))},n.max=function(){return Pt("isAfter",[].slice.call(arguments,0))},n.now=function(){return Date.now?Date.now():+new Date},n.utc=d,n.unix=function(e){return Tt(1e3*e)},n.months=function(e,t){return gn(e,t,"months")},n.isDate=o,n.locale=ut,n.invalid=m,n.duration=At,n.isMoment=v,n.weekdays=function(e,t,n){return pn(e,t,n,"weekdays")},n.parseZone=function(){return Tt.apply(null,arguments).parseZone()},n.localeData=ht,n.isDuration=Ht,n.monthsShort=function(e,t){return gn(e,t,"monthsShort")},n.weekdaysMin=function(e,t,n){return pn(e,t,n,"weekdaysMin")},n.defineLocale=lt,n.updateLocale=function(e,t){if(null!=t){var n,s,i=st;null!=(s=ot(e))&&(i=s._config),(n=new P(t=x(i,t))).parentLocale=it[e],it[e]=n,ut(e)}else null!=it[e]&&(null!=it[e].parentLocale?it[e]=it[e].parentLocale:null!=it[e]&&delete it[e]);return it[e]},n.locales=function(){return Y(it)},n.weekdaysShort=function(e,t,n){return pn(e,t,n,"weekdaysShort")},n.normalizeUnits=H,n.relativeTimeRounding=function(e){return void 0===e?In:"function"==typeof e&&(In=e,!0)},n.relativeTimeThreshold=function(e,t){return void 0!==An[e]&&(void 0===t?An[e]:(An[e]=t,"s"===e&&(An.ss=t-1),!0))},n.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},n.prototype=fn,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n});
!function(t,e){if("function"==typeof define&&define.amd)define(["moment","jquery"],function(t,a){return a.fn||(a.fn={}),"function"!=typeof t&&t.default&&(t=t.default),e(t,a)});else if("object"==typeof module&&module.exports){var a="undefined"!=typeof window?window.jQuery:void 0;a||(a=require("jquery")).fn||(a.fn={});var i="undefined"!=typeof window&&void 0!==window.moment?window.moment:require("moment");module.exports=e(i,a)}else t.daterangepicker=e(t.moment,t.jQuery)}(this,function(t,e){var a=function(a,i,s){if(this.parentEl="body",this.element=e(a),this.startDate=t().startOf("day"),this.endDate=t().endOf("day"),this.minDate=!1,this.maxDate=!1,this.maxSpan=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.minYear=t().subtract(100,"year").format("YYYY"),this.maxYear=t().add(100,"year").format("YYYY"),this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.showCustomRangeLabel=!0,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyButtonClasses="btn-primary",this.cancelButtonClasses="btn-default",this.locale={direction:"ltr",format:t.localeData().longDateFormat("L"),separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:t.weekdaysMin(),monthNames:t.monthsShort(),firstDay:t.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},"object"==typeof i&&null!==i||(i={}),"string"==typeof(i=e.extend(this.element.data(),i)).template||i.template instanceof e||(i.template='<div class="daterangepicker"><div class="ranges"></div><div class="drp-calendar left"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-calendar right"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-buttons"><span class="drp-selected"></span><button class="cancelBtn" type="button"></button><button class="applyBtn" disabled="disabled" type="button"></button> </div></div>'),this.parentEl=i.parentEl&&e(i.parentEl).length?e(i.parentEl):e(this.parentEl),this.container=e(i.template).appendTo(this.parentEl),"object"==typeof i.locale&&("string"==typeof i.locale.direction&&(this.locale.direction=i.locale.direction),"string"==typeof i.locale.format&&(this.locale.format=i.locale.format),"string"==typeof i.locale.separator&&(this.locale.separator=i.locale.separator),"object"==typeof i.locale.daysOfWeek&&(this.locale.daysOfWeek=i.locale.daysOfWeek.slice()),"object"==typeof i.locale.monthNames&&(this.locale.monthNames=i.locale.monthNames.slice()),"number"==typeof i.locale.firstDay&&(this.locale.firstDay=i.locale.firstDay),"string"==typeof i.locale.applyLabel&&(this.locale.applyLabel=i.locale.applyLabel),"string"==typeof i.locale.cancelLabel&&(this.locale.cancelLabel=i.locale.cancelLabel),"string"==typeof i.locale.weekLabel&&(this.locale.weekLabel=i.locale.weekLabel),"string"==typeof i.locale.customRangeLabel)){(p=document.createElement("textarea")).innerHTML=i.locale.customRangeLabel;var n=p.value;this.locale.customRangeLabel=n}if(this.container.addClass(this.locale.direction),"string"==typeof i.startDate&&(this.startDate=t(i.startDate,this.locale.format)),"string"==typeof i.endDate&&(this.endDate=t(i.endDate,this.locale.format)),"string"==typeof i.minDate&&(this.minDate=t(i.minDate,this.locale.format)),"string"==typeof i.maxDate&&(this.maxDate=t(i.maxDate,this.locale.format)),"object"==typeof i.startDate&&(this.startDate=t(i.startDate)),"object"==typeof i.endDate&&(this.endDate=t(i.endDate)),"object"==typeof i.minDate&&(this.minDate=t(i.minDate)),"object"==typeof i.maxDate&&(this.maxDate=t(i.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof i.applyButtonClasses&&(this.applyButtonClasses=i.applyButtonClasses),"string"==typeof i.applyClass&&(this.applyButtonClasses=i.applyClass),"string"==typeof i.cancelButtonClasses&&(this.cancelButtonClasses=i.cancelButtonClasses),"string"==typeof i.cancelClass&&(this.cancelButtonClasses=i.cancelClass),"object"==typeof i.maxSpan&&(this.maxSpan=i.maxSpan),"object"==typeof i.dateLimit&&(this.maxSpan=i.dateLimit),"string"==typeof i.opens&&(this.opens=i.opens),"string"==typeof i.drops&&(this.drops=i.drops),"boolean"==typeof i.showWeekNumbers&&(this.showWeekNumbers=i.showWeekNumbers),"boolean"==typeof i.showISOWeekNumbers&&(this.showISOWeekNumbers=i.showISOWeekNumbers),"string"==typeof i.buttonClasses&&(this.buttonClasses=i.buttonClasses),"object"==typeof i.buttonClasses&&(this.buttonClasses=i.buttonClasses.join(" ")),"boolean"==typeof i.showDropdowns&&(this.showDropdowns=i.showDropdowns),"number"==typeof i.minYear&&(this.minYear=i.minYear),"number"==typeof i.maxYear&&(this.maxYear=i.maxYear),"boolean"==typeof i.showCustomRangeLabel&&(this.showCustomRangeLabel=i.showCustomRangeLabel),"boolean"==typeof i.singleDatePicker&&(this.singleDatePicker=i.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof i.timePicker&&(this.timePicker=i.timePicker),"boolean"==typeof i.timePickerSeconds&&(this.timePickerSeconds=i.timePickerSeconds),"number"==typeof i.timePickerIncrement&&(this.timePickerIncrement=i.timePickerIncrement),"boolean"==typeof i.timePicker24Hour&&(this.timePicker24Hour=i.timePicker24Hour),"boolean"==typeof i.autoApply&&(this.autoApply=i.autoApply),"boolean"==typeof i.autoUpdateInput&&(this.autoUpdateInput=i.autoUpdateInput),"boolean"==typeof i.linkedCalendars&&(this.linkedCalendars=i.linkedCalendars),"function"==typeof i.isInvalidDate&&(this.isInvalidDate=i.isInvalidDate),"function"==typeof i.isCustomDate&&(this.isCustomDate=i.isCustomDate),"boolean"==typeof i.alwaysShowCalendars&&(this.alwaysShowCalendars=i.alwaysShowCalendars),0!=this.locale.firstDay)for(var r=this.locale.firstDay;r>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),r--;var o,l,h;if(void 0===i.startDate&&void 0===i.endDate&&e(this.element).is(":text")){var c=e(this.element).val(),d=c.split(this.locale.separator);o=l=null,2==d.length?(o=t(d[0],this.locale.format),l=t(d[1],this.locale.format)):this.singleDatePicker&&""!==c&&(o=t(c,this.locale.format),l=t(c,this.locale.format)),null!==o&&null!==l&&(this.setStartDate(o),this.setEndDate(l))}if("object"==typeof i.ranges){for(h in i.ranges){o="string"==typeof i.ranges[h][0]?t(i.ranges[h][0],this.locale.format):t(i.ranges[h][0]),l="string"==typeof i.ranges[h][1]?t(i.ranges[h][1],this.locale.format):t(i.ranges[h][1]),this.minDate&&o.isBefore(this.minDate)&&(o=this.minDate.clone());var m=this.maxDate;if(this.maxSpan&&m&&o.clone().add(this.maxSpan).isAfter(m)&&(m=o.clone().add(this.maxSpan)),m&&l.isAfter(m)&&(l=m.clone()),!(this.minDate&&l.isBefore(this.minDate,this.timepicker?"minute":"day")||m&&o.isAfter(m,this.timepicker?"minute":"day"))){var p;(p=document.createElement("textarea")).innerHTML=h;n=p.value;this.ranges[n]=[o,l]}}var f="<ul>";for(h in this.ranges)f+='<li data-range-key="'+h+'">'+h+"</li>";this.showCustomRangeLabel&&(f+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"</li>"),f+="</ul>",this.container.find(".ranges").prepend(f)}"function"==typeof s&&(this.callback=s),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&this.container.addClass("auto-apply"),"object"==typeof i.ranges&&this.container.addClass("show-ranges"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".drp-calendar.left").addClass("single"),this.container.find(".drp-calendar.left").show(),this.container.find(".drp-calendar.right").hide(),this.timePicker||this.container.addClass("auto-apply")),(void 0===i.ranges&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),this.applyButtonClasses.length&&this.container.find(".applyBtn").addClass(this.applyButtonClasses),this.cancelButtonClasses.length&&this.container.find(".cancelBtn").addClass(this.cancelButtonClasses),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".drp-calendar").on("click.daterangepicker",".prev",e.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",e.proxy(this.clickNext,this)).on("mousedown.daterangepicker","td.available",e.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",e.proxy(this.hoverDate,this)).on("change.daterangepicker","select.yearselect",e.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",e.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",e.proxy(this.timeChanged,this)),this.container.find(".ranges").on("click.daterangepicker","li",e.proxy(this.clickRange,this)),this.container.find(".drp-buttons").on("click.daterangepicker","button.applyBtn",e.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",e.proxy(this.clickCancel,this)),this.element.is("input")||this.element.is("button")?this.element.on({"click.daterangepicker":e.proxy(this.show,this),"focus.daterangepicker":e.proxy(this.show,this),"keyup.daterangepicker":e.proxy(this.elementChanged,this),"keydown.daterangepicker":e.proxy(this.keydown,this)}):(this.element.on("click.daterangepicker",e.proxy(this.toggle,this)),this.element.on("keydown.daterangepicker",e.proxy(this.toggle,this))),this.updateElement()};return a.prototype={constructor:a,setStartDate:function(e){"string"==typeof e&&(this.startDate=t(e,this.locale.format)),"object"==typeof e&&(this.startDate=t(e)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(e){"string"==typeof e&&(this.endDate=t(e,this.locale.format)),"object"==typeof e&&(this.endDate=t(e)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),this.maxSpan&&this.startDate.clone().add(this.maxSpan).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.maxSpan)),this.previousRightTime=this.endDate.clone(),this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},isCustomDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").prop("disabled",!1).removeClass("disabled"):this.container.find(".right .calendar-time select").prop("disabled",!0).addClass("disabled")),this.endDate&&this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"):this.rightCalendar.month=this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))},updateCalendars:function(){if(this.timePicker){var t,e,a,i;if(this.endDate){if(t=parseInt(this.container.find(".left .hourselect").val(),10),e=parseInt(this.container.find(".left .minuteselect").val(),10),isNaN(e)&&(e=parseInt(this.container.find(".left .minuteselect option:last").val(),10)),a=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,!this.timePicker24Hour)"PM"===(i=this.container.find(".left .ampmselect").val())&&t<12&&(t+=12),"AM"===i&&12===t&&(t=0)}else if(t=parseInt(this.container.find(".right .hourselect").val(),10),e=parseInt(this.container.find(".right .minuteselect").val(),10),isNaN(e)&&(e=parseInt(this.container.find(".right .minuteselect option:last").val(),10)),a=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,!this.timePicker24Hour)"PM"===(i=this.container.find(".right .ampmselect").val())&&t<12&&(t+=12),"AM"===i&&12===t&&(t=0);this.leftCalendar.month.hour(t).minute(e).second(a),this.rightCalendar.month.hour(t).minute(e).second(a)}this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active"),null!=this.endDate&&this.calculateChosenLabel()},renderCalendar:function(a){var i,s=(i="left"==a?this.leftCalendar:this.rightCalendar).month.month(),n=i.month.year(),r=i.month.hour(),o=i.month.minute(),l=i.month.second(),h=t([n,s]).daysInMonth(),c=t([n,s,1]),d=t([n,s,h]),m=t(c).subtract(1,"month").month(),p=t(c).subtract(1,"month").year(),f=t([p,m]).daysInMonth(),u=c.day();(i=[]).firstDay=c,i.lastDay=d;for(var D=0;D<6;D++)i[D]=[];var g=f-u+this.locale.firstDay+1;g>f&&(g-=7),u==this.locale.firstDay&&(g=f-6);for(var y=t([p,m,g,12,o,l]),k=(D=0,0),b=0;D<42;D++,k++,y=t(y).add(24,"hour"))D>0&&k%7==0&&(k=0,b++),i[b][k]=y.clone().hour(r).minute(o).second(l),y.hour(12),this.minDate&&i[b][k].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&i[b][k].isBefore(this.minDate)&&"left"==a&&(i[b][k]=this.minDate.clone()),this.maxDate&&i[b][k].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&i[b][k].isAfter(this.maxDate)&&"right"==a&&(i[b][k]=this.maxDate.clone());"left"==a?this.leftCalendar.calendar=i:this.rightCalendar.calendar=i;var v="left"==a?this.minDate:this.startDate,C=this.maxDate,Y=("left"==a?this.startDate:this.endDate,this.locale.direction,'<table class="table-condensed">');Y+="<thead>",Y+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(Y+="<th></th>"),v&&!v.isBefore(i.firstDay)||this.linkedCalendars&&"left"!=a?Y+="<th></th>":Y+='<th class="prev available"><span></span></th>';var w=this.locale.monthNames[i[1][1].month()]+i[1][1].format(" YYYY");if(this.showDropdowns){for(var P=i[1][1].month(),x=i[1][1].year(),M=C&&C.year()||this.maxYear,I=v&&v.year()||this.minYear,S=x==I,B=x==M,L='<select class="monthselect">',A=0;A<12;A++)(!S||v&&A>=v.month())&&(!B||C&&A<=C.month())?L+="<option value='"+A+"'"+(A===P?" selected='selected'":"")+">"+this.locale.monthNames[A]+"</option>":L+="<option value='"+A+"'"+(A===P?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[A]+"</option>";L+="</select>";for(var N='<select class="yearselect">',E=I;E<=M;E++)N+='<option value="'+E+'"'+(E===x?' selected="selected"':"")+">"+E+"</option>";w=L+(N+="</select>")}if(Y+='<th colspan="5" class="month">'+w+"</th>",C&&!C.isAfter(i.lastDay)||this.linkedCalendars&&"right"!=a&&!this.singleDatePicker?Y+="<th></th>":Y+='<th class="next available"><span></span></th>',Y+="</tr>",Y+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(Y+='<th class="week">'+this.locale.weekLabel+"</th>"),e.each(this.locale.daysOfWeek,function(t,e){Y+="<th>"+e+"</th>"}),Y+="</tr>",Y+="</thead>",Y+="<tbody>",null==this.endDate&&this.maxSpan){var W=this.startDate.clone().add(this.maxSpan).endOf("day");C&&!W.isBefore(C)||(C=W)}for(b=0;b<6;b++){Y+="<tr>",this.showWeekNumbers?Y+='<td class="week">'+i[b][0].week()+"</td>":this.showISOWeekNumbers&&(Y+='<td class="week">'+i[b][0].isoWeek()+"</td>");for(k=0;k<7;k++){var O=[];i[b][k].isSame(new Date,"day")&&O.push("today"),i[b][k].isoWeekday()>5&&O.push("weekend"),i[b][k].month()!=i[1][1].month()&&O.push("off","ends"),this.minDate&&i[b][k].isBefore(this.minDate,"day")&&O.push("off","disabled"),C&&i[b][k].isAfter(C,"day")&&O.push("off","disabled"),this.isInvalidDate(i[b][k])&&O.push("off","disabled"),i[b][k].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&O.push("active","start-date"),null!=this.endDate&&i[b][k].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&O.push("active","end-date"),null!=this.endDate&&i[b][k]>this.startDate&&i[b][k]<this.endDate&&O.push("in-range");var H=this.isCustomDate(i[b][k]);!1!==H&&("string"==typeof H?O.push(H):Array.prototype.push.apply(O,H));var j="",R=!1;for(D=0;D<O.length;D++)j+=O[D]+" ","disabled"==O[D]&&(R=!0);R||(j+="available"),Y+='<td class="'+j.replace(/^\s+|\s+$/g,"")+'" data-title="r'+b+"c"+k+'">'+i[b][k].date()+"</td>"}Y+="</tr>"}Y+="</tbody>",Y+="</table>",this.container.find(".drp-calendar."+a+" .calendar-table").html(Y)},renderTimePicker:function(t){if("right"!=t||this.endDate){var e,a,i,s=this.maxDate;if(!this.maxSpan||this.maxDate&&!this.startDate.clone().add(this.maxSpan).isBefore(this.maxDate)||(s=this.startDate.clone().add(this.maxSpan)),"left"==t)a=this.startDate.clone(),i=this.minDate;else if("right"==t){a=this.endDate.clone(),i=this.startDate;var n=this.container.find(".drp-calendar.right .calendar-time");if(""!=n.html()&&(a.hour(isNaN(a.hour())?n.find(".hourselect option:selected").val():a.hour()),a.minute(isNaN(a.minute())?n.find(".minuteselect option:selected").val():a.minute()),a.second(isNaN(a.second())?n.find(".secondselect option:selected").val():a.second()),!this.timePicker24Hour)){var r=n.find(".ampmselect option:selected").val();"PM"===r&&a.hour()<12&&a.hour(a.hour()+12),"AM"===r&&12===a.hour()&&a.hour(0)}a.isBefore(this.startDate)&&(a=this.startDate.clone()),s&&a.isAfter(s)&&(a=s.clone())}e='<select class="hourselect">';for(var o=this.timePicker24Hour?0:1,l=this.timePicker24Hour?23:12,h=o;h<=l;h++){var c=h;this.timePicker24Hour||(c=a.hour()>=12?12==h?12:h+12:12==h?0:h);var d=a.clone().hour(c),m=!1;i&&d.minute(59).isBefore(i)&&(m=!0),s&&d.minute(0).isAfter(s)&&(m=!0),c!=a.hour()||m?e+=m?'<option value="'+h+'" disabled="disabled" class="disabled">'+h+"</option>":'<option value="'+h+'">'+h+"</option>":e+='<option value="'+h+'" selected="selected">'+h+"</option>"}e+="</select> ",e+=': <select class="minuteselect">';for(h=0;h<60;h+=this.timePickerIncrement){var p=h<10?"0"+h:h;d=a.clone().minute(h),m=!1;i&&d.second(59).isBefore(i)&&(m=!0),s&&d.second(0).isAfter(s)&&(m=!0),a.minute()!=h||m?e+=m?'<option value="'+h+'" disabled="disabled" class="disabled">'+p+"</option>":'<option value="'+h+'">'+p+"</option>":e+='<option value="'+h+'" selected="selected">'+p+"</option>"}if(e+="</select> ",this.timePickerSeconds){e+=': <select class="secondselect">';for(h=0;h<60;h++){p=h<10?"0"+h:h,d=a.clone().second(h),m=!1;i&&d.isBefore(i)&&(m=!0),s&&d.isAfter(s)&&(m=!0),a.second()!=h||m?e+=m?'<option value="'+h+'" disabled="disabled" class="disabled">'+p+"</option>":'<option value="'+h+'">'+p+"</option>":e+='<option value="'+h+'" selected="selected">'+p+"</option>"}e+="</select> "}if(!this.timePicker24Hour){e+='<select class="ampmselect">';var f="",u="";i&&a.clone().hour(12).minute(0).second(0).isBefore(i)&&(f=' disabled="disabled" class="disabled"'),s&&a.clone().hour(0).minute(0).second(0).isAfter(s)&&(u=' disabled="disabled" class="disabled"'),a.hour()>=12?e+='<option value="AM"'+f+'>AM</option><option value="PM" selected="selected"'+u+">PM</option>":e+='<option value="AM" selected="selected"'+f+'>AM</option><option value="PM"'+u+">PM</option>",e+="</select>"}this.container.find(".drp-calendar."+t+" .calendar-time").html(e)}},updateFormInputs:function(){this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").prop("disabled",!1):this.container.find("button.applyBtn").prop("disabled",!0)},move:function(){var t,a={top:0,left:0},i=e(window).width();this.parentEl.is("body")||(a={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},i=this.parentEl[0].clientWidth+this.parentEl.offset().left),t="up"==this.drops?this.element.offset().top-this.container.outerHeight()-a.top:this.element.offset().top+this.element.outerHeight()-a.top,this.container.css({top:0,left:0,right:"auto"});var s=this.container.outerWidth();if(this.container["up"==this.drops?"addClass":"removeClass"]("drop-up"),"left"==this.opens){var n=i-this.element.offset().left-this.element.outerWidth();s+n>e(window).width()?this.container.css({top:t,right:"auto",left:9}):this.container.css({top:t,right:n,left:"auto"})}else if("center"==this.opens){(r=this.element.offset().left-a.left+this.element.outerWidth()/2-s/2)<0?this.container.css({top:t,right:"auto",left:9}):r+s>e(window).width()?this.container.css({top:t,left:"auto",right:0}):this.container.css({top:t,left:r,right:"auto"})}else{var r;(r=this.element.offset().left-a.left)+s>e(window).width()?this.container.css({top:t,left:"auto",right:0}):this.container.css({top:t,left:r,right:"auto"})}},show:function(t){this.isShowing||(this._outsideClickProxy=e.proxy(function(t){this.outsideClick(t)},this),e(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),e(window).on("resize.daterangepicker",e.proxy(function(t){this.move(t)},this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function(t){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate.clone(),this.endDate.clone(),this.chosenLabel),this.updateElement(),e(document).off(".daterangepicker"),e(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(t){this.isShowing?this.hide():this.show()},outsideClick:function(t){var a=e(t.target);"focusin"==t.type||a.closest(this.element).length||a.closest(this.container).length||a.closest(".calendar-table").length||(this.hide(),this.element.trigger("outsideClick.daterangepicker",this))},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},clickRange:function(t){var e=t.target.getAttribute("data-range-key");if(this.chosenLabel=e,e==this.locale.customRangeLabel)this.showCalendars();else{var a=this.ranges[e];this.startDate=a[0],this.endDate=a[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply()}},clickPrev:function(t){e(t.target).parents(".drp-calendar").hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(t){e(t.target).parents(".drp-calendar").hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()},hoverDate:function(t){if(e(t.target).hasClass("available")){var a=e(t.target).attr("data-title"),i=a.substr(1,1),s=a.substr(3,1),n=e(t.target).parents(".drp-calendar").hasClass("left")?this.leftCalendar.calendar[i][s]:this.rightCalendar.calendar[i][s],r=this.leftCalendar,o=this.rightCalendar,l=this.startDate;this.endDate||this.container.find(".drp-calendar tbody td").each(function(t,a){if(!e(a).hasClass("week")){var i=e(a).attr("data-title"),s=i.substr(1,1),h=i.substr(3,1),c=e(a).parents(".drp-calendar").hasClass("left")?r.calendar[s][h]:o.calendar[s][h];c.isAfter(l)&&c.isBefore(n)||c.isSame(n,"day")?e(a).addClass("in-range"):e(a).removeClass("in-range")}})}},clickDate:function(t){if(e(t.target).hasClass("available")){var a=e(t.target).attr("data-title"),i=a.substr(1,1),s=a.substr(3,1),n=e(t.target).parents(".drp-calendar").hasClass("left")?this.leftCalendar.calendar[i][s]:this.rightCalendar.calendar[i][s];if(this.endDate||n.isBefore(this.startDate,"day")){if(this.timePicker){var r=parseInt(this.container.find(".left .hourselect").val(),10);if(!this.timePicker24Hour)"PM"===(h=this.container.find(".left .ampmselect").val())&&r<12&&(r+=12),"AM"===h&&12===r&&(r=0);var o=parseInt(this.container.find(".left .minuteselect").val(),10);isNaN(o)&&(o=parseInt(this.container.find(".left .minuteselect option:last").val(),10));var l=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;n=n.clone().hour(r).minute(o).second(l)}this.endDate=null,this.setStartDate(n.clone())}else if(!this.endDate&&n.isBefore(this.startDate))this.setEndDate(this.startDate.clone());else{if(this.timePicker){var h;r=parseInt(this.container.find(".right .hourselect").val(),10);if(!this.timePicker24Hour)"PM"===(h=this.container.find(".right .ampmselect").val())&&r<12&&(r+=12),"AM"===h&&12===r&&(r=0);o=parseInt(this.container.find(".right .minuteselect").val(),10);isNaN(o)&&(o=parseInt(this.container.find(".right .minuteselect option:last").val(),10));l=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0;n=n.clone().hour(r).minute(o).second(l)}this.setEndDate(n.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply())}this.singleDatePicker&&(this.setEndDate(this.startDate),this.timePicker||this.clickApply()),this.updateView(),t.stopPropagation()}},calculateChosenLabel:function(){var t=!0,e=0;for(var a in this.ranges){if(this.timePicker){var i=this.timePickerSeconds?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD HH:mm";if(this.startDate.format(i)==this.ranges[a][0].format(i)&&this.endDate.format(i)==this.ranges[a][1].format(i)){t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").attr("data-range-key");break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[a][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[a][1].format("YYYY-MM-DD")){t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").attr("data-range-key");break}e++}t&&(this.showCustomRangeLabel?this.chosenLabel=this.container.find(".ranges li:last").addClass("active").attr("data-range-key"):this.chosenLabel=null,this.showCalendars())},clickApply:function(t){this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(t){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(t){var a=e(t.target).closest(".drp-calendar").hasClass("left"),i=a?"left":"right",s=this.container.find(".drp-calendar."+i),n=parseInt(s.find(".monthselect").val(),10),r=s.find(".yearselect").val();a||(r<this.startDate.year()||r==this.startDate.year()&&n<this.startDate.month())&&(n=this.startDate.month(),r=this.startDate.year()),this.minDate&&(r<this.minDate.year()||r==this.minDate.year()&&n<this.minDate.month())&&(n=this.minDate.month(),r=this.minDate.year()),this.maxDate&&(r>this.maxDate.year()||r==this.maxDate.year()&&n>this.maxDate.month())&&(n=this.maxDate.month(),r=this.maxDate.year()),a?(this.leftCalendar.month.month(n).year(r),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(n).year(r),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},timeChanged:function(t){var a=e(t.target).closest(".drp-calendar"),i=a.hasClass("left"),s=parseInt(a.find(".hourselect").val(),10),n=parseInt(a.find(".minuteselect").val(),10);isNaN(n)&&(n=parseInt(a.find(".minuteselect option:last").val(),10));var r=this.timePickerSeconds?parseInt(a.find(".secondselect").val(),10):0;if(!this.timePicker24Hour){var o=a.find(".ampmselect").val();"PM"===o&&s<12&&(s+=12),"AM"===o&&12===s&&(s=0)}if(i){var l=this.startDate.clone();l.hour(s),l.minute(n),l.second(r),this.setStartDate(l),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==l.format("YYYY-MM-DD")&&this.endDate.isBefore(l)&&this.setEndDate(l.clone())}else if(this.endDate){var h=this.endDate.clone();h.hour(s),h.minute(n),h.second(r),this.setEndDate(h)}this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("left"),this.renderTimePicker("right")},elementChanged:function(){if(this.element.is("input")&&this.element.val().length){var e=this.element.val().split(this.locale.separator),a=null,i=null;2===e.length&&(a=t(e[0],this.locale.format),i=t(e[1],this.locale.format)),(this.singleDatePicker||null===a||null===i)&&(i=a=t(this.element.val(),this.locale.format)),a.isValid()&&i.isValid()&&(this.setStartDate(a),this.setEndDate(i),this.updateView())}},keydown:function(t){9!==t.keyCode&&13!==t.keyCode||this.hide(),27===t.keyCode&&(t.preventDefault(),t.stopPropagation(),this.hide())},updateElement:function(){if(this.element.is("input")&&this.autoUpdateInput){var t=this.startDate.format(this.locale.format);this.singleDatePicker||(t+=this.locale.separator+this.endDate.format(this.locale.format)),t!==this.element.val()&&this.element.val(t).trigger("change")}},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData()}},e.fn.daterangepicker=function(t,i){var s=e.extend(!0,{},e.fn.daterangepicker.defaultOptions,t);return this.each(function(){var t=e(this);t.data("daterangepicker")&&t.data("daterangepicker").remove(),t.data("daterangepicker",new a(t,s,i))}),this},a});
!function(){var t={getRadarOption:function(t,a,r,e){var n={},i=t||[],o=a||[],d=r||[],c=[];return o.forEach(function(t,a){c.push(e)}),n.data={maxValue:c,value:o,description:i,subText:d},n.config={scale:.8,originOffset:[0,5],dataFill:{fillStyle:"rgba(254,115,0,0.2)"},bg:{layer:3,evenFillStyle:"#F2F4F6",oddFillStyle:"#F8F9FA",evenStrokeStyle:"#DCE3E8",oddStrokeStyle:"#DCE3E8"},dataCircle:{r:3,strokeStyle:"#FE7300",fillStyle:"#FE7300",lineWidth:2},dataLine:{strokeStyle:"rgba(254,115,0,0.5)",lineWidth:2},font:{fontColor:"#537C8D",subFontColor:"#9b9b9b"}},n},buildRadarPanel:function(t,a,r){var e=this,n=a.attr("data-project-id")||0,i=a.attr("data-project-name")||"",o=a.find(".title"),d=a.find(".score"),c=a.find(".percent");$.post(page.api_prefix+"/project/get_project_portrait_radar_map",{project_id:n},function(n){if(1===n.code&&n.result){var l=n.result,s=l.tagsName&&Array.isArray(l.tagsName)?l.tagsName:[],u=l.scores&&Array.isArray(l.scores)?l.scores:[],f=l.percents&&Array.isArray(l.percents)?l.percents:[],p=u.map(function(t,a){var r=(1*t).toFixed(0),e=parseInt(100*(f[a]||0));return r+(e>0?" (>"+e+"%)":"")}),y=parseInt(100*(l.surpass||0))||0,m=(1*l.summary||0).toFixed(0),g=l.homepage||"";t.show(),radarChart.init(r[0],e.getRadarOption(s,u,p,100)),e.bindLink(a,g),o.text(i),d.text(m),c.text(y+"%")}else t.remove()}).fail(function(){t.remove()})},bindLink:function(t,a){var r=t.attr("data-url");r?t.on("click",function(){window.open(r)}):a?t.on("click",function(){window.open(a)}):t.css("cursor","default")}};new window.common.dynamicLoader(["/new-osc/js/utils/plugins/radarChart/radarChart.js"],function(){$(function(){var a=$("div[project-radar]");a.length>0&&a.each(function(a,r){var e=$(r),n=e.find(".radar-map"),i=e;e.attr("data-container")&&$(e.attr("data-container"))&&(i=$(e.attr("data-container"))),t.buildRadarPanel(i,e,n)})})}).loadFiles()}();
"use strict";!function(a){var o=function(){};o.prototype={constructor:o,init:function(){var o=this;o._bindModalEvent(),a(document).on("click","[data-lucky-bag-lottery]",function(){var n=a(this),c=n.attr("data-lucky-bag-lottery")||"";if(c){var i=JSON.parse(n.attr("data-lucky-bag-params")||"{}");setTimeout(function(){o.request(c,i)},600)}})},buildModalHTML:function(a){var o="https://static.oschina.net/new-osc/img/logo_osc_white_new.svg",n="OSCHINA",c="恭喜你，获得",i=a.name||"",l=a.cooperation_msg||"",e="",t="",s=!!a.cooperation_name;return s&&(a.cooperation_logo&&(o=a.cooperation_logo),a.cooperation_name&&(n=a.cooperation_name,c="".concat(a.cooperation_name," 送你"),e=a.cooperation_name),a.cooperation_space_url&&(t=a.cooperation_space_url)),'\n                <div class="lucky-bag-modal" data-mask-closable="false">\n                    <div class="lucky-bag-modal-cover"></div>\n                    <div class="lucky-bag-modal-wrap ui transition hidden">\n                        <div class="lucky-bag-modal-dialog">\n                            <div class="btn-close close-modal"></div>\n            \n                            <div class="lucky-bag-box '.concat(s?"lucky-bag-box--cooperation":"",'">\n                                <div class="lucky-bag-box__inner">\n                                    <div class="lucky-bag-box__logo">\n                                        <img src="').concat(o,'" alt="').concat(n,'">\n                                    </div>\n                                    <div class="lucky-bag-box__header">\n                                        <div class="lucky-bag-box__title">').concat(c,'</div>\n                                    </div>\n                                    <div class="lucky-bag-box__card">\n                                        <div class="lucky-bag-box__card-content">').concat(i,'</div>\n                                        <div class="lucky-bag-box__card-action">\n                                            <div class="btn-receive">立即领取</div>\n                                        </div>\n                                    </div>\n                                    <div class="lucky-bag-box__message">\n                                        <p>').concat(l,'</p>\n                                    </div>\n                                    <div class="lucky-bag-box__link lucky-bag-box__link--default">\n                                        <a href="').concat(page.site_url||"",'/oschina-12th-anniversary/prizes" target="_blank">查看我的兑换券</a>\n                                    </div>\n                                    ').concat(t?'\n                                        <div class="lucky-bag-box__link lucky-bag-box__link--cooperation">\n                                            <a href="'.concat(t,'" target="_blank">查看 「').concat(e,"」 个人主页</a>\n                                        </div>\n                                    "):"","\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            ")},request:function(o,n){var c=this;if(!page||page&&!page.g_user_code)return!1;a.post(page.api_prefix+"/anniversay/lottery_12th",{user_code:page.g_user_code,user:page.g_user_id,prizeSource:o,objId:n&&n.objId?n.objId:""},function(o){if(1===o.code&&o.result){var n=o.result,i=c.buildModalHTML(n),l=a(i);a("body").append(l),l.on("click",".btn-receive",function(){var o=a(this);o.parents(".lucky-bag-box:eq(0)").addClass("lucky-bag-box--received"),o.text("已领取")}),c._showModal(l)}}).fail(function(){})},_disabledScroll:function(){window.innerWidth},_enableScroll:function(){a("body").removeClass("lucky-bag-modal-disabled-scroll")},_showModal:function(a){if(a&&a.length>0){a.addClass("active");var o=a.find(".lucky-bag-modal-cover"),n=a.find(".lucky-bag-modal-wrap");n.transition("is visible")||n.transition("scale"),o.addClass("active"),this._disabledScroll()}},_closeModal:function(a){var o=this,n=a.find(".lucky-bag-modal-cover"),c=a.find(".lucky-bag-modal-wrap");c.transition("is visible")&&(n.removeClass("active"),c.transition("scale",function(){a.removeClass("active"),o._enableScroll()}))},_bindModalEvent:function(){var o=this;a(document).on("click",".lucky-bag-modal .close-modal",function(){var n=a(this).parents(".lucky-bag-modal:eq(0)");n&&n.length>0&&o._closeModal(n)}),a(document).on("click",".lucky-bag-modal",function(n){if(!(a(n.target).parents(".lucky-bag-modal-wrap").length>0)){var c=a(this);c.data("mask-closable")&&o._closeModal(c)}})}};var n=new o;n.init(),window.OSCLuckyBagUtil=n}(window.jQuery||window.$);
"use strict";OSCDefine("web-error",function(){var t=function(){this._errorPageEl=$(".web-error")};return t.prototype={constructor:t,autoShowBackBtn:function(){document.addEventListener("DOMContentLoaded",function(){history.length>1&&$(".back-btn").css("display","inline-block")})},register:function(){}},t});
!function(t){var a=null;setInterval(function(){t('.bullet-wrapper[data-remove="true"]').remove()},6e4),t.fn.bullet=function(a){a=t.extend({avatar:"",content:"",url:"",color:"",bgColor:"",speed:20,top:0,safeTop:0,safeBottom:0,maxHeight:0,hasClose:!0},a||{});var e=t(this),i=e.width(),n=e.height(),o=window.innerWidth>i?i:window.innerWidth,s=window.innerHeight>n?n:window.innerHeight;"static"===e.css("position")&&e.css("position","relative");var r="bullet-"+Math.random().toString(36).substr(2,6),l=t('<div class="bullet-wrapper" id="'+r+'"></div>').appendTo(e),c=t('<div class="bullet-inner"></div>');l.append(c);var d="";a.avatar||(a.avatar='<img src="https://static.oschina.net/new-osc/img/portrait.gif" alt="">'),d+='<div class="bullet-avatar">'+a.avatar+"</div>",d+='<div class="bullet-text">',d+=a.url?'<a href="'+a.url+'" target="_blank" >'+a.content+"</a>":a.content,d+="</div>",a.hasClose&&(l.addClass("has-close"),d+='<div class="bullet-close"></div>'),c.html(d),a.color&&c.css("color",a.color),a.bgColor&&c.css("background-color",a.bgColor);var v=l.height(),m=a.safeTop,u=s-v-a.safeBottom,h=a.maxHeight;h>0&&m+h<s-v&&(u=m+h);var p=a.top||Math.floor(Math.random()*(u-m)+m);l.css("top",p+"px");var f=document.createElement("style");document.head.appendChild(f);var b="from { transform: translate3d("+o+"px, 0, 0); }";f.sheet.insertRule("@keyframes right-to-left { "+b+"to { transform: translate3d(-100%, 0, 0); } }",0),l.css("visibility","visible"),l.css("animation-iteration-count",1),l.css("animation-delay",0),l.css("animation-direction","normal"),l.css("animation-timing-function","linear"),l.css("will-change","transform"),l.css("animation-name","right-to-left"),l.css("animation-duration",a.speed+"s"),l.css("animation-play-state","running"),l.on("animationend",function(){l.attr("data-remove",!0),l.css("opacity","0"),l.css("visibility","hidden")}),l.on("click",".bullet-close",function(){l.attr("data-remove",!0),l.css("opacity","0"),l.css("visibility","hidden")})},t.fn.bullet.removeAll=function(){t(".bullet-wrapper").remove(),a&&(clearInterval(a),a=null)}}(jQuery);
"use strict";$(function(){!function(){var e={},t=function(t,a){var o=window.common.getCurrentUrl(!0)+"#tweet-"+t;return!!window.common.checkLoginForWeChat(o,function(){try{localStorage.setItem("OSC_TWEET_LIKE_CACHE",t+","+a)}catch(e){}})&&!e[t]&&(e[t]=!0,void $.get(page.space_user_url+"/tweet/tweet_love",{tweet_id:t,author_user_id:a},function(e){if(1===e.code&&e.result){var a=!!e.result.isLove,o=e.result.loveCount||0;e.message&&$("body").toast({type:"success",content:e.message});var r=$('[data-tweet-like-btn][data-tweet-id="'+t+'"]');a?(r.addClass("active"),r.find(".like.icon").removeClass("outline")):(r.removeClass("active"),r.find(".like.icon").addClass("outline")),$('[data-tweet-like-count][data-tweet-id="'+t+'"]').text(o);var i=$('[data-tweet-thumbups-list][data-tweet-id="'+t+'"]');i.length>0&&$.get(page.space_user_url+"/widgets/_tweet_thumbups_ajax?tweetId="+t,function(e){i.html(e),$(".thumbups-wrap .thumbups .dropdown").dropdown()})}else $("body").toast({type:"error",content:e.message||"点赞失败"})}).always(function(){e[t]=!1}))};if($(document).on("click",".tweet-item .meta a.like",function(){var e=$(this).parents(".tweet-item:eq(0)"),a=e.attr("data-tweet-id"),o=e.attr("data-tweet-owner-id");t(a,o)}),void 0!==window.localStorage&&page.g_user_code){var a=localStorage.getItem("OSC_TWEET_LIKE_CACHE")||"";if(a){var o=a.split(",");if(2===o.length){var r=o[0],i=o[1];if(0===$('.tweet-item[data-tweet-id="'+r+'"]').length)return;localStorage.removeItem("OSC_TWEET_LIKE_CACHE"),t(r,i)}}}}();var e=function(){if(void 0!==window.Vue){var e=new Vue({el:"#tweetShareForm",data:function(){return{tweetMaxLength:160,tweetContent:"",tweetPublishLoading:!1,tipMessage:{show:!1,content:"",className:""},curEmojiType:"People",emojiList:[{type:"People",items:["bowtie","smile","laughing","blush","smiley","relaxed","smirk","heart_eyes","kissing_heart","kissing_closed_eyes","flushed","relieved","satisfied","grin","wink","stuck_out_tongue_winking_eye","stuck_out_tongue_closed_eyes","grinning","kissing","kissing_smiling_eyes","stuck_out_tongue","sleeping","worried","frowning","anguished","open_mouth","grimacing","confused","hushed","expressionless","unamused","sweat_smile","sweat","disappointed_relieved","weary","pensive","disappointed","confounded","fearful","cold_sweat","persevere","cry","sob","joy","astonished","scream","neckbeard","tired_face","angry","rage","triumph","sleepy","yum","mask","sunglasses","dizzy_face","imp","smiling_imp","neutral_face","no_mouth","innocent","alien","yellow_heart","blue_heart","purple_heart","heart","green_heart","broken_heart","heartbeat","heartpulse","two_hearts","revolving_hearts","cupid","sparkling_heart","sparkles","star","star2","dizzy","boom","collision","anger","exclamation","question","grey_exclamation","grey_question","zzz","dash","sweat_drops","notes","musical_note","fire","hankey","poop","shit","+1","thumbsup","-1","thumbsdown","ok_hand","punch","facepunch","fist","v","wave","hand","raised_hand","open_hands","point_up","point_down","point_left","point_right","raised_hands","pray","point_up_2","clap","muscle","metal","fu","walking","runner","running","couple","family","two_men_holding_hands","two_women_holding_hands","dancer","dancers","ok_woman","no_good","information_desk_person","raising_hand","bride_with_veil","person_with_pouting_face","person_frowning","bow","couplekiss","couple_with_heart","massage","haircut","nail_care","boy","girl","woman","man","baby","older_woman","older_man","person_with_blond_hair","man_with_gua_pi_mao","man_with_turban","construction_worker","cop","angel","princess","smiley_cat","smile_cat","heart_eyes_cat","kissing_cat","smirk_cat","scream_cat","crying_cat_face","joy_cat","pouting_cat","japanese_ogre","japanese_goblin","see_no_evil","hear_no_evil","speak_no_evil","guardsman","skull","feet","lips","kiss","droplet","ear","eyes","nose","tongue","love_letter","bust_in_silhouette","busts_in_silhouette","speech_balloon","thought_balloon","feelsgood","finnadie","goberserk","godmode","hurtrealbad","rage1","rage2","rage3","rage4","suspect","trollface"]},{type:"Nature",items:["sunny","umbrella","cloud","snowflake","snowman","zap","cyclone","foggy","ocean","cat","dog","mouse","hamster","rabbit","wolf","frog","tiger","koala","bear","pig","pig_nose","cow","boar","monkey_face","monkey","horse","racehorse","camel","sheep","elephant","panda_face","snake","bird","baby_chick","hatched_chick","hatching_chick","chicken","penguin","turtle","bug","honeybee","ant","beetle","snail","octopus","tropical_fish","fish","whale","whale2","dolphin","cow2","ram","rat","water_buffalo","tiger2","rabbit2","dragon","goat","rooster","dog2","pig2","mouse2","ox","dragon_face","blowfish","crocodile","dromedary_camel","leopard","cat2","poodle","paw_prints","bouquet","cherry_blossom","tulip","four_leaf_clover","rose","sunflower","hibiscus","maple_leaf","leaves","fallen_leaf","herb","mushroom","cactus","palm_tree","evergreen_tree","deciduous_tree","chestnut","seedling","blossom","ear_of_rice","shell","globe_with_meridians","sun_with_face","full_moon_with_face","new_moon_with_face","new_moon","waxing_crescent_moon","first_quarter_moon","waxing_gibbous_moon","full_moon","waning_gibbous_moon","last_quarter_moon","waning_crescent_moon","last_quarter_moon_with_face","first_quarter_moon_with_face","moon","earth_africa","earth_americas","earth_asia","volcano","milky_way","partly_sunny","octocat","squirrel"]},{type:"Objects",items:["bamboo","gift_heart","dolls","school_satchel","mortar_board","flags","fireworks","sparkler","wind_chime","rice_scene","jack_o_lantern","ghost","santa","christmas_tree","gift","bell","no_bell","tanabata_tree","tada","confetti_ball","balloon","crystal_ball","cd","dvd","floppy_disk","camera","video_camera","movie_camera","computer","tv","iphone","phone","telephone","telephone_receiver","pager","fax","minidisc","vhs","sound","speaker","mute","loudspeaker","mega","hourglass","hourglass_flowing_sand","alarm_clock","watch","radio","satellite","loop","mag","mag_right","unlock","lock","lock_with_ink_pen","closed_lock_with_key","key","bulb","flashlight","high_brightness","low_brightness","electric_plug","battery","calling","email","mailbox","postbox","bath","bathtub","shower","toilet","wrench","nut_and_bolt","hammer","seat","moneybag","yen","dollar","pound","euro","credit_card","money_with_wings","e-mail","inbox_tray","outbox_tray","envelope","incoming_envelope","postal_horn","mailbox_closed","mailbox_with_mail","mailbox_with_no_mail","package","door","smoking","bomb","gun","hocho","pill","syringe","page_facing_up","page_with_curl","bookmark_tabs","bar_chart","chart_with_upwards_trend","chart_with_downwards_trend","scroll","clipboard","calendar","date","card_index","file_folder","open_file_folder","scissors","pushpin","paperclip","black_nib","pencil2","straight_ruler","triangular_ruler","closed_book","green_book","blue_book","orange_book","notebook","notebook_with_decorative_cover","ledger","books","bookmark","name_badge","microscope","telescope","newspaper","football","basketball","soccer","baseball","tennis","8ball","rugby_football","bowling","golf","mountain_bicyclist","bicyclist","horse_racing","snowboarder","swimmer","surfer","ski","spades","hearts","clubs","diamonds","gem","ring","trophy","musical_score","musical_keyboard","violin","space_invader","video_game","black_joker","flower_playing_cards","game_die","dart","mahjong","clapper","memo","pencil","book","art","microphone","headphones","trumpet","saxophone","guitar","shoe","sandal","high_heel","lipstick","boot","shirt","tshirt","necktie","womans_clothes","dress","running_shirt_with_sash","jeans","kimono","bikini","ribbon","tophat","crown","womans_hat","mans_shoe","closed_umbrella","briefcase","handbag","pouch","purse","eyeglasses","fishing_pole_and_fish","coffee","tea","sake","baby_bottle","beer","beers","cocktail","tropical_drink","wine_glass","fork_and_knife","pizza","hamburger","fries","poultry_leg","meat_on_bone","spaghetti","curry","fried_shrimp","bento","sushi","fish_cake","rice_ball","rice_cracker","rice","ramen","stew","oden","dango","egg","bread","doughnut","custard","icecream","ice_cream","shaved_ice","birthday","cake","cookie","chocolate_bar","candy","lollipop","honey_pot","apple","green_apple","tangerine","lemon","cherries","grapes","watermelon","strawberry","peach","melon","banana","pear","pineapple","sweet_potato","eggplant","tomato","corn"]},{type:"Places",items:["house","house_with_garden","school","office","post_office","hospital","bank","convenience_store","love_hotel","hotel","wedding","church","department_store","european_post_office","city_sunrise","city_sunset","japanese_castle","european_castle","tent","factory","tokyo_tower","japan","mount_fuji","sunrise_over_mountains","sunrise","stars","statue_of_liberty","bridge_at_night","carousel_horse","rainbow","ferris_wheel","fountain","roller_coaster","ship","speedboat","boat","sailboat","rowboat","anchor","rocket","airplane","helicopter","steam_locomotive","tram","mountain_railway","bike","aerial_tramway","suspension_railway","mountain_cableway","tractor","blue_car","oncoming_automobile","car","red_car","taxi","oncoming_taxi","articulated_lorry","bus","oncoming_bus","rotating_light","police_car","oncoming_police_car","fire_engine","ambulance","minibus","truck","train","station","train2","bullettrain_front","bullettrain_side","light_rail","monorail","railway_car","trolleybus","ticket","fuelpump","vertical_traffic_light","traffic_light","warning","construction","beginner","atm","slot_machine","busstop","barber","hotsprings","checkered_flag","crossed_flags","izakaya_lantern","moyai","circus_tent","performing_arts","round_pushpin","triangular_flag_on_post","jp","kr","cn","us","fr","es","it","ru","gb","uk","de"]},{type:"Symbols",items:["one","two","three","four","five","six","seven","eight","nine","keycap_ten","1234","zero","hash","symbols","arrow_backward","arrow_down","arrow_forward","arrow_left","capital_abcd","abcd","abc","arrow_lower_left","arrow_lower_right","arrow_right","arrow_up","arrow_upper_left","arrow_upper_right","arrow_double_down","arrow_double_up","arrow_down_small","arrow_heading_down","arrow_heading_up","leftwards_arrow_with_hook","arrow_right_hook","left_right_arrow","arrow_up_down","arrow_up_small","arrows_clockwise","arrows_counterclockwise","rewind","fast_forward","information_source","ok","twisted_rightwards_arrows","repeat","repeat_one","new","top","up","cool","free","ng","cinema","koko","signal_strength","u5272","u5408","u55b6","u6307","u6708","u6709","u6e80","u7121","u7533","u7a7a","u7981","sa","restroom","mens","womens","baby_symbol","no_smoking","parking","wheelchair","metro","baggage_claim","accept","wc","potable_water","put_litter_in_its_place","secret","congratulations","m","passport_control","left_luggage","customs","ideograph_advantage","cl","sos","id","no_entry_sign","underage","no_mobile_phones","do_not_litter","non-potable_water","no_bicycles","no_pedestrians","children_crossing","no_entry","eight_spoked_asterisk","sparkle","eight_pointed_black_star","heart_decoration","vs","vibration_mode","mobile_phone_off","chart","currency_exchange","aries","taurus","gemini","cancer","leo","virgo","libra","scorpius","sagittarius","capricorn","aquarius","pisces","ophiuchus","six_pointed_star","negative_squared_cross_mark","a","b","ab","o2","diamond_shape_with_a_dot_inside","recycle","end","back","on","soon","clock1","clock130","clock10","clock1030","clock11","clock1130","clock12","clock1230","clock2","clock230","clock3","clock330","clock4","clock430","clock5","clock530","clock6","clock630","clock7","clock730","clock8","clock830","clock9","clock930","heavy_dollar_sign","copyright","registered","tm","x","heavy_exclamation_mark","bangbang","interrobang","o","heavy_multiplication_x","heavy_plus_sign","heavy_minus_sign","heavy_division_sign","white_flower","100","heavy_check_mark","ballot_box_with_check","radio_button","link","curly_loop","wavy_dash","part_alternation_mark","trident","black_small_square","white_small_square","black_medium_small_square","white_medium_small_square","black_medium_square","white_medium_square","black_large_square","white_large_square","white_check_mark","black_square_button","white_square_button","black_circle","white_circle","red_circle","large_blue_circle","large_blue_diamond","large_orange_diamond","small_blue_diamond","small_orange_diamond","small_red_triangle","small_red_triangle_down","shipit"]}],repostId:""}},computed:{curEmojiItems:function(){for(var e=0,t=this.emojiList.length;e<t;e++)if(this.emojiList[e].type===this.curEmojiType)return this.emojiList[e].items;return this.emojiList[0].items},tweetContentIsEmpty:function(){return 0===this.tweetContent.length},tweetCountText:function(){return this.tweetContent.length+"/"+this.tweetMaxLength}},methods:{insertEmoji:function(e){this.clearMessage();var t=":"+e+":";this.insertContent(t),$(this.$refs.showEmojiBox).popup("hide")},insertTopic:function(){this.clearMessage();if(this.insertContent("#此处输入话题#")){var e=selectRange.of(this.$refs.tweetTextarea),t=e.getCurPos();e.setSelectText(t-("#此处输入话题#".length-1),t-1)}},publishTweet:function(){var e=this;if(!window.common.checkLogin())return!1;if(!e.tweetPublishLoading)if(e.clearMessage(),e.tweetContentIsEmpty)e.showMessage("error","内容不能为空",2e3);else if(e.tweetContent.length>e.tweetMaxLength)e.showMessage("error","最多只能输入"+e.tweetMaxLength+"个字符！",2e3);else{e.tweetPublishLoading=!0;var t={content:e.tweetContent,userId:page.g_user_id||"",user_code:page.g_user_code||"",repost_id:e.repostId};$.post(page.space_user_url+"/tweet/pubForwardTweet",t,function(t){if(1===t.code){if(e.showMessage("success",t.message||"动弹发布成功！",2e3),e.tweetContent="",t.result&&void 0!==t.result.refCount){var a=t.result.refCount;$('[data-tweet-ref-count][data-tweet-id="'+e.repostId+'"]').html(a)}setTimeout(function(){if($(".tweet-share.modal").modal("hide"),t.result&&void 0!==t.result.log){var e=$(".tweets-list-container[data-tweets-list]");if(e.length>0){var a=t.result.log;$.get("/tweets/widgets/_tweet_list_item_ajax?tweetId="+a,function(t){e.prepend(t),$(function(){$("[data-emoji-render]").emoticon()}),OSCMultipleImageViewer&&OSCMultipleImageViewer.initSmallImages()})}}},500)}else e.showMessage("error",t.message||"动弹发布失败，请稍后再试！",2e3)}).fail(function(){e.showMessage("error","网络错误，请稍后再试！",2e3)}).always(function(){e.tweetPublishLoading=!1})}},tweetContentOnKeyDown:function(e){(e.metaKey||e.ctrlKey)&&13===e.keyCode&&this.publishTweet()},insertContent:function(e){return!this.tweetPublishLoading&&(this.tweetContent.length>=this.tweetMaxLength||this.tweetContent.length+e.length>this.tweetMaxLength?(this.showMessage("error","最多只能输入"+this.tweetMaxLength+"个字符！",2e3),!1):(selectRange.of(this.$refs.tweetTextarea).insertAfterText(e),this.tweetContent=this.$refs.tweetTextarea.value,!0))},setCursor:function(e){var t=this.$refs.tweetTextarea;this.$nextTick(function(){selectRange.of(t).setCurPos(e)})},showMessage:function(e,t,a){var o=this;o.tipMessage.className="success"===e?"positive":"negative",o.tipMessage.content=t;var r=parseInt(a)||0;o.tipMessage.show=!0,r>0&&setTimeout(function(){o.clearMessage()},r)},clearMessage:function(){this.tipMessage.className="",this.tipMessage.content="",this.tipMessage.show=!1}}});$(".tweet-share.modal").modal({onShow:function(){e.$data.repostId=$(this).attr("data-repost-id")||0,e.$data.tweetContent=$(this).attr("data-repost-content")||"",e.setCursor(0)}}),$("#tweetShareForm .tweet-form .toolbox > .item[data-popup]").each(function(e,t){var a=$(t),o=$(a).parent().find(".toolbox-popup."+a.attr("data-popup"));a.popup({position:"bottom left",popup:o,on:"toolbox-picture"===a.attr("data-popup")?"manual":"click",exclusive:!0,onShow:function(){if(!window.common.checkLogin())return!1}})});var t=function(t){if(Array.isArray(t)&&t.length>0){var a=$("#tweetShareForm .tweet-textarea");a.atwho({at:"@",data:t,headerTpl:'<div class="atwho-header">我的关注 <small>↑&nbsp;↓&nbsp;</small></div>',searchKey:"searchKey",insertTpl:"${atwho-at}${name}",displayTpl:"<li>${name}</li>",limit:10}),a.on("inserted.atwho",function(t,a,o){e.tweetContent=e.$refs.tweetTextarea.value}),window.__LIKE_SHARE_ATWHO_INIT=!0}},a=function(){var e;page.g_user_code&&window.innerWidth>=768&&!window.__LIKE_SHARE_ATWHO_INIT&&(window.__USER_FRIENDS?t(window.__USER_FRIENDS):(e=function(e){t(e)},$.post(page.space_user_url+"/tweet/atwho",function(t){var a=t;Array.isArray(a)&&a.length>0&&(window.__USER_FRIENDS=a,e(a))})))};$(document).on("click",".tweet-item .meta a.share",function(e){if(!window.common.checkLogin())return!1;var t=$(this).parents(".tweet-item:eq(0)"),o=t.attr("data-tweet-id"),r=t.attr("data-repost-content"),i=$(".tweet-share.modal");i.attr("data-repost-id",o),i.attr("data-repost-content",r),i.modal("show"),a()})}};void 0!==window.Vue&&void 0!==$.fn.atwho?e():new window.common.dynamicLoader(["/new-osc/js/utils/vue.min.js","/new-osc/js/utils/plugins/caret/jquery.caret.min.js","/new-osc/js/utils/plugins/atwho/jquery.atwho.min.js"],function(){e()}).loadFiles()});
"use strict";OSCPlugin("index-tweets-widget",function(){var e={onTabChange:null,setOnTabChangeCallback:function(e){jQuery.isFunction(e)&&(this.onTabChange=e)},refreshIndexTweets:function(){var t=$(".index-tweets-widget").find(".tweets-wrap"),n=t.find(".tweets-tab .item.active").data("tab")||"";$.get("/widgets/_index_tweets_list?type=ajax&tab="+n+"&nocache="+(new Date).getTime(),function(n){t.html(n),e.initTab(),e.parseEmoticon()})},initTweetWidgetForm:function(){var e=this;new Vue({el:"#tweetWidgetForm",data:function(){return{tweetMaxLength:160,tweetContent:"",tweetPublishLoading:!1,tipMessage:{show:!1,content:"",className:""}}},computed:{tweetContentIsEmpty:function(){return 0===this.tweetContent.length}},methods:{publishTweet:function(){var t=this;if(!t.tweetPublishLoading)if(t.clearMessage(),t.tweetContentIsEmpty)t.showMessage("error","内容不能为空",2e3);else if(t.tweetContent.length>t.tweetMaxLength)t.showMessage("error","最多只能输入"+t.tweetMaxLength+"个字符！",2e3);else{t.tweetPublishLoading=!0,t.showMessage("success","正在发送");var n={userId:page.g_user_id||"",user_code:page.g_user_code||"",content:t.tweetContent};$.post(page.api_prefix+"/tweet/pubForwardTweet",n,function(n){1===n.code?(t.showMessage("success",n.message||"动弹发布成功！",2e3),t.tweetPublishLoading=!1,t.tweetContent="",e.refreshIndexTweets()):t.showMessage("error",n.message||"发布失败",2e3)}).fail(function(){t.showMessage("error","网络错误，请稍后再试！",2e3)}).always(function(){t.tweetPublishLoading=!1})}},tweetContentOnKeyDown:function(e){13===e.keyCode&&(e.preventDefault(),this.publishTweet())},tweetContentOnKeyDownCtrlEnter:function(e){(e.metaKey||e.ctrlKey)&&13===e.keyCode&&(e.preventDefault(),this.publishTweet())},showMessage:function(e,t,n){var s=this;s.tipMessage.className="success"===e?"positive":"negative",s.tipMessage.content=t;var i=parseInt(n)||0;s.tipMessage.show=!0,i>0&&setTimeout(function(){s.clearMessage()},i)},clearMessage:function(){this.tipMessage.className="",this.tipMessage.content="",this.tipMessage.show=!1}}})},initTab:function(){var e=this,t=$(".index-tweets-widget");t.on("click",".tweets-tab .item",function(){var n=$(this),s=n.data("tab"),i=t.find(".tweets-tab"),a=t.find(".tab-body"),o=t.find('.tab-body[data-tab="'+s+'"]');o&&o.length>0&&(i.find(".item").removeClass("active"),n.addClass("active"),a.removeClass("active"),o.addClass("active"),jQuery.isFunction(e.onTabChange)&&e.onTabChange())})},initAutoRefresh:function(){var e=this,t=~~page.tweetAutoRefreshInterval;t>=20&&setInterval(function(){e.refreshIndexTweets()},1e3*t)},parseEmoticon:function(){$(function(){$("[data-emoji-render]").emoticon()})}},t=$(".index-tweets-widget");return(!t||0!==t.length)&&(e.initTweetWidgetForm(),e.initTab(),e.parseEmoticon(),e.initAutoRefresh(),e)});
"use strict";OSCDefine("web-index",["index-tweets-widget"],function(n){var o=function(){};return o.prototype={constructor:o,playNews:function(){return new Vue({el:"#v_news",data:function(){return{industryNewsTab:1,projectNewsTab:1}},methods:{setPageIndex:function(n,o){this[n]=o}}}),this},playSolution:function(){var n;new Vue({el:"#v_wonderful",data:function(){return{items:window.__QUESTION_WONDERFUL||[],show:!0}},methods:{autoPlay:function(){var n=this.items,o=n.shift();setTimeout(function(){n.push(o)},1e3)},pause:function(){clearInterval(n)},play:function(){n=setInterval(this.autoPlay,1e4)}},mounted:function(){n=setInterval(this.autoPlay,1e4)}})},showAppGuide:function(){var n=$(".app-guide-box"),o=window.common.getCookie("app-guide");if(window.common.checkPC()||0===n.length||"1"===o)return!1;n.show(),$("body").addClass("app-guide-cover"),n.on("click",".btn-skip",function(){n.remove(),$("body").removeClass("app-guide-cover"),window.common.setCookie("app-guide","1")})},showAppDownloadBanner:function(){var n=$(".app-download-banner-box"),o=window.common.getCookie("app-download-banner");if(window.common.checkPC()||0===n.length||"1"===o)return!1;n.show(),n.on("click",".close-btn",function(){n.remove(),window.common.setCookie("app-download-banner","1",365)})},bindVisitNewIndexBtn:function(){$(document).on("click",".btn-switch-version.btn-visit-new",function(){$.post(page.api_prefix+"/circle/switchNewVersion",{user_code:page.g_user_code,status:!0},function(){location.reload()}).fail(function(){$("body").toast({type:"error",content:"切换失败，请稍后再试"})})})},register:function(){this.playNews(),this.playSolution(),this.showAppDownloadBanner(),this.bindVisitNewIndexBtn()}},o});
"use strict";OSCDefine("web-index-feed",["index-tweets-widget"],function(){var t=function(){var t=this;t._indexEl=$(".web-index-feed"),t._headerContainer=t._indexEl.find(".header-container"),t._mainContainer=t._indexEl.find(".main-container"),t._contentContainer=t._mainContainer.find(".content-container"),t._tabContainer=t._contentContainer.find(".tab-container"),t._articleContainer=t._contentContainer.find(".article-container"),t._articleListContainerWrap=t._articleContainer.find(".article-list-container-wrap"),t._hotBlogs=$(".index-sidebar.sidebar .section.hot-articles-list"),t._hotBlogsSticky={init:function(){if(t._hotBlogs.length<=0)return!1;var e=$(".index-sidebar.sidebar > *:last-child"),i=e.is(".section.hot-articles-list"),n=0;i||(n=e.offset().top+e.outerHeight());var o=$(".index-sidebar.sidebar > .section.hot-articles__placeholder");i||0!==o.length||(o=$("<div></div>").attr("class",".section.hot-articles__placeholder".replace(/\./g," ").trim()).insertBefore(t._hotBlogs));var a=t._hotBlogs.hasClass("ui sticky");window.innerWidth>=768&&window.scrollY>n?a||(i||o.css("height",t._hotBlogs.outerHeight()+"px"),t._hotBlogs.addClass("ui sticky"),t._hotBlogs.sticky({context:".index-main",offset:10})):a&&(i||o.css("height","0px"),t._hotBlogs.removeClass("ui sticky"),t._hotBlogs.sticky("destroy"))},refresh:function(){if(t._hotBlogs.length<=0)return!1;var e=t._hotBlogs.hasClass("ui sticky");window.innerWidth>=768&&e&&t._hotBlogs.sticky("refresh")}},t._articleInfiniteScroll={articleList:new OSCInfiniteScroll({pagePath:".pagination__next",checkLastPage:!0,containerSelector:"#articleList",itemListSelector:".article-list-container",loadMoreBtnSelector:".load-more-button",statusSelector:".page-load-status",defaultAutoLoadPageCount:5,itemSelector:".item.article-item",loadOnScroll:!0,onAppend:function(){t.optimizeImgShow(),t.initArticleItemMoreAction(),t._hotBlogsSticky.refresh()}})},t.followBtnStatusCode={UN_FOLLOW:1,FOLLOWED:2},t.followBtnStatusConf={UN_FOLLOW:{normal:{text:"关注",icon:"heart outline grey icon"},hover:{text:"关注",icon:"heart outline grey icon"}},FOLLOWED:{normal:{text:"关注",icon:"heart red icon"},hover:{text:"关注",icon:"heart red icon"}}}};return t.prototype={constructor:t,initArticleInfiniteScroll:function(){this._articleInfiniteScroll.articleList&&this._articleInfiniteScroll.articleList.destroy(),this._articleInfiniteScroll.articleList.init()},optimizeImgShow:function(){$(function(){$("[data-img-render]").imgOptimize()})},initArticleItemMoreAction:function(){this._articleListContainerWrap.find(".article-item .right-action > .item.more.dropdown").dropdown({action:"select"})},bindSearchButton:function(){this._headerContainer.find(".search-box").on("click",".search-button",function(){var t=$(this).parents(".search-form:eq(0)");t.find("input[name=q]").val().trim().length>0&&t.submit()})},initPJAX:function(){var t=this,e=t._articleContainer.find(".article-list-container-loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax(".tab-container .tab-menu a.item",".article-list-container-wrap",{scrollTo:!1}),$(document).on("pjax:send",function(t){e.addClass("active")}),$(document).on("pjax:complete",function(i){e.removeClass("active");var n=$(i.relatedTarget);n.data("tab");t._tabContainer.find(".tab-menu a.item").removeClass("active"),n.addClass("active"),t.initArticleInfiniteScroll(),t.optimizeImgShow(),t._hotBlogsSticky.refresh(),t.scrollTabMenuPositionOffset(),window.innerWidth<768&&$("html, body").stop(!0).animate({scrollTop:0},500,"swing")})},scrollTabMenuPositionOffset:function(){var t=this._tabContainer.find(".tab-list__inner"),e=t.find(".tab-menu .active.item");if(e.length>0){var i=e.outerWidth(),n=e.position().left,o=t.innerWidth(),a=Math.floor(n-o/2+i/2);t.stop(!0).animate({scrollLeft:a},500,"swing")}},initHotBlog:function(){if(this._hotBlogs.length<=0)return!1;this._hotBlogsSticky.init(),$(window).resize(window.common.throttle(this._hotBlogsSticky.init,200)),$(window).scroll(window.common.throttle(this._hotBlogsSticky.init,200))},bindAddButton:function(){this._indexEl.on("click",".toggle-add",function(t){})},updateTabBar:function(){var t=this,e=t._tabContainer.find(".tab-list__inner").find(".tab-menu .active.item").attr("data-tab");$.get("/widgets/index_feed/_index_tab_container?type=ajax",function(i){t._tabContainer.replaceWith(i),t._tabContainer=t._contentContainer.find(".tab-container"),t._tabContainer.find('.tab-menu .item[data-tab="'+e+'"]').click()})},initGuideModal:function(){var t=this;function e(){t.updateTabBar(),$.post(page.api_prefix+"/IndexFeed/userSetting",{user_code:page.g_user_code,event:"feed_guide_tags",value:"skip"},function(t){})}if(page.needShowGuide){var i=$(".guide-modal");i.modal({dimmerSettings:{className:{pageDimmer:"page web-index-feed-modal-dimmer",active:"active"}},closable:!1,duration:200,onShow:function(){$(this).is(".guide-modal--step-1")&&(t.bindFollowBtnHover(),t.bindFollowBtnClick())}}),i.on("click",".btn-skip",function(){e(),$(this).parents(".guide-modal").modal("hide")});var n=$(".guide-modal--step-1"),o=$(".guide-modal--step-2"),a=$(".guide-modal--step-3"),s=2,r=page.step1TagsTotalPage||1;n.on("click",".btn-next",function(){n.modal("set active",!1),o.modal("show")}),n.on("click",".btn-refresh",function(){var t=(s-1)%r+1;$.get("/widgets/index_feed/_guide_modal_tags?type=ajax&page="+t,function(t){n.find(".items-box__inner").html(t),s++})}),o.on("click",".btn-next",function(){o.modal("set active",!1),a.modal("show")}),o.on("click",".btn-prev",function(){o.modal("set active",!1),n.modal("show")}),o.on("click",".btn-refresh",function(){$.get("/widgets/index_feed/_guide_modal_authors?type=ajax",function(t){o.find(".items-box__inner").html(t)})}),a.on("click",".btn-join",function(){$.post(page.api_prefix+"/IndexFeed/userSetting",{user_code:page.g_user_code,event:"join_community_experience",value:"join"},function(t){}),e(),a.modal("hide")}),page.needShowGuide&&n.modal("show")}},initBackOldModal:function(){var t=$(".survey-modal"),e=$(".survey-form");function i(){$.post(page.api_prefix+"/IndexFeed/userSetting",{user_code:page.g_user_code,event:"homepage_version",value:"old"},function(){location.href="/"}).fail(function(){})}e.form({inline:!0,keyboardShortcuts:!1}).api({url:page.api_prefix+"/IndexFeed/back_old_survey",method:"post",serializeForm:!0,beforeSend:function(t){$(this).message("hideAll");var i=e.serializeObject();return void 0===i.score?($(this).message({type:"negative",content:"请选择评价",disappear:2e3}),!1):void 0===i.reason||0===i.reason.length?($(this).message({type:"negative",content:"请选择原因",disappear:2e3}),!1):(t.data={user_code:page.g_user_code,score:i.score,reason:i.reason,advice:i.advice},t)},onSuccess:function(e,n,o){1===e.code?(i(),t.modal("hide")):$(this).message({type:"negative",content:e.message,disappear:2e3})},onFailure:function(t,e){$(this).message({type:"negative",content:"网络错误，请稍后再试"})}}),e.find(".checkbox").checkbox(),t.modal({dimmerSettings:{className:{pageDimmer:"page web-index-feed-modal-dimmer",active:"active"}},autofocus:!1,closable:!0,onShow:function(){e.form("reset"),e.message("hideAll")}}),t.on("click",".btn-submit",function(){e.message("hideAll"),e.form("submit")}),t.on("click",".btn-skip",function(){i(),t.modal("hide")}),$("body").on("click",".btn-back-old",function(){t.modal("show")})},setFollowBtnStatus:function(t,e,i){e="normal"===e?"normal":"hover";var n,o=i.find(".text"),a=i.find("i");switch(t){case this.followBtnStatusCode.UN_FOLLOW:i.attr("data-follow-status",this.followBtnStatusCode.UN_FOLLOW),n=this.followBtnStatusConf.UN_FOLLOW[e],o.text(n.text),o&&0===o.length&&i.attr("title",n.text),a.attr("class",n.icon);break;case this.followBtnStatusCode.FOLLOWED:i.attr("data-follow-status",this.followBtnStatusCode.FOLLOWED),n=this.followBtnStatusConf.FOLLOWED[e],o.text(n.text),o&&0===o.length&&i.attr("title",n.text),a.attr("class",n.icon)}},setFollowBtnCount:function(t,e){var i=e.find(".count"),n=t;window.common&&"function"==typeof window.common.formatNumberK&&(n=window.common.formatNumberK(t)),i.text(n)},bindFollowBtnHover:function(){var t=this;$(document).on("mouseenter",".subscribe-btn",function(){var e=$(this),i=parseInt(e.attr("data-follow-status"));t.setFollowBtnStatus(i,"hover",e)}),$(document).on("mouseleave",".subscribe-btn",function(){var e=$(this),i=parseInt(e.attr("data-follow-status"));t.setFollowBtnStatus(i,"normal",e)})},bindFollowBtnClick:function(){var t=this;$(document).on("click",".subscribe-btn",function(e){e.preventDefault();var i=$(this),n=parseInt(i.attr("data-follow-status")),o=i.attr("data-id");if(!window.common.checkLogin())return!1;var a=$('.subscribe-btn[data-id="'+o+'"]');$.post(page.api_prefix+"/user/feedSubscribe",{user:page.g_user_id,user_code:page.g_user_code||"",catalog:o,event:1===n?"subscribe":"unsubscribe"},function(e){if(1===e.code){var i=1===n?2:1;t.setFollowBtnStatus(i,"normal",a)}else $("body").toast({type:"error",content:e.message||"操作失败"})})})},register:function(){this.initPJAX(),this.initArticleInfiniteScroll(),this.initArticleItemMoreAction(),this.initHotBlog(),this.bindSearchButton(),this.bindAddButton(),this.optimizeImgShow(),this.scrollTabMenuPositionOffset(),this.initGuideModal(),this.initBackOldModal()}},t});
"use strict";OSCDefine("web-home-login",function(){var e=function(){this._loginPanelWrapper=$("#loginPanelWrapper"),this._accountLoginForm=$("#accountLoginForm"),this._QrCodeTimer=null};return e.prototype={constructor:e,initLoginPanel:function(){var e=this;e._loginPanelWrapper.find(".checkbox").checkbox(),e._loginPanelWrapper.shape(),e._loginPanelWrapper.find(".switch-login-type").click(function(){"qrcode"===$(this).attr("data-type")?e._getQrcode():clearTimeout(e._QrCodeTimer),e._loginPanelWrapper.shape("flip back")})},initCaptcha:function(){var e=this;e._loginCaptcha=new OSCCaptcha({imgSelector:"#accountLoginForm .captcha img",refreshSelector:"#accountLoginForm .captcha",inputSelector:"#accountLoginForm input[name=verifyCode]",captchaUrl:"/user/captcha"}),$.fn.form.settings.rules.verifyCodeEmpty=function(n){return!(0===n.trim().length&&"block"===e._accountLoginForm.find(".captcha-filed").css("display"))}},initAccountLoginForm:function(){var e=this;e._accountLoginForm.form({inline:!0,fields:{account:{identifier:"account",rules:[{type:"empty",prompt:"请输入手机/邮箱"}]},pwd:{identifier:"pwd",rules:[{type:"empty",prompt:"请输入密码"}]},verifyCode:{identifier:"verifyCode",rules:[{type:"verifyCodeEmpty",prompt:"请输入验证码"}]}}}).api({url:"/user/login",method:"post",dataType:"html",serializeForm:!0,beforeSend:function(e){$(this).message("hideAll");var n=e.data;return e.data={from:n.from,email:n.account,pwd:CryptoJS.SHA1(n.pwd).toString(),verifyCode:n.verifyCode,save_login:n.save_login},e},onSuccess:function(n,o,t){var i="string"==typeof n?JSON.parse(n):n;if(i.length<=0)e._redirectLoginSuccessPage();else if(i.error>0||i.failCount>0)switch(e._showCaptchaCodeBeforeLogin(i),i.msg){case"验证码错误":$(this).form("add prompt","verifyCode","请输入正确的图片验证码"),e._loginCaptcha.refresh(),$(this).find("input[name=verifyCode]").focus();break;default:$(this).message({type:"negative",content:i.msg})}},onFailure:function(e,n,o){$(this).message({type:"negative",content:"网络错误，请稍后再试"})}})},initAccountLoginFormCheckAccountNeedCaptcha:function(){var e=this;e._accountLoginForm.on("blur","input[name=account]",function(){var n={msg:"",failCount:0};e._accountLoginForm.find("input[name=account]").val().length>0&&(n.failCount=3),e._showCaptchaCodeBeforeLogin(n)})},_getQrcode:function(){var e=this;$.ajax({url:"/user/get_qrcode?_="+(new Date).getTime(),dataType:"json",cache:!1,success:function(n){$("#loginQrCode").attr("src","data:image/jpg;base64,"+n.qrCode),e._QrCodeTimer=setInterval(function(){e._setQrCodeLongConnection(n.uuid)},2e3)}})},_setQrCodeLongConnection:function(e){var n=this;$.ajax({url:"/user/long_connection",method:"post",data:{uuid:e},cache:!1,success:function(e){"success"===e?n._redirectLoginSuccessPage():null!=e&&"out of date"!==e||location.reload()}})},_redirectLoginSuccessPage:function(){var e=page.login_success_redirect||"";if(e&&e.length>0){if(e.indexOf("nocache")<0)e=e+(e.indexOf("?")>-1?"&":"?")+"nocache="+(new Date).getTime();window.location.href=e}},_showCaptchaCodeBeforeLogin:function(e){e.failCount>2||1===e.error?(this._loginCaptcha.refresh(),this._accountLoginForm.find(".captcha-filed").css("display","block")):(this._accountLoginForm.find(".captcha-filed").css("display","none"),this._accountLoginForm.find("input[name=verifyCode]").val(""))},register:function(){this.initLoginPanel(),this.initCaptcha(),this.initAccountLoginForm(),this.initAccountLoginFormCheckAccountNeedCaptcha()}},e});
"use strict";OSCDefine("web-home-register",function(){var e=function(){this._registerPanelWrapper=$("#registerPanelWrapper"),this._mobileRegisterForm=$("#mobileRegisterForm"),this._sendPhoneCodeBtn=this._registerPanelWrapper.find(".send-phone-code"),this._mobileRegisterCaptcha=new OSCCaptcha({imgSelector:"#mobileRegisterForm .captcha img",refreshSelector:"#mobileRegisterForm .captcha",inputSelector:"#mobileRegisterForm input[name=verifyCode]",captchaUrl:"https://www.oschina.net/action/user/captcha"})};return e.prototype={constructor:e,_phoneCodeCountDown:function(e){var t=this,o=e||60;t._sendPhoneCodeBtn.addClass("disabled"),t._sendPhoneCodeBtn.text(o+"s 后重新发送"),window.localStorage&&localStorage.setItem("register_phone_code",parseInt((new Date).getTime()/1e3)+o);var r=setInterval(function(){--o<1?(clearInterval(r),t._sendPhoneCodeBtn.removeClass("disabled"),t._sendPhoneCodeBtn.text("获取验证码")):(t._sendPhoneCodeBtn.text(o+"s 后重新发送"),window.localStorage&&localStorage.setItem("register_phone_code",parseInt((new Date).getTime()/1e3)+o))},1e3)},_redirectRegisterSuccessPage:function(){var e=page.register_success_redirect||"";if(e&&e.length>0){if(e.indexOf("nocache")<0)e=e+(e.indexOf("?")>-1?"&":"?")+"nocache="+(new Date).getTime();window.location.href=e}},initRegisterForm:function(){var e=this;e._registerPanelWrapper.find(".checkbox").checkbox(),$.fn.form.settings.rules.password=function(e){return!(!e.match(/[0-9]/)||!e.match(/[a-zA-Z]/)&&!/\W/.test(e))},e._mobileRegisterForm.form({inline:!0,fields:{phone:{identifier:"phone",rules:[{type:"empty",prompt:"请输入手机号码"},{type:"regExp",value:/^1([0-9]{10})$/,prompt:"请输入正确的手机号码"}]},name:{identifier:"name",rules:[{type:"minLength[2]",prompt:"昵称长度至少 {ruleValue} 位"},{type:"maxLength[20]",prompt:"昵称长度不能超过 {ruleValue} 位"}]},pwd:{identifier:"pwd",rules:[{type:"empty",prompt:"请输入密码"},{type:"minLength[8]",prompt:"密码长度至少 {ruleValue} 位"},{type:"maxLength[20]",prompt:"密码长度不能超过 {ruleValue} 位"},{type:"password",prompt:"密码必须由字母或特殊字符和数字组成"}]},cpwd:{identifier:"cpwd",rules:[{type:"empty",prompt:"请再次输入密码"},{type:"match[pwd]",prompt:"两次密码输入不一致"}]},verifyCode:{identifier:"verifyCode",rules:[{type:"empty",prompt:"请输入图片验证码"}]},phone_v_code:{identifier:"phone_v_code",rules:[{type:"empty",prompt:"请输入短信验证码"}]},gender:{identifier:"gender",rules:[{type:"empty",prompt:"请选择性别"}]},agree_terms:{identifier:"agree_terms",rules:[{type:"checked",prompt:"请阅读并同意服务条款"}]}}}).api({url:"/action/user/quick_create",method:"post",serializeForm:!0,beforeSend:function(e){$(this).message("hideAll");var t=e.data;return e.data.pwd=CryptoJS.SHA1(t.pwd).toString(),e},onSuccess:function(t,o,r){var n=t;if(n.success)return e._redirectRegisterSuccessPage(),!1;switch(e._mobileRegisterCaptcha.refresh(),n.msg){case"phone_exist":$(this).form("add prompt","phone","该号码已存在");break;case"phone_number_error":$(this).form("add prompt","phone","请输入正确的手机号码");break;case"phone_v_code_empty":$(this).form("add prompt","phone_v_code","请输入短信验证码");break;case"phone_v_code_error":$(this).form("add prompt","phone_v_code","请输入正确的短信验证码"),$(this).form("set value","phone_v_code","");break;case"验证码错误":$(this).form("add prompt","verifyCode","请输入正确的图片验证码"),$(this).find("input[name=verifyCode]").focus();break;default:$(this).message({type:"negative",content:n.msg})}},onFailure:function(e,t){$(this).message({type:"negative",content:"网络错误，请稍后再试"})}})},initSendPhoneCodeBtn:function(){var e=this;e._sendPhoneCodeBtn.on("click",function(){e._mobileRegisterForm.form("validate field","phone")&&e._mobileRegisterForm.form("validate field","verifyCode")&&(e._sendPhoneCodeBtn.addClass("loading"),setTimeout(function(){e._phoneCodeCountDown(),e._sendPhoneCodeBtn.removeClass("loading")},1e3))})},initPhoneCodeLocalStorage:function(){var e=this;$(function(){var t=0;if(window.localStorage&&(t=localStorage.getItem("register_phone_code"))){var o=t-parseInt((new Date).getTime()/1e3);o>0?e._phoneCodeCountDown(o):localStorage.removeItem("register_phone_code")}})},register:function(){this.initRegisterForm(),this.initSendPhoneCodeBtn(),this.initPhoneCodeLocalStorage()}},e});
"use strict";OSCDefine("web-home-reset-pwd",function(){var e=function(){this._resetPwdPanelWrapper=$("#resetPwdPanelWrapper"),this._mobileResetPwdForm=$("#mobileResetPwdForm"),this._emailResetPwdForm=$("#emailResetPwdForm"),this._sendPhoneCodeBtn=this._resetPwdPanelWrapper.find(".send-phone-code"),this._mobileResetPwdCaptcha=new OSCCaptcha({imgSelector:"#mobileResetPwdForm .captcha img",refreshSelector:"#mobileResetPwdForm .captcha",inputSelector:"#mobileResetPwdForm input[name=verifyCode]",captchaUrl:"https://www.oschina.net/action/user/captcha"}),this._emailResetPwdCaptcha=new OSCCaptcha({imgSelector:"#emailResetPwdForm .captcha img",refreshSelector:"#emailResetPwdForm .captcha",inputSelector:"#emailResetPwdForm input[name=verifyCode]",captchaUrl:"https://www.oschina.net/action/user/captcha"})};return e.prototype={constructor:e,_phoneCodeCountDown:function(e){var t=this,o=e||60;t._sendPhoneCodeBtn.addClass("disabled"),t._sendPhoneCodeBtn.text(o+"s 后重新发送"),window.localStorage&&localStorage.setItem("reset_pwd_phone_code",parseInt((new Date).getTime()/1e3)+o);var i=t.setInterval(function(){--o<1?(clearInterval(i),t._sendPhoneCodeBtn.removeClass("disabled"),t._sendPhoneCodeBtn.text("获取验证码")):(t._sendPhoneCodeBtn.text(o+"s 后重新发送"),window.localStorage&&localStorage.setItem("reset_pwd_phone_code",parseInt((new Date).getTime()/1e3)+o))},1e3)},initResetPwdPanelTab:function(){var e=this;e._resetPwdPanelWrapper.find(".reset-pwd-tab .item").tab({onLoad:function(t){switch(t){case"mobile":e._mobileResetPwdForm.form("reset"),e._mobileResetPwdCaptcha.refresh();break;case"email":e._emailResetPwdForm.form("reset"),e._emailResetPwdCaptcha.refresh()}}})},initMobileResetPwdForm:function(){var e=this;e._mobileResetPwdForm.form({inline:!0,fields:{phone:{identifier:"phone",rules:[{type:"empty",prompt:"请输入手机号码"},{type:"regExp",value:/^1([0-9]{10})$/,prompt:"请输入正确的手机号码"}]},verifyCode:{identifier:"verifyCode",rules:[{type:"empty",prompt:"请输入图片验证码"}]},code:{identifier:"code",rules:[{type:"empty",prompt:"请输入短信验证码"}]}}}).api({url:"/action/user/resetPwdByPhoneStepOne",method:"post",serializeForm:!0,beforeSend:function(e){return $(this).message("hideAll"),e},onSuccess:function(t,o,i){var n=t;if(n.result)location.href="reset-pwd-by-phone2";else if(n.msg)switch(e._mobileResetPwdCaptcha.refresh(),n.msg){case"手机验证码错误":$(this).form("add prompt","code","请输入正确的短信验证码"),$(this).form("set value","code","");break;case"验证码错误":$(this).form("add prompt","verifyCode","请输入正确的图片验证码"),$(this).find("input[name=verifyCode]").focus();break;default:$(this).message({type:"negative",content:n.msg})}},onFailure:function(t,o){e._mobileResetPwdForm.message({type:"negative",content:"网络错误，请稍后再试"})}})},initEmailResetPwdForm:function(){var e=this;e._emailResetPwdForm.form({inline:!0,fields:{email:{identifier:"email",rules:[{type:"empty",prompt:"请输入邮箱地址"},{type:"email",prompt:"请输入正确的邮箱地址"}]},verifyCode:{identifier:"verifyCode",rules:[{type:"empty",prompt:"请输入图片验证码"}]}}}).api({url:"/action/user/pwd_reset_request",method:"post",serializeForm:!0,beforeSend:function(e){return $(this).message("hideAll"),e},onSuccess:function(t,o,i){var n=t;if(n.success)return $(this).message({type:"positive",content:n.msg}),!1;switch(e._emailResetPwdCaptcha.refresh(),n.msg){case"验证码错误":$(this).form("add prompt","verifyCode","请输入正确的图片验证码"),$(this).find("input[name=verifyCode]").focus();break;default:$(this).message({type:"negative",content:n.msg})}},onFailure:function(e,t){$(this).message({type:"negative",content:"网络错误，请稍后再试"})}})},initSendPhoneCodeBtn:function(){var e=this;e._sendPhoneCodeBtn.on("click",function(){e._mobileResetPwdForm.form("validate field","phone")&&e._mobileResetPwdForm.form("validate field","verifyCode")&&(e._sendPhoneCodeBtn.addClass("loading"),setTimeout(function(){e._phoneCodeCountDown(),e._sendPhoneCodeBtn.removeClass("loading")},1e3))})},initPhoneCodeLocalStorage:function(){var e=this;$(function(){var t=0;if(window.localStorage&&(t=localStorage.getItem("reset_pwd_phone_code"))){var o=t-parseInt((new Date).getTime()/1e3);o>0?e._phoneCodeCountDown(o):localStorage.removeItem("reset_pwd_phone_code")}})},register:function(){this.initResetPwdPanelTab(),this.initMobileResetPwdForm(),this.initEmailResetPwdForm(),this.initSendPhoneCodeBtn(),this.initPhoneCodeLocalStorage()}},e});
"use strict";OSCDefine("web-home-reset-pwd2",function(){var e=function(){this._resetPwdForm=$("#resetPwdForm"),this._resetPWdCaptcha=new OSCCaptcha({imgSelector:"#resetPwdForm .captcha img",refreshSelector:"#resetPwdForm .captcha",inputSelector:"#resetPwdForm input[name=verifyCode]",captchaUrl:"https://www.oschina.net/action/user/captcha"})};return e.prototype={constructor:e,initResetPwdForm:function(){$.fn.form.settings.rules.password=function(e){return!(!e.match(/[0-9]/)||!e.match(/[a-zA-Z]/)&&!/\W/.test(e))},self._resetPwdForm.form({inline:!0,fields:{pwd:{identifier:"pwd",rules:[{type:"empty",prompt:"请输入新的登录密码"},{type:"minLength[8]",prompt:"密码长度至少 {ruleValue} 位"},{type:"maxLength[20]",prompt:"密码长度不能超过 {ruleValue} 位"},{type:"password",prompt:"密码必须由字母或特殊字符和数字组成"}]},pwd2:{identifier:"pwd2",rules:[{type:"empty",prompt:"请再次输入新的登录密码"},{type:"match[pwd]",prompt:"两次密码输入不一致"}]},verifyCode:{identifier:"verifyCode",rules:[{type:"empty",prompt:"请输入验证码"}]}}}).api({url:"/user/reset_pwd",method:"post",serializeForm:!0,beforeSend:function(e){return $(this).message("hideAll"),e},onSuccess:function(e,t,r){var i=e;if(0===i.length)return $(this).message({type:"positive",content:"重置成功"}),setTimeout(function(){location.href="login"},2e3),!1;switch(_resetPWdCaptcha.refresh(),i){case"验证码错误":$(this).form("add prompt","verifyCode","请输入正确的图片验证码"),$(this).find("input[name=verifyCode]").focus();break;default:$(this).message({type:"negative",content:i})}},onFailure:function(e,t){$(this).message({type:"negative",content:"网络错误，请稍后再试"})}})},register:function(){this.initResetPwdForm()}},e});
"use strict";OSCDefine("web-home-reset-pwd-by-phone2",function(){var e=function(){this._resetPwdForm=$("#resetPwdForm"),this._resetPWdCaptcha=new OSCCaptcha({imgSelector:"#resetPwdForm .captcha img",refreshSelector:"#resetPwdForm .captcha",inputSelector:"#resetPwdForm input[name=verifyCode]",captchaUrl:"https://www.oschina.net/action/user/captcha"})};return e.prototype={constructor:e,initResetPwdForm:function(){$.fn.form.settings.rules.password=function(e){return!(!e.match(/[0-9]/)||!e.match(/[a-zA-Z]/)&&!/\W/.test(e))},this._resetPwdForm.form({inline:!0,fields:{pwd:{identifier:"pwd",rules:[{type:"empty",prompt:"请输入新的登录密码"},{type:"minLength[8]",prompt:"密码长度至少 {ruleValue} 位"},{type:"maxLength[20]",prompt:"密码长度不能超过 {ruleValue} 位"},{type:"password",prompt:"密码必须由字母或特殊字符和数字组成"}]},repeatPwd:{identifier:"repeatPwd",rules:[{type:"empty",prompt:"请再次输入新的登录密码"},{type:"match[pwd]",prompt:"两次密码输入不一致"}]},verifyCode:{identifier:"verifyCode",rules:[{type:"empty",prompt:"请输入验证码"}]}}}).api({url:"/user/resetPwdByPhoneStepTwo",method:"post",serializeForm:!0,beforeSend:function(e){return $(this).message("hideAll"),e},onSuccess:function(e,t,r){var i=e;if(i.result)return $(this).message({type:"positive",content:"重置成功"}),setTimeout(function(){location.href="login"},2e3),!1;switch(_resetPWdCaptcha.refresh(),i.msg){case"验证码错误":$(this).form("add prompt","verifyCode","请输入正确的图片验证码"),$(this).find("input[name=verifyCode]").focus();break;default:$(this).message({type:"negative",content:i.msg})}},onFailure:function(e,t){$(this).message({type:"negative",content:"网络错误，请稍后再试"})}})},register:function(){this.initResetPwdForm()}},e});
"use strict";OSCPlugin("project-common",function(){var t=function(){var t=this;this._projectSidebar=$(".project-sidebar"),this._projectListContainer=$(".project-list-container"),this._projectListHeader=this._projectListContainer.children(".header-wrap.ui.sticky"),this._projectListHeaderSticky={init:function(){if(t._projectListHeader.length<=0)return!1;window.innerWidth>=768?t._projectListHeader.sticky({context:".project-list-container",offset:45}):t._projectListHeader.sticky("destroy")},refresh:function(){if(t._projectListHeader.length<=0)return!1;window.innerWidth>=768&&t._projectListHeader.sticky("refresh")}},this.register()};return t.prototype={constructor:t,initSidebarSectionTabs:function(){this._projectSidebar.on("click",".section .tabs .tab[data-tab]",function(t){var i=$(this),e=i.data("tab"),r=i.parents(".section:eq(0)"),n=r.find('.tab-body[data-tab="'+e+'"]');n&&n.length>0&&(r.find(".tabs .tab").removeClass("active"),i.addClass("active"),r.find(".tab-body").removeClass("active"),n.addClass("active"))})},initSidebarNumPopup:function(){window.innerWidth>=768&&this._projectSidebar.find(".popup-num").popup({hoverable:!0})},initProjectListHeaderSticky:function(){this._projectListHeader=this._projectListContainer.children(".header-wrap.ui.sticky"),this._projectListHeaderSticky.init(),$(window).resize(this._projectListHeaderSticky.init)},refreshProjectListHeaderSticky:function(){this._projectListHeaderSticky.refresh()},register:function(){this.initSidebarSectionTabs(),this.initSidebarNumPopup()}},t});
"use strict";OSCDefine("web-project-index",["project-common"],function(t){var e=function(){this._projectEl=$(".web-project"),this._projectListContainerWrap=this._projectEl.find(".project-list-container-wrap");var e=this;this._articleInfiniteScroll={projectList:new OSCInfiniteScroll({pagePath:".pagination__next",checkLastPage:!0,containerSelector:"#projectList",itemListSelector:".projects-list-container",loadMoreBtnSelector:".load-more-button",statusSelector:".page-load-status",defaultAutoLoadPageCount:3,itemSelector:".item.project-item",loadOnScroll:!0,onAppend:function(){e.optimizeImgShow(),t.refreshProjectListHeaderSticky()}})}};return e.prototype={constructor:e,initCategoryMenu:function(){$("#projectCategoryMenu .dropdown").dropdown({on:"hover"})},initArticleInfiniteScroll:function(){this._articleInfiniteScroll.projectList&&(this._articleInfiniteScroll.projectList.destroy(),this._articleInfiniteScroll.projectList.init())},initPJAX:function(){var e=this,i=$(".project-list-container-loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax(".project-list-container-wrap .header-wrap .filter-bar .dropdown .item, .project-list-container-wrap .header-wrap .sort-bar .sort-list .sort-item",".project-list-container",{scrollTo:!1}),$(document).on("pjax:send",function(){i.addClass("active")}),$(document).on("pjax:complete",function(o){$(o.relatedTarget);i.removeClass("active"),e.initArticleInfiniteScroll(),e.optimizeImgShow(),e.initFilterToolBar(),t.initProjectListHeaderSticky(),e._projectListContainerWrap.offset().top-$(window).scrollTop()<62&&e.scrollToListHeader()})},initFilterToolBar:function(){this._projectListContainerWrap.find(".filter-bar .dropdown").dropdown();var t=this._projectListContainerWrap.find(".filter-bar .only-recommend.checkbox");t.checkbox({onChange:function(){var e=t.data("url");$.pjax({url:e,container:".project-list-container",scrollTo:!1})}})},optimizeImgShow:function(){$(function(){$("[data-img-render]").imgOptimize(90,90)})},scrollToListHeader:function(){var t=this._projectListContainerWrap.offset().top;t-97>0&&(t-=97),$("html, body").stop(!0).animate({scrollTop:t},500,"swing")},register:function(){this.initCategoryMenu(),this.initArticleInfiniteScroll(),this.initPJAX(),this.initFilterToolBar(),t.initProjectListHeaderSticky()}},e});
"use strict";OSCDefine("web-project-list",["project-common"],function(t){var i=function(){this._projectEl=$(".web-project-list"),this._projectListContainerWrap=this._projectEl.find(".project-list-container-wrap");var i=this;this._articleInfiniteScroll={projectList:new OSCInfiniteScroll({pagePath:".pagination__next",checkLastPage:!0,containerSelector:"#projectList",itemListSelector:".projects-list-container",loadMoreBtnSelector:".load-more-button",statusSelector:".page-load-status",defaultAutoLoadPageCount:3,itemSelector:".item.project-item",loadOnScroll:!0,onAppend:function(){i.optimizeImgShow(),t.refreshProjectListHeaderSticky()}})}};return i.prototype={constructor:i,initArticleInfiniteScroll:function(){this._articleInfiniteScroll.projectList&&(this._articleInfiniteScroll.projectList.destroy(),this._articleInfiniteScroll.projectList.init())},initPJAX:function(){var i=this,e=$(".project-list-container-loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax(".project-list-container-wrap .header-wrap .filter-bar .dropdown .item, .project-list-container-wrap .header-wrap .sort-bar .sort-list .sort-item",".project-list-container",{scrollTo:!1}),$(document).on("pjax:send",function(){e.addClass("active")}),$(document).on("pjax:complete",function(o){$(o.relatedTarget);e.removeClass("active"),i.initArticleInfiniteScroll(),i.optimizeImgShow(),i.initFilterToolBar(),t.initProjectListHeaderSticky(),i._projectListContainerWrap.offset().top-$(window).scrollTop()<62&&i.scrollToListHeader()})},initFilterToolBar:function(){this._projectListContainerWrap.find(".filter-bar .dropdown").dropdown();var t=this._projectListContainerWrap.find(".filter-bar .only-recommend.checkbox");t.checkbox({onChange:function(){var i=t.data("url");$.pjax({url:i,container:".project-list-container",scrollTo:!1})}})},optimizeImgShow:function(){$(function(){$("[data-img-render]").imgOptimize(90,90)})},scrollToListHeader:function(){var t=this._projectListContainerWrap.offset().top;t-97>0&&(t-=97),$("html, body").stop(!0).animate({scrollTop:t},500,"swing")},register:function(){this.initArticleInfiniteScroll(),this.initPJAX(),this.initFilterToolBar(),t.initProjectListHeaderSticky()}},i});
"use strict";OSCDefine("web-project-zh",["project-common"],function(t){var i=function(){this._projectEl=$(".web-project-zh"),this._projectListContainerWrap=this._projectEl.find(".project-list-container-wrap");var i=this;this._articleInfiniteScroll={projectList:new OSCInfiniteScroll({pagePath:".pagination__next",checkLastPage:!0,containerSelector:"#projectList",itemListSelector:".projects-list-container",loadMoreBtnSelector:".load-more-button",statusSelector:".page-load-status",defaultAutoLoadPageCount:3,itemSelector:".item.project-item",loadOnScroll:!0,onAppend:function(){i.optimizeImgShow(),t.refreshProjectListHeaderSticky()}})}};return i.prototype={constructor:i,initArticleInfiniteScroll:function(){this._articleInfiniteScroll.projectList&&(this._articleInfiniteScroll.projectList.destroy(),this._articleInfiniteScroll.projectList.init())},initPJAX:function(){var i=this,e=$(".project-list-container-loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax(".project-list-container-wrap .header-wrap .filter-bar .dropdown .item, .project-list-container-wrap .header-wrap .sort-bar .sort-list .sort-item",".project-list-container",{scrollTo:!1}),$(document).on("pjax:send",function(){e.addClass("active")}),$(document).on("pjax:complete",function(o){$(o.relatedTarget);e.removeClass("active"),i.initArticleInfiniteScroll(),i.optimizeImgShow(),i.initFilterToolBar(),t.initProjectListHeaderSticky(),i._projectListContainerWrap.offset().top-$(window).scrollTop()<62&&i.scrollToListHeader()})},initFilterToolBar:function(){this._projectListContainerWrap.find(".filter-bar .dropdown").dropdown();var t=this._projectListContainerWrap.find(".filter-bar .only-recommend.checkbox");t.checkbox({onChange:function(){var i=t.data("url");$.pjax({url:i,container:".project-list-container",scrollTo:!1})}})},optimizeImgShow:function(){$(function(){$("[data-img-render]").imgOptimize(90,90)})},scrollToListHeader:function(){var t=this._projectListContainerWrap.offset().top;t-97>0&&(t-=97),$("html, body").stop(!0).animate({scrollTop:t},500,"swing")},initHotProjectsTab:function(){var t=this._projectEl.find(".nation-hot-projects-wrap");t.on("click",".panel-header .tabs .tab[data-tab]",function(i){var e=$(this),o=e.data("tab"),r=t.find('.tab-body[data-tab="'+o+'"]');r&&r.length>0&&(t.find(".tabs .tab").removeClass("active"),e.addClass("active"),t.find(".tab-body").removeClass("active"),r.addClass("active"))})},register:function(){this.initArticleInfiniteScroll(),this.initPJAX(),this.initFilterToolBar(),this.initHotProjectsTab(),t.initProjectListHeaderSticky()}},i});
$(function(){var t=0;$(".github-widget").each(function(){0==t&&$("head").append('<style type="text/css">.github-box{font-family:helvetica,arial,sans-serif;font-size:13px;line-height:18px;background:#fafafa;border:1px solid #ddd;color:#666;border-radius:3px}.github-box a{color:#4183c4;border:0;text-decoration:none}.github-box .github-box-title{position:relative;border-bottom:1px solid #ddd;border-radius:3px 3px 0 0;background:#fcfcfc;background:-moz-linear-gradient(#fcfcfc,#ebebeb);background:-webkit-linear-gradient(#fcfcfc,#ebebeb);}.github-box .github-box-title h3{font-family:helvetica,arial,sans-serif;font-weight:normal;font-size:16px;color:gray;margin:0;padding:10px 10px 10px 80px;background:url(http://www.oschina.net/img/github_logo.gif) bottom left no-repeat}.github-box .github-box-title h3 .repo{font-weight:bold}.github-box .github-box-title .github-stats{position:absolute;top:9px;right:10px;background:white;border:1px solid #ddd;border-radius:3px;font-size:12px;font-weight:bold;line-height:22px;height:22px;padding-left:2px;}.github-box .github-box-title .github-stats a{display:inline-block;height:20px;color:#666;padding:0 6px 0 0;}.github-box .github-box-title .github-stats span{display:inline-block;height:20px;padding:0 4px 0 6px;}.github-box .github-box-title .github-stats a + span{border-left:1px solid #ddd;}.github-box .github-box-content{padding:10px;font-weight:400}.github-box .github-box-content p{margin:0}.github-box .github-box-content .link{font-weight:bold}.github-box .github-box-download{position:relative;border-top:1px solid #ddd;background:white;border-radius:0 0 3px 3px;padding:6px 10px}.github-box .github-box-download .updated{margin:0;font-size:12px;color:#666;line-height:24px;font-weight:400}.github-box .github-box-download .updated strong{font-weight:bold;color:#000}.github-box .github-box-download .download{position:absolute;display:block;top:6px;right:10px;height:24px;line-height:24px;font-size:12px;color:#666;font-weight:bold;text-shadow:0 1px 0 rgba(255,255,255,0.9);padding:0 10px;border:1px solid #ddd;border-bottom-color:#bbb;border-radius:3px;background:#f5f5f5;background:-moz-linear-gradient(#f5f5f5,#e5e5e5);background:-webkit-linear-gradient(#f5f5f5,#e5e5e5);}.github-box .github-box-download .download:hover{color:#527894;border-color:#cfe3ed;border-bottom-color:#9fc7db;background:#f1f7fa;background:-moz-linear-gradient(#f1f7fa,#dbeaf1);background:-webkit-linear-gradient(#f1f7fa,#dbeaf1);</style>'),t++;var e=$(this),a=e.data("repo"),o=function(t){return t&&0!=t.length?t.replace(/</g,"&lt;").replace(/>/g,"&gt;"):""};$.ajax({url:"https://api.github.com/repos/"+a,dataType:"jsonp",success:function(t){if(!t||!t.meta||200!==t.meta.status)return!1;var r=t.data,i=r.pushed_at.substr(0,10);if(r.homepage){var s=r.homepage.match(/((http|https):\/\/)*[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/);s&&s[0]&&!s[1]&&(r.homepage="http://"+s[0])}else r.homepage="";$(' \t\t\t\t\t<div class="github-box repo">  \t\t\t\t\t    <div class="github-box-title"> \t\t\t\t\t        <h3> \t\t\t\t\t            <a class="owner" href="'+r.owner.url.replace("api.","").replace("users/","")+'" target="_blank">'+r.owner.login+'</a> \t\t\t\t\t            /  \t\t\t\t\t            <a class="repo" href="'+r.url.replace("api.","").replace("repos/","")+'" target="_blank">'+r.name+'</a> \t\t\t\t\t        </h3> \t\t\t\t\t        <div class="github-stats"><span>Watch</span> <a class="watchers" title="Watchers" href="'+r.url.replace("api.","").replace("repos/","")+'/watchers" target="_blank">'+r.subscribers_count+'</a><span>Star</span> <a class="stars" title="Stars" href="'+r.url.replace("api.","").replace("repos/","")+'/stargazers" target="_blank">'+r.stargazers_count+'</a><span>Fork</span> <a class="forks" title="Forks" href="'+r.url.replace("api.","").replace("repos/","")+'/network" target="_blank">'+r.forks+'</a></div> \t\t\t\t\t    </div> \t\t\t\t\t    <div class="github-box-content"> \t\t\t\t\t        <p class="description">'+o(r.description)+' &mdash; <a href="'+r.url.replace("api.","").replace("repos/","")+'#readme"  target="_blank">More...</a></p> \t\t\t\t\t        <p class="link"><a href="'+r.homepage+'">'+o(r.homepage)+'</a></p> \t\t\t\t\t        <table class="issues" width="100%"></table> \t\t\t\t\t    </div> \t\t\t\t\t    <div class="github-box-download"> \t\t\t\t\t        <p class="updated"><a href="'+r.url.replace("api.","").replace("repos/","")+"/tree/"+r.default_branch+'" target="_blank"><strong>'+r.default_branch+"</strong> 分支</a> ："+i+'</p> \t\t\t\t\t        <a class="download" href="'+r.url.replace("api.","").replace("repos/","")+'/zipball/master">下载zip</a> \t\t\t\t\t    </div> \t\t\t\t\t</div> \t\t\t\t').appendTo(e),r.has_issues&&r.open_issues>0&&$.ajax({url:"https://api.github.com/repos/"+a+"/issues?state=open&per_page=5&page=1&sort=updated",dataType:"jsonp",success:function(t){var e=t.data,a=$(".github-box-content table");a.append('<tr><td colspan="2"><a href="'+r.html_url+'/issues" target="_blank"><strong>Issues</strong></a></td></tr>');for(var i=0;i<e.length;i++){var s=e[i].updated_at.substr(0,10);a.append('<tr> \t\t\t\t\t\t\t\t\t\t<td class="number" width="30">#'+e[i].number+'</td> \t\t\t\t\t\t\t\t\t\t<td class="info"><a href="'+e[i].html_url+'" target="_blank">'+o(e[i].title)+'</a></td> \t\t\t\t\t\t\t\t\t\t<td class="author" width="200" align="right">by <a href="'+e[i].user.url.replace("api.","").replace("users/","")+'" target="_blank">'+e[i].user.login+'</a>&nbsp;&nbsp;<em style="font-size: 8pt;font-family: Candara,arial;color: #666;-webkit-text-size-adjust: none;">'+s+"</em></td></tr> \t\t\t\t\t\t\t\t")}}})}})})});
"use strict";OSCPlugin("project-detail-comments",function(){return function(){var e={config:{objId:0,fetchCommentsUrl:"",publishCommentUrl:"",replyCommentUrl:"",deleteCommentUrl:""},init:function(e){this._commentsContainer=$("#commentsContainer"),this._commentsWrap=this._commentsContainer.find(".comments-wrap"),this.config=$.isPlainObject(e)?$.extend(!0,{},this.config,e):$.extend({},this.config)},loadComments:function(e,t){var o=this,n=Math.floor(e)||1;if(-1===n){var a=o._commentsWrap.find(".pagination-wrap");n=Math.floor(a.data("page"))||1}var r=window.common.addQueryParams(o.config.fetchCommentsUrl,{p:n});$.get(r,function(e){o._commentsWrap.html(e),o.parseEmoticon(),t&&$.isFunction(t)&&t.call(this)})},loadCommentsByCommentId:function(e,t){var o=this,n=Math.floor(e)||1,a=window.common.addQueryParams(o.config.fetchCommentsUrl,{commentId:n});$.get(a,function(e){o._commentsWrap.html(e),o.parseEmoticon(),t&&$.isFunction(t)&&t.call(this)})},initCommentForm:function(){var e=this,t="OSC_PROJECT_"+page.objId+"_COMMENT_CACHE",o="OSC_PROJECT_"+page.objId+"_COMMENT_PUBLISH_CACHE",n=window.common.throttle(function(e){try{e&&e.trim().length>0?localStorage.setItem(t,e):localStorage.removeItem(t)}catch(e){}},500);e.commentFormVue=new Vue({el:"#commentForm",data:function(){return{commentMaxLength:1e3,commentContent:"",commentPublishLoading:!1,tipMessage:{show:!1,content:"",className:""},curEmojiType:"People",emojiList:[{type:"People",items:["bowtie","smile","laughing","blush","smiley","relaxed","smirk","heart_eyes","kissing_heart","kissing_closed_eyes","flushed","relieved","satisfied","grin","wink","stuck_out_tongue_winking_eye","stuck_out_tongue_closed_eyes","grinning","kissing","kissing_smiling_eyes","stuck_out_tongue","sleeping","worried","frowning","anguished","open_mouth","grimacing","confused","hushed","expressionless","unamused","sweat_smile","sweat","disappointed_relieved","weary","pensive","disappointed","confounded","fearful","cold_sweat","persevere","cry","sob","joy","astonished","scream","neckbeard","tired_face","angry","rage","triumph","sleepy","yum","mask","sunglasses","dizzy_face","imp","smiling_imp","neutral_face","no_mouth","innocent","alien","yellow_heart","blue_heart","purple_heart","heart","green_heart","broken_heart","heartbeat","heartpulse","two_hearts","revolving_hearts","cupid","sparkling_heart","sparkles","star","star2","dizzy","boom","collision","anger","exclamation","question","grey_exclamation","grey_question","zzz","dash","sweat_drops","notes","musical_note","fire","hankey","poop","shit","+1","thumbsup","-1","thumbsdown","ok_hand","punch","facepunch","fist","v","wave","hand","raised_hand","open_hands","point_up","point_down","point_left","point_right","raised_hands","pray","point_up_2","clap","muscle","metal","fu","walking","runner","running","couple","family","two_men_holding_hands","two_women_holding_hands","dancer","dancers","ok_woman","no_good","information_desk_person","raising_hand","bride_with_veil","person_with_pouting_face","person_frowning","bow","couplekiss","couple_with_heart","massage","haircut","nail_care","boy","girl","woman","man","baby","older_woman","older_man","person_with_blond_hair","man_with_gua_pi_mao","man_with_turban","construction_worker","cop","angel","princess","smiley_cat","smile_cat","heart_eyes_cat","kissing_cat","smirk_cat","scream_cat","crying_cat_face","joy_cat","pouting_cat","japanese_ogre","japanese_goblin","see_no_evil","hear_no_evil","speak_no_evil","guardsman","skull","feet","lips","kiss","droplet","ear","eyes","nose","tongue","love_letter","bust_in_silhouette","busts_in_silhouette","speech_balloon","thought_balloon","feelsgood","finnadie","goberserk","godmode","hurtrealbad","rage1","rage2","rage3","rage4","suspect","trollface"]},{type:"Nature",items:["sunny","umbrella","cloud","snowflake","snowman","zap","cyclone","foggy","ocean","cat","dog","mouse","hamster","rabbit","wolf","frog","tiger","koala","bear","pig","pig_nose","cow","boar","monkey_face","monkey","horse","racehorse","camel","sheep","elephant","panda_face","snake","bird","baby_chick","hatched_chick","hatching_chick","chicken","penguin","turtle","bug","honeybee","ant","beetle","snail","octopus","tropical_fish","fish","whale","whale2","dolphin","cow2","ram","rat","water_buffalo","tiger2","rabbit2","dragon","goat","rooster","dog2","pig2","mouse2","ox","dragon_face","blowfish","crocodile","dromedary_camel","leopard","cat2","poodle","paw_prints","bouquet","cherry_blossom","tulip","four_leaf_clover","rose","sunflower","hibiscus","maple_leaf","leaves","fallen_leaf","herb","mushroom","cactus","palm_tree","evergreen_tree","deciduous_tree","chestnut","seedling","blossom","ear_of_rice","shell","globe_with_meridians","sun_with_face","full_moon_with_face","new_moon_with_face","new_moon","waxing_crescent_moon","first_quarter_moon","waxing_gibbous_moon","full_moon","waning_gibbous_moon","last_quarter_moon","waning_crescent_moon","last_quarter_moon_with_face","first_quarter_moon_with_face","moon","earth_africa","earth_americas","earth_asia","volcano","milky_way","partly_sunny","octocat","squirrel"]},{type:"Objects",items:["bamboo","gift_heart","dolls","school_satchel","mortar_board","flags","fireworks","sparkler","wind_chime","rice_scene","jack_o_lantern","ghost","santa","christmas_tree","gift","bell","no_bell","tanabata_tree","tada","confetti_ball","balloon","crystal_ball","cd","dvd","floppy_disk","camera","video_camera","movie_camera","computer","tv","iphone","phone","telephone","telephone_receiver","pager","fax","minidisc","vhs","sound","speaker","mute","loudspeaker","mega","hourglass","hourglass_flowing_sand","alarm_clock","watch","radio","satellite","loop","mag","mag_right","unlock","lock","lock_with_ink_pen","closed_lock_with_key","key","bulb","flashlight","high_brightness","low_brightness","electric_plug","battery","calling","email","mailbox","postbox","bath","bathtub","shower","toilet","wrench","nut_and_bolt","hammer","seat","moneybag","yen","dollar","pound","euro","credit_card","money_with_wings","e-mail","inbox_tray","outbox_tray","envelope","incoming_envelope","postal_horn","mailbox_closed","mailbox_with_mail","mailbox_with_no_mail","package","door","smoking","bomb","gun","hocho","pill","syringe","page_facing_up","page_with_curl","bookmark_tabs","bar_chart","chart_with_upwards_trend","chart_with_downwards_trend","scroll","clipboard","calendar","date","card_index","file_folder","open_file_folder","scissors","pushpin","paperclip","black_nib","pencil2","straight_ruler","triangular_ruler","closed_book","green_book","blue_book","orange_book","notebook","notebook_with_decorative_cover","ledger","books","bookmark","name_badge","microscope","telescope","newspaper","football","basketball","soccer","baseball","tennis","8ball","rugby_football","bowling","golf","mountain_bicyclist","bicyclist","horse_racing","snowboarder","swimmer","surfer","ski","spades","hearts","clubs","diamonds","gem","ring","trophy","musical_score","musical_keyboard","violin","space_invader","video_game","black_joker","flower_playing_cards","game_die","dart","mahjong","clapper","memo","pencil","book","art","microphone","headphones","trumpet","saxophone","guitar","shoe","sandal","high_heel","lipstick","boot","shirt","tshirt","necktie","womans_clothes","dress","running_shirt_with_sash","jeans","kimono","bikini","ribbon","tophat","crown","womans_hat","mans_shoe","closed_umbrella","briefcase","handbag","pouch","purse","eyeglasses","fishing_pole_and_fish","coffee","tea","sake","baby_bottle","beer","beers","cocktail","tropical_drink","wine_glass","fork_and_knife","pizza","hamburger","fries","poultry_leg","meat_on_bone","spaghetti","curry","fried_shrimp","bento","sushi","fish_cake","rice_ball","rice_cracker","rice","ramen","stew","oden","dango","egg","bread","doughnut","custard","icecream","ice_cream","shaved_ice","birthday","cake","cookie","chocolate_bar","candy","lollipop","honey_pot","apple","green_apple","tangerine","lemon","cherries","grapes","watermelon","strawberry","peach","melon","banana","pear","pineapple","sweet_potato","eggplant","tomato","corn"]},{type:"Places",items:["house","house_with_garden","school","office","post_office","hospital","bank","convenience_store","love_hotel","hotel","wedding","church","department_store","european_post_office","city_sunrise","city_sunset","japanese_castle","european_castle","tent","factory","tokyo_tower","japan","mount_fuji","sunrise_over_mountains","sunrise","stars","statue_of_liberty","bridge_at_night","carousel_horse","rainbow","ferris_wheel","fountain","roller_coaster","ship","speedboat","boat","sailboat","rowboat","anchor","rocket","airplane","helicopter","steam_locomotive","tram","mountain_railway","bike","aerial_tramway","suspension_railway","mountain_cableway","tractor","blue_car","oncoming_automobile","car","red_car","taxi","oncoming_taxi","articulated_lorry","bus","oncoming_bus","rotating_light","police_car","oncoming_police_car","fire_engine","ambulance","minibus","truck","train","station","train2","bullettrain_front","bullettrain_side","light_rail","monorail","railway_car","trolleybus","ticket","fuelpump","vertical_traffic_light","traffic_light","warning","construction","beginner","atm","slot_machine","busstop","barber","hotsprings","checkered_flag","crossed_flags","izakaya_lantern","moyai","circus_tent","performing_arts","round_pushpin","triangular_flag_on_post","jp","kr","cn","us","fr","es","it","ru","gb","uk","de"]},{type:"Symbols",items:["one","two","three","four","five","six","seven","eight","nine","keycap_ten","1234","zero","hash","symbols","arrow_backward","arrow_down","arrow_forward","arrow_left","capital_abcd","abcd","abc","arrow_lower_left","arrow_lower_right","arrow_right","arrow_up","arrow_upper_left","arrow_upper_right","arrow_double_down","arrow_double_up","arrow_down_small","arrow_heading_down","arrow_heading_up","leftwards_arrow_with_hook","arrow_right_hook","left_right_arrow","arrow_up_down","arrow_up_small","arrows_clockwise","arrows_counterclockwise","rewind","fast_forward","information_source","ok","twisted_rightwards_arrows","repeat","repeat_one","new","top","up","cool","free","ng","cinema","koko","signal_strength","u5272","u5408","u55b6","u6307","u6708","u6709","u6e80","u7121","u7533","u7a7a","u7981","sa","restroom","mens","womens","baby_symbol","no_smoking","parking","wheelchair","metro","baggage_claim","accept","wc","potable_water","put_litter_in_its_place","secret","congratulations","m","passport_control","left_luggage","customs","ideograph_advantage","cl","sos","id","no_entry_sign","underage","no_mobile_phones","do_not_litter","non-potable_water","no_bicycles","no_pedestrians","children_crossing","no_entry","eight_spoked_asterisk","sparkle","eight_pointed_black_star","heart_decoration","vs","vibration_mode","mobile_phone_off","chart","currency_exchange","aries","taurus","gemini","cancer","leo","virgo","libra","scorpius","sagittarius","capricorn","aquarius","pisces","ophiuchus","six_pointed_star","negative_squared_cross_mark","a","b","ab","o2","diamond_shape_with_a_dot_inside","recycle","end","back","on","soon","clock1","clock130","clock10","clock1030","clock11","clock1130","clock12","clock1230","clock2","clock230","clock3","clock330","clock4","clock430","clock5","clock530","clock6","clock630","clock7","clock730","clock8","clock830","clock9","clock930","heavy_dollar_sign","copyright","registered","tm","x","heavy_exclamation_mark","bangbang","interrobang","o","heavy_multiplication_x","heavy_plus_sign","heavy_minus_sign","heavy_division_sign","white_flower","100","heavy_check_mark","ballot_box_with_check","radio_button","link","curly_loop","wavy_dash","part_alternation_mark","trident","black_small_square","white_small_square","black_medium_small_square","white_medium_small_square","black_medium_square","white_medium_square","black_large_square","white_large_square","white_check_mark","black_square_button","white_square_button","black_circle","white_circle","red_circle","large_blue_circle","large_blue_diamond","large_orange_diamond","small_blue_diamond","small_orange_diamond","small_red_triangle","small_red_triangle_down","shipit"]}]}},computed:{curEmojiItems:function(){for(var e=0,t=this.emojiList.length;e<t;e++)if(this.emojiList[e].type===this.curEmojiType)return this.emojiList[e].items;return this.emojiList[0].items},commentContentIsEmpty:function(){return 0===this.commentContent.length},commentCountText:function(){return this.commentContent.length+"/"+this.commentMaxLength}},mounted:function(){if(void 0!==window.localStorage){var e=localStorage.getItem(t)||"",n=localStorage.getItem(o)||"";e&&e.trim().length>0&&(this.commentContent=e,n&&page.g_user_code&&(localStorage.removeItem(o),this.publishComment()))}},methods:{insertEmoji:function(e){this.clearMessage();var t=":"+e+":";this.insertContent(t),$(this.$refs.showEmojiBox).popup("hide")},insertProject:function(){if(this.clearMessage(),this.insertContent("#此处输入软件#")){var e=selectRange.of(this.$refs.commentTextarea),t=e.getCurPos();e.setSelectText(t-("#此处输入软件#".length-1),t-1)}},publishComment:function(){var n=this,a=window.common.getCurrentUrl(!0)+"#commentForm";if(!window.common.checkLoginForWeChat(a,function(){try{localStorage.setItem(o,"1")}catch(e){}}))return!1;if(!n.tweetPublishLoading)if(n.clearMessage(),n.commentContentIsEmpty)n.showMessage("error","内容不能为空",2e3);else if(n.commentContent.length>n.commentMaxLength)n.showMessage("error","最多只能输入"+n.commentMaxLength+"个字符！",2e3);else{n.commentPublishLoading=!0;var r={projectId:e.config.objId,comment:n.commentContent,user_code:page.g_user_code||""};$.post(e.config.publishCommentUrl,r,function(o){if(1===o.code){o.message&&$("body").toast({type:"success",content:o.message||"评论发布成功"}),window.localStorage&&window.localStorage.removeItem(t),n.commentContent="",e.loadComments();var a=$(".float-menu .comment-btn");if(o.result&&void 0!==o.result.replyCount){var r=o.result.replyCount;$("[data-article-reply-count]").html(r),a.attr("title","共有 "+r+" 条评论")}a.find(".icon").removeClass("outline"),$("html, body").stop().animate({scrollTop:e._commentsWrap.offset().top-80},500,"swing")}else n.showMessage("error",o.message||"发布失败",2e3)}).fail(function(){n.showMessage("error","网络错误，请稍后再试！",2e3)}).always(function(){n.commentPublishLoading=!1})}},commentContentOnKeyDown:function(e){(e.metaKey||e.ctrlKey)&&13==e.keyCode&&this.publishComment()},insertContent:function(e){return!this.commentPublishLoading&&(this.commentContent.length>=this.commentMaxLength||this.commentContent.length+e.length>this.commentMaxLength?void this.showMessage("error","最多只能输入"+this.commentMaxLength+"个字符！",2e3):(selectRange.of(this.$refs.commentTextarea).insertAfterText(e),this.commentContent=this.$refs.commentTextarea.value,!0))},showMessage:function(e,t,o){var n=this;n.tipMessage.className="success"===e?"positive":"negative",n.tipMessage.content=t;var a=parseInt(o)||0;n.tipMessage.show=!0,a>0&&setTimeout(function(){n.clearMessage()},a)},clearMessage:function(){this.tipMessage.className="",this.tipMessage.content="",this.tipMessage.show=!1}},watch:{commentContent:function(e){n(e)}}}),$("#commentForm").find(".comment-form .toolbox > .item[data-popup]").each(function(e,t){var o=$(t),n=$(o).parent().find(".toolbox-popup."+o.attr("data-popup"));o.popup({position:"bottom left",popup:n,on:"toolbox-picture"===o.attr("data-popup")?"manual":"click",exclusive:!0})})},unblockAnswer:function(){var e=this;e._commentsWrap.on("click",".actions a.unblock",function(t){var o=$(t.target).parents(".comment:eq(0)"),n=o.attr("data-comment-id"),a=o.attr("data-comment-user-id");if(!window.common.checkLogin())return!1;$.post(page.site_url+"/communityManage/review_comment_agree",{objId:n,objType:1,author:a},function(t){1===t.code?(e.loadComments(-1),$("body").toast({type:"success",content:"操作成功"})):$("body").toast({type:"error",content:t.message||"操作失败"})})})},blockAnswer:function(){var e=this;e._commentsWrap.on("click",".actions a.block",function(t){var o=$(t.target).parents(".comment:eq(0)"),n=o.attr("data-comment-id"),a=o.attr("data-comment-user-id");if(!window.common.checkLogin())return!1;$.post(page.site_url+"/communityManage/review_comment_reject",{objId:n,objType:1,author:a},function(t){1===t.code?(e.loadComments(-1),$("body").toast({type:"success",content:"操作成功"})):$("body").toast({type:"error",content:t.message||"操作失败"})})})},initCommentDeleteModal:function(){var e=this,t=$(".delete-comment.modal");t.modal({onDeny:function(){var t=$(this).attr("data-comment-id"),o=e._commentsWrap.find("div.comment[data-comment-id="+t+"]");o.attr("data-comment-user-id"),$.post(e.config.deleteCommentUrl,{commentId:t,user_code:page.g_user_code||""},function(t){if(1===t.code){$("body").toast({type:"success",content:"删除成功"}),o.fadeOut(function(){o.remove()});var n=e._commentsWrap.find("> .header span"),a=n.text(),r=$("[data-article-reply-count]"),i=$(".float-menu .comment-btn");if(a){var s=parseInt(a)-(1+o.find("div.comment").length);s<0&&(s=0),n.text(s),r.html(s),i.attr("title","共有 "+s+" 条评论")}else n.text(0),r.html(0),i.attr("title","共有 0 条评论");t.result&&void 0!==t.result.selfCommentCount&&t.result.selfCommentCount<=0&&i.find(".icon").addClass("outline")}else $("body").toast({type:"error",content:t.message||"删除失败"})})}}),e._commentsWrap.on("click",".actions a.remove",function(e){e.stopPropagation();var o=$(e.target).parents(".comment:eq(0)").attr("data-comment-id");t.attr("data-comment-id",o),t.modal("show")})},initReplyCommentModal:function(){var e=this,t=$(".reply-comment.modal"),o=$("#replyCommentForm");t.modal({onShow:function(){o.form("reset"),o.message("hideAll");var e=$(this).attr("data-comment-user-id")||-1,t=$(this).attr("data-comment-id")||-1;o.find("input[name=reply_id]").val(e+"_"+t)},onApprove:function(){return o.message("hideAll"),o.form("submit"),!1}}),o.form({inline:!0,fields:{content:{rules:[{type:"empty",prompt:"请输入评论内容"},{type:"maxLength[1000]",prompt:"内容长度不能超过 {ruleValue} 个字"}]}}}).api({url:e.config.replyCommentUrl,method:"post",serializeForm:!0,beforeSend:function(t){$(this).message("hideAll");var o=t.data;return t.data={article:e.config.objId,reply_id:o.reply_id,content:o.content},t},onSuccess:function(n,a,r){if(1===n.code){$(this).message({type:"positive",content:"评论回复成功"}),o.form("reset"),e.loadComments();var i=$(".float-menu .comment-btn");if(n.result&&void 0!==n.result.replyCount){var s=n.result.replyCount;$("[data-article-reply-count]").html(s),i.attr("title","共有 "+s+" 条评论")}i.find(".icon").removeClass("outline"),setTimeout(function(){t.modal("hide")},2e3)}else $(this).message({type:"negative",content:n.message||"回复失败"})},onFailure:function(e,t){$(this).message({type:"negative",content:"网络错误，请稍后再试"})}}),t.on("keydown",function(e){(e.metaKey||e.ctrlKey)&&13===e.keyCode&&t.find(".positive.button").click()}),e._commentsWrap.on("click",".actions a.reply",function(e){if(e.stopPropagation(),!window.common.checkLogin())return!1;var o=$(e.target).parents(".comment:eq(0)"),n=o.attr("data-comment-user-id"),a=o.attr("data-comment-id");t.attr("data-comment-user-id",n),t.attr("data-comment-id",a),t.modal("show")})},bindReplyBtn:function(){var e=this;e._commentsWrap.on("click",".actions a.reply",function(t){if(t.stopPropagation(),!window.common.checkLogin())return!1;var o=$(t.target).parents(".comment:eq(0)"),n=o.attr("data-comment-id"),a=o.attr("data-comment-user-name"),r=!!o.data("comment-is-last-level"),i=n,s="";if(r){var c=o.parents(".comment:eq(0)");c&&(i=c.attr("data-comment-id")),s=a}if(o.find(".content:eq(0) [data-reply-comment-form]").length>0){var m=o.find(".content:eq(0) [data-reply-comment-form]").get(0);return m.vueInstance&&m.vueInstance.focus(),!1}$("[data-reply-comment-form]").each(function(e,t){var o=$(t);t.vueInstance&&t.vueInstance.$destroy(),o.remove()}),0===$('[data-reply-comment-form][data-comment-id="'+n+'"]').length&&!0!==window.oscReplyCommentFormLoading&&(window.oscReplyCommentFormLoading=!0,$.get("/widgets/comments_reply_form",function(t){var a=document.createElement("div");a.innerHTML=t,$(a).find("[data-reply-comment-form]").attr("data-comment-id",n),o.find(".content:eq(0)").append(a);var r=new OSCCommentForm({commentFormSelector:"#replyCommentForm",commentsWrapEl:e._commentsWrap,toggleLoadComments:function(){e.loadComments(-1)},url:e.config.replyCommentUrl,params:{projectId:e.config.objId,user_code:page.g_user_code||"",parentId:i},commentedAutoScrollToTop:!1,contentField:"comment"});r.init(),r.focus(),s&&r.insertContent("回复 @"+s+" : ")}).always(function(){window.oscReplyCommentFormLoading=!1}))})},initCommentsListPJAX:function(){var e=this,t=$(".comments-loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax("#commentsContainer .comments-wrap .pagination a","#commentsContainer .comments-wrap",{scrollTo:!1}),$(document).on("pjax:send",function(e){$(e.target),"comments-wrap"===e.target.className&&t.addClass("active")}),$(document).on("pjax:complete",function(o){$(o.target),"comments-wrap"===o.target.className&&(e.parseEmoticon(),t.removeClass("active"),$("html, body").stop().animate({scrollTop:e._commentsWrap.offset().top-60},500,"swing"))})},parseEmoticon:function(){$(function(){$("[data-emoji-render]").emoticon()})},scrollToCommentFromUrlCommentId:function(){var e=location.hash,t=e.match(/#rpl_(\d+).*/),o=t?Math.floor(t[1]):-1;o>0&&this.loadCommentsByCommentId(o,function(){setTimeout(function(){var t=$(e);if(t.length){var o=t.offset().top;o-160>0&&(o-=160),$("html, body").stop(!0).animate({scrollTop:o},500,"swing")}},0)})}};new window.common.dynamicLoader(["/new-osc/js/utils/vue.min.js"],function(){var t=window.page;e.init({objId:t.objId,fetchCommentsUrl:t.fetchCommentsUrl,publishCommentUrl:t.publishCommentUrl,replyCommentUrl:t.replyCommentUrl,deleteCommentUrl:t.deleteCommentUrl}),e.initCommentForm(),e.unblockAnswer(),e.blockAnswer(),e.initCommentDeleteModal(),e.bindReplyBtn(),e.initCommentsListPJAX(),e.parseEmoticon(),e.scrollToCommentFromUrlCommentId()}).loadFiles()}});
"use strict";OSCDefine("web-project-detail",["project-detail-comments"],function(){var t=function(){var t=this;this._projectDetailEl=$(".web-project-detail"),this._projectDetailContainer=this._projectDetailEl.find(".project-detail-container"),this._projectDetailContainerTab=this._projectDetailContainer.find(".project-detail-tab-wrap"),this._tabSticky={init:function(){if($(".project-detail-container").length<=0)return!1;window.innerWidth>=768?t._projectDetailContainerTab.sticky({context:".project-detail-container",offset:45}):t._projectDetailContainerTab.sticky("destroy")},refresh:function(){if($(".project-detail-container").length<=0)return!1;window.innerWidth>=768&&t._projectDetailContainerTab.sticky("refresh")}}};return t.prototype={constructor:t,projectRating:function(){var t=this._projectDetailEl.find(".project-rating .ui.rating");t.rating({maxRating:5,onRate:function(e){if(!window.common.checkLogin())return!1;var i=2*e;$.post(page.api_prefix+"/action/project/comment",{comment:"",projectId:page.objId,user_code:page.g_user_code,score:i},function(e){e.result&&t.rating("disable")})}}),t.attr("disabled")&&t.rating("disable")},hightlight:function(){$("pre, pre code").each(function(t,e){var i=$(this),n=(i.attr("class")||"").match(/language-(.*)/);if(n&&n.length>1){var o=n[n.length-1];i.attr("class","hljs "+o)}hljs.highlightBlock(e)})},checkWechatLogin:function(){if(!page.g_user_code)return!window.common.checkWeChat()||!page.weixinLogin},modelEvent:function(){$("#btnCancel").on("click",function(){document.getElementById("wechatModel").style.display="none"})},optimizeImgShow:function(){$(function(){$("[data-img-render]").imgOptimize(110,70)})},initDetailContainer:function(){var t=this,e={newsList:1,questionList:1,blogList:1,otherList:1},i={newsList:new OSCInfiniteScroll({pagePath:".news-pagination.pagination__next",checkLastPage:!0,containerSelector:"#newsList",itemListSelector:".news-list-container",loadMoreBtnSelector:".load-more-button",statusSelector:".page-load-status",defaultAutoLoadPageCount:3,itemSelector:".item.news-item",loadOnScroll:!0,onAppend:function(){t.optimizeImgShow(),t.refreshTabSticky()}}),questionList:new OSCInfiniteScroll({pagePath:".question-pagination.pagination__next",checkLastPage:!0,containerSelector:"#questionList",itemListSelector:".questions-list-container",loadMoreBtnSelector:".load-more-button",statusSelector:".page-load-status",defaultAutoLoadPageCount:3,itemSelector:".item.question-item",loadOnScroll:!0,onAppend:function(){t.optimizeImgShow(),t.refreshTabSticky()}}),blogList:new OSCInfiniteScroll({pagePath:".blog-pagination.pagination__next",checkLastPage:!0,containerSelector:"#blogList",itemListSelector:".blog-list-container",loadMoreBtnSelector:".load-more-button",statusSelector:".page-load-status",defaultAutoLoadPageCount:3,itemSelector:".item.blog-item",loadOnScroll:!0,onAppend:function(){t.optimizeImgShow(),t.refreshTabSticky()}}),otherList:new OSCInfiniteScroll({pagePath:".other-pagination.pagination__next",checkLastPage:!0,containerSelector:"#otherList",itemListSelector:".news-list-container",loadMoreBtnSelector:".load-more-button",statusSelector:".page-load-status",defaultAutoLoadPageCount:3,itemSelector:".item.news-item",loadOnScroll:!0,onAppend:function(){t.optimizeImgShow(),t.refreshTabSticky()}})},n="",o=t._projectDetailContainer.find(".active.tab");if(o.length>0){var a=o.attr("data-tab")||"";a&&i[a]&&(n=a)}i[n]&&i[n].init();var r=n;t._projectDetailContainer.find(".project-detail-tab.menu .item").tab({onLoad:function(n){if(r!==n){if(i[r]&&(i[r]._infScroll&&(e[r]=i[r]._infScroll.pageIndex),i[r].destroy()),i[n]&&(i[n].init(),i[n]._infScroll&&(i[n]._infScroll.pageIndex=e[n])),r=n,t._projectDetailContainerTab.hasClass("fixed")){var o=t._projectDetailContainer.offset().top;o-62>0&&(o-=62),$("html, body").stop(!0).animate({scrollTop:o},500,"swing")}t.refreshTabSticky()}}})},initTabSticky:function(){this._tabSticky.init(),$(window).resize(this._tabSticky.init)},refreshTabSticky:function(){this._tabSticky.refresh()},bindClickCommentAnchor:function(){var t=this._projectDetailContainer.find(".project-detail-tab.menu .item");this._projectDetailEl.on("click",'a[href="#comments"]',function(e){e.preventDefault(),t.tab("change tab","projectIntro")})},initInviteAuthorAuthBtn:function(){var t=$(".invite-author-auth-btn");t.popup({popup:$(".invite-author-auth-popup"),on:"click",position:"bottom right",offset:16}),new ClipboardJS(".invite-author-auth-box .copy-btn").on("success",function(e){e.clearSelection(),$("body").toast({type:"success",content:"复制成功"}),t.popup("hide")})},initTopCN:function(){new Vue({el:"#topCnContainer",data:function(){return{projectId:page.objId,projectVoteCount:0,showVote:!1,showPrize:!1,prizeType:"",userUnVoteCount:0,userIsVoted:!1}},created:function(){this.initData(),this.initPrizeData()},methods:{initData:function(){var t=this;$.post(page.api_prefix+"/action/pool/user_vote_info",{project:t.projectId},function(e){e.result&&e.data&&(t.showVote=!0,t.projectVoteCount=e.data.projectVoteCount||0,t.userUnVoteCount=e.data.userUnVoteCount||0,t.userIsVoted=!!e.data.userIsVoted,t.initShareDropdown(),t.updateShareContent())})},initPrizeData:function(){var t=this;$.post(page.api_prefix+"/action/pool/popular_operate_pendant",{project:t.projectId},function(e){e.result&&e.data&&"result#"!==e.data&&(t.prizeType=e.data,t.showPrize=!0)})},initShareDropdown:function(){this.$nextTick(function(){$(".btn-share.osc-share.ui.dropdown").dropdown({action:"hide"})})},updateShareContent:function(){var t=this;t.$nextTick(function(){var e=$(".btn-share.osc-share.ui.dropdown");e.find(".menu .item").attr("data-desc","这个项目真的真的真的很不错，目前已获得 ".concat(t.projectVoteCount," 票"));var i=e.find('.menu .item[data-platform="wechat"]');$.isFunction(OSCUpdateWeChatShare)&&i&&i.length>0&&(page.weixinShareTitle=i.attr("data-title")||page.weixinShareTitle,page.weixinShareDescription=i.attr("data-desc")||page.weixinShareDescription,page.weixinShareImgUrl=i.attr("data-pic")||page.weixinShareImgUrl,page.weixinShareUrl=i.attr("data-url")||page.weixinShareUrl,OSCUpdateWeChatShare())})},onClickVote:function(){if(this.userIsVoted)return!1;if(0===this.userUnVoteCount)return alert("您最多只能投5票，机会已经用完了哦：）"),!1;if(!page.g_user_code)return window.common.checkWeChat()&&page.weixinLogin?window.location.href=page.weixinLogin:window.common.checkLogin(),!1;var t="您将要投票的软件名是：\n\n"+page.projectName+"\n\n最多只能投5票，投票后不可以取消！确定投票？";if(confirm(t)){var e=this;$.post(page.api_prefix+"/action/pool/vote_cn",{project:e.projectId},function(t){if(t.result)t.data&&t.data.vote&&(e.projectVoteCount=t.data.vote),e.userIsVoted=!0,e.updateShareContent();else{var i=t.msg||"投票失败";alert(i)}}).fail(function(){$("body").toast({type:"error",content:"网络异常，请稍后再试"})})}}}})},register:function(){this.hightlight(),this.optimizeImgShow(),this.initDetailContainer(),this.initTabSticky(),this.bindClickCommentAnchor(),this.initInviteAuthorAuthBtn(),this.initTopCN(),this.modelEvent(),this.checkWechatLogin()}},t});
"use strict";OSCDefine("web-project-detail-new",["project-detail-comments"],function(){var t=function(){var t=this;this._projectDetailEl=$(".web-project-detail-new"),this._projectDetailContainer=this._projectDetailEl.find(".project-detail-container"),this._projectDetailContainerTab=this._projectDetailContainer.find(".project-detail-tab-wrap"),this._tabSticky={init:function(){if($(".project-detail-container").length<=0)return!1;window.innerWidth>=768?t._projectDetailContainerTab.sticky({context:".project-detail-container",offset:45}):t._projectDetailContainerTab.sticky("destroy")},refresh:function(){if($(".project-detail-container").length<=0)return!1;window.innerWidth>=768&&t._projectDetailContainerTab.sticky("refresh")}}};return t.prototype={constructor:t,hightlight:function(){$("pre, pre code").each(function(t,i){var e=$(this),n=(e.attr("class")||"").match(/language-(.*)/);if(n&&n.length>1){var o=n[n.length-1];e.attr("class","hljs "+o)}hljs.highlightBlock(i)})},optimizeImgShow:function(){$(function(){$("[data-img-render]").imgOptimize(110,70)})},initTabSticky:function(){this._tabSticky.init(),$(window).resize(this._tabSticky.init)},refreshTabSticky:function(){this._tabSticky.refresh()},bindCollapseContent:function(){var t=this;t._projectDetailEl.on("click",".collapse-bar .collapse-btn",function(){var i=$(this),e=t._projectDetailEl.find(".panel-intro .panel-content");i.hasClass("expand")?e.removeClass("collapse"):i.hasClass("collapse")&&e.addClass("collapse")})},initInviteAuthorAuthBtn:function(){var t=$(".invite-author-auth-btn");t.popup({popup:$(".invite-author-auth-popup"),on:"click",position:"bottom right",offset:16}),new ClipboardJS(".invite-author-auth-box .copy-btn").on("success",function(i){i.clearSelection(),$("body").toast({type:"success",content:"复制成功"}),t.popup("hide")})},register:function(){this.hightlight(),this.optimizeImgShow(),this.bindCollapseContent(),this.initInviteAuthorAuthBtn()}},t});
"use strict";OSCDefine("web-project-edit",function(){return function(){var e=$(".edit-project.form"),t=e.find("textarea[name=detail]");e.find(".checkbox").checkbox();var i={height:350,resize_minHeight:423,resize_maxHeight:1e3,uploadUrl:page.api_prefix+"/project/ckeditor_dialog_img_upload",filebrowserUploadUrl:page.api_prefix+"/project/ckeditor_dialog_img_upload"},r=function(){var e=CKEDITOR.replace(t[0],i);e.on("change",function(e){t.val(e.editor.getData())}),e.on("fileUploadResponse",function(e){setTimeout(function(){t.val(e.editor.getData())},0)}),e.on("mode",function(i){if("source"===this.mode){var r=e.editable();r.attachListener(r,"input",function(){t.val(i.editor.getData())})}})};e.form({inline:!0,fields:{name:{identifier:"name",rules:[{type:"empty",prompt:"请输入软件名称"},{type:"maxLength[50]",prompt:"软件名称长度不能超过 {ruleValue} 个字符"}]},title:{identifier:"title",rules:[{type:"empty",prompt:"请输入扩展标题"},{type:"maxLength[50]",prompt:"扩展标题长度不能超过 {ruleValue} 个字符"}]},license:{identifier:"license",rules:[{type:"empty",prompt:"请输入开源许可证"}]},home_url:{identifier:"home_url",rules:[{type:"empty",prompt:"请输入软件网址"},{type:"url",prompt:"请输入正确的软件网址"}]},download_url:{identifier:"download_url",optional:!0,rules:[{type:"url",prompt:"请输入正确的下载地址"}]},doc_url:{identifier:"doc_url",optional:!0,rules:[{type:"url",prompt:"请输入正确的文档地址"}]},detail:{identifier:"detail",rules:[{type:"empty",prompt:"请输入详细介绍"}]},reason:{identifier:"reason",rules:[{type:"empty",prompt:"请输入修改原因"},{type:"maxLength[200]",prompt:"修改原因长度不能超过 {ruleValue} 个字符"}]}}}).api({url:page.saveUrl,method:"post",serializeForm:!1,beforeSend:function(t){return $(this).message("hideAll"),t.data=e.serialize(),t},onSuccess:function(e,t,i){1===e.code?($(this).message({type:"positive",content:e.message||"提交成功"}),page.projectUrl&&setTimeout(function(){window.location.href=page.projectUrl},2e3)):$(this).message({type:"negative",content:e.message||"提交失败"})},onFailure:function(e,t){$(this).message({type:"negative",content:"网络错误，请稍后再试",disappear:2e3})}}),e.on("reset",function(e){if($(CKEDITOR.instances).length)for(var t in CKEDITOR.instances){var i=CKEDITOR.instances[t];$(i.element.$).closest("form").attr("name")===$(e.target).attr("name")&&i.setData(i.element.$.defaultValue)}}),$(function(){r()})}});
"use strict";OSCDefine("web-project-author-authentication",function(){var t=function(){this._pageContainer=$(".web-project-author-authentication")};return t.prototype={constructor:t,initVueForm:function(){var t=this._pageContainer;new Vue({el:"#authorAuthenticationApp",data:function(){return{loader:!0,availablePlatforms:[],availableRepos:{},authenticationType:"",page:"form",submitLoading:!1,tipMessage:{show:!1,content:"",className:""},autoAuthForm:{platform:""},manualAuthForm:{prRepository:{gitee:{url:"https://gitee.com/oschina/oschina_authentication",regex:/http(s):\/\/gitee\.com\/oschina\/oschina_authentication\/pulls\/(\d+)/i},github:{url:"https://github.com/oschina-cn/oschina_authentication",regex:/http(s?):\/\/github\.com\/oschina-cn\/oschina_authentication\/pull\/(\d+)/i}},platform:"",prUrl:""}}},methods:{onSubmitManualAuthForm:function(){var t=this;return!this.submitLoading&&(this.prUrlIsEmpty?(t.showMessage("error","Pull Request 链接地址不能为空",2e3),!1):this.prUrlIsInvalid?(t.showMessage("error","Pull Request 链接地址格式不正确",2e3),!1):(t.submitLoading=!0,void $.post(page.api_prefix+"/project/submit_project_authentication",{source:t.manualAuthForm.platform,pull_request:t.manualAuthForm.prUrl,invite:page.inviteUserId||0,project:page.projectId||0},function(e){1===e.code?(t.showMessage("success","提交成功",2e3),t.page="apply-success"):t.showMessage("error",e.message||"提交失败",2e3)}).fail(function(){t.showMessage("error","网络异常，请稍后再试",2e3)}).always(function(){t.submitLoading=!1})))},showMessage:function(t,e,i){var a=this;a.tipMessage.className="success"===t?"positive":"negative",a.tipMessage.content=e;var o=parseInt(i)||0;a.tipMessage.show=!0,o>0&&setTimeout(function(){a.clearMessage()},o)},clearMessage:function(){this.tipMessage.className="",this.tipMessage.content="",this.tipMessage.show=!1},initDOM:function(){t.find(".checkbox").checkbox(),new ClipboardJS(".copy-btn").on("success",function(t){$(t.trigger).popup({content:"已复制",position:"bottom center",onHidden:function(){return $(t.trigger).popup("destroy")}}),$(t.trigger).popup("show")})},initPlatformData:function(){page.projectGiteeUrl&&(this.availablePlatforms.push({ident:"gitee",name:"Gitee"}),this.$set(this.availableRepos,"gitee",page.projectGiteeUrl)),page.projectGithubUrl&&(this.availablePlatforms.push({ident:"github",name:"GitHub"}),this.$set(this.availableRepos,"github",page.projectGithubUrl))}},computed:{disabledAuthentication:function(){return!this.availablePlatforms||0===this.availablePlatforms.length},availablePlatformStr:function(){if(this.disabledAuthentication)return"";for(var t="",e=this.availablePlatforms.length,i=0;i<e;i++)t.length>0&&(t+=i<e-1?"、":" 和 "),t+=this.availablePlatforms[i].name;return t},prRepositoryUrl:function(){var t=this.manualAuthForm.prRepository[this.manualAuthForm.platform];return t?t.url:""},prUrlIsInvalid:function(){if(this.prUrlIsEmpty)return!0;var t=this.manualAuthForm.prRepository[this.manualAuthForm.platform];return!t||!t.regex.test(this.manualAuthForm.prUrl)},prUrlIsEmpty:function(){return 0===(this.manualAuthForm.prUrl||"").trim().length},gitRepoUrl:function(){return this.availableRepos[this.manualAuthForm.platform]||""}},mounted:function(){this.initDOM(),this.initPlatformData(),this.loader=!1},watch:{authenticationType:function(){this.initDOM(),this.disabledAuthentication||(this.autoAuthForm.platform=this.manualAuthForm.platform=this.availablePlatforms[0].ident)}}})},register:function(){this.initVueForm()}},t});
"use strict";OSCDefine("web-news-index",function(){var e=function(){this._indexContainer=$(".web-news-index"),this._bodyBox=this._indexContainer.find("#right-box"),this._channelGiteeProjectUpdateBox=null,this.isProjectTab=-1!==window.location.pathname.indexOf("/news/project")};return e.prototype={constructor:e,initSticky:function(){this._asideSticky=new OSCSticky({stickySelector:$(".web-news-index").find(".left-sidebar"),containerSelector:$(".web-news-index").find("#left-box"),throttle:20,offsetTop:40}),this._asideSticky.init()},refreshSticky:function(){this._asideSticky&&this._asideSticky.refresh()},initTopSwiper:function(){new Swiper(".swiper-container",{autoplay:{delay:3e3,disableOnInteraction:!1},simulateTouch:!1,pagination:{el:".swiper-pagination",clickable:!0}})},initNewsInfiniteScroll:function(){var e=this,t={newsList:1,genericNewsList:1,projectNewsList:1,industryNewsList:1,programmingLanguageNewsList:1},n={newsList:new OSCInfiniteScroll({pagePath:".all-pagination.pagination__next",checkLastPage:!0,containerSelector:"#newsList",itemListSelector:".news-list-container",loadMoreBtnSelector:".load-more-button",statusSelector:".page-load-status",defaultAutoLoadPageCount:3,itemSelector:".item.news-item",loadOnScroll:!0,onAppend:function(){e.optimizeImgShow()}}),genericNewsList:new OSCInfiniteScroll({pagePath:".generic-pagination.pagination__next",checkLastPage:!0,containerSelector:"#genericNewsList",itemListSelector:".news-list-container",loadMoreBtnSelector:".load-more-button",statusSelector:".page-load-status",defaultAutoLoadPageCount:3,itemSelector:".item.news-item",loadOnScroll:!0,onAppend:function(){e.optimizeImgShow()}}),projectNewsList:new OSCInfiniteScroll({pagePath:".project-pagination.pagination__next",checkLastPage:!0,containerSelector:"#projectNewsList",itemListSelector:".news-list-container",loadMoreBtnSelector:".load-more-button",statusSelector:".page-load-status",defaultAutoLoadPageCount:3,itemSelector:".item.news-item",loadOnScroll:!0,onAppend:function(){e.optimizeImgShow()}}),industryNewsList:new OSCInfiniteScroll({pagePath:".industry-pagination.pagination__next",checkLastPage:!0,containerSelector:"#industryNewsList",itemListSelector:".news-list-container",loadMoreBtnSelector:".load-more-button",statusSelector:".page-load-status",defaultAutoLoadPageCount:3,itemSelector:".item.news-item",loadOnScroll:!0,onAppend:function(){e.optimizeImgShow()}}),programmingLanguageNewsList:new OSCInfiniteScroll({pagePath:".programming-language-pagination.pagination__next",checkLastPage:!0,containerSelector:"#programmingLanguageNewsList",itemListSelector:".news-list-container",loadMoreBtnSelector:".load-more-button",statusSelector:".page-load-status",defaultAutoLoadPageCount:3,itemSelector:".item.news-item",loadOnScroll:!0,onAppend:function(){e.optimizeImgShow()}})},o="newsList",i=$(".article-list.active.tab");if(i.length>0){var a=i.attr("data-tab")||"";a&&n[a]&&(o=a)}n[o].init();var r=o;$(".news-tab.menu .item").tab({onLoad:function(e){r!==e&&(n[r]._infScroll&&(t[r]=n[r]._infScroll.pageIndex),n[r].destroy(),n[e].init(),n[e]._infScroll&&(n[e]._infScroll.pageIndex=t[e]),r=e)}})},initChannelGiteeProjectUpdate:function(){var e=this,t=e._bodyBox.find(".section-gitee-update"),n=t.find(".count-down");e._channelGiteeProjectUpdateBox=t.find(".project-update-box"),e._channelGiteeProjectUpdateBox.find(".project-update-list").on("scroll",window.common.throttle(e._onGiteeProjectUpdateScroll.bind(e),100)),e._processGiteeProjectUpdateScrollCover();var o=60,i=o;e._channelGiteeProjectUpdateCountDownTimer=null,function t(){n.text("".concat(i,"s 后自动更新")),i>0&&(e._channelGiteeProjectUpdateCountDownTimer=setTimeout(function(){i--,t()},1e3)),0===i&&(e._channelGiteeProjectUpdateCountDownTimer&&clearTimeout(e._channelGiteeProjectUpdateCountDownTimer),n.html('<span class="refresh-loader loading"><i class="oicon oicon-refresh"></i></span>'),window.common.asyncTimeout(400,function(n){e._refreshGiteeProjectUpdateList(function(){n(function(){i=o,t()})})}))}()},destroyChannelGiteeProjectUpdate:function(){if(!this._channelGiteeProjectUpdateBox)return!1;this._channelGiteeProjectUpdateBox.find(".project-update-list").off("scroll"),this._channelGiteeProjectUpdateCountDownTimer&&clearTimeout(this._channelGiteeProjectUpdateCountDownTimer)},_onGiteeProjectUpdateScroll:function(){this._processGiteeProjectUpdateScrollCover()},_processGiteeProjectUpdateScrollCover:function(){if(!this._channelGiteeProjectUpdateBox)return!1;var e=this._channelGiteeProjectUpdateBox,t=e.find(".project-update-list"),n=t.scrollTop(),o=t[0].scrollHeight;n+t.height()>=o?e.hasClass("scroll-cover")&&e.removeClass("scroll-cover"):e.hasClass("scroll-cover")||e.addClass("scroll-cover")},_refreshGiteeProjectUpdateList:function(e){var t=this;$.get("?type=ajax&widget=section_gitee_update",function(e){t._channelGiteeProjectUpdateBox.html(e)}).always(function(){$.isFunction(e)&&e.call(t)})},NewsPageEvent:function(){var e=this;$("#tabDropdownTitle").click(function(){$("#tabDropdownIcon").hasClass("right")?$("#tabDropdownIcon").attr("class","icon caret down green"):$("#tabDropdownIcon").attr("class","icon caret right green"),$("#tabDropdownMenu").toggle(300,function(){e.refreshSticky()})}),$("body").unbind("click").bind("click",function(e){var t=e.target,n=$(t),o=n.length>0?n[0].className:"";if(-1===o.indexOf("extraOptionList")&&!n.parents().hasClass("extraOptionList")&&(-1!==o.indexOf("news-item-hover")||n.parents().hasClass("news-item-hover"))){var i=n.parents(".news-item-hover").data("url");if(i&&""!==i)window.open(i,"_blank");else{var a=n.data("url");window.open(a,"_blank")}}}),$("body").on("click",".news-comment",function(){if(!$(this).hasClass("no-comment")){var e=$(this).data("url"),t=$(".news-comment-dialog[data-url='"+e+"']"),n=$(".news-item-border[data-url='"+e+"']"),o=$(this).find("i");o.hasClass("outline")?o.removeClass("outline"):o.addClass("outline"),n.toggle(),t.toggle(500)}}),$("body").on("click",".btn-like[data-toggle-like]",function(){var e=$(this);if(!window.common.checkLogin())return!1;var t=e.hasClass("active"),n=e.data("loading"),o=(e.find("[data-comment-like-count]"),e.data("comment-id"));if(n)return!1;e.data("loading",!0),$.post(page.api_prefix+"/news/voteNewsComment",{newsCommentId:o,user:page.g_user_id,vote:!t},function(n){if(1===n.code){var i=!t,a=0;n.result&&n.result.vote&&(a=n.result.vote),n.message&&$("body").toast({type:"success",content:n.message});$('[data-comment-like-btn][data-comment-id="'+o+'"]');i?e.addClass("active"):e.removeClass("active"),$('[data-comment-like-count][data-comment-id="'+o+'"]').text(a)}else $("body").toast({type:"error",content:n.message||"点赞失败"})}).fail(function(){$("body").toast({type:"error",content:"网络异常，请稍后再试"})}).always(function(){e.data("loading",!1)})}),$("#hotNewsChange").on("click",function(){e.randomHotNews()}),$(window).on("scroll",e.imgLazyLoad)},swiperEvent:function(){var e=new Swiper(".swiper-container",{loop:!0,speed:800,autoplay:{delay:3e3,disableOnInteraction:!1},pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".arrow-right",prevEl:".arrow-left",hideOnClick:!0,hiddenClass:"my-button-hidden"}});this.isProjectTab||(e.el.onmouseover=function(){e.navigation.$nextEl.removeClass("hide"),e.navigation.$prevEl.removeClass("hide")},e.el.onmouseout=function(){e.navigation.$nextEl.addClass("hide"),e.navigation.$prevEl.addClass("hide")})},imgLazyLoad:function(){var e=$.map($("img[data-src]").get(),function(e){return $(e)}),t=$(window).scrollTop();if(e.length>0){var n=$(window).height(),o=[];$.each(e,function(e,i){-1!=i.attr("src").indexOf("loadf0da82b3.png")&&i.offset().top-t<n&&(i.attr("src",i.attr("data-src")),o.unshift(e))}),$.each(o,function(t){e.splice(t,1)})}},randomHotNews:function(){for(var e=[],t=0;t<3;){var n=Math.floor(6*Math.random()+1);-1==e.indexOf(n)&&(e.push(n),t++)}for(var o in $(".hot-news-item").addClass("hide"),e)$("#HOT"+e[o]).removeClass("hide")},optimizeImgShow:function(){$(function(){$("[data-img-render]").imgOptimize(90,90)})},parseEmoticon:function(){$(function(){$("[data-emoji-render]").emoticon()})},register:function(){this.initNewsInfiniteScroll(),this.optimizeImgShow(),this.parseEmoticon(),this.NewsPageEvent(),this.swiperEvent(),this.randomHotNews(),this.imgLazyLoad(),this.initSticky(),this.isProjectTab&&this.initChannelGiteeProjectUpdate()}},e});
"use strict";OSCPlugin("news-detail-comments",function(){return function(){var e={config:{objId:0,fetchCommentsUrl:"",publishCommentUrl:"",replyCommentUrl:"",deleteCommentUrl:""},init:function(e){this._commentsContainer=$("#commentsContainer"),this._commentsWrap=this._commentsContainer.find(".comments-wrap"),this.config=$.isPlainObject(e)?$.extend(!0,{},this.config,e):$.extend({},this.config)},loadComments:function(e,t){var o=this,n=Math.floor(e)||1;if(-1===n){var a=o._commentsWrap.find(".pagination-wrap");n=Math.floor(a.data("page"))||1}var r=window.common.addQueryParams(o.config.fetchCommentsUrl,{p:n});$.get(r,function(e){o._commentsWrap.html(e),o.parseEmoticon(),t&&$.isFunction(t)&&t.call(this)})},loadCommentsByCommentId:function(e,t){var o=this,n=Math.floor(e)||1,a=window.common.addQueryParams(o.config.fetchCommentsUrl,{commentId:n});$.get(a,function(e){o._commentsWrap.html(e),o.parseEmoticon(),t&&$.isFunction(t)&&t.call(this)})},initCommentForm:function(){var e=this,t="OSC_NEWS_"+page.objId+"_COMMENT_CACHE",o="OSC_NEWS_"+page.objId+"_COMMENT_PUBLISH_CACHE",n=window.common.throttle(function(e){try{e&&e.trim().length>0?localStorage.setItem(t,e):localStorage.removeItem(t)}catch(e){}},500);e.commentFormVue=new Vue({el:"#commentForm",data:function(){return{commentMaxLength:1e3,commentContent:"",commentPublishLoading:!1,tipMessage:{show:!1,content:"",className:""},curEmojiType:"People",emojiList:[{type:"People",items:["bowtie","smile","laughing","blush","smiley","relaxed","smirk","heart_eyes","kissing_heart","kissing_closed_eyes","flushed","relieved","satisfied","grin","wink","stuck_out_tongue_winking_eye","stuck_out_tongue_closed_eyes","grinning","kissing","kissing_smiling_eyes","stuck_out_tongue","sleeping","worried","frowning","anguished","open_mouth","grimacing","confused","hushed","expressionless","unamused","sweat_smile","sweat","disappointed_relieved","weary","pensive","disappointed","confounded","fearful","cold_sweat","persevere","cry","sob","joy","astonished","scream","neckbeard","tired_face","angry","rage","triumph","sleepy","yum","mask","sunglasses","dizzy_face","imp","smiling_imp","neutral_face","no_mouth","innocent","alien","yellow_heart","blue_heart","purple_heart","heart","green_heart","broken_heart","heartbeat","heartpulse","two_hearts","revolving_hearts","cupid","sparkling_heart","sparkles","star","star2","dizzy","boom","collision","anger","exclamation","question","grey_exclamation","grey_question","zzz","dash","sweat_drops","notes","musical_note","fire","hankey","poop","shit","+1","thumbsup","-1","thumbsdown","ok_hand","punch","facepunch","fist","v","wave","hand","raised_hand","open_hands","point_up","point_down","point_left","point_right","raised_hands","pray","point_up_2","clap","muscle","metal","fu","walking","runner","running","couple","family","two_men_holding_hands","two_women_holding_hands","dancer","dancers","ok_woman","no_good","information_desk_person","raising_hand","bride_with_veil","person_with_pouting_face","person_frowning","bow","couplekiss","couple_with_heart","massage","haircut","nail_care","boy","girl","woman","man","baby","older_woman","older_man","person_with_blond_hair","man_with_gua_pi_mao","man_with_turban","construction_worker","cop","angel","princess","smiley_cat","smile_cat","heart_eyes_cat","kissing_cat","smirk_cat","scream_cat","crying_cat_face","joy_cat","pouting_cat","japanese_ogre","japanese_goblin","see_no_evil","hear_no_evil","speak_no_evil","guardsman","skull","feet","lips","kiss","droplet","ear","eyes","nose","tongue","love_letter","bust_in_silhouette","busts_in_silhouette","speech_balloon","thought_balloon","feelsgood","finnadie","goberserk","godmode","hurtrealbad","rage1","rage2","rage3","rage4","suspect","trollface"]},{type:"Nature",items:["sunny","umbrella","cloud","snowflake","snowman","zap","cyclone","foggy","ocean","cat","dog","mouse","hamster","rabbit","wolf","frog","tiger","koala","bear","pig","pig_nose","cow","boar","monkey_face","monkey","horse","racehorse","camel","sheep","elephant","panda_face","snake","bird","baby_chick","hatched_chick","hatching_chick","chicken","penguin","turtle","bug","honeybee","ant","beetle","snail","octopus","tropical_fish","fish","whale","whale2","dolphin","cow2","ram","rat","water_buffalo","tiger2","rabbit2","dragon","goat","rooster","dog2","pig2","mouse2","ox","dragon_face","blowfish","crocodile","dromedary_camel","leopard","cat2","poodle","paw_prints","bouquet","cherry_blossom","tulip","four_leaf_clover","rose","sunflower","hibiscus","maple_leaf","leaves","fallen_leaf","herb","mushroom","cactus","palm_tree","evergreen_tree","deciduous_tree","chestnut","seedling","blossom","ear_of_rice","shell","globe_with_meridians","sun_with_face","full_moon_with_face","new_moon_with_face","new_moon","waxing_crescent_moon","first_quarter_moon","waxing_gibbous_moon","full_moon","waning_gibbous_moon","last_quarter_moon","waning_crescent_moon","last_quarter_moon_with_face","first_quarter_moon_with_face","moon","earth_africa","earth_americas","earth_asia","volcano","milky_way","partly_sunny","octocat","squirrel"]},{type:"Objects",items:["bamboo","gift_heart","dolls","school_satchel","mortar_board","flags","fireworks","sparkler","wind_chime","rice_scene","jack_o_lantern","ghost","santa","christmas_tree","gift","bell","no_bell","tanabata_tree","tada","confetti_ball","balloon","crystal_ball","cd","dvd","floppy_disk","camera","video_camera","movie_camera","computer","tv","iphone","phone","telephone","telephone_receiver","pager","fax","minidisc","vhs","sound","speaker","mute","loudspeaker","mega","hourglass","hourglass_flowing_sand","alarm_clock","watch","radio","satellite","loop","mag","mag_right","unlock","lock","lock_with_ink_pen","closed_lock_with_key","key","bulb","flashlight","high_brightness","low_brightness","electric_plug","battery","calling","email","mailbox","postbox","bath","bathtub","shower","toilet","wrench","nut_and_bolt","hammer","seat","moneybag","yen","dollar","pound","euro","credit_card","money_with_wings","e-mail","inbox_tray","outbox_tray","envelope","incoming_envelope","postal_horn","mailbox_closed","mailbox_with_mail","mailbox_with_no_mail","package","door","smoking","bomb","gun","hocho","pill","syringe","page_facing_up","page_with_curl","bookmark_tabs","bar_chart","chart_with_upwards_trend","chart_with_downwards_trend","scroll","clipboard","calendar","date","card_index","file_folder","open_file_folder","scissors","pushpin","paperclip","black_nib","pencil2","straight_ruler","triangular_ruler","closed_book","green_book","blue_book","orange_book","notebook","notebook_with_decorative_cover","ledger","books","bookmark","name_badge","microscope","telescope","newspaper","football","basketball","soccer","baseball","tennis","8ball","rugby_football","bowling","golf","mountain_bicyclist","bicyclist","horse_racing","snowboarder","swimmer","surfer","ski","spades","hearts","clubs","diamonds","gem","ring","trophy","musical_score","musical_keyboard","violin","space_invader","video_game","black_joker","flower_playing_cards","game_die","dart","mahjong","clapper","memo","pencil","book","art","microphone","headphones","trumpet","saxophone","guitar","shoe","sandal","high_heel","lipstick","boot","shirt","tshirt","necktie","womans_clothes","dress","running_shirt_with_sash","jeans","kimono","bikini","ribbon","tophat","crown","womans_hat","mans_shoe","closed_umbrella","briefcase","handbag","pouch","purse","eyeglasses","fishing_pole_and_fish","coffee","tea","sake","baby_bottle","beer","beers","cocktail","tropical_drink","wine_glass","fork_and_knife","pizza","hamburger","fries","poultry_leg","meat_on_bone","spaghetti","curry","fried_shrimp","bento","sushi","fish_cake","rice_ball","rice_cracker","rice","ramen","stew","oden","dango","egg","bread","doughnut","custard","icecream","ice_cream","shaved_ice","birthday","cake","cookie","chocolate_bar","candy","lollipop","honey_pot","apple","green_apple","tangerine","lemon","cherries","grapes","watermelon","strawberry","peach","melon","banana","pear","pineapple","sweet_potato","eggplant","tomato","corn"]},{type:"Places",items:["house","house_with_garden","school","office","post_office","hospital","bank","convenience_store","love_hotel","hotel","wedding","church","department_store","european_post_office","city_sunrise","city_sunset","japanese_castle","european_castle","tent","factory","tokyo_tower","japan","mount_fuji","sunrise_over_mountains","sunrise","stars","statue_of_liberty","bridge_at_night","carousel_horse","rainbow","ferris_wheel","fountain","roller_coaster","ship","speedboat","boat","sailboat","rowboat","anchor","rocket","airplane","helicopter","steam_locomotive","tram","mountain_railway","bike","aerial_tramway","suspension_railway","mountain_cableway","tractor","blue_car","oncoming_automobile","car","red_car","taxi","oncoming_taxi","articulated_lorry","bus","oncoming_bus","rotating_light","police_car","oncoming_police_car","fire_engine","ambulance","minibus","truck","train","station","train2","bullettrain_front","bullettrain_side","light_rail","monorail","railway_car","trolleybus","ticket","fuelpump","vertical_traffic_light","traffic_light","warning","construction","beginner","atm","slot_machine","busstop","barber","hotsprings","checkered_flag","crossed_flags","izakaya_lantern","moyai","circus_tent","performing_arts","round_pushpin","triangular_flag_on_post","jp","kr","cn","us","fr","es","it","ru","gb","uk","de"]},{type:"Symbols",items:["one","two","three","four","five","six","seven","eight","nine","keycap_ten","1234","zero","hash","symbols","arrow_backward","arrow_down","arrow_forward","arrow_left","capital_abcd","abcd","abc","arrow_lower_left","arrow_lower_right","arrow_right","arrow_up","arrow_upper_left","arrow_upper_right","arrow_double_down","arrow_double_up","arrow_down_small","arrow_heading_down","arrow_heading_up","leftwards_arrow_with_hook","arrow_right_hook","left_right_arrow","arrow_up_down","arrow_up_small","arrows_clockwise","arrows_counterclockwise","rewind","fast_forward","information_source","ok","twisted_rightwards_arrows","repeat","repeat_one","new","top","up","cool","free","ng","cinema","koko","signal_strength","u5272","u5408","u55b6","u6307","u6708","u6709","u6e80","u7121","u7533","u7a7a","u7981","sa","restroom","mens","womens","baby_symbol","no_smoking","parking","wheelchair","metro","baggage_claim","accept","wc","potable_water","put_litter_in_its_place","secret","congratulations","m","passport_control","left_luggage","customs","ideograph_advantage","cl","sos","id","no_entry_sign","underage","no_mobile_phones","do_not_litter","non-potable_water","no_bicycles","no_pedestrians","children_crossing","no_entry","eight_spoked_asterisk","sparkle","eight_pointed_black_star","heart_decoration","vs","vibration_mode","mobile_phone_off","chart","currency_exchange","aries","taurus","gemini","cancer","leo","virgo","libra","scorpius","sagittarius","capricorn","aquarius","pisces","ophiuchus","six_pointed_star","negative_squared_cross_mark","a","b","ab","o2","diamond_shape_with_a_dot_inside","recycle","end","back","on","soon","clock1","clock130","clock10","clock1030","clock11","clock1130","clock12","clock1230","clock2","clock230","clock3","clock330","clock4","clock430","clock5","clock530","clock6","clock630","clock7","clock730","clock8","clock830","clock9","clock930","heavy_dollar_sign","copyright","registered","tm","x","heavy_exclamation_mark","bangbang","interrobang","o","heavy_multiplication_x","heavy_plus_sign","heavy_minus_sign","heavy_division_sign","white_flower","100","heavy_check_mark","ballot_box_with_check","radio_button","link","curly_loop","wavy_dash","part_alternation_mark","trident","black_small_square","white_small_square","black_medium_small_square","white_medium_small_square","black_medium_square","white_medium_square","black_large_square","white_large_square","white_check_mark","black_square_button","white_square_button","black_circle","white_circle","red_circle","large_blue_circle","large_blue_diamond","large_orange_diamond","small_blue_diamond","small_orange_diamond","small_red_triangle","small_red_triangle_down","shipit"]}]}},computed:{curEmojiItems:function(){for(var e=0,t=this.emojiList.length;e<t;e++)if(this.emojiList[e].type===this.curEmojiType)return this.emojiList[e].items;return this.emojiList[0].items},commentContentIsEmpty:function(){return 0===this.commentContent.length},commentCountText:function(){return this.commentContent.length+"/"+this.commentMaxLength}},mounted:function(){if(void 0!==window.localStorage){var e=localStorage.getItem(t)||"",n=localStorage.getItem(o)||"";e&&e.trim().length>0&&(this.commentContent=e,n&&page.g_user_code&&(localStorage.removeItem(o),this.publishComment()))}},methods:{insertEmoji:function(e){this.clearMessage();var t=":"+e+":";this.insertContent(t),$(this.$refs.showEmojiBox).popup("hide")},insertProject:function(){if(this.clearMessage(),this.insertContent("#此处输入软件#")){var e=selectRange.of(this.$refs.commentTextarea),t=e.getCurPos();e.setSelectText(t-("#此处输入软件#".length-1),t-1)}},publishComment:function(){var n=this,a=window.common.getCurrentUrl(!0)+"#commentForm";if(!window.common.checkLoginForWeChat(a,function(){try{localStorage.setItem(o,"1")}catch(e){}}))return!1;if(!n.tweetPublishLoading)if(n.clearMessage(),n.commentContentIsEmpty)n.showMessage("error","内容不能为空",2e3);else if(n.commentContent.length>n.commentMaxLength)n.showMessage("error","最多只能输入"+n.commentMaxLength+"个字符！",2e3);else{n.commentPublishLoading=!0;var r={news:e.config.objId,content:n.commentContent};$.post(e.config.publishCommentUrl,r,function(o){if(1===o.code){o.message&&$("body").toast({type:"success",content:o.message||"评论发布成功"}),window.localStorage&&window.localStorage.removeItem(t),n.commentContent="",e.loadComments();var a=$(".float-menu .comment-btn");if(o.result&&void 0!==o.result.replyCount){var r=o.result.replyCount;$("[data-article-reply-count]").html(r),a.attr("title","共有 "+r+" 条评论")}a.find(".icon").removeClass("outline"),$("html, body").stop().animate({scrollTop:e._commentsWrap.offset().top-80},500,"swing")}else n.showMessage("error",o.message||"发布失败",2e3)}).fail(function(){n.showMessage("error","网络错误，请稍后再试！",2e3)}).always(function(){n.commentPublishLoading=!1})}},commentContentOnKeyDown:function(e){(e.metaKey||e.ctrlKey)&&13==e.keyCode&&this.publishComment()},insertContent:function(e){return!this.commentPublishLoading&&(this.commentContent.length>=this.commentMaxLength||this.commentContent.length+e.length>this.commentMaxLength?void this.showMessage("error","最多只能输入"+this.commentMaxLength+"个字符！",2e3):(selectRange.of(this.$refs.commentTextarea).insertAfterText(e),this.commentContent=this.$refs.commentTextarea.value,!0))},showMessage:function(e,t,o){var n=this;n.tipMessage.className="success"===e?"positive":"negative",n.tipMessage.content=t;var a=parseInt(o)||0;n.tipMessage.show=!0,a>0&&setTimeout(function(){n.clearMessage()},a)},clearMessage:function(){this.tipMessage.className="",this.tipMessage.content="",this.tipMessage.show=!1}},watch:{commentContent:function(e){n(e)}}}),$("#commentForm").find(".comment-form .toolbox > .item[data-popup]").each(function(e,t){var o=$(t),n=$(o).parent().find(".toolbox-popup."+o.attr("data-popup"));o.popup({position:"bottom left",popup:n,on:"toolbox-picture"===o.attr("data-popup")?"manual":"click",exclusive:!0})})},initCommentDeleteModal:function(){var e=this,t=$(".delete-comment.modal");t.modal({onDeny:function(){var t=$(this).attr("data-comment-id"),o=e._commentsWrap.find("div.comment[data-comment-id="+t+"]"),n=o.attr("data-comment-user-id");$.post(e.config.deleteCommentUrl,{commentId:t,userId:n,newsId:e.config.objId},function(n){if(1===n.code){$("body").toast({type:"success",content:"删除成功"}),o.fadeOut(function(){var e=o.parent();e.is(".comments[children-comments]")&&1===e.children(".comment").length&&1===e.children(".comment[data-comment-id="+t+"]").length?e.remove():o.remove()});var a=e._commentsWrap.find("> .header span"),r=a.text(),i=$("[data-article-reply-count]"),s=$(".float-menu .comment-btn");if(r){var c=parseInt(r)-(1+o.find("div.comment").length);c<0&&(c=0),a.text(c),i.html(c),s.attr("title","共有 "+c+" 条评论")}else a.text(0),i.html(0),s.attr("title","共有 0 条评论");n.result&&void 0!==n.result.selfCommentCount&&n.result.selfCommentCount<=0&&s.find(".icon").addClass("outline")}else $("body").toast({type:"error",content:n.message||"删除失败"})})}}),e._commentsWrap.on("click",".actions a.remove",function(e){e.stopPropagation();var o=$(e.target).parents(".comment:eq(0)").attr("data-comment-id");t.attr("data-comment-id",o),t.modal("show")})},initReplyCommentModal:function(){var e=this,t=$(".reply-comment.modal"),o=$("#replyCommentForm");t.modal({onShow:function(){o.form("reset"),o.message("hideAll"),$(this).attr("data-comment-user-id");var e=$(this).attr("data-comment-id")||-1;o.find("input[name=reply_id]").val(e)},onApprove:function(){return o.message("hideAll"),o.form("submit"),!1}}),o.form({inline:!0,fields:{content:{rules:[{type:"empty",prompt:"请输入评论内容"},{type:"maxLength[1000]",prompt:"内容长度不能超过 {ruleValue} 个字"}]}}}).api({url:e.config.replyCommentUrl,method:"post",serializeForm:!0,beforeSend:function(t){$(this).message("hideAll");var o=t.data;return t.data={news:e.config.objId,reply_id:o.reply_id,content:o.content},t},onSuccess:function(n,a,r){if(1===n.code){$(this).message({type:"positive",content:"评论回复成功"}),o.form("reset"),e.loadComments();var i=$(".float-menu .comment-btn");if(n.result&&void 0!==n.result.replyCount){var s=n.result.replyCount;$("[data-article-reply-count]").html(s),i.attr("title","共有 "+s+" 条评论")}i.find(".icon").removeClass("outline"),setTimeout(function(){t.modal("hide")},2e3)}else $(this).message({type:"negative",content:n.message||"回复失败"})},onFailure:function(e,t){$(this).message({type:"negative",content:"网络错误，请稍后再试"})}}),t.on("keydown",function(e){(e.metaKey||e.ctrlKey)&&13===e.keyCode&&t.find(".positive.button").click()}),e._commentsWrap.on("click",".actions a.reply",function(e){if(e.stopPropagation(),!window.common.checkLogin())return!1;var o=$(e.target).parents(".comment:eq(0)"),n=o.attr("data-comment-user-id"),a=o.attr("data-comment-id");t.attr("data-comment-user-id",n),t.attr("data-comment-id",a),t.modal("show")})},bindReplyBtn:function(){var e=this;e._commentsWrap.on("click",".actions a.reply",function(t){if(t.stopPropagation(),!window.common.checkLogin())return!1;var o=$(t.target).parents(".comment:eq(0)"),n=o.attr("data-comment-id"),a=o.attr("data-comment-user-name"),r=!!o.data("comment-is-last-level"),i=n,s="";if(r){var c=o.parents(".comment:eq(0)");c&&(i=c.attr("data-comment-id")),s=a}if(o.find(".content:eq(0) [data-reply-comment-form]").length>0){var l=o.find(".content:eq(0) [data-reply-comment-form]").get(0);return l.vueInstance&&l.vueInstance.focus(),!1}$("[data-reply-comment-form]").each(function(e,t){var o=$(t);t.vueInstance&&t.vueInstance.$destroy(),o.remove()}),0===$('[data-reply-comment-form][data-comment-id="'+n+'"]').length&&!0!==window.oscReplyCommentFormLoading&&(window.oscReplyCommentFormLoading=!0,$.get("/widgets/comments_reply_form",function(t){var a=document.createElement("div");a.innerHTML=t,$(a).find("[data-reply-comment-form]").attr("data-comment-id",n),o.find(".content:eq(0)").append(a);var r=new OSCCommentForm({commentFormSelector:"#replyCommentForm",commentsWrapEl:e._commentsWrap,toggleLoadComments:function(){e.loadComments(-1)},url:e.config.replyCommentUrl,params:{news:page.objId,reply_id:i},commentedAutoScrollToTop:!1,contentField:"content"});r.init(),r.focus(),s&&r.insertContent("回复 @"+s+" : ")}).always(function(){window.oscReplyCommentFormLoading=!1}))})},initCommentsListPJAX:function(){var e=this,t=$(".comments-loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax(".pagination a","#commentsContainer .comments-wrap",{scrollTo:!1}),$(document).on("pjax:send",function(){t.addClass("active")}),$(document).on("pjax:complete",function(){e.parseEmoticon(),t.removeClass("active"),$("html, body").stop().animate({scrollTop:e._commentsWrap.offset().top-80},500,"swing")})},parseEmoticon:function(){$(function(){$("[data-emoji-render]").emoticon()})},initCommentLike:function(){var e="OSC_NEWS_"+page.objId+"_COMMENT_LIKE_CACHE",t=function(t,o){var n=window.common.getCurrentUrl(!0)+"#rpl_"+t;if(!window.common.checkLoginForWeChat(n,function(){try{localStorage.setItem(e,t)}catch(e){}}))return!1;$.post(page.api_prefix+"/news/voteNewsComment",{newsCommentId:t,user:page.g_user_id,vote:o},function(e){if(1===e.code){var n=o,a=0;e.result&&e.result.vote&&(a=e.result.vote),e.message&&$("body").toast({type:"success",content:e.message});var r=$('[data-comment-like-btn][data-comment-id="'+t+'"]');n?(r.addClass("active"),r.find(".like.icon").removeClass("outline")):(r.removeClass("active"),r.find(".like.icon").addClass("outline")),$('[data-comment-like-count][data-comment-id="'+t+'"]').text(a)}else $("body").toast({type:"error",content:e.message||"点赞失败"})})};if(this._commentsWrap.on("click",".actions a.like[data-comment-like-btn]",function(e){e.stopPropagation();var o=$(this),n=o.parents(".comment:eq(0)").attr("data-comment-id"),a=o.hasClass("active");t(n,!a)}),void 0!==window.localStorage&&page.g_user_code){var o=localStorage.getItem(e)||"";o&&(localStorage.removeItem(e),t(o,!0))}},scrollToCommentFromUrlCommentId:function(){var e=location.hash,t=e.match(/#rpl_(\d+).*/),o=t?Math.floor(t[1]):-1;o>0&&this.loadCommentsByCommentId(o,function(){setTimeout(function(){var t=$(e);if(t.length){var o=t.offset().top;o-80>0&&(o-=80),$("html, body").stop(!0).animate({scrollTop:o},500,"swing")}},0)})}};new window.common.dynamicLoader(["/new-osc/js/utils/vue.min.js"],function(){var t=window.page;e.init({objId:t.objId,fetchCommentsUrl:t.fetchCommentsUrl,publishCommentUrl:t.publishCommentUrl,replyCommentUrl:t.replyCommentUrl,deleteCommentUrl:t.deleteCommentUrl}),e.initCommentForm(),e.initCommentDeleteModal(),e.bindReplyBtn(),e.initCommentsListPJAX(),e.parseEmoticon(),e.initCommentLike(),e.scrollToCommentFromUrlCommentId()}).loadFiles()}});
"use strict";OSCDefine("web-news-detail",["news-detail-comments"],function(){var t=function(){this._newsDetailEl=$(".news-detail")};return t.prototype={constructor:t,hightlight:function(){$("pre code").each(function(t,e){var i=$(this),n=(i.attr("class")||"").match(/language-(.*)/);if(n&&n.length>1){var o=n[n.length-1];i.attr("class","hljs "+o)}hljs.highlightBlock(e)})},checkWechatLogin:function(){if(!page.g_user_code)return!window.common.checkWeChat()||!page.weixinLogin},modelEvent:function(){$("#btnCancel").on("click",function(){document.getElementById("wechatModel").style.display="none"})},initNewsInfiniteScroll:function(){var t=this,e={relArticleList:1,newArticleList:1},i={relArticleList:new OSCInfiniteScroll({pagePath:".rel-pagination.pagination__next",checkLastPage:!0,containerSelector:"#relArticleList",itemListSelector:".news-detail-list-container",loadMoreBtnSelector:".load-more-button",statusSelector:".page-load-status",defaultAutoLoadPageCount:0,itemSelector:".item.news-item",loadOnScroll:!1,onAppend:function(){t.optimizeImgShow()}}),newArticleList:new OSCInfiniteScroll({pagePath:".news-pagination.pagination__next",checkLastPage:!0,containerSelector:"#newArticleList",itemListSelector:".news-detail-list-container",loadMoreBtnSelector:".load-more-button",statusSelector:".page-load-status",defaultAutoLoadPageCount:0,itemSelector:".item.news-item",loadOnScroll:!1,onAppend:function(){t.optimizeImgShow()}})};i.relArticleList.init();var n="relArticleList";$(".newsDetail-tab.menu .item").tab({onLoad:function(t){n!==t&&(i[n]._infScroll&&(e[n]=i[n]._infScroll.pageIndex),i[n].destroy(),i[t].init(),i[t]._infScroll&&(i[t]._infScroll.pageIndex=e[t]),n=t)}})},optimizeImgShow:function(){$(function(){$("[data-img-render]").imgOptimize(110,70)})},register:function(){this.hightlight(),this.initNewsInfiniteScroll(),this.optimizeImgShow(),this.checkWechatLogin(),this.modelEvent()}},t});
"use strict";OSCPlugin("question-common",function(){var t=function(){var t=this;this._questionSidebar=$(".question-sidebar"),this._questionNavSidebar=$(".left-channel"),this._questionNavSidebarNavMenu=this._questionNavSidebar.find(".nav-menu"),this._questionListContainer=$(".question-list-container"),this.followBtnStatusCode={UN_FOLLOW:1,FOLLOWED:2},this.followBtnStatusConf={UN_FOLLOW:{normal:{selfRemoveClass:"unsubscribed unsubscribed-hover subscribed subscribed-hover",selfAddClass:"unsubscribed",text:"关注",icon:"plus icon",textIcon:"+",textIconClass:"plus"},hover:{selfRemoveClass:"unsubscribed unsubscribed-hover subscribed subscribed-hover",selfAddClass:"unsubscribed-hover",text:"关注",icon:"plus icon",textIcon:"+",textIconClass:"plus"}},FOLLOWED:{normal:{selfRemoveClass:"unsubscribed unsubscribed-hover subscribed subscribed-hover",selfAddClass:"subscribed",text:"已关注",icon:"check icon",textIcon:"×",textIconClass:"check"},hover:{selfRemoveClass:"unsubscribed unsubscribed-hover subscribed subscribed-hover",selfAddClass:"subscribed-hover",text:"取消关注",icon:"",textIcon:"×",textIconClass:"check"}}},t._navMenuSticky={init:function(){if($(".web-question-main-container").length<=0)return!1;window.innerWidth>=768?t._questionNavSidebarNavMenu.sticky({context:".web-question-main-container",offset:68}):t._questionNavSidebarNavMenu.sticky("destroy")},refresh:function(){if($(".web-question-main-container").length<=0)return!1;window.innerWidth>=768&&t._questionNavSidebarNavMenu.sticky("refresh")}},this.register()};return t.prototype={constructor:t,initSidebarSectionTabs:function(){this._questionSidebar.on("click",".section .tabs .tab[data-tab]",function(t){var e=$(this),n=e.data("tab"),i=e.parents(".section:eq(0)"),o=i.find('.tab-body[data-tab="'+n+'"]');o&&o.length>0&&(i.find(".tabs .tab").removeClass("active"),e.addClass("active"),i.find(".tab-body").removeClass("active"),o.addClass("active"))})},initUserListScorePopup:function(){window.innerWidth>=768&&this._questionSidebar.find(".popup-num").popup({hoverable:!0})},initTopicCardPopup:function(){window.innerWidth>=768&&$(".popup-tag").popup({position:"bottom left",hoverable:!0})},initQuestionItemUpDown:function(){if(!this._questionListContainer||0===this._questionListContainer.length)return!1;function t(t,e,n,i){parseInt(e.text().match(/\d+/)[0]);$.post(page.api_prefix+"/question/vote_answer",{user:page.g_user_id,user_code:page.g_user_code,id:n,vote:i},function(n){0!==n.code?(i&&n.result,e.text(n.result.vote),t.toggleClass("active")):$("body").toast({type:"error",content:n.message||"投票失败"})})}this._questionListContainer.on("click",".question-item .vote-item .vote-btn",function(e){var n=$(this),i=n.parents(".answer-meta:eq(0)"),o=n.hasClass("vote-up"),s=i.find(".vote-btn.active").length>0,a=n.parents(".answer-container:eq(0)").attr("data-answer-id"),r=i.find(".vote-item .vote-count");if(!window.common.checkLogin())return!1;n.hasClass("active")?t(n,r,a,o):s?$("body").toast({type:"error",content:"您已经对此问题投过票了，不能重复投票"}):t(n,r,a,!!o)})},initNavSidebarSticky:function(){this._navMenuSticky.init(),$(window).resize(this._navMenuSticky.init)},refreshNavSidebarSticky:function(){this._navMenuSticky.refresh()},setFollowBtnStatus:function(t,e,n){e="normal"===e?"normal":"hover";var i,o,s,a,r,u,c=n.find(".text"),d=n.find("i"),l=n.find(".text-icon");switch(t){case this.followBtnStatusCode.UN_FOLLOW:i=this.followBtnStatusConf.UN_FOLLOW[e],n.attr("data-follow-status",this.followBtnStatusCode.UN_FOLLOW);break;case this.followBtnStatusCode.FOLLOWED:i=this.followBtnStatusConf.FOLLOWED[e],n.attr("data-follow-status",this.followBtnStatusCode.FOLLOWED)}c.text(i.text),o=i.icon,d.attr("class",o),s=i.textIcon,a=i.textIconClass,l.text(s),l.attr("class","").addClass("text-icon").addClass(a),r=i.selfRemoveClass,u=i.selfAddClass,n.removeClass(r).addClass(u)},setFollowBtnCount:function(t,e){var n=e.find(".count"),i=t;window.common&&"function"==typeof window.common.formatNumberK&&(i=window.common.formatNumberK(t)),n.text(i)},bindFollowBtnHover:function(){var t=this;$(document).on("mouseenter",".question-follow-btn",function(){var e=$(this),n=parseInt(e.attr("data-follow-status"));t.setFollowBtnStatus(n,"hover",e)}),$(document).on("mouseleave",".question-follow-btn",function(){var e=$(this),n=parseInt(e.attr("data-follow-status"));t.setFollowBtnStatus(n,"normal",e)})},bindFollowBtnClick:function(){var t=this;$(document).on("click",".question-follow-btn",function(e){e.preventDefault();var n=$(this),i=this,o=n.attr("data-id"),s=n.attr("data-type"),a=n.attr("data-url"),r=n.data("hide-login-tip");if(n.data("as-link"))return a&&""!==a&&window.open(a,"_blank"),!1;if(!page.g_user_code)return!0===r?(a&&""!==a&&window.open(a,"_blank"),!1):(window.common.checkLogin(),!1);var u=$('.question-follow-btn[data-id="'+o+'"][data-type="'+s+'"]');$.post(page.api_prefix+"/favorites/addV2",{user:page.g_user_id,user_code:page.g_user_code||"",id:o,type:s},function(e){if(1===e.code&&e.result){var n=e.result.isFavorited?2:1;t.setFollowBtnStatus(n,"normal",u),e.result.favoriteCount>=0&&t.setFollowBtnCount(e.result.favoriteCount,u)}else $("body").toast({type:"error",content:e.message||"操作失败"})}).always(function(){var t=document.createEvent("Event");t.initEvent("subscribe",!0,!0),i.dispatchEvent(t)})})},register:function(){this.initSidebarSectionTabs(),this.initUserListScorePopup(),this.initQuestionItemUpDown(),this.initNavSidebarSticky(),this.bindFollowBtnHover(),this.bindFollowBtnClick(),this.initTopicCardPopup()}},t});
"use strict";OSCDefine("web-question-index",["question-common"],function(t){var i=function(){this._questionEl=$(".web-question");var i=this;this._articleInfiniteScroll={questionList:new OSCInfiniteScroll({pagePath:".pagination__next",checkLastPage:!0,containerSelector:"#questionList",itemListSelector:".questions-list-container",loadMoreBtnSelector:".load-more-button",statusSelector:".page-load-status",defaultAutoLoadPageCount:3,itemSelector:".item.question-item",loadOnScroll:!0,onAppend:function(){i.optimizeImgShow(),t.refreshNavSidebarSticky()}})}};return i.prototype={constructor:i,initArticleInfiniteScroll:function(){this._articleInfiniteScroll.questionList&&(this._articleInfiniteScroll.questionList.destroy(),this._articleInfiniteScroll.questionList.init())},setPageTitle:function(){this._questionEl.find("input[name=currentCatalog]").val();var t=this._questionEl.find("input[name=currentCatalogTitle]").val(),i="";t&&""!==t&&(i=t);document.title=i?i+" - 开源中国":"开源问答 - 开源中国"},initShowTypeDropdown:function(){var t=$(".show-type-dropdown");t.dropdown({className:{active:"on"}}),t.on("click",".text",function(t){var i=$(this).find(".text").html(),e=$(this).siblings(".menu").find("a").first();i===e.find(".text").html()&&e.trigger("click")})},initPJAX:function(){var i=this,e=$(".question-list-container-loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax(".question-tab a.item, .question-tab .show-type .item",".question-list-container",{scrollTo:!1}),$(document).on("pjax:send",function(){e.addClass("active")}),$(document).on("pjax:complete",function(n){$(n.relatedTarget);e.removeClass("active"),i.initArticleInfiniteScroll(),i.optimizeImgShow(),i.scrollTabPositionOffset(),t.refreshNavSidebarSticky()})},optimizeImgShow:function(){$(function(){$("[data-img-render]").imgOptimize(110,70)})},scrollTabPositionOffset:function(){var t=$(".question-tab-wrap");if(t&&t.length>0){var i=t.find(".active.item"),e=i.offset().left;e+i.get(0).offsetWidth+10>window.innerWidth&&t.stop(!0).animate({scrollLeft:e},500,"swing")}},register:function(){this.initArticleInfiniteScroll(),this.initPJAX(),this.optimizeImgShow(),this.scrollTabPositionOffset()}},i});
"use strict";OSCDefine("web-question-search",["question-common"],function(t){var i=function(){this._questionEl=$(".web-question");var i=this;this._articleInfiniteScroll={questionList:new OSCInfiniteScroll({pagePath:".pagination__next",checkLastPage:!0,containerSelector:"#questionList",itemListSelector:".questions-list-container",loadMoreBtnSelector:".load-more-button",statusSelector:".page-load-status",defaultAutoLoadPageCount:3,itemSelector:".item.question-item",loadOnScroll:!0,onAppend:function(){i.optimizeImgShow(),t.refreshNavSidebarSticky()}})}};return i.prototype={constructor:i,initArticleInfiniteScroll:function(){this._articleInfiniteScroll.questionList&&(this._articleInfiniteScroll.questionList.destroy(),this._articleInfiniteScroll.questionList.init())},optimizeImgShow:function(){$(function(){$("[data-img-render]").imgOptimize(110,70)})},register:function(){this.initArticleInfiniteScroll(),this.optimizeImgShow()}},i});
"use strict";OSCDefine("web-question-my",["question-common"],function(t){var i=function(){this._questionEl=$(".web-question"),this._questionListContainer=$(".question-list-container");var i=this;this._articleInfiniteScroll={questionList:new OSCInfiniteScroll({pagePath:".pagination__next",checkLastPage:!0,containerSelector:"#questionList",itemListSelector:".questions-list-container",loadMoreBtnSelector:".load-more-button",statusSelector:".page-load-status",defaultAutoLoadPageCount:3,itemSelector:".item.question-item",loadOnScroll:!0,onAppend:function(){i.optimizeImgShow(),t.refreshNavSidebarSticky()}})}};return i.prototype={constructor:i,initArticleInfiniteScroll:function(){this._articleInfiniteScroll.questionList&&(this._articleInfiniteScroll.questionList.destroy(),this._articleInfiniteScroll.questionList.init())},optimizeImgShow:function(){$(function(){$("[data-img-render]").imgOptimize(110,70)})},register:function(){this.initArticleInfiniteScroll(),this.optimizeImgShow()}},i});
"use strict";OSCDefine("web-question-answer",function(){var e=function(){this._questionAnswerEl=$(".question-answer"),this._answerForm=this._questionAnswerEl.find(".answer-form")};return e.prototype={constructor:e,hightlight:function(){$("pre, pre code").each(function(e,t){var i=$(this),n=(i.attr("class")||"").match(/language-(.*)/);if(n&&n.length>1){var o=n[n.length-1];i.attr("class","hljs "+o)}hljs.highlightBlock(t)})},parseEmoticon:function(){$(function(){$("[data-emoji-render]").emoticon()})},initForm:function(){var e=this,t=e._answerForm.find("textarea[name=body]").get(0),i=null,n={height:350,resize_minHeight:423,resize_maxHeight:1e3,uploadUrl:page.api_prefix+"/question/ckeditor_dialog_img_upload",filebrowserUploadUrl:page.api_prefix+"/question/ckeditor_dialog_img_upload"};(i=CKEDITOR.replace(t,n)).on("instanceReady",function(e){CKEDITOR.instances.body.focus()}),i.on("change",function(e){$(t).val(e.editor.getData())}),i.on("fileUploadResponse",function(e){setTimeout(function(){$(t).val(e.editor.getData())},0)}),i.on("mode",function(e){if("source"===this.mode){var n=i.editable();n.attachListener(n,"input",function(){$(t).val(e.editor.getData())})}}),i.on("key",function(t){var i=t.data.domEvent.$;(i.metaKey||i.ctrlKey)&&13===i.keyCode&&e._answerForm.form("submit")}),e._answerForm.form({inline:!0,fields:{body:{identifier:"body",rules:[{type:"empty",prompt:"请输入回答内容"}]}}}).api({url:page.api_prefix+"/question/answer",method:"post",serializeForm:!0,beforeSend:function(e){return $(this).message("hideAll"),e},onSuccess:function(e,t,i){1===e.code?($(this).message({type:"positive",content:e.message||"提交成功"}),window.location.href=page.question_url):$(this).message({type:"negative",content:e.message||"提交失败",disappear:2e3})},onFailure:function(e,t){$(this).message({type:"negative",content:"网络错误，请稍后再试"})}})},register:function(){this.initForm(),this.hightlight(),this.parseEmoticon()}},e});
"use strict";OSCDefine("web-question-answer-edit",function(){var e=function(){this._questionAnswerEl=$(".question-answer"),this._answerForm=this._questionAnswerEl.find(".answer-form")};return e.prototype={constructor:e,initForm:function(){var e=this,t=e._answerForm.find("textarea[name=body]").get(0),i=null,n={height:350,resize_minHeight:423,resize_maxHeight:1e3,uploadUrl:page.api_prefix+"/question/ckeditor_dialog_img_upload",filebrowserUploadUrl:page.api_prefix+"/question/ckeditor_dialog_img_upload"};(i=CKEDITOR.replace(t,n)).on("instanceReady",function(e){CKEDITOR.instances.body.focus()}),i.on("change",function(e){$(t).val(e.editor.getData())}),i.on("fileUploadResponse",function(e){setTimeout(function(){$(t).val(e.editor.getData())},0)}),i.on("mode",function(e){if("source"===this.mode){var n=i.editable();n.attachListener(n,"input",function(){$(t).val(e.editor.getData())})}}),i.on("key",function(t){var i=t.data.domEvent.$;(i.metaKey||i.ctrlKey)&&13===i.keyCode&&e._answerForm.form("submit")}),e._answerForm.form({inline:!0,fields:{body:{identifier:"body",rules:[{type:"empty",prompt:"请输入回答内容"}]}}}).api({url:page.api_prefix+"/question/editAnswerV2",method:"post",serializeForm:!0,beforeSend:function(e){return $(this).message("hideAll"),e},onSuccess:function(e,t,i){1===e.code?($(this).message({type:"positive",content:"修改成功"}),window.location.href=page.question_url):$(this).message({type:"negative",content:e.message||"修改失败",disappear:2e3})},onFailure:function(e,t){$(this).message({type:"negative",content:"网络错误，请稍后再试"})}})},register:function(){this.initForm()}},e});
"use strict";OSCDefine("web-question-tags",["question-common"],function(){var t=function(){this._tagsWrap=$("#tagsContainer .tags-wrapper")};return t.prototype={constructor:t,initListPJAX:function(){var t=this,a=$(".tags-loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax(".pagination a","#tagsContainer .tags-wrapper",{scrollTo:!1}),$(document).on("pjax:send",function(){a.addClass("active")}),$(document).on("pjax:complete",function(){a.removeClass("active"),$("html, body").stop().animate({scrollTop:t._tagsWrap.offset().top-80},500,"swing")})},register:function(){this.initListPJAX()}},t});
"use strict";OSCDefine("web-question-tag",["question-common"],function(){var t=function(){this._questionEl=$(".web-question-tag"),this._questionListContainer=$(".question-list-container");var t=this;this._articleInfiniteScroll={questionList:new OSCInfiniteScroll({pagePath:".pagination__next",checkLastPage:!0,containerSelector:"#questionList",itemListSelector:".questions-list-container",loadMoreBtnSelector:".load-more-button",statusSelector:".page-load-status",defaultAutoLoadPageCount:3,itemSelector:".item.question-item",loadOnScroll:!0,onAppend:function(){t.optimizeImgShow()}})}};return t.prototype={constructor:t,initArticleInfiniteScroll:function(){this._articleInfiniteScroll.questionList&&(this._articleInfiniteScroll.questionList.destroy(),this._articleInfiniteScroll.questionList.init())},initPJAX:function(){var t=this,i=$(".question-list-container-loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax(".question-tab > a.item, .question-tab .show-type .item",".question-list-container",{scrollTo:!1}),$(document).on("pjax:send",function(){i.addClass("active")}),$(document).on("pjax:complete",function(e){$(e.relatedTarget);i.removeClass("active"),t.initArticleInfiniteScroll(),t.optimizeImgShow(),t.scrollTabPositionOffset()})},optimizeImgShow:function(){$(function(){$("[data-img-render]").imgOptimize(110,70)})},scrollTabPositionOffset:function(){var t=$(".question-tab-wrap");if(t&&t.length>0){var i=t.find(".active.item"),e=i.offset().left;e+i.get(0).offsetWidth+10>window.innerWidth&&t.stop(!0).animate({scrollLeft:e},500,"swing")}},register:function(){this.initArticleInfiniteScroll(),this.initPJAX(),this.optimizeImgShow(),this.scrollTabPositionOffset()}},t});
"use strict";OSCDefine("web-question-topics",["question-common"],function(t){var i=function(){this._pageContainer=$(".web-question-topics"),this._topicsWrap=$("#topicsContainer .topics-wrapper")};return i.prototype={constructor:i,initListPJAX:function(){var i=this,n=$(".topics-loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax(".pagination a","#topicsContainer .topics-wrapper",{scrollTo:!1}),$(document).on("pjax:send",function(){n.addClass("active")}),$(document).on("pjax:complete",function(){n.removeClass("active"),$("html, body").stop().animate({scrollTop:i._topicsWrap.offset().top-140},500,"swing"),t.refreshNavSidebarSticky()})},bindTopicCardLink:function(){this._topicsWrap.on("click",".question-topic-cards .topic-card",function(t){var i=$(t.target),n=$(this).attr("data-url");0===i.parents(".card-action").length&&n&&""!==n&&window.open(n,"_blank")})},bindSearchClick:function(){this._pageContainer.on("click",".search-form .search.link.icon",function(){var t=$(this).parents(".search-form:eq(0)");t.find("input[name=q]").val().trim().length>0&&t.submit()})},register:function(){this.initListPJAX(),this.bindTopicCardLink(),this.bindSearchClick()}},i});
"use strict";OSCDefine("web-question-topic",["question-common"],function(t){var i=function(){this._questionEl=$(".web-question-topic"),this._questionListContainer=$(".question-list-container");var i=this;this._articleInfiniteScroll={questionList:new OSCInfiniteScroll({pagePath:".pagination__next",checkLastPage:!0,containerSelector:"#questionList",itemListSelector:".questions-list-container",loadMoreBtnSelector:".load-more-button",statusSelector:".page-load-status",defaultAutoLoadPageCount:3,itemSelector:".item.question-item",loadOnScroll:!0,onAppend:function(){i.optimizeImgShow(),t.refreshNavSidebarSticky()}})}};return i.prototype={constructor:i,initArticleInfiniteScroll:function(){this._articleInfiniteScroll.questionList&&(this._articleInfiniteScroll.questionList.destroy(),this._articleInfiniteScroll.questionList.init())},initPJAX:function(){var i=this,e=$(".question-list-container-loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax(".question-tab > a.item, .question-tab .show-type .item",".question-list-container",{scrollTo:!1}),$(document).on("pjax:send",function(){e.addClass("active")}),$(document).on("pjax:complete",function(n){$(n.relatedTarget);e.removeClass("active"),i.initArticleInfiniteScroll(),i.optimizeImgShow(),i.scrollTabPositionOffset(),t.refreshNavSidebarSticky()})},optimizeImgShow:function(){$(function(){$("[data-img-render]").imgOptimize(110,70)})},scrollTabPositionOffset:function(){var t=$(".question-tab-wrap");if(t&&t.length>0){var i=t.find(".active.item"),e=i.offset().left;e+i.get(0).offsetWidth+10>window.innerWidth&&t.stop(!0).animate({scrollLeft:e},500,"swing")}},register:function(){this.initArticleInfiniteScroll(),this.initPJAX(),this.optimizeImgShow(),this.scrollTabPositionOffset()}},i});
"use strict";OSCDefine("web-question-subscribed",["question-common"],function(t){var i=function(){var i=this;this._articleInfiniteScroll={questionList:new OSCInfiniteScroll({pagePath:".pagination__next",checkLastPage:!0,containerSelector:"#questionList",itemListSelector:".questions-list-container",loadMoreBtnSelector:".load-more-button",statusSelector:".page-load-status",defaultAutoLoadPageCount:3,itemSelector:".item.question-item",loadOnScroll:!0,onAppend:function(){i.optimizeImgShow(),t.refreshNavSidebarSticky()}})}};return i.prototype={constructor:i,initArticleInfiniteScroll:function(){this._articleInfiniteScroll.questionList&&(this._articleInfiniteScroll.questionList.destroy(),this._articleInfiniteScroll.questionList.init())},initPJAX:function(){var i=this,e=$(".question-list-container-loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax(".question-tags.tab .tag-item",".question-list-container",{scrollTo:!1}),$(document).on("pjax:send",function(){e.addClass("active")}),$(document).on("pjax:complete",function(n){$(n.relatedTarget);e.removeClass("active"),i.initArticleInfiniteScroll(),i.optimizeImgShow(),t.refreshNavSidebarSticky()})},optimizeImgShow:function(){$(function(){$("[data-img-render]").imgOptimize(110,70)})},register:function(){this.initArticleInfiniteScroll(),this.initPJAX(),this.optimizeImgShow()}},i});
"use strict";OSCDefine("web-question-subscribed-settings",["question-common"],function(t){var i=function(){this._subscribedSettings=$(".web-question-subscribed-settings"),this._subscribedTagsPanel=this._subscribedSettings.find(".subscribed-tags-panel"),this._subscribedTopicsPanel=this._subscribedSettings.find(".subscribed-topics-panel"),this._questionTagsSettings=$(".question-tags.settings"),this._questionTagAddWrap=this._questionTagsSettings.find(".tag-add-wrap")};return i.prototype={constructor:i,initSubscribedTags:function(){var t=this,i=t._subscribedTagsPanel.find(".subscribed-tags-count");t._subscribedTagsPanel.on("subscribe",function(){var e=t._subscribedTagsPanel.find(".tag-item.question-follow-btn.subscribed").length;i.text(e)})},initSubscribedTopics:function(){var t=this,i=t._subscribedTopicsPanel.find(".subscribed-topics-count");t._subscribedTopicsPanel.on("subscribe",function(){var e=t._subscribedTopicsPanel.find(".topic-card .card-action > .button.question-follow-btn.subscribed").length;i.text(e)})},initTagAdd:function(){var t=this,i=t._questionTagAddWrap.find(".tag-input");t._questionTagAddWrap.find(".tag-name.dropdown").dropdown({allowAdditions:!1,forceSelection:!1,fields:{remoteValues:"results",value:"value",name:"name"},filterRemoteData:!1,apiSettings:{url:page.api_prefix+"/question/list_tags?q={query}",method:"get",dataType:"JSON",cache:!1,throttle:200,interruptRequests:!0,onResponse:function(t){var i=[];return 1===t.code&&Array.isArray(t.result)&&t.result.length>0&&(i=t.result.map(function(t){return{name:t.name,value:t.obj_id+","+t.type}})),{results:i}}},onNoResults:function(t){return!!(t&&t.trim().length>0)}}),document.addEventListener("click",function(e){0!==t._questionTagAddWrap.find(e.target).length||$(e.target).is(".tag-add-wrap")||(t._questionTagAddWrap.find(".tag-name.dropdown").dropdown("clear"),i.val(""),t._questionTagAddWrap.removeClass("active"))}),t._questionTagAddWrap.on("click",function(){$(this).hasClass("active")||(t._questionTagAddWrap.addClass("active"),i.focus())}),t._questionTagAddWrap.on("click",".tag-submit-btn",t._submitTagAdd.bind(t)),t._questionTagAddWrap.on("keydown",function(i){13===i.keyCode&&t._submitTagAdd()})},_submitTagAdd:function(){var i=this,e=i._questionTagAddWrap.find("input[name=tag]"),s=i._questionTagAddWrap.find(".tag-input"),n=e.val()||"";if(""===n&&/^\d+,\d+$/.test(n))return!1;var a=n.split(","),d=a[0],o=a[1],r=33===parseInt(o)?1:2;i._questionTagAddWrap.find(".tag-name.dropdown").dropdown("get text");$.post(page.api_prefix+"/favorites/addV2",{user:page.g_user_id,user_code:page.g_user_code||"",id:d,type:o},function(e){1===e.code&&e.result?($.get(page.api_prefix+"/question/widgets/_subscribed_tag_ajax?tagId="+d+"&tagType="+r,function(e){i._questionTagAddWrap.before(e),t.initTopicCardPopup()}).always(function(){var t=document.createEvent("Event");t.initEvent("subscribe",!0,!0);var e=i._subscribedTagsPanel.find('.question-follow-btn[data-id="'+d+'"][data-type="'+o+'"]');e&&e.length>0&&e.get(0).dispatchEvent(t)}),i._questionTagAddWrap.find(".tag-name.dropdown").dropdown("clear"),s.val(""),i._questionTagAddWrap.removeClass("active")):$("body").toast({type:"error",content:e.message||"添加失败"})})},bindTopicCardLink:function(){this._subscribedTopicsPanel.on("click",".question-topic-cards .topic-card",function(t){var i=$(t.target),e=$(this).attr("data-url");0===i.parents(".card-action").length&&e&&""!==e&&window.open(e,"_blank")})},register:function(){this.initSubscribedTags(),this.initSubscribedTopics(),this.initTagAdd(),this.bindTopicCardLink()}},i});
"use strict";OSCDefine("web-question-detail",["question-common"],function(){var e=function(){this._questionDetailEl=$(".question-detail"),this._metaWrap=this._questionDetailEl.find(".meta-wrap"),this._questionCommentModal=$(".question-comment.modal"),this._commentsContainer=$("#commentsContainer"),this._answersList=this._commentsContainer.find(".comments-wrap")};return e.prototype={constructor:e,initManagerMenu:function(){var e=$("#managerMenu");e.dropdown(),e.on("click","a.item.delete-btn",function(){var e=page.objId,t=$(this).attr("data-hash-code")||"";$(".delete-question.modal").modal({onApprove:function(){$.post(page.api_prefix+"/question/delete",{id:e,hash:t,user_code:page.g_user_code},function(e){1===e.code?($("body").toast({type:"success",content:"删除成功"}),setTimeout(function(){location.href=page.questionRootURL},1e3)):$("body").toast({type:"error",content:e.message||"删除失败"})})}}).modal("show")}),e.on("click","a.item.edit-tags-btn",function(){var e=$(".edit-tags.modal"),t=e.find("#editTagsForm");t.form({inline:!0,keyboardShortcuts:!1,fields:{catalog:{rules:[{type:"empty",prompt:"请选择分类"}]}}}).api({url:page.api_prefix+"/question/edit_tags",method:"post",serializeForm:!0,beforeSend:function(e){var t=e.data;return e.data={id:page.objId,catalog:t.catalog,prj:t.prj,tags:t.tags,user_code:page.g_user_code||""},e},onSuccess:function(t,n,o){1===t.code?($("body").toast({type:"success",content:"设置成功"}),e.modal("hide"),$(this).form("reset"),setTimeout(function(){location.reload()},1e3)):$("body").toast({type:"error",content:t.message||"设置失败"})},onFailure:function(e,t){$("body").toast({type:"error",content:"网络异常，请稍后再试"})}}),t.find(".catalog.dropdown").dropdown(),t.find(".project-name.dropdown").dropdown({allowAdditions:!0,maxSelections:5,fields:{remoteValues:"results",value:"value",name:"name"},filterRemoteData:!1,apiSettings:{url:page.api_prefix+"/project/list_projects?q={query}",method:"get",dataType:"JSON",cache:!1,throttle:200,interruptRequests:!0,onResponse:function(e){var t=[];return 1===e.code&&Array.isArray(e.result)&&e.result.length>0&&(t=e.result.map(function(e){return{name:e.name,value:e.name}})),{results:t}}},onNoResults:function(e){return!!(e&&e.trim().length>0)}}),e.modal({autofocus:!1,onApprove:function(){return t.message("hideAll"),t.form("submit"),!1},onHide:function(){t.form("reset")}}),e.modal("show")}),e.on("click",".item.mark-btn",function(){var t=$(this),n=parseInt(t.attr("data-value")),o=page.objId,a=e.find(".item.mark-btn.mark-as-top-btn"),i=1===n?"置顶":"取消置顶",r=1===n?"取消置顶":"置顶",s=1===n?0:1,c=1===n?"undo icon":"arrow up icon",d=e.find(".item.mark-btn.mark-as-bottom-btn"),m=-1===n?"置底":"取消置底",l=-1===n?"取消置底":"置底",p=-1===n?0:-1,u=-1===n?"undo icon":"arrow down icon";$.post(page.api_prefix+"/question/mark_as_top",{id:o,top:n,user_code:page.g_user_code},function(e){var n=t.hasClass("mark-as-top-btn")?i:m;1===e.code?($("body").toast({type:"success",content:n+"成功"}),a.find("span").text(r),a.find("i").attr("class",c),a.attr("data-value",s),d.find("span").text(l),d.find("i").attr("class",u),d.attr("data-value",p)):$("body").toast({type:"error",content:e.message||text+"失败"})})})},checkWechatLogin:function(){if(!page.g_user_code)return!window.common.checkWeChat()||!page.weixinLogin},modelEvent:function(){$("#btnCancel").on("click",function(){document.getElementById("wechatModel").style.display="none"})},clickEvent:function(){$(".osc-share").on("click",".item",function(){var e=window.common.getUrlParams(),t=e.channel||"",n=e.recid||"",o=e.scene||"";page.rocommendGrayStatus&&$.post(page.api_prefix+"/IndexFeed/behavior_common_action",{actionType:"SHARE",obj_type:page.objType||"",obj_id:page.objId||"",channel:t,recid:n,scene:o},function(e){})})},initAddRemarkBtn:function(){var e=this,t=$(".add-remark.modal"),n=$("#addRemarkForm");t.modal({onShow:function(){n.form("reset"),n.message("hideAll")},onApprove:function(){return n.message("hideAll"),n.form("submit"),!1}}),n.form({inline:!0,fields:{body:{identifier:"body",rules:[{type:"empty",prompt:"请输入补充内容"},{type:"maxLength[200]",prompt:"内容长度不能超过 {ruleValue} 个字"}]}}}).api({url:page.api_prefix+"/question/add_detail",method:"post",serializeForm:!0,beforeSend:function(e){return $(this).message("hideAll"),e},onSuccess:function(o,a,i){if(1!==o.code)return $(this).message({type:"negative",content:o.message||"发表失败"}),!1;$(this).message({type:"positive",content:"发表成功"}),n.form("reset");var r=page.objId||-1;e.loadAdditionalRemarks(r,function(){setTimeout(function(){t.modal("hide")},1e3)})},onFailure:function(e,t){$(this).message({type:"negative",content:"网络错误，请稍后再试"})}}),n.on("keydown",function(e){(e.metaKey||e.ctrlKey)&&13===e.keyCode&&t.find(".positive.button").click()}),e._metaWrap.on("click",".item.add-remark-btn",function(){t.modal("show")})},initAdditionalRemarkAction:function(){var e=this,t=$(".additional-remarks");t.on("click",".remark-item .remove-btn",function(){var t=$(this).parents(".remark-item:eq(0)").attr("data-remark-id"),n=page.objId||-1,o=$(".delete-remark.modal");0===o.length&&($("body").append('<div class="ui mini delete-remark modal">    <div class="header">删除一条补充话题</div>    <div class="content">        <p>此补充话题删除后，数据将无法恢复</p>    </div>    <div class="actions">        <div class="ui cancel button">取消</div>        <div class="ui red ok button">确定</div>    </div></div>'),o=$(o.selector)),o.modal({onApprove:function(){$.post(page.api_prefix+"/question/delete_detail",{id:t,user_code:page.g_user_code},function(t){1===t.code?($("body").toast({type:"success",content:"删除成功"}),e.loadAdditionalRemarks(n)):$("body").toast({type:"error",content:t.message||"删除失败"})})}}),o.modal("show")}),t.on("click",".view-all-button",function(){var e=$(this),n=t.find(".remark-item");e.hide(),n.removeClass("hide")})},loadAdditionalRemarks:function(e,t){var n=$(".additional-remarks");$.post("/question/widgets/_additional_remarks",{qid:e},function(e){n.html(e)}).always(function(){t&&$.isFunction(t)&&t()})},hightlight:function(){$("pre, pre code").each(function(e,t){var n=$(this),o=(n.attr("class")||"").match(/language-(.*)/);if(o&&o.length>1){var a=o[o.length-1];n.attr("class","hljs "+a)}hljs.highlightBlock(t)})},answersListPJAX:function(){var e=this,t=$("#commentsContainer"),n=$(".comments-loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax(".pagination a, .comments-title .tab, .comments-header-tabs .menu > .item","#commentsContainer .comments-wrap",{scrollTo:!1}),$(document).on("pjax:send",function(){n.addClass("active")}),$(document).on("pjax:complete",function(){e.parseEmoticon(),e.hightlight(),n.removeClass("active"),$("html, body").stop().animate({scrollTop:t.offset().top-50},500,"swing")})},answerReplies:function(){var e=this;this._answersList.on("click",".comment.answer > .answer-content-wrap > .replies-wrap .page-link",function(t){var n=$(this),o=n.attr("data-page"),a=n.attr("data-answer-id");e.loadCommentReplies(a,o)})},loadComments:function(e,t,n){var o=this,a=o._commentsContainer.find(".pagination-wrap"),i=Math.floor(e)||1;-1===i&&(i=Math.floor(a.data("page"))||1);var r=t;["default","time"].indexOf(r)<0&&(r=a.data("sort")||"default");var s=window.common.addQueryParams(page.fetchCommentsUrl,{p:i,sort:r});$.get(s,function(e){o._answersList.html(e),o.parseEmoticon(),o.hightlight(),n&&$.isFunction(n)&&n.call(this)})},loadCommentsByCommentId:function(e,t){var n=this,o=n._commentsContainer.find(".pagination-wrap"),a=Math.floor(e)||1,i=o.data("sort")||"default",r=window.common.addQueryParams(page.fetchCommentsUrl,{commentId:a,sort:i});$.get(r,function(e){n._answersList.html(e),n.parseEmoticon(),n.hightlight(),t&&$.isFunction(t)&&t.call(this)})},loadCommentReplies:function(e,t,n){var o=this;t=parseInt(t)||1,$.post(page.getCommentRepliesUrl,{answer:e,rp:t},function(n){var a=o._answersList.find(".comment.answer[data-answer-id="+e+"] > .answer-content-wrap > .replies-wrap");a&&(a.html(n),a.attr("data-page",t),o.parseEmoticon())}).always(function(){n&&$.isFunction(n)&&n()})},commentForm:function(){var e=this,t=$(".comment.form"),n=null,o={height:160,resize_maxHeight:400,toolbar:[{name:"links",items:["Link","Unlink"]},{name:"insert",items:["Image","Table"]},{name:"basicstyles",items:["Bold","Italic","Strike"]},{name:"paragraph",items:["NumberedList","BulletedList"]},{name:"clipboard",items:["Undo","Redo"]},{name:"align",items:["JustifyLeft","JustifyCenter"]},{name:"styles",items:["Blockquote","CodeSnippet","Format"]},{name:"source",items:["Source","Maximize"]}],removePlugins:"elementspath",uploadUrl:page.api_prefix+"/question/ckeditor_dialog_img_upload",filebrowserUploadUrl:page.api_prefix+"/question/ckeditor_dialog_img_upload"},a=t.find("textarea[name=body]"),i=a.get(0),r="OSC_QUESTION_"+page.objId+"_ANSWER_CACHE",s="OSC_QUESTION_"+page.objId+"_ANSWER_PUBLISH_CACHE",c=window.common.throttle(function(){try{var e=a.val()||"";e&&e.trim().length>0?localStorage.setItem(r,e):localStorage.removeItem(r)}catch(e){}},500),d=function(){(n=CKEDITOR.replace(i,o)).on("change",function(e){a.val(e.editor.getData())}),n.on("change",c),n.on("fileUploadResponse",function(e){setTimeout(function(){a.val(e.editor.getData())},0)}),n.on("fileUploadResponse",c),n.on("mode",function(e){if("source"===this.mode){var t=n.editable();t.attachListener(t,"input",function(){a.val(e.editor.getData())}),t.attachListener(t,"input",c)}}),n.on("key",function(e){var n=e.data.domEvent.$;(n.metaKey||n.ctrlKey)&&13===n.keyCode&&t.form("submit")})};if(a.on("focus",function(){d(),n.on("instanceReady",function(e){CKEDITOR.instances.body.focus()})}),t.form({inline:!0,fields:{body:{identifier:"body",rules:[{type:"empty",prompt:"请输入回答内容"}]}}}).api({url:page.api_prefix+"/question/answer",method:"post",serializeForm:!0,beforeSend:function(e){$(this).message("hideAll");var t=window.common.getCurrentUrl(!0)+"#comment";return!!window.common.checkLoginForWeChat(t,function(){try{localStorage.setItem(s,"1")}catch(e){}})&&e},onSuccess:function(t,o,a){if(1===t.code){if(t.message){$("body").toast({type:"success",content:t.message||"发布成功"});var i=window.common.getUrlParams(),s=i.channel||"",c=i.recid||"",d=i.scene||"";page.rocommendGrayStatus&&$.post(page.api_prefix+"/IndexFeed/behavior_common_action",{actionType:"COMMENT",obj_type:page.objType||"",obj_id:page.objId||"",channel:s,recid:c,scene:d},function(e){})}window.localStorage&&window.localStorage.removeItem(r),n.setData("");var m=t.result.id||-1;m>0&&($.post(page.getCommentUrl,{_answer_id:m},function(t){e._answersList.find(".answers-list").append(t),e.parseEmoticon(),e.hightlight(),e._setAnswersCount(1)}),window.OSCLuckyBagUtil&&window.OSCLuckyBagUtil.request("answer_question",{objId:m}))}else $(this).message({type:"negative",content:t.message||"发布失败",disappear:2e3})},onFailure:function(e,t){$(this).message({type:"negative",content:"网络错误，请稍后再试"})}}),void 0!==window.localStorage){var m=localStorage.getItem(r)||"",l=localStorage.getItem(s)||"";m&&m.trim().length>0&&(a.val(m),d(),l&&page.g_user_code&&(localStorage.removeItem(s),t.form("submit")))}},_setAnswersCount:function(e){e=parseInt(e)||0;var t=this._questionDetailEl.find("span[data-article-reply-count]"),n=t.first();if(n&&n.length>0){var o=parseInt(n.text())||0;(o+=e)<0&&(o=0),t.text(o)}},_setAnswerRepliesCount:function(e,t){if((e=e||-1)<=0)return!1;t=parseInt(t)||0;var n=this._answersList.find(".comment.answer[data-answer-id="+e+"]");if(n&&n.length>0){var o=n.find(".actions > a.reply > span.reply-count"),a=parseInt(o.text())||0;o.text(a+t)}},questionComment:function(){var e=this,t=this._questionCommentModal,n=$("#questionCommentForm");t.modal({onShow:function(){n.form("reset"),n.message("hideAll");var e=$(this).attr("data-answer-id")||-1;n.find("input[name=parent]").val(e);var t=$(this).attr("data-atwho")||"";(t=t.trim()).length>0&&n.find("textarea[name=body]").val("回复 @"+t+" : ")},onApprove:function(){return n.message("hideAll"),n.form("submit"),!1}}),n.form({inline:!0,fields:{body:{identifier:"body",rules:[{type:"empty",prompt:"请输入评论内容"},{type:"maxLength[200]",prompt:"内容长度不能超过 {ruleValue} 个字"}]}}}).api({url:page.api_prefix+"/question/reply_to_post",method:"post",serializeForm:!0,beforeSend:function(e){return $(this).message("hideAll"),e},onSuccess:function(o,a,i){if(1!==o.code)return $(this).message({type:"negative",content:o.message||"评论失败"}),!1;$(this).message({type:"positive",content:o.message||"评论成功"});var r=n.find("input[name=parent]").val(),s=window.common.getUrlParams(),c=s.channel||"",d=s.recid||"",m=s.scene||"";page.rocommendGrayStatus&&$.post(page.api_prefix+"/IndexFeed/behavior_common_action",{actionType:"COMMENT",obj_type:page.objType||"",obj_id:page.objId||"",channel:c,recid:d,scene:m},function(e){}),n.form("reset"),e.loadCommentReplies(r,1,function(){setTimeout(function(){t.modal("hide")},1e3)}),e._setAnswerRepliesCount(r,1)},onFailure:function(e,t){$(this).message({type:"negative",content:"网络错误，请稍后再试"})}}),t.on("keydown",function(e){(e.metaKey||e.ctrlKey)&&13===e.keyCode&&t.find(".positive.button").click()});var o=this._answersList;o.on("click",".comment.answer > .answer-content-wrap > .content > .actions a.reply",function(e){if(e.stopPropagation(),!window.common.checkLogin())return!1;var n=$(e.target).parents(".comment.answer:eq(0)").attr("data-answer-id");t.attr("data-answer-id",n),t.attr("data-atwho",""),t.modal("show")}),o.on("click",".comment.reply > .content > .actions a.reply",function(e){if(e.stopPropagation(),!window.common.checkLogin())return!1;var n=$(e.target).parents(".comment.answer:eq(0)").attr("data-answer-id"),o=$(this).attr("data-atwho");t.attr("data-answer-id",n),t.attr("data-atwho",o),t.modal("show")})},questionCommentInnerReply:function(){var e=this,t=e._answersList,n="OSC_QUESTION_"+page.objId+"_ANSWER_REPLY_CACHE";if(t.on("click",".comment .actions a.reply",function(o){o.stopPropagation();var a=$(o.target).parents(".comment:eq(0)"),i=a.attr("data-answer-id"),r=$(this).attr("data-atwho")||"",s=$(o.target).parents(".comment.answer:eq(0)").attr("data-answer-id"),c="";a.hasClass("answer")?c="#answer_"+i:a.hasClass("reply")&&(c="#answer_reply_"+i);var d=window.common.getCurrentUrl(!0)+c;if(!window.common.checkLoginForWeChat(d,function(){try{localStorage.setItem(n,i)}catch(e){}}))return!1;if(a.find(".content:eq(0) [data-reply-comment-form]").length>0){var m=a.find(".content:eq(0) [data-reply-comment-form]").get(0);return m.vueInstance&&m.vueInstance.focus(),!1}$("[data-reply-comment-form]").each(function(e,t){var n=$(t);t.vueInstance&&t.vueInstance.$destroy(),n.remove()}),0===$('[data-reply-comment-form][data-comment-id="'+i+'"]').length&&!0!==window.oscReplyCommentFormLoading&&(window.oscReplyCommentFormLoading=!0,$.get("/widgets/comments_reply_form",function(n){var o=document.createElement("div");o.innerHTML=n,$(o).find("[data-reply-comment-form]").attr("data-comment-id",i),a.find(".content:eq(0)").append(o);var c=new OSCCommentForm({commentFormSelector:"#replyCommentForm",commentsWrapEl:t,toggleLoadComments:function(){e.loadCommentReplies(s,1),e._setAnswerRepliesCount(s,1)},url:page.api_prefix+"/question/reply_to_post",params:{parent:s,user:page.g_user_id},commentedAutoScrollToTop:!1,contentField:"body",commentMaxLength:200});c.init(),c.focus(),r&&c.insertContent("回复 @"+r+" : ")}).always(function(){window.oscReplyCommentFormLoading=!1}))}),void 0!==window.localStorage&&page.g_user_code){var o=localStorage.getItem(n)||"";if(o){if(0===$('.comment[data-answer-id="'+o+'"]').length)return;localStorage.removeItem(n),setTimeout(function(){$('.comment[data-answer-id="'+o+'"] .content .actions a.reply').click()},1e3)}}},deleteAnswer:function(){var e=this;$(".delete-answer.modal").modal({onApprove:function(){var t=$(this).attr("data-answer-id"),n=$(this).attr("data-answer-hash"),o=e._answersList.find(".comment.answer[data-answer-id="+t+"]");$.post(page.api_prefix+"/question/delete_answer",{id:t,hash:n,user_code:page.g_user_code},function(t){1===t.code?(o.fadeOut(function(){o.remove()}),e._setAnswersCount(-1)):$("body").toast({type:"error",content:t.message||"删除失败"})})}}),this._answersList.on("click",".comment.answer > .answer-content-wrap > .content > .actions a.remove",function(e){e.stopPropagation();var t=$(e.target).parents(".comment:eq(0)"),n=t.attr("data-answer-id"),o=t.attr("data-answer-hash"),a=$(".delete-answer.modal");a.attr("data-answer-id",n),a.attr("data-answer-hash",o),a.modal("show")})},deleteComment:function(){var e=this;$(".delete-comment.modal").modal({onApprove:function(){var t=$(this).attr("data-reply-answer-id"),n=$(this).attr("data-reply-answer-hash"),o=$(this).attr("data-answer-id");$(this).attr("data-page-index");$.post(page.api_prefix+"/question/delete_answer",{id:t,hash:n,user_code:page.g_user_code},function(t){1===t.code?(e.loadCommentReplies(o,1),e._setAnswerRepliesCount(o,-1)):$("body").toast({type:"error",content:t.message||"删除失败"})})}}),this._answersList.on("click",".comment.reply > .content > .actions a.remove",function(e){e.stopPropagation();var t=$(e.target).parents(".comment:eq(0)"),n=t.attr("data-answer-id"),o=t.attr("data-answer-hash"),a=$(e.target).parents(".comment:eq(1)").attr("data-answer-id"),i=$(e.target).parents(".replies-wrap:eq(0)").attr("data-page-index"),r=$(".delete-comment.modal");r.attr("data-reply-answer-id",n),r.attr("data-reply-answer-hash",o),r.attr("data-answer-id",a),r.attr("data-page-index",i),r.modal("show")})},answerVote:function(){var e="OSC_QUESTION_"+page.objId+"_ANSWER_VOTE_CACHE";function t(e,t,n){var o=e.parent().find(".vote-count");parseInt(o.text().match(/\d+/)[0]);$.post(page.api_prefix+"/question/vote_answer",{user:page.g_user_id,user_code:page.g_user_code,id:t,vote:n},function(t){0!==t.code?(n&&t.result,o.text(t.result.vote),e.toggleClass("active")):$("body").toast({type:"error",content:t.message||"投票失败"})})}var n=function(e,n){var o=$('.comment.answer[data-answer-id="'+e+'"]');if(0===o.length)return!1;var a=o.find(".vote-wrap"),i=a.find(".vote-btn."+(n?"vote-up":"vote-down")),r=a.find(".vote-btn.active").length>0;i.hasClass("active")?t(i,e,n):r?$("body").toast({type:"error",content:"您已经对此问题投过票了，不能重复投票"}):t(i,e,!!n)};if(this._commentsContainer.on("click",".comment.answer > .answer-left > .vote-wrap > .vote-btn",function(t){var o=$(this).hasClass("vote-up"),a=$(t.target).parents(".comment:eq(0)").attr("data-answer-id"),i=window.common.getCurrentUrl(!0)+"#answer_"+a;if(!window.common.checkLoginForWeChat(i,function(){try{localStorage.setItem(e,a+","+o)}catch(e){}}))return!1;n(a,o)}),void 0!==window.localStorage&&page.g_user_code){var o=localStorage.getItem(e)||"";if(o){var a=o.split(",");if(2===a.length){var i=a[0],r="true"===a[1];if(0===$('.comment.answer[data-answer-id="'+i+'"]').length)return;localStorage.removeItem(e),setTimeout(function(){n(i,r)},1e3)}}}},markBestAnswer:function(){var e=this;this._answersList.on("click",".comment.answer > .answer-content-wrap > .content > .actions a.mark-best-answer",function(t){var n=$(t.target).parents(".comment:eq(0)"),o=n.attr("data-answer-id"),a=n.hasClass("best-answer");if(!window.common.checkLogin())return!1;var i=function(){$.post(page.api_prefix+"/question/mark_as_best_v2",{id:o,user_code:page.g_user_code},function(t){1===t.code?(e.loadComments(),$("body").toast({type:"success",content:"操作成功"})):$("body").toast({type:"error",content:t.message||"操作失败"})})};a?$(".cancel-best-answer.modal").modal({onApprove:i}).modal("show"):$(".best-answer.modal").modal({onApprove:i}).modal("show")})},parseEmoticon:function(){$(function(){$("[data-emoji-render]").emoticon()})},initPoll:function(){var e=this,t=$(".poll-wrap"),n=t.find(".vote-form"),o=n.find(".poll-options");o.find(".option-progress .ui.progress").progress();var a=n.find('input[name="multiple"]').val()||"";a=1===parseInt(a);var i=t.find('input[name="maxSelect"]').val();i=parseInt(i)||0;var r=t.find('input[name="isVoted"]').val();r="true"===r,o.find("input[type=checkbox]").on("change",function(){var e=o.find("input[type=checkbox]:checked").length;a&&i>0&&(e>=i?o.find("input[type=checkbox]:not(:checked)").parents(".option-item.field").addClass("disabled"):o.find(".option-item.field").removeClass("disabled"))}),n.on("click",".submit.button",function(){return!!window.common.checkLogin()&&(r?($("body").toast({type:"error",content:"您已投过票，感谢参与"}),!1):!(t=a?o.find("input[type=checkbox]:checked"):o.find("input[type=radio]:checked"))||t.length<=0?($("body").toast({type:"error",content:"您还没有选择任何一项"}),!1):void $.post(page.api_prefix+"/pool/vote",n.serialize(),function(t){1===t.code?($("body").toast({type:"success",content:"投票成功"}),e.loadPollWrapAJAX()):$("body").toast({type:"error",content:t.message||"投票失败"})}));var t})},loadPollWrapAJAX:function(){var e=this,t=$(".poll-wrap");$.get("/question/widgets/_detail_poll?qid="+page.objId,function(n){t.html(n),e.initPoll()})},scrollToCommentFromUrlCommentId:function(){var e=location.hash,t=e.match(/#\w*_(\d+).*/),n=t?Math.floor(t[1]):-1;n>0&&this.loadCommentsByCommentId(n,function(){setTimeout(function(){var t=$(e);if(t.length){var n=t.offset().top;n-80>0&&(n-=80),$("html, body").stop(!0).animate({scrollTop:n},500,"swing")}},0)})},injectLuckyBag:function(){if(page.g_user_code&&window.OSCLuckyBagUtil&&window.localStorage){var e=localStorage.getItem("LUCKY_BAG_QUESTION_ID")||"";e&&(window.OSCLuckyBagUtil.request("pub_question",{objId:e}),localStorage.removeItem("LUCKY_BAG_QUESTION_ID"))}},initDurationStatistics:function(){if(!page.rocommendGrayStatus)return!1;if(window.OSC_STATISTICS){var e=window.common.getUrlParams(),t=parseInt(page.objId)||0,n=parseInt(page.objType)||0,o=e.channel||"",a=e.recid||"",i=e.scene||"";if(!(t>0&&n>0))return!1;if(!(o&&a&&i))return!1;window.OSC_STATISTICS.enableDurationStatistics("QUESTION_DETAIL",{objId:t,objType:n,channel:o,recid:a,scene:i})}},unblockAnswer:function(){var e=this;this._answersList.on("click",".comment.answer > .answer-content-wrap > .content > .actions a.unblock-answer, .comment.reply > .content > .actions a.unblock-answer",function(t){var n=$(t.target).parents(".comment:eq(0)"),o=n.attr("data-answer-id"),a=n.attr("data-author-id");if(!window.common.checkLogin())return!1;$.post(page.api_prefix+"/communityManage/review_comment_agree",{objId:o,objType:2,author:a},function(t){1===t.code?(e.loadComments(-1),$("body").toast({type:"success",content:"操作成功"})):$("body").toast({type:"error",content:t.message||"操作失败"})})})},blockAnswer:function(){var e=this;this._answersList.on("click",".comment.answer > .answer-content-wrap > .content > .actions a.block-answer, .comment.reply > .content > .actions a.block-answer",function(t){var n=$(t.target).parents(".comment:eq(0)"),o=n.attr("data-answer-id"),a=n.attr("data-author-id");if(!window.common.checkLogin())return!1;$.post(page.api_prefix+"/communityManage/review_comment_reject",{objId:o,objType:2,author:a},function(t){1===t.code?(e.loadComments(-1),$("body").toast({type:"success",content:"操作成功"})):$("body").toast({type:"error",content:t.message||"操作失败"})})})},register:function(){this.initManagerMenu(),this.initAddRemarkBtn(),this.initAdditionalRemarkAction(),this.hightlight(),this.parseEmoticon(),this.answersListPJAX(),this.answerReplies(),this.commentForm(),this.questionCommentInnerReply(),this.deleteAnswer(),this.deleteComment(),this.answerVote(),this.markBestAnswer(),this.initPoll(),this.scrollToCommentFromUrlCommentId(),this.checkWechatLogin(),this.modelEvent(),this.clickEvent(),this.initDurationStatistics(),this.unblockAnswer();this.blockAnswer(),this.injectLuckyBag()}},e});
"use strict";OSCDefine("web-question-ask",function(){var e=function(){var e=$(".new-question.form"),t=e.find("input[name=subject]"),i=e.find("textarea[name=body]"),n={height:350,resize_minHeight:423,resize_maxHeight:1e3,uploadUrl:page.api_prefix+"/question/ckeditor_dialog_img_upload",filebrowserUploadUrl:page.api_prefix+"/question/ckeditor_dialog_img_upload"},o=function(){var e=CKEDITOR.replace(i[0],n);e.on("change",function(e){i.val(e.editor.getData())}),e.on("fileUploadResponse",function(e){setTimeout(function(){i.val(e.editor.getData())},0)}),e.on("mode",function(t){if("source"===this.mode){var n=e.editable();n.attachListener(n,"input",function(){i.val(t.editor.getData())})}})};e.find(".checkbox").checkbox(),$(".catalog.menu .item").on("click",function(){e.find("input[name=catalog]").val($(this).data("value")),$(this).addClass("active").closest(".ui.menu").find(".item").not($(this)).removeClass("active")});var a=new OSCCaptcha({imgSelector:".new-question.form .captcha img",refreshSelector:".new-question.form .captcha",inputSelector:".new-question.form input[name=verifyCode]",captchaUrl:page.api_prefix+"/user/captcha"});$.fn.form.settings.rules.expertName=function(t){return!e.find("input[name=expertPresent]").is(":checked")||/^@\S+$/.test(t)};var r=e.find("input[name=expertName]");e.find("input[name=expertPresent]").on("change",function(){$(this).is(":checked")?r.show():(r.hide(),e.form("validate field","expertName"),e.find("input[name=expertName]").val(""))}),e.find(".groups.dropdown").dropdown({}),e.find(".project-name.dropdown").dropdown({allowAdditions:!0,maxSelections:5,fields:{remoteValues:"results",value:"value",name:"name"},filterRemoteData:!1,apiSettings:{url:page.api_prefix+"/project/list_projects?q={query}",method:"get",dataType:"JSON",cache:!1,throttle:200,interruptRequests:!0,onResponse:function(e){var t=[];return 1===e.code&&Array.isArray(e.result)&&e.result.length>0&&(t=e.result.map(function(e){return{name:e.name,value:e.name}})),{results:t}}},onNoResults:function(e){return!!(e&&e.trim().length>0)}}),e.form({inline:!0,fields:{catalog:{identifier:"catalog",rules:[{type:"empty",prompt:"请选择板块"}]},subject:{identifier:"subject",rules:[{type:"empty",prompt:"请输入标题"},{type:"maxLength[120]",prompt:"标题长度不能超过 {ruleValue} 个字符"}]},groups:{identifier:"groups",rules:[{type:"empty",prompt:"请选择发布专区"}]},body:{identifier:"body",rules:[{type:"empty",prompt:"请输入描述"},{type:"minLength[10]",prompt:"描述内容长度不能少于 {ruleValue} 个字符"}]},expertName:{identifier:"expertName",rules:[{type:"expertName",prompt:"请输入正确的格式：@昵称"}]},verifyCode:{identifier:"verifyCode",rules:[{type:"empty",prompt:"请输入验证码"}]}}}).api({url:page.api_prefix+"/question/newAsk",method:"post",serializeForm:!0,beforeSend:function(t){$(this).message("hideAll");var i=t.data,n={user_code:i.user_code,userId:i.userId,id:i.id,askUserId:i.askUserId,tag:i.tag,tag_type:i.tag_type,subject:i.subject,catalog:i.catalog,groups:i.groups,prj:i.prj,body:i.body,notifyMethod:i.notifyMethod,closeAnswer:i.closeAnswer,expertPresent:i.expertPresent,expertName:i.expertName,togglePoll:i.togglePoll,independentPoll:i.independentPoll,expiration:i.expiration,visible:i.visible,scoreLimit:i.scoreLimit,postsLimit:i.postsLimit,multiple:i.multiple,maxSelect:i.maxSelect,needVerifyCode:!0,verifyCode:i.verifyCode||""},o=$.param(n),a=[];if(1===parseInt(n.togglePoll)){e.find(".poll-detail-settings .options-list .option-item").each(function(e,t){var i=$(t),n=i.find('input[name="pollOptionId"]').val(),o=i.find('input[name="pollOption"]').val();o&&""!==o.trim()&&a.push({pollOptionId:n,pollOption:o})});var r=a.map(function(e){return $.param(e)}).join("&");r.length>0&&(o=o+"&"+r)}return t.data=o,t},onSuccess:function(e,t,i){if(1===e.code){var n=e.result.questionId;$(this).message({type:"positive",content:e.message||(page.is_edit?"保存成功":"发布成功")});var o=page.question_url+"/"+page.question_user_id+"_"+n;window.localStorage&&!page.is_edit&&localStorage.setItem("LUCKY_BAG_QUESTION_ID",n),window.onbeforeunload=null,window.location.href=o}else $(this).message({type:"negative",content:e.message||"操作失败",disappear:2e3}),a.refresh()},onFailure:function(e,t){$(this).message({type:"negative",content:"网络错误，请稍后再试"})}}),$(function(){o(),t.focus(),window.onbeforeunload=function(){var t=e.find("input[name=subject]").val().trim(),n=i.val().trim();if(""!==t||""!==n)return"确认放弃此问题"}})};return e.prototype={constructor:e,initPollSettings:function(){var e=$(".poll-settings");if(!e||0===e.length)return!1;var t=e.find(".poll-detail-settings"),i=t.find(".options-wrap").find(".options-list");e.find("input[name=togglePoll]").on("change",function(){$(this).is(":checked")?t.show():t.hide()}),t.on("click",".options-wrap .add-option",function(){var e=$("#optionItemTemplate");i.append(e.html())}),t.on("click",".options-wrap .remove-option",function(t){var i=$(t.target).parents(".option-item:eq(0)"),n=e.find('input[name="pollId"]').val(),o=i.find('input[name="pollOptionId"]').val();i.find('input[name="pollOption"]').val();page.is_edit&&o>0?$(".delete-poll-option.modal").modal({onApprove:function(){$.post(page.api_prefix+"/pool/del_option",{id:page.question_id,pid:n,opid:o},function(e){1===e.code?i.remove():$("body").toast({type:"error",content:"删除失败，请重试"})})}}).modal("show"):i.remove()})},register:function(){this.initPollSettings()}},e});
!function(){var t={showMultiImages:{},initShowMultiImages:function(t,a){var i=t.attr("data-optlog-id")||0;"false"===(t.attr("data-init-multiImage")||"false")&&(this.showMultiImages[i]=new function(t){var a,i,e,r,n=t.element||null,s=t.getIndex||null,l=t.bigImgArr||[],d=t.smallImgArr||[],g=t.rawImgArr||[],o=t.showBigImgCallback,h=t.isBigImgMode;l.length<=0&&d<=0&&n.find('[data-multi-image-raw="item"] img').each(function(t,a){var i=$(a).attr("data-big-img"),e=$(a).attr("data-small-img"),r=$(a).attr("data-raw-img");l.push(i),d.push(e),g.push(r)}),a={createMultiImageWrapper:function(t){t=t||[];var a=$("<div>").attr("data-multi-image","wrapper");return t.forEach(function(t){var i=$("<div>").attr("data-multi-image","item"),e=$("<img>").attr("src",t),r=$("<div>").addClass("loading-gif");i.append(r).append(e),a.append(i)}),a},createStageWrapper:function(t){t=t||[];var a=$("<div>").attr("data-multi-image-stage","wrapper");return t.length>1&&t.forEach(function(t){var i=$("<div>").attr("data-multi-image-stage","item"),e=$("<img>").attr("src",t);i.append(e),a.append(i)}),a},createToolbarWrapper:function(){var t=$("<div>").attr("data-multi-image","toolbar");if(h){var a=$("<span>").attr("data-multi-image-tools","show_big_img").html('<i class="icon-svg icon-enlarge-gray"></i>查看原图');t.append(a)}else{var i=$("<a>").attr({href:"",target:"_blank","data-multi-image-tools":"show_big_img"}).html('<i class="icon-svg icon-enlarge-gray"></i>查看原图'),e=$("<span>").attr("data-multi-image-tools","rotate_left").html('<i class="icon-svg icon-redo-gray"></i>向左旋转'),r=$("<span>").attr("data-multi-image-tools","rotate_right").html('<i class="icon-svg icon-rotate-right-gray"></i>向右旋转');t.append(i).append(e).append(r)}return t}},this.init=function(){var t,i=a.createMultiImageWrapper(g),e=a.createStageWrapper(d),r=a.createToolbarWrapper();h?((t=$("<div>").attr("data-multi-image-big","wrapper")).append(r).append(i).append(e),$("body").append(t)):((t=$("<div>").attr("data-multi-image","panel")).append(r).append(i).append(e),n.append(t),t.show())},"false"===(n.attr("data-init-multiImage")||"false")&&(this.init(),n.attr("data-init-multiImage","true"));var m=n.find('[data-multi-image="panel"]'),c=m.find('[data-multi-image="wrapper"]'),u=n.find('[data-multi-image-raw="list"]'),f=c.find('[data-multi-image="item"]'),p=f.length,w=m.find('[data-multi-image-stage="wrapper"]'),v=w.find('[data-multi-image-stage="item"]'),I=0,b=c.width(),S=(c.height(),{left:.4*b,right:.6*b});r={closePanel:function(){u.show(),m.hide()},showPanel:function(){u.hide(),m.show()}},e={showCursor:function(){c.delegate('[data-multi-image="item"]',"mousemove",function(t){var a=$(this).find("img");if(a.length>0){var i=a.width(),e=t.pageX-a.offset().left;e<=(S={left:.35*i,right:.65*i}).left&&I>0?c.attr("data-cursor","left"):e>=S.right&&I<p-1?c.attr("data-cursor","right"):c.attr("data-cursor","small")}})},switchImage:function(){c.delegate('[data-multi-image="item"]',"mousedown",function(t){var a=$(this).find("img");if(a.length>0&&3!==t.which){var e=t.pageX-a.offset().left,n=a.width();e<=(S={left:.35*n,right:.65*n}).left&&I>0?i.switchToPrev():e>=S.right&&I<p-1?i.switchToNext():r.closePanel()}})},switchByStage:function(){w.delegate('[data-multi-image-stage="item"]',"click",function(t){var a=$(this).index()||0;$(this).addClass("active").siblings('[data-multi-image-stage="item"]').removeClass("active"),i.switchSlide(a)})},rotateLeft:function(){var t=this;m.delegate('[data-multi-image-tools="rotate_left"]',"click",function(){var a=f.eq(I),i=a.find("img");t.rotateImg(i,a,"left")})},rotateRight:function(){var t=this;m.delegate('[data-multi-image-tools="rotate_right"]',"click",function(){var a=f.eq(I),i=a.find("img");t.rotateImg(i,a,"right")})},rotateImg:function(t,a,i){var e=t.attr("data-isAppendWrapper")||"false",r=t.attr("data-rotate-count")||0,n=0,s=0,l=0;if($(a).width(),$(a).height(),t){var d={width:t.width()>=c.width()?c.width():t.width(),height:t.height()};"left"===i?r--:"right"===i&&r++;var g=90*r;switch(r%4){case 0:n=0,s=0,l=d.height;break;case-1:n=(d.width-d.height)/2,s=d.width,l=d.width;break;case-2:n=d.width,s=d.height,l=d.height;break;case-3:n=(d.width+d.height)/2,s=0,l=d.width;break;case-4:s=0,n=d.height/2,l=d.width;break;case 1:n=(d.width+d.height)/2,s=0,l=d.width;break;case 2:n=d.width,s=d.height,l=d.height;break;case 3:n=(d.width-d.height)/2,s=d.width,l=d.width;break;case 4:n=-d.width/2,s=0,l=d.height}if(t.css({"transform-origin":"0 0",transform:"rotateZ("+g+"deg)"}),t.attr("data-rotate-count",r),"false"==e){var o=$("<div>").height(l).css({left:n,top:s,position:"relative"}).addClass("image-rotate-wrapper");o.append(t),a.append(o),t.attr("data-isAppendWrapper","true")}else t.parents(".image-rotate-wrapper").height(l).css({left:n,top:s})}},showOriginImg:function(){m.delegate('[data-multi-image-tools="show_big_img"]',"click",function(){f.eq(I).find("img"),"function"==typeof o&&o(I)})}},i={switchToNext:function(){I<p-1?I++:I=p-1,this.switchSlide(I)},switchToPrev:function(){I>0?I--:I=0,this.switchSlide(I)},switchToCur:function(){I=I,this.switchSlide(I)},switchSlide:function(t){I=t,f.eq(t).addClass("active").siblings('[data-multi-image="item"]').removeClass("active").removeClass("active-opacity"),v.eq(t).addClass("active").siblings('[data-multi-image-stage="item"]').removeClass("active"),m.find('[data-multi-image-tools="show_big_img"]').attr("href",g[t]),setTimeout(function(){f.eq(t).addClass("active-opacity")},0),"function"==typeof s&&s(t)}},this.switchIndex=function(t){i.switchSlide&&i.switchSlide(t)},this.closePanel=function(){r.closePanel()},this.showPanel=function(){r.showPanel()},$('[data-multi-image="item"] img').each(function(t,a){a.onload=function(){$(this).parents('[data-multi-image="item"]').find(".loading-gif").remove()}}),this.register=(e.showCursor(),e.switchImage(),e.switchByStage(),e.rotateLeft(),e.rotateRight(),void i.switchSlide(I))}({element:t}),t.attr("data-init-multiImage","true")),this.showMultiImages[i].switchIndex(a),this.showMultiImages[i].showPanel()},initSmallImages:function(){var t=function(t){var a=$(t).data("max-height"),i=$(t).data("max-width");t.naturalWidth>t.naturalHeight?($(t).css("width","auto"),$(t).css("max-height",a)):($(t).css("max-width",i),$(t).css("height","auto"))};$('[data-multi-image-raw="item"] img').each(function(a,i){$(i).data("init")||($(i).data("init",!0),i.onload=function(){t(i)},i.complete&&t(i))})},bindSmallImages:function(){var t=this;$("body").delegate('[data-multi-image-raw="wrapper"] [data-multi-image-raw="item"]',"click",function(){var a=$(this).parents('[data-multi-image-raw="wrapper"]'),i=$(this).index()||0;t.initShowMultiImages(a,i)})}};t.bindSmallImages(),$(function(){t.initSmallImages()}),window.OSCMultipleImageViewer=t}();
"use strict";OSCPlugin("tweet-publish-form",function(){return function(){var e="OSC_TWEET_"+page.tweetPublishFormKey+"_CONTENT_CACHE",t="OSC_TWEET_"+page.tweetPublishFormKey+"_PUBLISH_CACHE",o=window.common.throttle(function(t){try{t&&t.trim().length>0?localStorage.setItem(e,t):localStorage.removeItem(e)}catch(e){}},500),a=new Vue({el:"#tweetForm",data:function(){return{tweetMaxLength:160,tweetContent:page.tweetTopicPrefix||"",tweetPublishLoading:!1,tipMessage:{show:!1,content:"",className:""},curEmojiType:"People",emojiList:[{type:"People",items:["bowtie","smile","laughing","blush","smiley","relaxed","smirk","heart_eyes","kissing_heart","kissing_closed_eyes","flushed","relieved","satisfied","grin","wink","stuck_out_tongue_winking_eye","stuck_out_tongue_closed_eyes","grinning","kissing","kissing_smiling_eyes","stuck_out_tongue","sleeping","worried","frowning","anguished","open_mouth","grimacing","confused","hushed","expressionless","unamused","sweat_smile","sweat","disappointed_relieved","weary","pensive","disappointed","confounded","fearful","cold_sweat","persevere","cry","sob","joy","astonished","scream","neckbeard","tired_face","angry","rage","triumph","sleepy","yum","mask","sunglasses","dizzy_face","imp","smiling_imp","neutral_face","no_mouth","innocent","alien","yellow_heart","blue_heart","purple_heart","heart","green_heart","broken_heart","heartbeat","heartpulse","two_hearts","revolving_hearts","cupid","sparkling_heart","sparkles","star","star2","dizzy","boom","collision","anger","exclamation","question","grey_exclamation","grey_question","zzz","dash","sweat_drops","notes","musical_note","fire","hankey","poop","shit","+1","thumbsup","-1","thumbsdown","ok_hand","punch","facepunch","fist","v","wave","hand","raised_hand","open_hands","point_up","point_down","point_left","point_right","raised_hands","pray","point_up_2","clap","muscle","metal","fu","walking","runner","running","couple","family","two_men_holding_hands","two_women_holding_hands","dancer","dancers","ok_woman","no_good","information_desk_person","raising_hand","bride_with_veil","person_with_pouting_face","person_frowning","bow","couplekiss","couple_with_heart","massage","haircut","nail_care","boy","girl","woman","man","baby","older_woman","older_man","person_with_blond_hair","man_with_gua_pi_mao","man_with_turban","construction_worker","cop","angel","princess","smiley_cat","smile_cat","heart_eyes_cat","kissing_cat","smirk_cat","scream_cat","crying_cat_face","joy_cat","pouting_cat","japanese_ogre","japanese_goblin","see_no_evil","hear_no_evil","speak_no_evil","guardsman","skull","feet","lips","kiss","droplet","ear","eyes","nose","tongue","love_letter","bust_in_silhouette","busts_in_silhouette","speech_balloon","thought_balloon","feelsgood","finnadie","goberserk","godmode","hurtrealbad","rage1","rage2","rage3","rage4","suspect","trollface"]},{type:"Nature",items:["sunny","umbrella","cloud","snowflake","snowman","zap","cyclone","foggy","ocean","cat","dog","mouse","hamster","rabbit","wolf","frog","tiger","koala","bear","pig","pig_nose","cow","boar","monkey_face","monkey","horse","racehorse","camel","sheep","elephant","panda_face","snake","bird","baby_chick","hatched_chick","hatching_chick","chicken","penguin","turtle","bug","honeybee","ant","beetle","snail","octopus","tropical_fish","fish","whale","whale2","dolphin","cow2","ram","rat","water_buffalo","tiger2","rabbit2","dragon","goat","rooster","dog2","pig2","mouse2","ox","dragon_face","blowfish","crocodile","dromedary_camel","leopard","cat2","poodle","paw_prints","bouquet","cherry_blossom","tulip","four_leaf_clover","rose","sunflower","hibiscus","maple_leaf","leaves","fallen_leaf","herb","mushroom","cactus","palm_tree","evergreen_tree","deciduous_tree","chestnut","seedling","blossom","ear_of_rice","shell","globe_with_meridians","sun_with_face","full_moon_with_face","new_moon_with_face","new_moon","waxing_crescent_moon","first_quarter_moon","waxing_gibbous_moon","full_moon","waning_gibbous_moon","last_quarter_moon","waning_crescent_moon","last_quarter_moon_with_face","first_quarter_moon_with_face","moon","earth_africa","earth_americas","earth_asia","volcano","milky_way","partly_sunny","octocat","squirrel"]},{type:"Objects",items:["bamboo","gift_heart","dolls","school_satchel","mortar_board","flags","fireworks","sparkler","wind_chime","rice_scene","jack_o_lantern","ghost","santa","christmas_tree","gift","bell","no_bell","tanabata_tree","tada","confetti_ball","balloon","crystal_ball","cd","dvd","floppy_disk","camera","video_camera","movie_camera","computer","tv","iphone","phone","telephone","telephone_receiver","pager","fax","minidisc","vhs","sound","speaker","mute","loudspeaker","mega","hourglass","hourglass_flowing_sand","alarm_clock","watch","radio","satellite","loop","mag","mag_right","unlock","lock","lock_with_ink_pen","closed_lock_with_key","key","bulb","flashlight","high_brightness","low_brightness","electric_plug","battery","calling","email","mailbox","postbox","bath","bathtub","shower","toilet","wrench","nut_and_bolt","hammer","seat","moneybag","yen","dollar","pound","euro","credit_card","money_with_wings","e-mail","inbox_tray","outbox_tray","envelope","incoming_envelope","postal_horn","mailbox_closed","mailbox_with_mail","mailbox_with_no_mail","package","door","smoking","bomb","gun","hocho","pill","syringe","page_facing_up","page_with_curl","bookmark_tabs","bar_chart","chart_with_upwards_trend","chart_with_downwards_trend","scroll","clipboard","calendar","date","card_index","file_folder","open_file_folder","scissors","pushpin","paperclip","black_nib","pencil2","straight_ruler","triangular_ruler","closed_book","green_book","blue_book","orange_book","notebook","notebook_with_decorative_cover","ledger","books","bookmark","name_badge","microscope","telescope","newspaper","football","basketball","soccer","baseball","tennis","8ball","rugby_football","bowling","golf","mountain_bicyclist","bicyclist","horse_racing","snowboarder","swimmer","surfer","ski","spades","hearts","clubs","diamonds","gem","ring","trophy","musical_score","musical_keyboard","violin","space_invader","video_game","black_joker","flower_playing_cards","game_die","dart","mahjong","clapper","memo","pencil","book","art","microphone","headphones","trumpet","saxophone","guitar","shoe","sandal","high_heel","lipstick","boot","shirt","tshirt","necktie","womans_clothes","dress","running_shirt_with_sash","jeans","kimono","bikini","ribbon","tophat","crown","womans_hat","mans_shoe","closed_umbrella","briefcase","handbag","pouch","purse","eyeglasses","fishing_pole_and_fish","coffee","tea","sake","baby_bottle","beer","beers","cocktail","tropical_drink","wine_glass","fork_and_knife","pizza","hamburger","fries","poultry_leg","meat_on_bone","spaghetti","curry","fried_shrimp","bento","sushi","fish_cake","rice_ball","rice_cracker","rice","ramen","stew","oden","dango","egg","bread","doughnut","custard","icecream","ice_cream","shaved_ice","birthday","cake","cookie","chocolate_bar","candy","lollipop","honey_pot","apple","green_apple","tangerine","lemon","cherries","grapes","watermelon","strawberry","peach","melon","banana","pear","pineapple","sweet_potato","eggplant","tomato","corn"]},{type:"Places",items:["house","house_with_garden","school","office","post_office","hospital","bank","convenience_store","love_hotel","hotel","wedding","church","department_store","european_post_office","city_sunrise","city_sunset","japanese_castle","european_castle","tent","factory","tokyo_tower","japan","mount_fuji","sunrise_over_mountains","sunrise","stars","statue_of_liberty","bridge_at_night","carousel_horse","rainbow","ferris_wheel","fountain","roller_coaster","ship","speedboat","boat","sailboat","rowboat","anchor","rocket","airplane","helicopter","steam_locomotive","tram","mountain_railway","bike","aerial_tramway","suspension_railway","mountain_cableway","tractor","blue_car","oncoming_automobile","car","red_car","taxi","oncoming_taxi","articulated_lorry","bus","oncoming_bus","rotating_light","police_car","oncoming_police_car","fire_engine","ambulance","minibus","truck","train","station","train2","bullettrain_front","bullettrain_side","light_rail","monorail","railway_car","trolleybus","ticket","fuelpump","vertical_traffic_light","traffic_light","warning","construction","beginner","atm","slot_machine","busstop","barber","hotsprings","checkered_flag","crossed_flags","izakaya_lantern","moyai","circus_tent","performing_arts","round_pushpin","triangular_flag_on_post","jp","kr","cn","us","fr","es","it","ru","gb","uk","de"]},{type:"Symbols",items:["one","two","three","four","five","six","seven","eight","nine","keycap_ten","1234","zero","hash","symbols","arrow_backward","arrow_down","arrow_forward","arrow_left","capital_abcd","abcd","abc","arrow_lower_left","arrow_lower_right","arrow_right","arrow_up","arrow_upper_left","arrow_upper_right","arrow_double_down","arrow_double_up","arrow_down_small","arrow_heading_down","arrow_heading_up","leftwards_arrow_with_hook","arrow_right_hook","left_right_arrow","arrow_up_down","arrow_up_small","arrows_clockwise","arrows_counterclockwise","rewind","fast_forward","information_source","ok","twisted_rightwards_arrows","repeat","repeat_one","new","top","up","cool","free","ng","cinema","koko","signal_strength","u5272","u5408","u55b6","u6307","u6708","u6709","u6e80","u7121","u7533","u7a7a","u7981","sa","restroom","mens","womens","baby_symbol","no_smoking","parking","wheelchair","metro","baggage_claim","accept","wc","potable_water","put_litter_in_its_place","secret","congratulations","m","passport_control","left_luggage","customs","ideograph_advantage","cl","sos","id","no_entry_sign","underage","no_mobile_phones","do_not_litter","non-potable_water","no_bicycles","no_pedestrians","children_crossing","no_entry","eight_spoked_asterisk","sparkle","eight_pointed_black_star","heart_decoration","vs","vibration_mode","mobile_phone_off","chart","currency_exchange","aries","taurus","gemini","cancer","leo","virgo","libra","scorpius","sagittarius","capricorn","aquarius","pisces","ophiuchus","six_pointed_star","negative_squared_cross_mark","a","b","ab","o2","diamond_shape_with_a_dot_inside","recycle","end","back","on","soon","clock1","clock130","clock10","clock1030","clock11","clock1130","clock12","clock1230","clock2","clock230","clock3","clock330","clock4","clock430","clock5","clock530","clock6","clock630","clock7","clock730","clock8","clock830","clock9","clock930","heavy_dollar_sign","copyright","registered","tm","x","heavy_exclamation_mark","bangbang","interrobang","o","heavy_multiplication_x","heavy_plus_sign","heavy_minus_sign","heavy_division_sign","white_flower","100","heavy_check_mark","ballot_box_with_check","radio_button","link","curly_loop","wavy_dash","part_alternation_mark","trident","black_small_square","white_small_square","black_medium_small_square","white_medium_small_square","black_medium_square","white_medium_square","black_large_square","white_large_square","white_check_mark","black_square_button","white_square_button","black_circle","white_circle","red_circle","large_blue_circle","large_blue_diamond","large_orange_diamond","small_blue_diamond","small_orange_diamond","small_red_triangle","small_red_triangle_down","shipit"]}],uploadAttachmentId:0,uploadFileCount:0,uploadFileMax:9,uploadDropzone:null,uploadDropzoneProgress:!1,pictureLocalError:"",pictureNetwork:!1,pictureNetworkUrl:"",pictureNetworkImgUrl:"",pictureNetworkError:"",pictureNetworkUploading:!1,codeEditable:!0,codeLanguage:"",codeSnippet:""}},computed:{uploadFileAvaluableCount:function(){return this.uploadFileMax-this.uploadFileCount},curEmojiItems:function(){for(var e=0,t=this.emojiList.length;e<t;e++)if(this.emojiList[e].type===this.curEmojiType)return this.emojiList[e].items;return this.emojiList[0].items},tweetContentIsEmpty:function(){return 0===this.tweetContent.length},tweetCountText:function(){return this.tweetContent.length+"/"+this.tweetMaxLength}},mounted:function(){var o=this;if(o.__$data=ObjHelper.copy(o.$data),o.initDropzone(),document.addEventListener("click",function(e){0!==$(".tweet-form .toolbox-popup.toolbox-picture").find(e.target).length||0!==$('a[data-popup="toolbox-picture"]').find(e.target).length||$(e.target).hasClass("dz-hidden-input")||$(e.target).is(".tweet-form .toolbox-popup.toolbox-picture")||$(e.target).is('a[data-popup="toolbox-picture"]')||0===o.uploadFileCount&&""===o.pictureNetworkImgUrl&&$(o.$refs.showPictureToolBox).popup("hide")}),o.initPasteUploadPicture(),void 0!==window.localStorage){var a=localStorage.getItem(e)||"",r=localStorage.getItem(t)||"";a&&a.trim().length>0&&(o.tweetContent=a,r&&page.g_user_code&&(localStorage.removeItem(t),o.publishTweet()))}},methods:{insertEmoji:function(e){this.clearMessage();var t=":"+e+":";this.insertContent(t),$(this.$refs.showEmojiBox).popup("hide")},initDropzone:function(){var e=this;e.uploadDropzone=new Dropzone("#dropzone",{parallelUploads:1,maxFilesize:1,paramName:"resource",addRemoveLinks:!0,acceptedFiles:"image/png,image/jpeg,image/gif",maxFiles:e.uploadFileMax,url:"/tweet/upload_multi_image",accept:function(t,o){e.pictureLocalError="",e.uploadDropzoneProgress=!0,o()}}),e.uploadDropzone.on("queuecomplete",function(){e.uploadDropzoneProgress=!1}),e.uploadDropzone.on("removedfile",function(t){e.pictureLocalError="",e.uploadAttachmentId&&t.attachmentId&&$.post(page.api_prefix+"/tweet/delete_tweet_image",{id:t.attachmentId,lastId:e.uploadAttachmentId,user_code:page.g_user_code||""},function(t){1===t.code?e.uploadFileCount=e.uploadDropzone.getAcceptedFiles().length:e.pictureLocalError=t.message})}),e.uploadDropzone.on("addedfile",function(t){e.pictureLocalError="",e.uploadDropzone.getAcceptedFiles().forEach(function(o){o.name===t.name&&o.size===t.size&&o.lastModified===t.lastModified&&(e.uploadDropzone.removeFile(t),e.pictureLocalError="图片( "+t.name+" )已存在，请勿重复上传!")})}),e.uploadDropzone.on("sending",function(t,o,a){a.append("photoId",e.uploadAttachmentId)}),e.uploadDropzone.on("success",function(t,o){if(e.pictureLocalError="",1===o.code){var a=o.result,r=a.id>e.uploadAttachmentId?a.id:e.uploadAttachmentId;t.attachmentId=r,e.uploadAttachmentId=r,e.uploadFileCount=e.uploadDropzone.getAcceptedFiles().length}else e.pictureLocalError=o.message})},insertNetworkPicture:function(){var e=this;if(e.pictureNetworkError="",!$(".upload-picture-network.form").form("validate form"))return!1;e.pictureNetworkUploading=!0,$.post("/tweet/insert_img",{source:2,url:e.pictureNetworkUrl},function(t){if(1===t.code){var o=t.result;e.pictureNetworkImgUrl=o.view,e.uploadAttachmentId=o.id>e.uploadAttachmentId?o.id:e.uploadAttachmentId}else e.pictureNetworkError=t.message||"上传图片失败"}).fail(function(){e.pictureNetworkError="网络错误，请稍后再试！"}).always(function(){e.pictureNetworkUploading=!1})},initPasteUploadPicture:function(){this.$el&&this.$el.addEventListener("paste",this._pasteUpload.bind(this))},_pasteUpload:function(e){var t,o,a,r=e.clipboardData||window.clipboardData;if(r){if(!(t=r.items)||t.length<=0)return;a=r.types||[];for(var i=0;i<a.length;i++)if("Files"===a[i]){o=t[i];break}if(o&&"file"===o.kind&&o.type.match(/^image\//i)){var n=o.getAsFile();if(!n)return!1;if(this.uploadFileCount>=this.uploadFileMax)return!1;this.uploadDropzone.addFile(n),$(this.$refs.showPictureToolBox).popup("show"),e.preventDefault()}}},insertTopic:function(){if(this.clearMessage(),this.insertContent("#此处输入话题#")){var e=selectRange.of(this.$refs.tweetTextarea),t=e.getCurPos();e.setSelectText(t-("#此处输入话题#".length-1),t-1)}},saveCodeSnippet:function(){if(!$(".code-editor.form").form("validate form"))return!1;this.codeEditable=!1,$(".code-editor pre code").each(function(e,t){hljs.highlightBlock(t)})},deleteCodeSnippet:function(){this.codeEditable=!0,this.codeSnippet=""},reset:function(){ObjHelper.set(this.$data,this.__$data),this.uploadDropzone.removeAllFiles(),$(this.$refs.showPictureToolBox).popup("hide"),$(this.$refs.codeLanguageDropdown).dropdown("clear"),window.localStorage&&window.localStorage.removeItem(e)},publishTweet:function(){var e=this;if(!window.common.checkLoginForWeChat(null,function(){try{localStorage.setItem(t,"1")}catch(e){}}))return!1;if(!e.tweetPublishLoading)if(e.clearMessage(),e.tweetContentIsEmpty)e.showMessage("error","内容不能为空",2e3);else if(e.tweetContent.length>e.tweetMaxLength)e.showMessage("error","最多只能输入"+e.tweetMaxLength+"个字符！",2e3);else{e.tweetPublishLoading=!0;var o={userId:page.g_user_id||"",user_code:page.g_user_code||"",content:e.tweetContent,code_snippet:e.codeSnippet,code_brush:e.codeLanguage,attachment:e.uploadAttachmentId};$.post("/tweet/pubForwardTweet",o,function(t){if(1===t.code){if(t.message&&$("body").toast({type:"success",content:t.message||"动弹发布成功"}),e.tweetPublishLoading=!1,e.reset(),t.result&&void 0!==t.result.log){var o=$(".tweets-list-container[data-tweets-list]");if(o.length>0){var a=t.result.log;$.get("/tweets/widgets/_tweet_list_item_ajax?tweetId="+a,function(t){if(t){if(0===$(t).filter('.tweet-item[data-tweet-id="'+a+'"]').length)return void e.showMessage("error","网络错误，请稍后再试！");var r=o.find(".empty-tips");r.length>0&&r.remove(),o.prepend(t),$(function(){$("[data-emoji-render]").emoticon()}),OSCMultipleImageViewer&&OSCMultipleImageViewer.initSmallImages(),OSCListMultipleImageViewer&&OSCListMultipleImageViewer.initViewer(),window.OSCLuckyBagUtil&&window.OSCLuckyBagUtil.request("pub_anniversary_tweet",{objId:a})}})}}}else e.showMessage("error",t.message||"发布失败")}).fail(function(){e.showMessage("error","网络错误，请稍后再试！")}).always(function(){e.tweetPublishLoading=!1})}},tweetContentOnKeyDown:function(e){(e.metaKey||e.ctrlKey)&&13===e.keyCode&&this.publishTweet()},addTopic:function(e){var t=e.target.innerText+" ";this.insertContent(t)},showPictureToolBox:function(e){$(this.$refs.showPictureToolBox).popup("is visible")?$(this.$refs.showPictureToolBox).popup("hide"):$(this.$refs.showPictureToolBox).popup("show")},insertContent:function(e){return!this.tweetPublishLoading&&(this.tweetContent.length>=this.tweetMaxLength||this.tweetContent.length+e.length>this.tweetMaxLength?(this.showMessage("error","最多只能输入"+this.tweetMaxLength+"个字符！",2e3),!1):(selectRange.of(this.$refs.tweetTextarea).insertAfterText(e),this.tweetContent=this.$refs.tweetTextarea.value,!0))},showMessage:function(e,t,o){var a=this;a.tipMessage.className="success"===e?"positive":"negative",a.tipMessage.content=t;var r=parseInt(o)||0;a.tipMessage.show=!0,r>0&&setTimeout(function(){a.clearMessage()},r)},clearMessage:function(){this.tipMessage.className="",this.tipMessage.content="",this.tipMessage.show=!1}},watch:{tweetContent:function(e){o(e)}}});$("#tweetForm.tweet-form .toolbox > .item[data-popup]").each(function(e,t){var o=$(t),a=$(o).parent().find(".toolbox-popup."+o.attr("data-popup"));o.popup({position:"bottom left",popup:a,on:"toolbox-picture"===o.attr("data-popup")?"manual":"click",exclusive:!0,onShow:function(){if(!window.common.checkLogin())return!1}})}),$(".tweet-form .toolbox .toolbox-code .dropdown").dropdown(),$(".upload-picture-network.form").form({inline:!0,fields:{pictureNetworkUrl:{identifier:"pictureNetworkUrl",rules:[{type:"empty",prompt:"请输入图片网址"},{type:"regExp",value:/(https?:\/\/[^\s\.]+\.[^\s]{2,}\/[^\s]+\.(jpeg|gif|jpg|png|bmp|svg|webp)$)/i,prompt:"请输入正确的图片网址"}]}}}),$(".code-editor.form").form({inline:!0,fields:{codeLanguage:{identifier:"codeLanguage",rules:[{type:"empty",prompt:"请选择编程语言"}]},codeSnippet:{identifier:"codeSnippet",rules:[{type:"empty",prompt:"请输入代码"}]}}});var r,i=function(e){if(Array.isArray(e)&&e.length>0){var t=$("#tweetForm .tweet-textarea");t.atwho({at:"@",data:e,headerTpl:'<div class="atwho-header">我的关注 <small>↑&nbsp;↓&nbsp;</small></div>',searchKey:"searchKey",insertTpl:"${atwho-at}${name}",displayTpl:"<li>${name}</li>",limit:10}),t.on("inserted.atwho",function(e,t,o){a.tweetContent=a.$refs.tweetTextarea.value}),window.__PUBLISH_FORM_ATWHO_INIT=!0}};page.g_user_code&&window.innerWidth>=768&&!window.__PUBLISH_FORM_ATWHO_INIT&&(window.__USER_FRIENDS?i(window.__USER_FRIENDS):(r=function(e){i(e)},$.post("/tweet/atwho",function(e){var t=e;Array.isArray(t)&&t.length>0&&(window.__USER_FRIENDS=t,r(t))})));var n=$("#tweetForm .hot-topics"),s=n.find(".topics-list > .item"),l=(n.find('input[name="hotTopicsNewLabels"]').val()||"").split(",");l&&l.length>0&&s.each(function(e,t){var o=$(t),a=o.data("name")||"";l.indexOf(a)>-1&&o.prepend('<span class="new-label">新</span>')})}});
!function(){var i={_initViewer:function(){if(window.innerWidth<768)return!1;var i=$('.tweet-item .multimgs[data-list-multiple-image-viewer="true"]');if(i.length<=0)return!1;i.each(function(i,e){var t=$(e);if(!t.data("loaded-viewer")){new Viewer(e,{button:!0,navbar:!0,title:!1,toolbar:!0,tooltip:!1,movable:!0,zoomable:!0,rotatable:!1,scalable:!1,transition:!0,fullscreen:!1,keyboard:!0,backdrop:!0,loop:!0,loading:!0,zoomRatio:.25,maxZoomRatio:5,viewed:function(){this.viewer.options.minZoomRatio=this.viewer.initialImageData.ratio},url:function(i){return i.getAttribute("data-raw-img")}});t.data("loaded-viewer",!0)}})},initViewer:function(){var i=this;window.Viewer?i._initViewer():new window.common.dynamicLoader(["/new-osc/js/utils/plugins/viewer/viewer.min.css","/new-osc/js/utils/plugins/viewer/viewer.osc.css","/new-osc/js/utils/plugins/viewer/viewer.js","/new-osc/js/utils/plugins/viewer/jquery-viewer.min.js"],function(){i._initViewer()}).loadFiles()}};$(function(){i.initViewer()}),window.OSCListMultipleImageViewer=i}();
"use strict";OSCDefine("web-tweet-index",["tweet-publish-form"],function(){var t=function(){this.tweetList=$(".tweet-list")};return t.prototype={constructor:t,initTweetInfiniteScroll:function(){var t=this;({tweetList:new OSCInfiniteScroll({pagePath:function(){return $(".pagination__next").attr("href")},checkLastPage:".pagination__next",containerSelector:"#tweetList",itemListSelector:".tweets-list-container",loadMoreBtnSelector:".load-more-button",statusSelector:".page-load-status",defaultAutoLoadPageCount:10,itemSelector:".tweet-item",loadOnScroll:!0,onLoad:function(t,e){var i=t.querySelector(".pagination__next");if(i){var n=i.getAttribute("href");$(".pagination__next").attr("href",n)}},onAppend:function(){t.parseEmoticon(),OSCListMultipleImageViewer&&OSCListMultipleImageViewer.initViewer(),$(".osc-gitee-6th-label").popup(),OSCMultipleImageViewer&&OSCMultipleImageViewer.initSmallImages()}})}).tweetList.init(),AOS.init({duration:300,once:!0})},initDeleteTweet:function(){var t=this;$(".delete-tweet.modal").modal({onApprove:function(){var e=$(this).attr("data-tweet-id")||0;$.post(page.api_prefix+"/tweet/deleteTweet",{id:e,user_code:page.g_user_code||""},function(i){if(1===i.code){$("body").toast({type:"success",content:"删除成功"});var n=t.tweetList.find('.tweet-item[data-tweet-id="'+e+'"]');n.fadeOut(function(){n.remove()})}else $("body").toast({type:"error",content:i.message||"删除失败"})})}}),t.tweetList.on("click",".tweet-item .meta a.remove",function(t){var e=$(this).parents(".tweet-item:eq(0)").attr("data-tweet-id"),i=$(".delete-tweet.modal");i.attr("data-tweet-id",e),i.modal("show")})},parseEmoticon:function(){$(function(){$("[data-emoji-render]").emoticon()})},initMobileClick:function(){this.tweetList.on("click",".tweet-item",function(t){var e=$(t.target),i=e.parents(".meta").length>0,n="a"===t.target.nodeName.toLowerCase()||e.parents("a").length>0;if(i||n);else{var o=$(this);window.open(o.find(".meta a.view").attr("href"),"_blank"),t.stopPropagation()}})},register:function(){this.initTweetInfiniteScroll(),this.initDeleteTweet(),this.parseEmoticon(),window.innerWidth<768&&this.initMobileClick()}},t});
"use strict";OSCDefine("web-tweet-topic",["tweet-publish-form"],function(){var t=function(){this.tweetList=$(".tweet-list")};return t.prototype={constructor:t,initTweetInfiniteScroll:function(){var t=this;({tweetList:new OSCInfiniteScroll({pagePath:function(){return $(".pagination__next").attr("href")},checkLastPage:".pagination__next",containerSelector:"#tweetList",itemListSelector:".tweets-list-container",loadMoreBtnSelector:".load-more-button",statusSelector:".page-load-status",defaultAutoLoadPageCount:10,itemSelector:".tweet-item",loadOnScroll:!0,onLoad:function(t,e){var i=t.querySelector(".pagination__next");if(i){var n=i.getAttribute("href");$(".pagination__next").attr("href",n)}},onAppend:function(){t.parseEmoticon(),OSCListMultipleImageViewer&&OSCListMultipleImageViewer.initViewer(),$(".osc-gitee-6th-label").popup(),OSCMultipleImageViewer&&OSCMultipleImageViewer.initSmallImages()}})}).tweetList.init(),AOS.init({duration:300,once:!0})},initDeleteTweet:function(){var t=this;$(".delete-tweet.modal").modal({onApprove:function(){var e=$(this).attr("data-tweet-id")||0;$.post(page.space_user_url+"/tweet/deleteTweet",{id:e,user_code:page.g_user_code||""},function(i){if(1===i.code){var n=t.tweetList.find('.tweet-item[data-tweet-id="'+e+'"]');n.attr("data-aos","zoom-out"),setTimeout(function(){n.remove()},500)}else $("body").toast({type:"error",content:i.message||"删除失败"})})}}),t.tweetList.on("click",".tweet-item .meta a.remove",function(t){var e=$(this).parents(".tweet-item:eq(0)").attr("data-tweet-id"),i=$(".delete-tweet.modal");i.attr("data-tweet-id",e),i.modal("show")})},parseEmoticon:function(){$(function(){$("[data-emoji-render]").emoticon()})},initMobileClick:function(){this.tweetList.on("click",".tweet-item",function(t){var e=$(t.target),i=e.parents(".meta").length>0,n="a"===t.target.nodeName.toLowerCase()||e.parents("a").length>0;if(i||n);else{var o=$(this);window.open(o.find(".meta a.view").attr("href"),"_blank"),t.stopPropagation()}})},register:function(){this.initTweetInfiniteScroll(),this.initDeleteTweet(),this.parseEmoticon(),window.innerWidth<768&&this.initMobileClick()}},t});
!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):t.rgbaster=r()}(this,function(){var t={ignore:[],scale:1};return function(r,e){void 0===e&&(e=t);try{var n=(e=Object.assign({},t,e)).ignore,o=e.scale;return Promise.resolve(function(t,r){void 0===r&&(r=1);var e=new Image;return t.startsWith("data")||(e.crossOrigin="Anonymous"),new Promise(function(n,o){e.onload=function(){var t=e.width*r,o=e.height*r,i=function(t,r){var e=document.createElement("canvas");return e.setAttribute("width",t),e.setAttribute("height",r),e.getContext("2d")}(t,o);i.drawImage(e,0,0,t,o);var a=i.getImageData(0,0,t,o);n(a.data)};var i=function(){return o(new Error("An error occurred attempting to load image"))};e.onerror=i,e.onabort=i,e.src=t})}(r,o)).then(function(t){return function(t,r){for(var e={},n=0;n<t.length;n+=4){var o=t[n+3];if(0!==o){var i=Array.from(t.subarray(n,n+3));if(-1===i.indexOf(void 0)){var a=o&&255!==o?"rgba("+i.concat([o]).join(",")+")":"rgb("+i.join(",")+")";-1===r.indexOf(a)&&(e[a]?e[a].count++:e[a]={color:a,count:1})}}}return Object.values(e).sort(function(t,r){return r.count-t.count})}(t,n)})}catch(t){return Promise.reject(t)}}});
"use strict";OSCDefine("web-tweet-topics",function(){var t=function(){this._topicsWrap=$("#topicsContainer .topics-wrapper")};return t.prototype={constructor:t,getGrayLevel:function(t){var o=0,e=t.match(/\d+/g);return e&&(o=(299*e[0]+587*e[1]+114*e[2]+500)/1e3),o},generateCardColor:function(){var t=this;$(".topic-cards").find(".topic-card").each(function(o,e){var n=$(e).data("topic-image-url"),i=$(e).data("topic-text-color"),r=$(e).data("topic-bg-color");!n||i&&r||rgbaster(n,{scale:.1,ignore:["rgb(255,255,255)","rgb(0,0,0)"]}).then(function(o){var n=o[0].color,i="rgb(255,255,255)";t.getGrayLevel(n)>=192?(i="rgb(0,0,0)",o.some(function(o){return t.getGrayLevel(o.color)<152&&(i=o.color,!0)})):(i="rgb(255,255,255)",o.some(function(o){return t.getGrayLevel(o.color)>=232&&(i=o.color,!0)})),$(e).find(".topic-info").css("color",i),$(e).find(".topic-info .cover").css("background","linear-gradient(-180deg, rgba(0, 0, 0, 0) 0%, "+n+" 50%)"),$(e).find(".topic-info .cover").css("opacity","1")})})},initListPJAX:function(){var t=this,o=$(".topics-loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax(".pagination a","#topicsContainer .topics-wrapper",{scrollTo:!1}),$(document).on("pjax:send",function(){o.addClass("active")}),$(document).on("pjax:complete",function(){o.removeClass("active"),$("html, body").stop().animate({scrollTop:0},500,"swing"),t.generateCardColor()})},initTopicInfiniteScroll:function(){var t=this;({topicList:new OSCInfiniteScroll({pagePath:function(){return $(".pagination__next").attr("href")},checkLastPage:".pagination__next",containerSelector:".topics-wrapper-container",itemListSelector:".topics-list-container",loadMoreBtnSelector:".load-more-button",statusSelector:".page-load-status",defaultAutoLoadPageCount:2,itemSelector:".topics-list-item",loadOnScroll:!0,onLoad:function(t,o){var e=t.querySelector(".pagination__next");if(e){var n=e.getAttribute("href");$(".pagination__next").attr("href",n)}},onAppend:function(){t.generateCardColor()}})}).topicList.init()},register:function(){this.generateCardColor(),this.initTopicInfiniteScroll()}},t});
"use strict";OSCDefine("web-blog-index",function(){var t=function(){this._blogListWrap=$(".blog-list-wrap")};return t.prototype={constructor:t,initArticleInfiniteScroll:function(){var t=this,e={recommendArticleList:1,dailyArticleList:1,newestArticleList:1},o={recommendArticleList:new OSCInfiniteScroll({pagePath:".recommend-pagination.pagination__next",checkLastPage:!0,containerSelector:"#recommendArticleList",itemListSelector:".blog-list-container",loadMoreBtnSelector:".load-more-button",statusSelector:".page-load-status",defaultAutoLoadPageCount:3,itemSelector:".item.blog-item",loadOnScroll:!0,onAppend:function(){t.optimizeImgShow()}}),dailyArticleList:new OSCInfiniteScroll({pagePath:".daily-pagination.pagination__next",checkLastPage:!0,containerSelector:"#dailyArticleList",itemListSelector:".blog-list-container",loadMoreBtnSelector:".load-more-button",statusSelector:".page-load-status",defaultAutoLoadPageCount:3,itemSelector:".item.blog-item",loadOnScroll:!0,onAppend:function(){t.optimizeImgShow()}}),newestArticleList:new OSCInfiniteScroll({pagePath:".newest-pagination.pagination__next",checkLastPage:!0,containerSelector:"#newestArticleList",itemListSelector:".blog-list-container",loadMoreBtnSelector:".load-more-button",statusSelector:".page-load-status",defaultAutoLoadPageCount:3,itemSelector:".item.blog-item",loadOnScroll:!0,onAppend:function(){t.optimizeImgShow()}})},i="recommendArticleList",n=$(".article-list.active.tab");if(n.length>0){var a=n.attr("data-tab")||"";a&&o[a]&&(i=a)}o[i].init();var l=i;$(".blog-tab.menu .item").tab({onLoad:function(t){l!==t&&(o[l]._infScroll&&(e[l]=o[l]._infScroll.pageIndex),o[l].destroy(),o[t].init(),o[t]._infScroll&&(o[t]._infScroll.pageIndex=e[t]),l=t)}})},bindDeleteBlog:function(){this._blogListWrap.on("click",".blog-item .delete-btn",function(){var t=$(this).parents(".blog-item:eq(0)"),e=t.attr("data-id");$(".delete-blog.modal").modal({onApprove:function(){$.post(page.api_prefix+"/blog/delete",{id:e,user_code:page.g_user_code||""},function(e){1===e.code?($("body").toast({type:"success",content:"删除成功"}),t.fadeOut(function(){t.remove()})):$("body").toast({type:"error",content:e.message||"删除失败"})}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"})})}}).modal("show")})},initMobileClick:function(){this._blogListWrap.on("click",".blog-item",function(t){var e=$(t.target);if("a"===t.target.nodeName.toLowerCase()||e.parents("a").length>0);else{var o=$(this);window.open(o.find("a.header").attr("href"),"_blank"),t.stopPropagation()}})},optimizeImgShow:function(){$(function(){$("[data-img-render]").imgOptimize(110,70)})},register:function(){this.initArticleInfiniteScroll(),this.optimizeImgShow(),window.innerWidth<768&&this.initMobileClick()}},t});
"use strict";OSCDefine("web-blog-recommend",function(){var t=function(){this._blogListWrap=$(".blog-list-wrap")};return t.prototype={constructor:t,initArticleInfiniteScroll:function(){var t=this;({recommendArticleList:new OSCInfiniteScroll({pagePath:".recommend-pagination.pagination__next",checkLastPage:!0,containerSelector:"#recommendArticleList",itemListSelector:".blog-list-container",loadMoreBtnSelector:".load-more-button",statusSelector:".page-load-status",defaultAutoLoadPageCount:3,itemSelector:".item.blog-item",loadOnScroll:!0,onAppend:function(){t.optimizeImgShow()}})}).recommendArticleList.init()},bindDeleteBlog:function(){this._blogListWrap.on("click",".blog-item .delete-btn",function(){var t=$(this).parents(".blog-item:eq(0)"),e=t.attr("data-id");$(".delete-blog.modal").modal({onApprove:function(){$.post(page.api_prefix+"/blog/delete",{id:e,user_code:page.g_user_code||""},function(e){1===e.code?($("body").toast({type:"success",content:"删除成功"}),t.fadeOut(function(){t.remove()})):$("body").toast({type:"error",content:e.message||"删除失败"})}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"})})}}).modal("show")})},initMobileClick:function(){this._blogListWrap.on("click",".blog-item",function(t){var e=$(t.target);if("a"===t.target.nodeName.toLowerCase()||e.parents("a").length>0);else{var o=$(this);window.open(o.find("a.header").attr("href"),"_blank"),t.stopPropagation()}})},optimizeImgShow:function(){$(function(){$("[data-img-render]").imgOptimize(110,70)})},register:function(){this.initArticleInfiniteScroll(),this.optimizeImgShow(),window.innerWidth<768&&this.initMobileClick()}},t});
"use strict";OSCDefine("web-blog-daily",function(){var t=function(){this._blogListWrap=$(".blog-list-wrap")};return t.prototype={constructor:t,initArticleInfiniteScroll:function(){var t=this;({dailyArticleList:new OSCInfiniteScroll({pagePath:".daily-pagination.pagination__next",checkLastPage:!0,containerSelector:"#dailyArticleList",itemListSelector:".blog-list-container",loadMoreBtnSelector:".load-more-button",statusSelector:".page-load-status",defaultAutoLoadPageCount:3,itemSelector:".item.blog-item",loadOnScroll:!0,onAppend:function(){t.optimizeImgShow()}})}).dailyArticleList.init()},bindDeleteBlog:function(){this._blogListWrap.on("click",".blog-item .delete-btn",function(){var t=$(this).parents(".blog-item:eq(0)"),e=t.attr("data-id");$(".delete-blog.modal").modal({onApprove:function(){$.post(page.api_prefix+"/blog/delete",{id:e,user_code:page.g_user_code||""},function(e){1===e.code?($("body").toast({type:"success",content:"删除成功"}),t.fadeOut(function(){t.remove()})):$("body").toast({type:"error",content:e.message||"删除失败"})}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"})})}}).modal("show")})},initMobileClick:function(){this._blogListWrap.on("click",".blog-item",function(t){var e=$(t.target);if("a"===t.target.nodeName.toLowerCase()||e.parents("a").length>0);else{var i=$(this);window.open(i.find("a.header").attr("href"),"_blank"),t.stopPropagation()}})},optimizeImgShow:function(){$(function(){$("[data-img-render]").imgOptimize(110,70)})},register:function(){this.initArticleInfiniteScroll(),this.optimizeImgShow(),window.innerWidth<768&&this.initMobileClick()}},t});
"use strict";OSCDefine("web-translate-index",function(){var t=function(){this._translateEl=$(".web-translate"),this._translateListContainer=$(".translate-list-container"),this._currentInfiniteScroll="";var t=this;this._articleInfiniteScroll={completed:new OSCInfiniteScroll({pagePath:".pagination__next",checkLastPage:!0,containerSelector:"#completedList",itemListSelector:".translate-list-container",loadMoreBtnSelector:".load-more-button",statusSelector:".page-load-status",defaultAutoLoadPageCount:3,itemSelector:".item.translate-item",loadOnScroll:!0,onAppend:function(){t.optimizeImgShow()}}),pending:new OSCInfiniteScroll({pagePath:".pagination__next",checkLastPage:!0,containerSelector:"#pendingList",itemListSelector:".translate-list-container",loadMoreBtnSelector:".load-more-button",statusSelector:".page-load-status",defaultAutoLoadPageCount:3,itemSelector:".item.translate-item",loadOnScroll:!0,onAppend:function(){t.optimizeImgShow()}}),none:new OSCInfiniteScroll({pagePath:".pagination__next",checkLastPage:!0,containerSelector:"#noneList",itemListSelector:".translate-list-container",loadMoreBtnSelector:".load-more-button",statusSelector:".page-load-status",defaultAutoLoadPageCount:3,itemSelector:".item.translate-item",loadOnScroll:!0,onAppend:function(){t.optimizeImgShow()}})}};return t.prototype={constructor:t,initArticleInfiniteScroll:function(){this._articleInfiniteScroll[this._currentInfiniteScroll]&&this._articleInfiniteScroll[this._currentInfiniteScroll].destroy();var t=this._translateEl.find("input[name=currentTab]").val();this._articleInfiniteScroll[t]&&(this._articleInfiniteScroll[t].init(),this._currentInfiniteScroll=t)},initPJAX:function(){var t=this,e=$(".translate-list-container-loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax(".translate-tab a.item, .translate-tab .sort-type a",".translate-list-container",{scrollTo:!1}),$(document).on("pjax:send",function(){e.addClass("active")}),$(document).on("pjax:complete",function(n){$(n.relatedTarget);e.removeClass("active"),t.initArticleInfiniteScroll(),t.optimizeImgShow()})},optimizeImgShow:function(){$(function(){$("[data-img-render]").imgOptimize(110,70)})},initDeliverArticleModal:function(){var t=$(".deliver-article.modal"),e=t.find("#deliverArticleForm");e.form({inline:!0,keyboardShortcuts:!1,fields:{title_en:{rules:[{type:"empty",prompt:"请输入英文标题"}]},title_cn:{rules:[{type:"empty",prompt:"请输入中文标题"}]},link_en:{rules:[{type:"empty",prompt:"请输入文章原文链接"},{type:"url",prompt:"请输入正确的原文链接"}]},category:{rules:[{type:"empty",prompt:"请选择分类"}]}}}).api({url:page.api_prefix+"/translate/deliver_article",method:"post",serializeForm:!0,beforeSend:function(t){$(this).message("hideAll");var e=t.data;return t.data={title_en:e.title_en,title_cn:e.title_cn,link_en:e.link_en,category:e.category},t},onSuccess:function(e,n,i){1===e.code?($("body").toast({type:"success",content:e.message||"投递成功"}),t.modal("hide"),$(this).form("reset")):$("body").toast({type:"error",content:e.message||"投递失败"})},onFailure:function(t,e){$("body").toast({type:"error",content:"网络异常，请稍后再试"})}}),e.find(".category.dropdown").dropdown(),t.modal({onApprove:function(){return e.message("hideAll"),e.form("submit"),!1}}),$(document.body).on("click",".deliver-article-btn",function(){if(!window.common.checkLogin())return!1;t.modal("show")})},register:function(){this.initArticleInfiniteScroll(),this.initPJAX(),this.optimizeImgShow(),this.initDeliverArticleModal()}},t});
"use strict";OSCDefine("web-translate-tags",function(){var t=function(){this._tagsWrap=$("#tagsContainer .tags-wrapper")};return t.prototype={constructor:t,initListPJAX:function(){var t=this,a=$(".tags-loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax(".pagination a","#tagsContainer .tags-wrapper",{scrollTo:!1}),$(document).on("pjax:send",function(){a.addClass("active")}),$(document).on("pjax:complete",function(){a.removeClass("active"),$("html, body").stop().animate({scrollTop:t._tagsWrap.offset().top-80},500,"swing")})},register:function(){this.initListPJAX()}},t});
"use strict";OSCDefine("web-translate-tag",function(){var t=function(){this._translateEl=$(".translate-tag-detail"),this._translateListContainer=$(".translate-list-container"),this._currentInfiniteScroll="";var t=this;this._articleInfiniteScroll={completed:new OSCInfiniteScroll({pagePath:".pagination__next",checkLastPage:!0,containerSelector:"#completedList",itemListSelector:".translate-list-container",loadMoreBtnSelector:".load-more-button",statusSelector:".page-load-status",defaultAutoLoadPageCount:3,itemSelector:".item.translate-item",loadOnScroll:!0,onAppend:function(){t.optimizeImgShow()}}),pending:new OSCInfiniteScroll({pagePath:".pagination__next",checkLastPage:!0,containerSelector:"#pendingList",itemListSelector:".translate-list-container",loadMoreBtnSelector:".load-more-button",statusSelector:".page-load-status",defaultAutoLoadPageCount:3,itemSelector:".item.translate-item",loadOnScroll:!0,onAppend:function(){t.optimizeImgShow()}}),none:new OSCInfiniteScroll({pagePath:".pagination__next",checkLastPage:!0,containerSelector:"#noneList",itemListSelector:".translate-list-container",loadMoreBtnSelector:".load-more-button",statusSelector:".page-load-status",defaultAutoLoadPageCount:3,itemSelector:".item.translate-item",loadOnScroll:!0,onAppend:function(){t.optimizeImgShow()}})}};return t.prototype={constructor:t,initArticleInfiniteScroll:function(){this._articleInfiniteScroll[this._currentInfiniteScroll]&&this._articleInfiniteScroll[this._currentInfiniteScroll].destroy();var t=this._translateEl.find("input[name=currentTab]").val();this._articleInfiniteScroll[t]&&(this._articleInfiniteScroll[t].init(),this._currentInfiniteScroll=t)},initPJAX:function(){var t=this,e=$(".translate-list-container-loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax(".translate-tab a.item, .translate-tab .sort-type a",".translate-list-container",{scrollTo:!1}),$(document).on("pjax:send",function(){e.addClass("active")}),$(document).on("pjax:complete",function(n){$(n.relatedTarget);e.removeClass("active"),t.initArticleInfiniteScroll(),t.optimizeImgShow()})},optimizeImgShow:function(){$(function(){$("[data-img-render]").imgOptimize(110,70)})},register:function(){this.initArticleInfiniteScroll(),this.initPJAX(),this.optimizeImgShow()}},t});
"use strict";OSCPlugin("translate-detail-comments",function(){return function(){var e={config:{objId:0,fetchCommentsUrl:"",publishCommentUrl:"",replyCommentUrl:"",deleteCommentUrl:""},init:function(e){this._commentsContainer=$("#commentsContainer"),this._commentsWrap=this._commentsContainer.find(".comments-wrap"),this.config=$.isPlainObject(e)?$.extend(!0,{},this.config,e):$.extend({},this.config)},loadComments:function(e,t){var o=this,n=Math.floor(e)||1;if(-1===n){var a=o._commentsWrap.find(".pagination-wrap");n=Math.floor(a.data("page"))||1}var r=window.common.addQueryParams(o.config.fetchCommentsUrl,{p:n});$.get(r,function(e){o._commentsWrap.html(e),o.parseEmoticon(),t&&$.isFunction(t)&&t.call(this)})},loadCommentsByCommentId:function(e,t){var o=this,n=Math.floor(e)||1,a=window.common.addQueryParams(o.config.fetchCommentsUrl,{commentId:n});$.get(a,function(e){o._commentsWrap.html(e),o.parseEmoticon(),t&&$.isFunction(t)&&t.call(this)})},initCommentForm:function(){var e=this,t="OSC_TRANSLATE_"+page.objId+"_COMMENT_CACHE",o="OSC_TRANSLATE_"+page.objId+"_COMMENT_PUBLISH_CACHE",n=window.common.throttle(function(e){try{e&&e.trim().length>0?localStorage.setItem(t,e):localStorage.removeItem(t)}catch(e){}},500);e.commentFormVue=new Vue({el:"#commentForm",data:function(){return{commentMaxLength:1e3,commentContent:"",commentPublishLoading:!1,tipMessage:{show:!1,content:"",className:""},curEmojiType:"People",emojiList:[{type:"People",items:["bowtie","smile","laughing","blush","smiley","relaxed","smirk","heart_eyes","kissing_heart","kissing_closed_eyes","flushed","relieved","satisfied","grin","wink","stuck_out_tongue_winking_eye","stuck_out_tongue_closed_eyes","grinning","kissing","kissing_smiling_eyes","stuck_out_tongue","sleeping","worried","frowning","anguished","open_mouth","grimacing","confused","hushed","expressionless","unamused","sweat_smile","sweat","disappointed_relieved","weary","pensive","disappointed","confounded","fearful","cold_sweat","persevere","cry","sob","joy","astonished","scream","neckbeard","tired_face","angry","rage","triumph","sleepy","yum","mask","sunglasses","dizzy_face","imp","smiling_imp","neutral_face","no_mouth","innocent","alien","yellow_heart","blue_heart","purple_heart","heart","green_heart","broken_heart","heartbeat","heartpulse","two_hearts","revolving_hearts","cupid","sparkling_heart","sparkles","star","star2","dizzy","boom","collision","anger","exclamation","question","grey_exclamation","grey_question","zzz","dash","sweat_drops","notes","musical_note","fire","hankey","poop","shit","+1","thumbsup","-1","thumbsdown","ok_hand","punch","facepunch","fist","v","wave","hand","raised_hand","open_hands","point_up","point_down","point_left","point_right","raised_hands","pray","point_up_2","clap","muscle","metal","fu","walking","runner","running","couple","family","two_men_holding_hands","two_women_holding_hands","dancer","dancers","ok_woman","no_good","information_desk_person","raising_hand","bride_with_veil","person_with_pouting_face","person_frowning","bow","couplekiss","couple_with_heart","massage","haircut","nail_care","boy","girl","woman","man","baby","older_woman","older_man","person_with_blond_hair","man_with_gua_pi_mao","man_with_turban","construction_worker","cop","angel","princess","smiley_cat","smile_cat","heart_eyes_cat","kissing_cat","smirk_cat","scream_cat","crying_cat_face","joy_cat","pouting_cat","japanese_ogre","japanese_goblin","see_no_evil","hear_no_evil","speak_no_evil","guardsman","skull","feet","lips","kiss","droplet","ear","eyes","nose","tongue","love_letter","bust_in_silhouette","busts_in_silhouette","speech_balloon","thought_balloon","feelsgood","finnadie","goberserk","godmode","hurtrealbad","rage1","rage2","rage3","rage4","suspect","trollface"]},{type:"Nature",items:["sunny","umbrella","cloud","snowflake","snowman","zap","cyclone","foggy","ocean","cat","dog","mouse","hamster","rabbit","wolf","frog","tiger","koala","bear","pig","pig_nose","cow","boar","monkey_face","monkey","horse","racehorse","camel","sheep","elephant","panda_face","snake","bird","baby_chick","hatched_chick","hatching_chick","chicken","penguin","turtle","bug","honeybee","ant","beetle","snail","octopus","tropical_fish","fish","whale","whale2","dolphin","cow2","ram","rat","water_buffalo","tiger2","rabbit2","dragon","goat","rooster","dog2","pig2","mouse2","ox","dragon_face","blowfish","crocodile","dromedary_camel","leopard","cat2","poodle","paw_prints","bouquet","cherry_blossom","tulip","four_leaf_clover","rose","sunflower","hibiscus","maple_leaf","leaves","fallen_leaf","herb","mushroom","cactus","palm_tree","evergreen_tree","deciduous_tree","chestnut","seedling","blossom","ear_of_rice","shell","globe_with_meridians","sun_with_face","full_moon_with_face","new_moon_with_face","new_moon","waxing_crescent_moon","first_quarter_moon","waxing_gibbous_moon","full_moon","waning_gibbous_moon","last_quarter_moon","waning_crescent_moon","last_quarter_moon_with_face","first_quarter_moon_with_face","moon","earth_africa","earth_americas","earth_asia","volcano","milky_way","partly_sunny","octocat","squirrel"]},{type:"Objects",items:["bamboo","gift_heart","dolls","school_satchel","mortar_board","flags","fireworks","sparkler","wind_chime","rice_scene","jack_o_lantern","ghost","santa","christmas_tree","gift","bell","no_bell","tanabata_tree","tada","confetti_ball","balloon","crystal_ball","cd","dvd","floppy_disk","camera","video_camera","movie_camera","computer","tv","iphone","phone","telephone","telephone_receiver","pager","fax","minidisc","vhs","sound","speaker","mute","loudspeaker","mega","hourglass","hourglass_flowing_sand","alarm_clock","watch","radio","satellite","loop","mag","mag_right","unlock","lock","lock_with_ink_pen","closed_lock_with_key","key","bulb","flashlight","high_brightness","low_brightness","electric_plug","battery","calling","email","mailbox","postbox","bath","bathtub","shower","toilet","wrench","nut_and_bolt","hammer","seat","moneybag","yen","dollar","pound","euro","credit_card","money_with_wings","e-mail","inbox_tray","outbox_tray","envelope","incoming_envelope","postal_horn","mailbox_closed","mailbox_with_mail","mailbox_with_no_mail","package","door","smoking","bomb","gun","hocho","pill","syringe","page_facing_up","page_with_curl","bookmark_tabs","bar_chart","chart_with_upwards_trend","chart_with_downwards_trend","scroll","clipboard","calendar","date","card_index","file_folder","open_file_folder","scissors","pushpin","paperclip","black_nib","pencil2","straight_ruler","triangular_ruler","closed_book","green_book","blue_book","orange_book","notebook","notebook_with_decorative_cover","ledger","books","bookmark","name_badge","microscope","telescope","newspaper","football","basketball","soccer","baseball","tennis","8ball","rugby_football","bowling","golf","mountain_bicyclist","bicyclist","horse_racing","snowboarder","swimmer","surfer","ski","spades","hearts","clubs","diamonds","gem","ring","trophy","musical_score","musical_keyboard","violin","space_invader","video_game","black_joker","flower_playing_cards","game_die","dart","mahjong","clapper","memo","pencil","book","art","microphone","headphones","trumpet","saxophone","guitar","shoe","sandal","high_heel","lipstick","boot","shirt","tshirt","necktie","womans_clothes","dress","running_shirt_with_sash","jeans","kimono","bikini","ribbon","tophat","crown","womans_hat","mans_shoe","closed_umbrella","briefcase","handbag","pouch","purse","eyeglasses","fishing_pole_and_fish","coffee","tea","sake","baby_bottle","beer","beers","cocktail","tropical_drink","wine_glass","fork_and_knife","pizza","hamburger","fries","poultry_leg","meat_on_bone","spaghetti","curry","fried_shrimp","bento","sushi","fish_cake","rice_ball","rice_cracker","rice","ramen","stew","oden","dango","egg","bread","doughnut","custard","icecream","ice_cream","shaved_ice","birthday","cake","cookie","chocolate_bar","candy","lollipop","honey_pot","apple","green_apple","tangerine","lemon","cherries","grapes","watermelon","strawberry","peach","melon","banana","pear","pineapple","sweet_potato","eggplant","tomato","corn"]},{type:"Places",items:["house","house_with_garden","school","office","post_office","hospital","bank","convenience_store","love_hotel","hotel","wedding","church","department_store","european_post_office","city_sunrise","city_sunset","japanese_castle","european_castle","tent","factory","tokyo_tower","japan","mount_fuji","sunrise_over_mountains","sunrise","stars","statue_of_liberty","bridge_at_night","carousel_horse","rainbow","ferris_wheel","fountain","roller_coaster","ship","speedboat","boat","sailboat","rowboat","anchor","rocket","airplane","helicopter","steam_locomotive","tram","mountain_railway","bike","aerial_tramway","suspension_railway","mountain_cableway","tractor","blue_car","oncoming_automobile","car","red_car","taxi","oncoming_taxi","articulated_lorry","bus","oncoming_bus","rotating_light","police_car","oncoming_police_car","fire_engine","ambulance","minibus","truck","train","station","train2","bullettrain_front","bullettrain_side","light_rail","monorail","railway_car","trolleybus","ticket","fuelpump","vertical_traffic_light","traffic_light","warning","construction","beginner","atm","slot_machine","busstop","barber","hotsprings","checkered_flag","crossed_flags","izakaya_lantern","moyai","circus_tent","performing_arts","round_pushpin","triangular_flag_on_post","jp","kr","cn","us","fr","es","it","ru","gb","uk","de"]},{type:"Symbols",items:["one","two","three","four","five","six","seven","eight","nine","keycap_ten","1234","zero","hash","symbols","arrow_backward","arrow_down","arrow_forward","arrow_left","capital_abcd","abcd","abc","arrow_lower_left","arrow_lower_right","arrow_right","arrow_up","arrow_upper_left","arrow_upper_right","arrow_double_down","arrow_double_up","arrow_down_small","arrow_heading_down","arrow_heading_up","leftwards_arrow_with_hook","arrow_right_hook","left_right_arrow","arrow_up_down","arrow_up_small","arrows_clockwise","arrows_counterclockwise","rewind","fast_forward","information_source","ok","twisted_rightwards_arrows","repeat","repeat_one","new","top","up","cool","free","ng","cinema","koko","signal_strength","u5272","u5408","u55b6","u6307","u6708","u6709","u6e80","u7121","u7533","u7a7a","u7981","sa","restroom","mens","womens","baby_symbol","no_smoking","parking","wheelchair","metro","baggage_claim","accept","wc","potable_water","put_litter_in_its_place","secret","congratulations","m","passport_control","left_luggage","customs","ideograph_advantage","cl","sos","id","no_entry_sign","underage","no_mobile_phones","do_not_litter","non-potable_water","no_bicycles","no_pedestrians","children_crossing","no_entry","eight_spoked_asterisk","sparkle","eight_pointed_black_star","heart_decoration","vs","vibration_mode","mobile_phone_off","chart","currency_exchange","aries","taurus","gemini","cancer","leo","virgo","libra","scorpius","sagittarius","capricorn","aquarius","pisces","ophiuchus","six_pointed_star","negative_squared_cross_mark","a","b","ab","o2","diamond_shape_with_a_dot_inside","recycle","end","back","on","soon","clock1","clock130","clock10","clock1030","clock11","clock1130","clock12","clock1230","clock2","clock230","clock3","clock330","clock4","clock430","clock5","clock530","clock6","clock630","clock7","clock730","clock8","clock830","clock9","clock930","heavy_dollar_sign","copyright","registered","tm","x","heavy_exclamation_mark","bangbang","interrobang","o","heavy_multiplication_x","heavy_plus_sign","heavy_minus_sign","heavy_division_sign","white_flower","100","heavy_check_mark","ballot_box_with_check","radio_button","link","curly_loop","wavy_dash","part_alternation_mark","trident","black_small_square","white_small_square","black_medium_small_square","white_medium_small_square","black_medium_square","white_medium_square","black_large_square","white_large_square","white_check_mark","black_square_button","white_square_button","black_circle","white_circle","red_circle","large_blue_circle","large_blue_diamond","large_orange_diamond","small_blue_diamond","small_orange_diamond","small_red_triangle","small_red_triangle_down","shipit"]}]}},computed:{curEmojiItems:function(){for(var e=0,t=this.emojiList.length;e<t;e++)if(this.emojiList[e].type===this.curEmojiType)return this.emojiList[e].items;return this.emojiList[0].items},commentContentIsEmpty:function(){return 0===this.commentContent.length},commentCountText:function(){return this.commentContent.length+"/"+this.commentMaxLength}},mounted:function(){if(void 0!==window.localStorage){var e=localStorage.getItem(t)||"",n=localStorage.getItem(o)||"";e&&e.trim().length>0&&(this.commentContent=e,n&&page.g_user_code&&(localStorage.removeItem(o),this.publishComment()))}},methods:{insertEmoji:function(e){this.clearMessage();var t=":"+e+":";this.insertContent(t),$(this.$refs.showEmojiBox).popup("hide")},insertProject:function(){if(this.clearMessage(),this.insertContent("#此处输入软件#")){var e=selectRange.of(this.$refs.commentTextarea),t=e.getCurPos();e.setSelectText(t-("#此处输入软件#".length-1),t-1)}},publishComment:function(){var n=this,a=window.common.getCurrentUrl(!0)+"#commentForm";if(!window.common.checkLoginForWeChat(a,function(){try{localStorage.setItem(o,"1")}catch(e){}}))return!1;if(!n.tweetPublishLoading)if(n.clearMessage(),n.commentContentIsEmpty)n.showMessage("error","内容不能为空",2e3);else if(n.commentContent.length>n.commentMaxLength)n.showMessage("error","最多只能输入"+n.commentMaxLength+"个字符！",2e3);else{n.commentPublishLoading=!0;var r={article:e.config.objId,content:n.commentContent};$.post(e.config.publishCommentUrl,r,function(o){if(1===o.code){o.message&&$("body").toast({type:"success",content:o.message||"评论发布成功"}),window.localStorage&&window.localStorage.removeItem(t),n.commentContent="",e.loadComments();var a=$(".float-menu .comment-btn");if(o.result&&void 0!==o.result.replyCount){var r=o.result.replyCount;$("[data-article-reply-count]").html(r),a.attr("title","共有 "+r+" 条评论")}a.find(".icon").removeClass("outline"),$("html, body").stop().animate({scrollTop:e._commentsWrap.offset().top-80},500,"swing")}else n.showMessage("error",o.message||"发布失败",2e3)}).fail(function(){n.showMessage("error","网络错误，请稍后再试！",2e3)}).always(function(){n.commentPublishLoading=!1})}},commentContentOnKeyDown:function(e){(e.metaKey||e.ctrlKey)&&13==e.keyCode&&this.publishComment()},insertContent:function(e){return!this.commentPublishLoading&&(this.commentContent.length>=this.commentMaxLength||this.commentContent.length+e.length>this.commentMaxLength?void this.showMessage("error","最多只能输入"+this.commentMaxLength+"个字符！",2e3):(selectRange.of(this.$refs.commentTextarea).insertAfterText(e),this.commentContent=this.$refs.commentTextarea.value,!0))},showMessage:function(e,t,o){var n=this;n.tipMessage.className="success"===e?"positive":"negative",n.tipMessage.content=t;var a=parseInt(o)||0;n.tipMessage.show=!0,a>0&&setTimeout(function(){n.clearMessage()},a)},clearMessage:function(){this.tipMessage.className="",this.tipMessage.content="",this.tipMessage.show=!1}},watch:{commentContent:function(e){n(e)}}}),$("#commentForm").find(".comment-form .toolbox > .item[data-popup]").each(function(e,t){var o=$(t),n=$(o).parent().find(".toolbox-popup."+o.attr("data-popup"));o.popup({position:"bottom left",popup:n,on:"toolbox-picture"===o.attr("data-popup")?"manual":"click",exclusive:!0})})},initCommentDeleteModal:function(){var e=this,t=$(".delete-comment.modal");t.modal({onDeny:function(){var t=$(this).attr("data-comment-id"),o=e._commentsWrap.find("div.comment[data-comment-id="+t+"]");o.attr("data-comment-user-id"),$.post(e.config.deleteCommentUrl,{article:page.objId,cmt:t},function(t){if(1===t.code){$("body").toast({type:"success",content:"删除成功"}),o.fadeOut(function(){o.remove()});var n=e._commentsWrap.find("> .header span"),a=n.text(),r=$("[data-article-reply-count]"),i=$(".float-menu .comment-btn");if(a){var s=parseInt(a)-(1+o.find("div.comment").length);s<0&&(s=0),n.text(s),r.html(s),i.attr("title","共有 "+s+" 条评论")}else n.text(0),r.html(0),i.attr("title","共有 0 条评论");t.result&&void 0!==t.result.selfCommentCount&&t.result.selfCommentCount<=0&&i.find(".icon").addClass("outline")}else $("body").toast({type:"error",content:t.message||"删除失败"})})}}),e._commentsWrap.on("click",".actions a.remove",function(e){e.stopPropagation();var o=$(e.target).parents(".comment:eq(0)").attr("data-comment-id");t.attr("data-comment-id",o),t.modal("show")})},initReplyCommentModal:function(){var e=this,t=$(".reply-comment.modal"),o=$("#replyCommentForm");t.modal({onShow:function(){o.form("reset"),o.message("hideAll");var e=$(this).attr("data-comment-user-id")||-1,t=$(this).attr("data-comment-id")||-1;o.find("input[name=reply_id]").val(e+"_"+t)},onApprove:function(){return o.message("hideAll"),o.form("submit"),!1}}),o.form({inline:!0,fields:{content:{rules:[{type:"empty",prompt:"请输入评论内容"},{type:"maxLength[1000]",prompt:"内容长度不能超过 {ruleValue} 个字"}]}}}).api({url:e.config.replyCommentUrl,method:"post",serializeForm:!0,beforeSend:function(t){$(this).message("hideAll");var o=t.data;return t.data={article:e.config.objId,reply_id:o.reply_id,content:o.content},t},onSuccess:function(n,a,r){if(1===n.code){$(this).message({type:"positive",content:"评论回复成功"}),o.form("reset"),e.loadComments();var i=$(".float-menu .comment-btn");if(n.result&&void 0!==n.result.replyCount){var s=n.result.replyCount;$("[data-article-reply-count]").html(s),i.attr("title","共有 "+s+" 条评论")}i.find(".icon").removeClass("outline"),setTimeout(function(){t.modal("hide")},2e3)}else $(this).message({type:"negative",content:n.message||"回复失败"})},onFailure:function(e,t){$(this).message({type:"negative",content:"网络错误，请稍后再试"})}}),t.on("keydown",function(e){(e.metaKey||e.ctrlKey)&&13===e.keyCode&&t.find(".positive.button").click()}),e._commentsWrap.on("click",".actions a.reply",function(e){if(e.stopPropagation(),!window.common.checkLogin())return!1;var o=$(e.target).parents(".comment:eq(0)"),n=o.attr("data-comment-user-id"),a=o.attr("data-comment-id");t.attr("data-comment-user-id",n),t.attr("data-comment-id",a),t.modal("show")})},bindReplyBtn:function(){var e=this;e._commentsWrap.on("click",".actions a.reply",function(t){if(t.stopPropagation(),!window.common.checkLogin())return!1;var o=$(t.target).parents(".comment:eq(0)"),n=o.attr("data-comment-id"),a=o.attr("data-comment-user-id"),r=o.attr("data-comment-user-name"),i=!!o.data("comment-is-last-level"),s=n,c=a,l="";if(i){var m=o.parents(".comment:eq(0)");m&&(s=m.attr("data-comment-id"),c=m.attr("data-comment-user-id")),l=r}if(o.find(".content:eq(0) [data-reply-comment-form]").length>0){var _=o.find(".content:eq(0) [data-reply-comment-form]").get(0);return _.vueInstance&&_.vueInstance.focus(),!1}$("[data-reply-comment-form]").each(function(e,t){var o=$(t);t.vueInstance&&t.vueInstance.$destroy(),o.remove()}),0===$('[data-reply-comment-form][data-comment-id="'+n+'"]').length&&!0!==window.oscReplyCommentFormLoading&&(window.oscReplyCommentFormLoading=!0,$.get("/widgets/comments_reply_form",function(t){var a=document.createElement("div");a.innerHTML=t,$(a).find("[data-reply-comment-form]").attr("data-comment-id",n),o.find(".content:eq(0)").append(a);var r=new OSCCommentForm({commentFormSelector:"#replyCommentForm",commentsWrapEl:e._commentsWrap,toggleLoadComments:function(){e.loadComments(-1)},url:e.config.replyCommentUrl,params:{article:page.objId,reply_id:c+"_"+s},commentedAutoScrollToTop:!1,contentField:"content"});r.init(),r.focus(),l&&r.insertContent("回复 @"+l+" : ")}).always(function(){window.oscReplyCommentFormLoading=!1}))})},initCommentsListPJAX:function(){var e=this,t=$(".comments-loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax("#commentsContainer .comments-wrap .pagination a","#commentsContainer .comments-wrap",{scrollTo:!1}),$(document).on("pjax:send",function(e){$(e.target),"comments-wrap"===e.target.className&&t.addClass("active")}),$(document).on("pjax:complete",function(o){$(o.target),"comments-wrap"===o.target.className&&(e.parseEmoticon(),t.removeClass("active"),$("html, body").stop().animate({scrollTop:e._commentsWrap.offset().top-80},500,"swing"))})},parseEmoticon:function(){$(function(){$("[data-emoji-render]").emoticon()})},scrollToCommentFromUrlCommentId:function(){var e=location.hash,t=e.match(/#rpl_(\d+).*/),o=t?Math.floor(t[1]):-1;o>0&&this.loadCommentsByCommentId(o,function(){setTimeout(function(){var t=$(e);if(t.length){var o=t.offset().top;o-80>0&&(o-=80),$("html, body").stop(!0).animate({scrollTop:o},500,"swing")}},0)})}};new window.common.dynamicLoader(["/new-osc/js/utils/vue.min.js"],function(){var t=window.page;e.init({objId:t.objId,fetchCommentsUrl:t.fetchCommentsUrl,publishCommentUrl:t.publishCommentUrl,replyCommentUrl:t.replyCommentUrl,deleteCommentUrl:t.deleteCommentUrl}),e.initCommentForm(),e.initCommentDeleteModal(),e.bindReplyBtn(),e.initCommentsListPJAX(),e.parseEmoticon(),e.scrollToCommentFromUrlCommentId()}).loadFiles()}});
"use strict";OSCDefine("web-translate-detail",["translate-detail-comments"],function(){var a=function(){this._translateDetailEl=$(".translate-detail"),this._headerWrap=this._translateDetailEl.find(".header-wrap"),this._paragraphsContainer=this._translateDetailEl.find("#paragraphsContainer"),this._paragraphsWrap=this._paragraphsContainer.find(".paragraphs-wrap")};return a.prototype={constructor:a,initFloatMenu:function(){$("#floatMenu").sticky({context:".float-menu-content",offset:200})},hightlight:function(){$("pre, pre code").each(function(a,t){var e=$(this),r=(e.attr("class")||"").match(/language-(.*)/);if(r&&r.length>1){var n=r[r.length-1];e.attr("class","hljs "+n)}hljs.highlightBlock(t)})},initManagerMenu:function(){var a=$("#managerMenu");a.dropdown(),a.on("click","a.item.edit-tags-btn",function(){var a=$(".edit-tags.modal"),t=a.find("#editTagsForm");t.form({inline:!0,keyboardShortcuts:!1,fields:{category:{rules:[{type:"empty",prompt:"请选择分类"}]}}}).api({url:page.api_prefix+"/translate/edit_tags",method:"post",serializeForm:!0,beforeSend:function(a){var t=a.data;return a.data={id:page.objId,category:t.category,prj:t.prj,tags:t.tags,user_code:page.g_user_code||""},a},onSuccess:function(t,e,r){1===t.code?($("body").toast({type:"success",content:"设置成功"}),a.modal("hide"),$(this).form("reset"),setTimeout(function(){location.reload()},1e3)):$("body").toast({type:"error",content:t.message||"设置失败"})},onFailure:function(a,t){$("body").toast({type:"error",content:"网络异常，请稍后再试"})}}),t.find(".category.dropdown").dropdown(),t.find(".project-name.dropdown").dropdown({allowAdditions:!0,maxSelections:5,fields:{remoteValues:"results",value:"value",name:"name"},filterRemoteData:!1,apiSettings:{url:page.api_prefix+"/project/list_projects?q={query}",method:"get",dataType:"JSON",cache:!1,throttle:200,interruptRequests:!0,onResponse:function(a){var t=[];return 1===a.code&&Array.isArray(a.result)&&a.result.length>0&&(t=a.result.map(function(a){return{name:a.name,value:a.name}})),{results:t}}},onNoResults:function(a){return!!(a&&a.trim().length>0)}}),a.modal({autofocus:!1,onApprove:function(){return t.message("hideAll"),t.form("submit"),!1},onHide:function(){t.form("reset")}}),a.modal("show")})},initParagraphListPJAX:function(){var a=this,t=$(".paragraph-loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax("#paragraphsContainer .paragraphs-wrap .pagination a, .lang-switch-btn","#paragraphsContainer .paragraphs-wrap",{scrollTo:!1}),$(document).on("pjax:send",function(a){$(a.target);"paragraphs-wrap"===a.target.className&&t.addClass("active")}),$(document).on("pjax:complete",function(e){$(e.target);if("paragraphs-wrap"===e.target.className){var r=e.relatedTarget,n=$(r).parent();n.hasClass("pagination");$(r).hasClass("lang-switch-btn")&&(n.find(".lang-switch-btn").removeClass("active"),$(r).addClass("active")),t.removeClass("active"),$("html, body").stop().animate({scrollTop:a._paragraphsWrap.offset().top-120},500,"swing")}})},optimizeImgShow:function(){$(function(){$("[data-img-render]").imgOptimize(110,70)})},initParagraphAction:function(){var a=this,t=$(".delete-paragraph.modal").modal({onApprove:function(){var t=$(this).attr("data-paragraph-id"),e=a._paragraphsWrap.find("div.translate-paragraph[data-paragraph-id="+t+"]"),r=a._paragraphsWrap.find("div.other-translated-wrap[data-paragraph-id="+t+"]");$.post(page.api_prefix+"/translate/delete_paragraph",{id:t},function(a){1===a.code?($("body").toast({type:"success",content:"删除成功"}),e.fadeOut(function(){e.remove()}),r.fadeOut(function(){r.remove()})):$("body").toast({type:"error",content:a.message||"删除失败"})}).fail(function(){$("body").toast({type:"error",content:"网络异常，请稍后再试"})})}});this._paragraphsContainer.on("click",".actions a.item.delete-btn",function(a){a.stopPropagation();var e=$(a.target).parents(".translate-paragraph:eq(0)").attr("data-paragraph-id");t.attr("data-paragraph-id",e),t.modal("show")});var e="OSC_TRANSLATE_"+page.objId+"_PARAGRAPH_VOTE_CACHE",r=function(a){var t=$('.translate-paragraph[data-translated-paragraph-id="'+a+'"]');if(0===t.length)return!1;var e=t.find(".vote-count"),r=parseInt(e.text())||0;$.post(page.api_prefix+"/translate/vote_block",{id:a,user:page.g_user_id},function(a){1===a.code?e.text(r+1):$("body").toast({type:"error",content:a.message||"点赞失败"})}).fail(function(){$("body").toast({type:"error",content:"网络异常，请稍后再试"})})};if(this._paragraphsContainer.on("click",".vote-up-btn",function(a){a.stopPropagation();$(a.target).parents(".translate-paragraph:eq(0)").attr("data-paragraph-id");var t=$(this).attr("data-translated-paragraph-id");if(!window.common.checkLoginForWeChat(null,function(){try{localStorage.setItem(e,t)}catch(a){}}))return!1;r(t)}),void 0!==window.localStorage&&page.g_user_code){var n=localStorage.getItem(e)||"";if(n){if(0===$('.translate-paragraph[data-translated-paragraph-id="'+n+'"]').length)return;localStorage.removeItem(e),r(n)}}},initParagraphOtherTranslated:function(){var a=this;this._paragraphsContainer.on("click",".show-other-translated-btn",function(t){t.stopPropagation();var e=$(t.target).parents(".translate-paragraph:eq(0)"),r=e.attr("data-paragraph-id"),n=e.attr("data-translated-paragraph-id"),o=a._paragraphsContainer.find('.other-translated-wrap[data-paragraph-id="'+r+'"]');if(!o||o.length<=0)return!1;"block"===o.css("display")?o.slideUp():(o.slideDown(),o.data("load")||$.get("/translate/widgets/_translate_detail_paragraph_chs_others_ajax?pid="+r+"&ppid="+n,function(t){o.html(t),o.data("load",!0),a.hightlight()}).fail(function(){$("body").toast({type:"error",content:"网络异常，请稍后再试"}),setTimeout(function(){o.slideUp()},2e3)}))}),this._paragraphsContainer.on("click",".collapse-other-translated-btn",function(t){t.stopPropagation();var e=$(t.target).parents(".translate-paragraph:eq(0)"),r=e.attr("data-paragraph-id"),n=(e.attr("data-translated-paragraph-id"),a._paragraphsContainer.find('.other-translated-wrap[data-paragraph-id="'+r+'"]'));if(!n||n.length<=0)return!1;"block"===n.css("display")&&n.slideUp()})},initArticleVote:function(){var a=this._headerWrap.find(".translate-vote-btn"),t=this._headerWrap.find(".vote-count"),e=parseInt(t.text()),r="OSC_TRANSLATE_"+page.objId+"_VOTE_CACHE",n=function(){$.post(page.api_prefix+"/translate/vote_article",{id:page.objId,user:page.g_user_id},function(a){1===a.code?(t.text(e+1),a.message&&$("body").toast({type:"success",content:a.message})):$("body").toast({type:"error",content:a.message||"操作失败"})}).fail(function(){$("body").toast({type:"error",content:"网络异常，请稍后再试"})})};(a.on("click",function(){if(!window.common.checkLoginForWeChat(null,function(){try{localStorage.setItem(r,"1")}catch(a){}}))return!1;n()}),void 0!==window.localStorage)&&(page.g_user_code&&(localStorage.getItem(r)||"")&&(localStorage.removeItem(r),setTimeout(function(){n()},1e3)))},register:function(){this.initFloatMenu(),this.hightlight(),this.initManagerMenu(),this.initParagraphListPJAX(),this.initParagraphAction(),this.initParagraphOtherTranslated(),this.optimizeImgShow(),this.initArticleVote()}},a});
"use strict";OSCDefine("web-translate-detail-compare",function(){var a=function(){this._translateDetailEl=$(".translate-detail-compare"),this._paragraphsContainer=this._translateDetailEl.find("#paragraphsContainer"),this._paragraphsWrap=this._paragraphsContainer.find(".paragraphs-wrap")};return a.prototype={constructor:a,hightlight:function(){$("pre, pre code").each(function(a,t){var r=$(this),n=(r.attr("class")||"").match(/language-(.*)/);if(n&&n.length>1){var e=n[n.length-1];r.attr("class","hljs "+e)}hljs.highlightBlock(t)})},initParagraphListPJAX:function(){var a=$(".paragraph-loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax("#paragraphsContainer .paragraphs-wrap .pagination a","#paragraphsContainer .paragraphs-wrap",{scrollTo:!1}),$(document).on("pjax:send",function(t){$(t.target);"paragraphs-wrap"===t.target.className&&a.addClass("active")}),$(document).on("pjax:complete",function(t){$(t.target);if("paragraphs-wrap"===t.target.className){var r=t.relatedTarget;$(r).parent().hasClass("pagination");a.removeClass("active"),$("html, body").stop().animate({scrollTop:0},500,"swing")}})},initTranslatorPopup:function(){this._paragraphsWrap.find(".popup-translator").popup({on:"click"})},initParagraphAction:function(){var a="OSC_TRANSLATE_"+page.objId+"_PARAGRAPH_VOTE_CACHE",t=function(a){var t=$('.translated-paragraph[data-translated-paragraph-id="'+a+'"]');if(0===t.length)return!1;var r=t.find(".vote-count"),n=parseInt(r.text())||0;$.post(page.api_prefix+"/translate/vote_block",{id:a,user:page.g_user_id},function(a){1===a.code?r.text(n+1):$("body").toast({type:"error",content:a.message||"点赞失败"})}).fail(function(){$("body").toast({type:"error",content:"网络异常，请稍后再试"})})};if(this._paragraphsContainer.on("click",".vote-paragraph",function(r){r.stopPropagation();$(r.target).parents(".translate-paragraph:eq(0)").attr("data-paragraph-id");var n=$(this).attr("data-translated-paragraph-id");if(!window.common.checkLoginForWeChat(null,function(){try{localStorage.setItem(a,n)}catch(a){}}))return!1;t(n)}),void 0!==window.localStorage&&page.g_user_code){var r=localStorage.getItem(a)||"";if(r){if(0===$('.translated-paragraph[data-translated-paragraph-id="'+r+'"]').length)return;localStorage.removeItem(a),t(r)}}},initSwitchOtherParagraph:function(){this._paragraphsContainer.on("click",".switch-other-paragraph-btn",function(a){a.stopPropagation();var t=$(a.target).parents(".translate-paragraph:eq(0)"),r=(t.attr("data-paragraph-id"),$(a.target).parents(".translated-paragraph:eq(0)").attr("data-translated-paragraph-id"),$(this).attr("data-translated-paragraph-id")),n=t.find('.translated-paragraph[data-translated-paragraph-id="'+r+'"]');n&&n.length>0&&(t.find(".column.translated-paragraph").hide(),n.show())})},register:function(){this.hightlight(),this.initParagraphListPJAX(),this.initTranslatorPopup(),this.initParagraphAction(),this.initSwitchOtherParagraph()}},a});
"use strict";OSCDefine("web-translate-paragraph-edit",function(){var t=function(){this._translatePageEl=$(".translate-paragraph-edit"),this._paragraphEditForm=this._translatePageEl.find(".paragraph-edit-form"),this._paragraphContentTextarea=this._paragraphEditForm.find("textarea[name=content]"),this._initContent=this._paragraphContentTextarea.val().trim()};return t.prototype={constructor:t,hightlight:function(){$("pre, pre code").each(function(t,a){var e=$(this),n=(e.attr("class")||"").match(/language-(.*)/);if(n&&n.length>1){var i=n[n.length-1];e.attr("class","hljs "+i)}hljs.highlightBlock(a)})},initParagraphForm:function(){var t=this,a=556;window.innerWidth<768&&(a=456);var e={height:a,resize_enabled:!1,removePlugins:"elementspath",uploadUrl:page.api_prefix+"/translate/ckeditor_dialog_img_upload",filebrowserUploadUrl:page.api_prefix+"/translate/ckeditor_dialog_img_upload",toolbar:[{name:"basicstyles",items:["Bold","Italic","Underline","Strike"]},{name:"links",items:["Link","Unlink"]},{name:"insert",items:["Image","Table"]},{name:"colors",items:["TextColor","BGColor"]},{name:"paragraph",items:["NumberedList","BulletedList","-","JustifyLeft","JustifyCenter","-","Blockquote","CodeSnippet"]},{name:"styles",items:["Format"]}]},n=function(){var a=CKEDITOR.replace(t._paragraphContentTextarea[0],e);a.on("instanceReady",function(t){a.focus()}),a.on("change",function(a){t._paragraphContentTextarea.val(a.editor.getData())}),a.on("fileUploadResponse",function(a){setTimeout(function(){t._paragraphContentTextarea.val(a.editor.getData())},0)}),a.on("mode",function(e){if("source"===this.mode){var n=a.editable();n.attachListener(n,"input",function(){t._paragraphContentTextarea.val(e.editor.getData())})}})};t._paragraphEditForm.form({inline:!0,fields:{content:{identifier:"content",rules:[{type:"empty",prompt:"请输入内容"}]}}}).api({url:page.api_prefix+page.submitUrl,method:"post",serializeForm:!0,beforeSend:function(t){var a=t.data;return t.data={id:page.paragraphId,article:page.articleId,content:a.content},t},onSuccess:function(t,a,e){1===t.code?($("body").toast({type:"success",content:"提交成功"}),window.onbeforeunload=null,setTimeout(function(){window.location.href=page.successUrl},2e3)):$("body").toast({type:"error",content:t.message||"提交失败"})},onFailure:function(t,a){$("body").toast({type:"error",content:"网络错误，请稍后再试"})}}),t._translatePageEl.on("click",".submit-btn",function(){t._paragraphEditForm.form("submit")}),$(function(){n(),window.onbeforeunload=function(){if(t._paragraphContentTextarea.val().trim()!==t._initContent)return"确认放弃此内容"}})},initCopyOriginBtn:function(){var t=this,a=function(){var a=t._translatePageEl.find(".original-content-wrap .content").html(),e=CKEDITOR.instances.content;e&&(e.setData(a),t._paragraphContentTextarea.val(a))},e=$(".copy-origin.modal").modal({onApprove:function(){a()}});this._translatePageEl.find(".copy-origin-btn").on("click",function(){""===t._paragraphContentTextarea.val().trim()?a():e.modal("show")})},register:function(){this.initParagraphForm(),this.hightlight(),this.initCopyOriginBtn()}},t});
!function(e,t,a,n){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.calendar=function(t){var o,r=e(this),i=(r.selector,(new Date).getTime()),l=[],d=arguments[0],s="string"==typeof d,u=[].slice.call(arguments,1);return r.each(function(){var r,p,c=e.isPlainObject(t)?e.extend(!0,{},e.fn.calendar.settings,t):e.extend({},e.fn.calendar.settings),f=c.className,h=c.namespace,g=c.selector,m=c.formatter,v=c.parser,y=c.metadata,D=c.error,b="."+h,C="module-"+h,M=e(this),w=M.find(g.input),x=M.find(g.popup),k=M.find(g.activator),T=this,F=M.data(C),H=!1,O=!1;p={initialize:function(){p.debug("Initializing calendar for",T),r=p.get.isTouch(),p.setup.popup(),p.setup.inline(),p.setup.input(),p.setup.date(),p.create.calendar(),p.bind.events(),p.instantiate()},instantiate:function(){p.verbose("Storing instance of calendar"),F=p,M.data(C,F)},destroy:function(){p.verbose("Destroying previous calendar for",T),M.removeData(C),p.unbind.events()},setup:{popup:function(){if(!c.inline&&(k.length||(k=M.children().first()).length)){if(e.fn.popup===n)return void p.error(D.popup);x.length||(x=e("<div/>").addClass(f.popup).prependTo(k.parent())),x.addClass(f.calendar);var t=c.onVisible,a=c.onHidden;w.length||(x.attr("tabindex","0"),t=function(){return p.focus(),c.onVisible.apply(x,arguments)},a=function(){return p.blur(),c.onHidden.apply(x,arguments)});var o=c.on||(w.length?"focus":"click"),r=e.extend({},c.popupOptions,{popup:x,on:o,hoverable:"hover"===o,onShow:function(){return p.set.focusDate(p.get.date()),p.set.mode(c.startMode),c.onShow.apply(x,arguments)},onVisible:t,onHide:c.onHide,onHidden:a});p.popup(r)}},inline:function(){k.length&&!c.inline||(x=e("<div/>").addClass(f.calendar).appendTo(M),w.length||x.attr("tabindex","0"))},input:function(){c.touchReadonly&&w.length&&r&&w.prop("readonly",!0)},date:function(){if(w.length){var e=w.val(),t=v.date(e,c);p.set.date(t,c.formatInput,!1)}}},create:{calendar:function(){var t,a,n,o,r,i,l,d=p.get.mode(),s=new Date,u=p.get.date(),h=p.get.focusDate(),g=h||u||c.initialDate||s;g=p.helper.dateInRange(g),h||(h=g,p.set.focusDate(h,!1,!1));var v="year"===d,D="month"===d,b="day"===d,C="hour"===d,M="minute"===d,w="time"===c.type,k=Math.max(c.multiMonth,1),T=b?p.get.monthOffset():0,F=g.getMinutes(),H=g.getHours(),O=g.getDate(),I=g.getMonth()+T,N=g.getFullYear(),Y=b?7:C?4:3,R=7===Y?"seven":4===Y?"four":"three",E=b||C?6:4,j=b?k:1,A=x;for(A.empty(),j>1&&(l=e("<div/>").addClass(f.grid).appendTo(A)),o=0;o<j;o++){if(j>1)A=e("<div/>").addClass(f.column).appendTo(l);var S=I+o,V=(new Date(N,S,1).getDay()-c.firstDayOfWeek%7+7)%7;if(!c.constantHeight&&b){var P=new Date(N,S+1,0).getDate()+V;E=Math.ceil(P/7)}var q=v?10:D?1:0,K=b?1:0,J=C||M?1:0,W=C||M?O:1,z=new Date(N-q,S-K,W-J,H),L=new Date(N+q,S+K,W+J,H),B=v?new Date(10*Math.ceil(N/10)-9,0,0):D?new Date(N,0,0):b?new Date(N,S,0):new Date(N,S,O,-1),U=v?new Date(10*Math.ceil(N/10)+1,0,1):D?new Date(N+1,0,1):b?new Date(N,S+1,1):new Date(N,S,O+1),Q=e("<table/>").addClass(f.table).addClass(R+" column").addClass(d).appendTo(A);if(!w){var Z=e("<thead/>").appendTo(Q);r=e("<tr/>").appendTo(Z),i=e("<th/>").attr("colspan",""+Y).appendTo(r);var G=v||D?new Date(N,0,1):b?new Date(N,S,1):new Date(N,S,O,H,F),X=e("<span/>").addClass(f.link).appendTo(i);X.text(m.header(G,d,c));var $=D?c.disableYear?"day":"year":b?c.disableMonth?"year":"month":"day";if(X.data(y.mode,$),0===o){var _=e("<span/>").addClass(f.prev).appendTo(i);_.data(y.focusDate,z),_.toggleClass(f.disabledCell,!p.helper.isDateInRange(B,d)),e("<i/>").addClass(f.prevIcon).appendTo(_)}if(o===j-1){var ee=e("<span/>").addClass(f.next).appendTo(i);ee.data(y.focusDate,L),ee.toggleClass(f.disabledCell,!p.helper.isDateInRange(U,d)),e("<i/>").addClass(f.nextIcon).appendTo(ee)}if(b)for(r=e("<tr/>").appendTo(Z),t=0;t<Y;t++)(i=e("<th/>").appendTo(r)).text(m.dayColumnHeader((t+c.firstDayOfWeek)%7,c))}var te=e("<tbody/>").appendTo(Q);for(t=v?10*Math.ceil(N/10)-9:b?1-V:0,a=0;a<E;a++)for(r=e("<tr/>").appendTo(te),n=0;n<Y;n++,t++){var ae=v?new Date(t,S,1,H,F):D?new Date(N,t,1,H,F):b?new Date(N,S,t,H,F):C?new Date(N,S,O,t):new Date(N,S,O,H,5*t),ne=v?t:D?c.text.monthsShort[t]:b?ae.getDate():m.time(ae,c,!0);(i=e("<td/>").addClass(f.cell).appendTo(r)).text(ne),i.data(y.date,ae);var oe=b&&ae.getMonth()!==(S+12)%12,re=oe||!p.helper.isDateInRange(ae,d)||c.isDisabled(ae,d),ie=p.helper.dateEqual(ae,u,d),le=p.helper.dateEqual(ae,s,d);i.toggleClass(f.adjacentCell,oe),i.toggleClass(f.disabledCell,re),i.toggleClass(f.activeCell,ie&&!oe),C||M||i.toggleClass(f.todayCell,!oe&&le);var de={mode:d,adjacent:oe,disabled:re,active:ie,today:le};m.cell(i,ae,de),p.helper.dateEqual(ae,h,d)&&p.set.focusDate(ae,!1,!1)}if(c.today){var se=e("<tr/>").appendTo(te),ue=e("<td/>").attr("colspan",""+Y).addClass(f.today).appendTo(se);ue.text(m.today(c)),ue.data(y.date,s)}p.update.focus(!1,Q)}}},update:{focus:function(t,a){a=a||x;var n=p.get.mode(),o=p.get.date(),i=p.get.focusDate(),l=p.get.startDate(),d=p.get.endDate(),s=(t?i:null)||o||(r?null:i);a.find("td").each(function(){var t=e(this),a=t.data(y.date);if(a){var o=t.hasClass(f.disabledCell),u=t.hasClass(f.activeCell),c=t.hasClass(f.adjacentCell),h=p.helper.dateEqual(a,i,n),g=!!s&&(!!l&&p.helper.isDateInRange(a,n,l,s)||!!d&&p.helper.isDateInRange(a,n,s,d));t.toggleClass(f.focusCell,h&&(!r||H)&&!c),t.toggleClass(f.rangeCell,g&&!u&&!o)}})}},refresh:function(){p.create.calendar()},bind:{events:function(){x.on("mousedown"+b,p.event.mousedown),x.on("touchstart"+b,p.event.mousedown),x.on("mouseup"+b,p.event.mouseup),x.on("touchend"+b,p.event.mouseup),x.on("mouseover"+b,p.event.mouseover),w.length?(w.on("input"+b,p.event.inputChange),w.on("focus"+b,p.event.inputFocus),w.on("blur"+b,p.event.inputBlur),w.on("click"+b,p.event.inputClick),w.on("keydown"+b,p.event.keydown)):x.on("keydown"+b,p.event.keydown)}},unbind:{events:function(){x.off(b),w.length&&w.off(b)}},event:{mouseover:function(t){var a=e(t.target).data(y.date),n=1===t.buttons;a&&p.set.focusDate(a,!1,!0,n)},mousedown:function(t){w.length&&t.preventDefault(),H=t.type.indexOf("touch")>=0;var a=e(t.target).data(y.date);a&&p.set.focusDate(a,!1,!0,!0)},mouseup:function(t){p.focus(),t.preventDefault(),t.stopPropagation(),H=!1;var a=e(t.target),n=a.parent();(n.data(y.date)||n.data(y.focusDate)||n.data(y.mode))&&(a=n);var o=a.data(y.date),r=a.data(y.focusDate),i=a.data(y.mode);if(o){var l=a.hasClass(f.today);p.selectDate(o,l)}else r?p.set.focusDate(r):i&&p.set.mode(i)},keydown:function(e){if(27!==e.keyCode&&9!==e.keyCode||p.popup("hide"),p.popup("is visible"))if(37===e.keyCode||38===e.keyCode||39===e.keyCode||40===e.keyCode){var t="day"===(u=p.get.mode())?7:"hour"===u?4:3,a=37===e.keyCode?-1:38===e.keyCode?-t:39==e.keyCode?1:t;a*="minute"===u?5:1;var n=p.get.focusDate()||p.get.date()||new Date,o=n.getFullYear()+("year"===u?a:0),r=n.getMonth()+("month"===u?a:0),i=n.getDate()+("day"===u?a:0),l=n.getHours()+("hour"===u?a:0),d=n.getMinutes()+("minute"===u?a:0),s=new Date(o,r,i,l,d);"time"===c.type&&(s=p.helper.mergeDateTime(n,s)),p.helper.isDateInRange(s,u)&&p.set.focusDate(s)}else if(13===e.keyCode){var u=p.get.mode(),f=p.get.focusDate();f&&!c.isDisabled(f,u)&&p.selectDate(f),e.preventDefault(),e.stopPropagation()}38!==e.keyCode&&40!==e.keyCode||(e.preventDefault(),p.popup("show"))},inputChange:function(){var e=w.val(),t=v.date(e,c);p.set.date(t,!1)},inputFocus:function(){x.addClass(f.active)},inputBlur:function(){if(x.removeClass(f.active),c.formatInput){var e=p.get.date(),t=m.datetime(e,c);w.val(t)}},inputClick:function(){p.popup("show")}},get:{date:function(){return M.data(y.date)||null},focusDate:function(){return M.data(y.focusDate)||null},startDate:function(){var e=p.get.calendarModule(c.startCalendar);return(e?e.get.date():M.data(y.startDate))||null},endDate:function(){var e=p.get.calendarModule(c.endCalendar);return(e?e.get.date():M.data(y.endDate))||null},monthOffset:function(){return M.data(y.monthOffset)||0},mode:function(){var t=M.data(y.mode)||c.startMode,a=p.get.validModes();return e.inArray(t,a)>=0?t:"time"===c.type?"hour":"month"===c.type?"month":"year"===c.type?"year":"day"},validModes:function(){var e=[];return"time"!==c.type&&(c.disableYear&&"year"!==c.type||e.push("year"),(!c.disableMonth&&"year"!==c.type||"month"===c.type)&&e.push("month"),c.type.indexOf("date")>=0&&e.push("day")),c.type.indexOf("time")>=0&&(e.push("hour"),c.disableMinute||e.push("minute")),e},isTouch:function(){try{return a.createEvent("TouchEvent"),!0}catch(e){return!1}},calendarModule:function(t){return t?(t instanceof e||(t=M.parent().children(t).first()),t.data(C)):null}},set:{date:function(e,t,a){t=!1!==t,a=!1!==a,e=p.helper.sanitiseDate(e),e=p.helper.dateInRange(e);var o=p.get.mode(),r=m.datetime(e,c);if(a&&!1===c.onChange.call(T,e,r,o))return!1;if(p.set.focusDate(e),c.isDisabled(e,o))return!1;var i=p.get.endDate();i&&e&&e>i&&p.set.endDate(n),p.set.dataKeyValue(y.date,e),t&&w.length&&w.val(r)},startDate:function(e,t){e=p.helper.sanitiseDate(e);var a=p.get.calendarModule(c.startCalendar);a&&a.set.date(e),p.set.dataKeyValue(y.startDate,e,t)},endDate:function(e,t){e=p.helper.sanitiseDate(e);var a=p.get.calendarModule(c.endCalendar);a&&a.set.date(e),p.set.dataKeyValue(y.endDate,e,t)},focusDate:function(e,t,a,n){e=p.helper.sanitiseDate(e),e=p.helper.dateInRange(e);var o="day"===p.get.mode(),r=p.get.focusDate();if(o&&e&&r){var i=12*(e.getFullYear()-r.getFullYear())+e.getMonth()-r.getMonth();if(i){var l=p.get.monthOffset()-i;p.set.monthOffset(l,!1)}}var d=p.set.dataKeyValue(y.focusDate,e,t);a=!1!==a&&d&&!1===t||O!=n,O=n,a&&p.update.focus(n)},monthOffset:function(e,t){var a=Math.max(c.multiMonth,1);e=Math.max(1-a,Math.min(0,e)),p.set.dataKeyValue(y.monthOffset,e,t)},mode:function(e,t){p.set.dataKeyValue(y.mode,e,t)},dataKeyValue:function(e,t,a){var n=M.data(e),o=n===t||n<=t&&n>=t;return t?M.data(e,t):M.removeData(e),(a=!1!==a&&!o)&&p.create.calendar(),!o}},selectDate:function(e,t){var a=p.get.mode();if(t||"minute"===a||c.disableMinute&&"hour"===a||"date"===c.type&&"day"===a||"month"===c.type&&"month"===a||"year"===c.type&&"year"===a){if(!(!1===p.set.date(e))&&c.closable){p.popup("hide");var n=p.get.calendarModule(c.endCalendar);n&&(n.popup("show"),n.focus())}}else{var o="year"===a?c.disableMonth?"day":"month":"month"===a?"day":"day"===a?"hour":"minute";p.set.mode(o),"hour"===a||"day"===a&&p.get.date()?p.set.date(e):p.set.focusDate(e)}},changeDate:function(e){p.set.date(e)},clear:function(){p.set.date(n)},popup:function(){return k.popup.apply(k,arguments)},focus:function(){w.length?w.focus():x.focus()},blur:function(){w.length?w.blur():x.blur()},helper:{sanitiseDate:function(e){return e?(e instanceof Date||(e=v.date(""+e,c)),isNaN(e.getTime())?n:e):n},dateDiff:function(e,t,a){a=a||"day";var n="time"===c.type,o="year"===a,r=o||"month"===a,i="minute"===a,l=i||"hour"===a;return e=new Date(n?2e3:e.getFullYear(),n?0:o?0:e.getMonth(),n?1:r?1:e.getDate(),l?e.getHours():0,i?5*Math.floor(e.getMinutes()/5):0),(t=new Date(n?2e3:t.getFullYear(),n?0:o?0:t.getMonth(),n?1:r?1:t.getDate(),l?t.getHours():0,i?5*Math.floor(t.getMinutes()/5):0)).getTime()-e.getTime()},dateEqual:function(e,t,a){return!!e&&!!t&&0===p.helper.dateDiff(e,t,a)},isDateInRange:function(e,t,a,n){if(!a&&!n){var o=p.get.startDate();a=o&&c.minDate?new Date(Math.max(o,c.minDate)):o||c.minDate,n=c.maxDate}return a=a&&new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),5*Math.ceil(a.getMinutes()/5)),!(!e||a&&p.helper.dateDiff(e,a,t)>0||n&&p.helper.dateDiff(n,e,t)>0)},dateInRange:function(e,t,a){if(!t&&!a){var n=p.get.startDate();t=n&&c.minDate?new Date(Math.max(n,c.minDate)):n||c.minDate,a=c.maxDate}t=t&&new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),5*Math.ceil(t.getMinutes()/5));var o="time"===c.type;return e?t&&p.helper.dateDiff(e,t,"minute")>0?o?p.helper.mergeDateTime(e,t):t:a&&p.helper.dateDiff(a,e,"minute")>0?o?p.helper.mergeDateTime(e,a):a:e:e},mergeDateTime:function(e,t){return e&&t?new Date(e.getFullYear(),e.getMonth(),e.getDate(),t.getHours(),t.getMinutes()):t}},setting:function(t,a){if(p.debug("Changing setting",t,a),e.isPlainObject(t))e.extend(!0,c,t);else{if(a===n)return c[t];e.isPlainObject(c[t])?e.extend(!0,c[t],a):c[t]=a}},internal:function(t,a){return p.debug("Changing internal",t,a),a===n?p[t]:void(e.isPlainObject(t)?e.extend(!0,p,t):p[t]=a)},debug:function(){!c.silent&&c.debug&&(c.performance?p.performance.log(arguments):(p.debug=Function.prototype.bind.call(console.info,console,c.name+":"),p.debug.apply(console,arguments)))},verbose:function(){!c.silent&&c.verbose&&c.debug&&(c.performance?p.performance.log(arguments):(p.verbose=Function.prototype.bind.call(console.info,console,c.name+":"),p.verbose.apply(console,arguments)))},error:function(){c.silent||(p.error=Function.prototype.bind.call(console.error,console,c.name+":"),p.error.apply(console,arguments))},performance:{log:function(e){var t,a;c.performance&&(a=(t=(new Date).getTime())-(i||t),i=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:T,"Execution Time":a})),clearTimeout(p.performance.timer),p.performance.timer=setTimeout(p.performance.display,500)},display:function(){c.name;var t=0;i=!1,clearTimeout(p.performance.timer),e.each(l,function(e,a){t+=a["Execution Time"]}),(console.group!==n||console.table!==n)&&l.length>0&&(console.table||e.each(l,function(e,t){})),l=[]}},invoke:function(t,a,r){var i,l,d,s=F;return a=a||u,r=T||r,"string"==typeof t&&s!==n&&(t=t.split(/[\. ]/),i=t.length-1,e.each(t,function(a,o){var r=a!=i?o+t[a+1].charAt(0).toUpperCase()+t[a+1].slice(1):t;if(e.isPlainObject(s[r])&&a!=i)s=s[r];else{if(s[r]!==n)return l=s[r],!1;if(!e.isPlainObject(s[o])||a==i)return s[o]!==n?(l=s[o],!1):(p.error(D.method,t),!1);s=s[o]}})),e.isFunction(l)?d=l.apply(r,a):l!==n&&(d=l),e.isArray(o)?o.push(d):o!==n?o=[o,d]:d!==n&&(o=d),l}},s?(F===n&&p.initialize(),p.invoke(d)):(F!==n&&F.invoke("destroy"),p.initialize())}),o!==n?o:this},e.fn.calendar.settings={name:"Calendar",namespace:"calendar",silent:!1,debug:!1,verbose:!1,performance:!1,type:"datetime",firstDayOfWeek:0,constantHeight:!0,today:!1,closable:!0,monthFirst:!0,touchReadonly:!0,inline:!1,on:null,initialDate:null,startMode:!1,minDate:null,maxDate:null,ampm:!0,disableYear:!1,disableMonth:!1,disableMinute:!1,formatInput:!0,startCalendar:null,endCalendar:null,multiMonth:1,popupOptions:{position:"bottom left",lastResort:"bottom left",prefer:"opposite",hideOnScroll:!1},text:{days:["S","M","T","W","T","F","S"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",now:"Now",am:"AM",pm:"PM"},formatter:{header:function(e,t,a){return"year"===t?a.formatter.yearHeader(e,a):"month"===t?a.formatter.monthHeader(e,a):"day"===t?a.formatter.dayHeader(e,a):"hour"===t?a.formatter.hourHeader(e,a):a.formatter.minuteHeader(e,a)},yearHeader:function(e,t){var a=10*Math.ceil(e.getFullYear()/10);return a-9+" - "+(a+2)},monthHeader:function(e,t){return e.getFullYear()},dayHeader:function(e,t){return t.text.months[e.getMonth()]+" "+e.getFullYear()},hourHeader:function(e,t){return t.formatter.date(e,t)},minuteHeader:function(e,t){return t.formatter.date(e,t)},dayColumnHeader:function(e,t){return t.text.days[e]},datetime:function(e,t){if(!e)return"";var a="time"===t.type?"":t.formatter.date(e,t),n=t.type.indexOf("time")<0?"":t.formatter.time(e,t,!1);return a+("datetime"===t.type?" ":"")+n},date:function(e,t){if(!e)return"";var a=e.getDate(),n=t.text.months[e.getMonth()],o=e.getFullYear();return"year"===t.type?o:"month"===t.type?n+" "+o:(t.monthFirst?n+" "+a:a+" "+n)+", "+o},time:function(e,t,a){if(!e)return"";var n=e.getHours(),o=e.getMinutes(),r="";return t.ampm&&(r=" "+(n<12?t.text.am:t.text.pm),n=0===n?12:n>12?n-12:n),n+":"+(o<10?"0":"")+o+r},today:function(e){return"date"===e.type?e.text.today:e.text.now},cell:function(e,t,a){}},parser:{date:function(t,a){if(!t)return null;if(0===(t=(""+t).trim().toLowerCase()).length)return null;var o,r,i,l=-1,d=-1,s=-1,u=-1,p=-1,c=n,f="time"===a.type,h=a.type.indexOf("time")<0,g=t.split(a.regExp.dateWords),m=t.split(a.regExp.dateNumbers);if(!h)for(c=e.inArray(a.text.am.toLowerCase(),g)>=0||!(e.inArray(a.text.pm.toLowerCase(),g)>=0)&&n,o=0;o<m.length;o++){var v=m[o];if(v.indexOf(":")>=0){if(d<0||l<0){var y=v.split(":");for(i=0;i<Math.min(2,y.length);i++)r=parseInt(y[i]),isNaN(r)&&(r=0),0===i?d=r%24:l=r%60}m.splice(o,1)}}if(!f){for(o=0;o<g.length;o++){var D=g[o];if(!(D.length<=0)){for(D=D.substring(0,Math.min(D.length,3)),r=0;r<a.text.months.length;r++){var b=a.text.months[r];if((b=b.substring(0,Math.min(D.length,Math.min(b.length,3))).toLowerCase())===D){u=r+1;break}}if(u>=0)break}}for(o=0;o<m.length;o++)if(r=parseInt(m[o]),!isNaN(r)&&r>59){p=r,m.splice(o,1);break}if(u<0)for(o=0;o<m.length;o++)if(i=o>1||a.monthFirst?o:1===o?0:1,r=parseInt(m[i]),!isNaN(r)&&1<=r&&r<=12){u=r,m.splice(i,1);break}for(o=0;o<m.length;o++)if(r=parseInt(m[o]),!isNaN(r)&&1<=r&&r<=31){s=r,m.splice(o,1);break}if(p<0)for(o=m.length-1;o>=0;o--)if(r=parseInt(m[o]),!isNaN(r)){r<99&&(r+=2e3),p=r,m.splice(o,1);break}}if(!h){if(d<0)for(o=0;o<m.length;o++)if(r=parseInt(m[o]),!isNaN(r)&&0<=r&&r<=23){d=r,m.splice(o,1);break}if(l<0)for(o=0;o<m.length;o++)if(r=parseInt(m[o]),!isNaN(r)&&0<=r&&r<=59){l=r,m.splice(o,1);break}}if(l<0&&d<0&&s<0&&u<0&&p<0)return null;l<0&&(l=0),d<0&&(d=0),s<0&&(s=1),u<0&&(u=1),p<0&&(p=(new Date).getFullYear()),c!==n&&(c?12===d&&(d=0):d<12&&(d+=12));var C=new Date(p,u-1,s,d,l);return C.getMonth()===u-1&&C.getFullYear()===p||(C=new Date(p,u,0,d,l)),isNaN(C.getTime())?null:C}},onChange:function(e,t,a){return!0},onShow:function(){},onVisible:function(){},onHide:function(){},onHidden:function(){},isDisabled:function(e,t){return!1},selector:{popup:".ui.popup",input:"input",activator:"input"},regExp:{dateWords:/[^A-Za-z\u00C0-\u024F]+/g,dateNumbers:/[^\d:]+/g},error:{popup:"UI Popup, a required component is not included in this page",method:"The method you called is not defined."},className:{calendar:"calendar",active:"active",popup:"ui popup",grid:"ui equal width grid",column:"column",table:"ui celled center aligned unstackable table",prev:"prev link",next:"next link",prevIcon:"chevron left icon",nextIcon:"chevron right icon",link:"link",cell:"link",disabledCell:"disabled",adjacentCell:"adjacent",activeCell:"active",rangeCell:"range",focusCell:"focus",todayCell:"today",today:"today link"},metadata:{date:"date",focusDate:"focusDate",startDate:"startDate",endDate:"endDate",mode:"mode",monthOffset:"monthOffset"}}}(jQuery,window,document);
"use strict";OSCDefine("web-translate-edit",function(){var a=function(){this._translateEditEl=$(".translate-edit"),this._baseTab=$(".base-tab.menu"),this._paragraphsContainer=this._translateEditEl.find("#paragraphsContainer"),this._paragraphsWrap=this._paragraphsContainer.find(".paragraphs-wrap"),this._baseInfoForm=$(".base-info.form"),this._addParagraphForm=$(".add-paragraph.form"),this._addParagraphContentTextarea=this._addParagraphForm.find("textarea[name=article_detail]")};return a.prototype={constructor:a,hightlight:function(){$("pre, pre code").each(function(a,t){var e=$(this),r=(e.attr("class")||"").match(/language-(.*)/);if(r&&r.length>1){var n=r[r.length-1];e.attr("class","hljs "+n)}hljs.highlightBlock(t)})},initTab:function(){this._baseTab.find(".item").tab({onLoad:function(a){if("paragraph"===a){var t=CKEDITOR.instances.article_detail;t&&t.focus()}}})},initBaseInfoForm:function(){var a=this;this._baseInfoForm.find(".ui.checkbox").checkbox(),this._baseInfoForm.find(".pub-time").calendar({type:"date",text:{days:["日","一","二","三","四","五","六"],months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthsShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],today:"今天",now:"现在",am:"上午",pm:"下午"},formatter:{date:function(a,t){if(!a)return"";var e=function(a){return parseInt(a)>9?a+"":"0"+a};return e(a.getFullYear())+"-"+e(a.getMonth()+1)+"-"+e(a.getDate())}}}),this._baseInfoForm.find(".category.dropdown").dropdown(),this._baseInfoForm.find(".project-name.dropdown").dropdown({allowAdditions:!0,maxSelections:5,fields:{remoteValues:"results",value:"value",name:"name"},filterRemoteData:!1,apiSettings:{url:page.api_prefix+"/project/list_projects?q={query}",method:"get",dataType:"JSON",cache:!1,throttle:200,interruptRequests:!0,onResponse:function(a){var t=[];return 1===a.code&&Array.isArray(a.result)&&a.result.length>0&&(t=a.result.map(function(a){return{name:a.name,value:a.name}})),{results:t}}},onNoResults:function(a){return!!(a&&a.trim().length>0)}}),this._baseInfoForm.form({inline:!0,keyboardShortcuts:!1,fields:{title_en:{rules:[{type:"empty",prompt:"请输入英文标题"}]},title_cn:{rules:[{type:"empty",prompt:"请输入中文标题"}]},link_en:{rules:[{type:"empty",prompt:"请输入英文链接"}]},ident:{rules:[{type:"empty",prompt:"请输入URL标识"}]},category:{rules:[{type:"empty",prompt:"请选择分类"}]},pub_time:{rules:[{type:"empty",prompt:"请选择发布日期"}]}}}).api({url:page.api_prefix+"/translate/edit_paying",method:"post",serializeForm:!0,beforeSend:function(a){$(this).message("hideAll");var t=a.data;return a.data={id:page.objId,title_en:t.title_en,title_cn:t.title_cn,link_en:t.link_en,ident:t.ident,type:t.type,fee:t.fee,assign:t.assign,category:t.category,prj:t.prj,tags:t.tags,pub_time:t.pub_time,user_name:t.user_name,status:t.status,trans_status:t.trans_status},a},onSuccess:function(a,t,e){if(1===a.code){var r=a.result.titleEN||"",n=a.result.url||"",i="修改成功";r&&n&&(i='文章修改成功：<a href="'+n+'" target="_blank">'+r+"</a>"),$(this).message({type:"positive",content:i,disappear:2e3})}else $(this).message({type:"negative",content:a.message||"修改失败",disappear:2e3})},onFailure:function(a,t){$(this).message({type:"negative",content:"网络错误，请稍后再试",disappear:2e3})}}),this._baseInfoForm.find(".check-title-btn").on("click",function(){if(a._baseInfoForm.form("validate field","title_en")){var t=a._baseInfoForm.find('input[name="title_en"]').val()||"";$.post(page.api_prefix+"/translate/check_article_title",{title:t},function(a){1===a.code?$("body").toast({type:"success",content:a.message||"文章标题可用"}):$("body").toast({type:"error",content:a.message||"文章标题已存在"})}).fail(function(){$("body").toast({type:"error",content:"网络异常，请稍后再试"})})}})},initAddParagraphForm:function(){var a=this,t={height:300,resize_enabled:!1,removePlugins:"elementspath",uploadUrl:page.api_prefix+"/translate/ckeditor_dialog_img_upload",filebrowserUploadUrl:page.api_prefix+"/translate/ckeditor_dialog_img_upload"};(function(){var e=CKEDITOR.replace(a._addParagraphContentTextarea[0],t);e.on("instanceReady",function(a){e.focus()}),e.on("change",function(t){a._addParagraphContentTextarea.val(t.editor.getData())}),e.on("fileUploadResponse",function(t){setTimeout(function(){a._addParagraphContentTextarea.val(t.editor.getData())},0)}),e.on("mode",function(t){if("source"===this.mode){var r=e.editable();r.attachListener(r,"input",function(){a._addParagraphContentTextarea.val(t.editor.getData())})}})})(),a._addParagraphForm.form({inline:!0,fields:{article_detail:{identifier:"article_detail",rules:[{type:"empty",prompt:"请输入内容"}]}}}).api({url:page.api_prefix+"/translate/add_paragraph",method:"post",serializeForm:!0,beforeSend:function(a){$(this).message("hideAll");var t=a.data;return a.data={id:page.objId,article_detail:t.article_detail},a},onSuccess:function(t,e,r){if(1===t.code){$(this).message({type:"positive",content:"添加成功",disappear:2e3}),a._translateEditEl.find(".switch-buttons .active.lang-switch-btn").click();var n=CKEDITOR.instances.article_detail;n&&(n.setData(""),a._addParagraphContentTextarea.val(""))}else $(this).message({type:"negative",content:t.message||"添加失败",disappear:2e3})},onFailure:function(a,t){$(this).message({type:"negative",content:"网络错误，请稍后再试",disappear:2e3})}})},initParagraphListPJAX:function(){var a=this,t=$(".paragraph-loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax("#paragraphsContainer .paragraphs-wrap .pagination a, .lang-switch-btn","#paragraphsContainer .paragraphs-wrap",{scrollTo:!1}),$(document).on("pjax:send",function(a){$(a.target);"paragraphs-wrap"===a.target.className&&t.addClass("active")}),$(document).on("pjax:complete",function(e){$(e.target);if("paragraphs-wrap"===e.target.className){var r=e.relatedTarget,n=$(r).parent();n.hasClass("pagination");$(r).hasClass("lang-switch-btn")&&(n.find(".lang-switch-btn").removeClass("active"),$(r).addClass("active")),t.removeClass("active"),$("html, body").stop().animate({scrollTop:a._paragraphsWrap.offset().top-120},500,"swing")}})},initParagraphAction:function(){var a=this,t=$(".delete-paragraph.modal").modal({onApprove:function(){var t=$(this).attr("data-paragraph-id"),e=a._paragraphsWrap.find("div.translate-paragraph[data-paragraph-id="+t+"]"),r=a._paragraphsWrap.find("div.other-translated-wrap[data-paragraph-id="+t+"]");$.post(page.api_prefix+"/translate/delete_paragraph",{id:t},function(a){1===a.code?($("body").toast({type:"success",content:"删除成功"}),e.fadeOut(function(){e.remove()}),r.fadeOut(function(){r.remove()})):$("body").toast({type:"error",content:a.message||"删除失败"})}).fail(function(){$("body").toast({type:"error",content:"网络异常，请稍后再试"})})}});this._paragraphsContainer.on("click",".actions a.item.delete-btn",function(a){a.stopPropagation();var e=$(a.target).parents(".translate-paragraph:eq(0)").attr("data-paragraph-id");t.attr("data-paragraph-id",e),t.modal("show")})},initParagraphOtherTranslated:function(){var a=this;this._paragraphsContainer.on("click",".show-other-translated-btn",function(t){t.stopPropagation();var e=$(t.target).parents(".translate-paragraph:eq(0)"),r=e.attr("data-paragraph-id"),n=e.attr("data-translated-paragraph-id"),i=a._paragraphsContainer.find('.other-translated-wrap[data-paragraph-id="'+r+'"]');if(!i||i.length<=0)return!1;"block"===i.css("display")?i.slideUp():(i.slideDown(),i.data("load")||$.get("/translate/widgets/_translate_detail_paragraph_chs_others_ajax?pid="+r+"&ppid="+n,function(t){i.html(t),i.data("load",!0),a.hightlight()}).fail(function(){$("body").toast({type:"error",content:"网络异常，请稍后再试"}),setTimeout(function(){i.slideUp()},2e3)}))}),this._paragraphsContainer.on("click",".collapse-other-translated-btn",function(t){t.stopPropagation();var e=$(t.target).parents(".translate-paragraph:eq(0)"),r=e.attr("data-paragraph-id"),n=(e.attr("data-translated-paragraph-id"),a._paragraphsContainer.find('.other-translated-wrap[data-paragraph-id="'+r+'"]'));if(!n||n.length<=0)return!1;"block"===n.css("display")&&n.slideUp()})},register:function(){this.initTab(),this.initBaseInfoForm(),this.initAddParagraphForm(),this.initParagraphListPJAX(),this.initParagraphAction(),this.initParagraphOtherTranslated(),this.hightlight()}},a});
"use strict";OSCDefine("web-search",function(){var a=function(){this._searchEl=$(".web-search"),this._searchContainerWrap=this._searchEl.find(".search-container-wrap")};return a.prototype={constructor:a,initPJAX:function(){var a=this,e=a._searchContainerWrap.find(".search-container-loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax(".search-container .search-tabs .item, .search-container .search-filter .dropdown .item, .search-container .search-list-wrap .pagination a",".search-container",{scrollTo:!1}),$(document).on("pjax:send",function(){e.addClass("active")}),$(document).on("pjax:complete",function(t){$(t.target);var r=t.relatedTarget,i=$(r).parent(),n=i.hasClass("pagination"),o=i.hasClass("search-tabs");if(e.removeClass("active"),a.optimizeImgShow(),a.initFilterToolBar(),o){var c=$(r).data("scope")||"";c&&$('#headerNavMenu .search-item input[name="scope"]').val(c)}if(n){var s=a._searchContainerWrap.offset().top;s-59>=0&&(s-=59),$("html, body").stop(!0).animate({scrollTop:s},500,"swing")}})},initFilterToolBar:function(){this._searchContainerWrap.find(".search-filter .dropdown").dropdown(),this._searchContainerWrap.find(".search-filter .checkbox").checkbox({onChange:function(){var a=$(this).parent(".checkbox"),e=a.data("url");$.pjax({url:e,container:".search-container",scrollTo:!1})}})},optimizeImgShow:function(){$(function(){$("[data-img-render]").imgOptimize(90,90)})},register:function(){this.initPJAX(),this.initFilterToolBar(),this.optimizeImgShow()}},a});
"use strict";OSCPlugin("feed-common",function(){var t=function(){this._feedPageCommon=$(".web-feed-common"),this._feedSidebar=$(".feed-sidebar"),this._feedListContainer=$(".feed-list-container"),this.followBtnStatusCode={UN_FOLLOW:1,FOLLOWED:2},this.followBtnStatusConf={UN_FOLLOW:{normal:{selfRemoveClass:"basic",selfAddClass:"basic",text:"订阅",icon:"plus icon",textIcon:"+",textIconClass:"plus"},hover:{selfRemoveClass:"basic",selfAddClass:"basic",text:"订阅",icon:"plus icon",textIcon:"+",textIconClass:"plus"}},FOLLOWED:{normal:{selfRemoveClass:"basic",selfAddClass:"",text:"已订阅",icon:"check icon",textIcon:"×",textIconClass:"check"},hover:{selfRemoveClass:"basic",selfAddClass:"",text:"取消订阅",icon:"check icon",textIcon:"×",textIconClass:"check"}}},this.register()};return t.prototype={constructor:t,setFollowBtnStatus:function(t,o,s){o="normal"===o?"normal":"hover";var e,n,a,i,l,c,d=s.find(".text"),r=s.find("i"),f=s.find(".text-icon");switch(t){case this.followBtnStatusCode.UN_FOLLOW:e=this.followBtnStatusConf.UN_FOLLOW[o],s.attr("data-follow-status",this.followBtnStatusCode.UN_FOLLOW);break;case this.followBtnStatusCode.FOLLOWED:e=this.followBtnStatusConf.FOLLOWED[o],s.attr("data-follow-status",this.followBtnStatusCode.FOLLOWED)}d.html(e.text),n=e.icon,r.attr("class",n),a=e.textIcon,i=e.textIconClass,f.text(a),f.attr("class","").addClass("text-icon").addClass(i),l=e.selfRemoveClass,c=e.selfAddClass,s.removeClass(l).addClass(c)},setFollowBtnCount:function(t,o){var s=o.find(".count"),e=t;window.common&&"function"==typeof window.common.formatNumberK&&(e=window.common.formatNumberK(t)),s.text(e)},bindFollowBtnHover:function(){var t=this;$(document).on("mouseenter",".subscribe-btn",function(){var o=$(this),s=parseInt(o.attr("data-follow-status"));t.setFollowBtnStatus(s,"hover",o)}),$(document).on("mouseleave",".subscribe-btn",function(){var o=$(this),s=parseInt(o.attr("data-follow-status"));t.setFollowBtnStatus(s,"normal",o)})},bindFollowBtnClick:function(){var t=this;$(document).on("click",".subscribe-btn",function(o){o.preventDefault();var s=$(this),e=this,n=parseInt(s.attr("data-follow-status")),a=parseInt(s.attr("data-follow-count")),i=s.attr("data-id"),l=s.attr("data-type"),c=$('.subscribe-btn[data-id="'+i+'"][data-type="'+l+'"]'),d=1===n?2:1,r=isNaN(a)?-1:a+(1===d?-1:1);t.setFollowBtnStatus(d,"normal",c),s.attr("data-follow-count",r);var f=new CustomEvent("subscribe",{detail:{id:i,count:r},bubbles:!0,cancelable:!0});e.dispatchEvent(f)})},bindVisitLinkRecord:function(){this._feedPageCommon.on("click","a[data-visit-key]",function(){var t=$(this).data("visit-key")+"";t&&""!==t&&$.post(page.api_prefix+"/feed/readingRecord",{key:t},function(t){t.code}).fail(function(){})})},register:function(){this.bindFollowBtnHover(),this.bindFollowBtnClick(),this.bindVisitLinkRecord()}},t});
"use strict";OSCDefine("web-feed-index",["feed-common"],function(){var e=function(){var e=this;e._feedEl=$(".web-feed"),e._feedListContainerWrap=e._feedEl.find(".feed-list-container-wrap"),e._deliveryForm=e._feedEl.find(".delivery-form"),e._articleInfiniteScroll={feedList:new OSCInfiniteScroll({pagePath:".pagination__next",checkLastPage:!0,containerSelector:"#feedList",itemListSelector:".feed-list-container",loadMoreBtnSelector:".load-more-button",statusSelector:".page-load-status",defaultAutoLoadPageCount:5,itemSelector:".item.feed-item",loadOnScroll:!0,onAppend:function(){e.optimizeImgShow(),e.initArticleItemMoreAction()}})}};return e.prototype={constructor:e,initArticleInfiniteScroll:function(){this._articleInfiniteScroll.feedList&&this._articleInfiniteScroll.feedList.destroy(),this._articleInfiniteScroll.feedList.init()},optimizeImgShow:function(){$(function(){$("[data-img-render]").imgOptimize()})},initDeliveryForm:function(){var e=this,i=function(){var i=e._deliveryForm.find(".delivery.button"),t=e._deliveryForm.find('input[name="link"]'),n=t.val();return void 0===n||null===n||0===n.length?($("body").toast({type:"negative",content:"请输入文章链接"}),!1):/http(s?):\/\//.test(n)?!!window.common.checkLogin()&&(i.addClass("disabled"),void $.post(page.api_prefix+"/feed/addLink",{link:n,userId:page.g_user_id||""},function(e){1===e.code?($("body").toast({type:"positive",content:"投递成功"}),t.val("")):$("body").toast({type:"negative",content:e.message||"投递失败，请稍后再试"})}).fail(function(){$("body").toast({type:"negative",content:"网络错误，请稍后再试"})}).always(function(){i.removeClass("disabled")})):($("body").toast({type:"negative",content:"请输入正确的 URL 地址"}),!1)};e._deliveryForm.on("click",".delivery.button",function(){i()}),e._deliveryForm.keyup(function(e){13===e.keyCode&&i()})},bindListRecommendTags:function(){this._feedListContainerWrap.on("subscribe",function(e){var i=e.originalEvent.detail,t=$(e.target).parents(".card:eq(0)"),n=t.find(".subscribe-info > .text > .count");i&&i.count>=0&&n.text(i.count)})},initArticleItemMoreAction:function(){this._feedListContainerWrap.find(".feed-item .right-action > .item.dislike").each(function(e,i){var t=$(i);if(!0===t.data("init-popup"))return!0;t.popup({position:"bottom right",hoverable:!1,on:"click",popup:".popup-dislike-panel",onShow:function(){if(!window.common.checkLogin())return!1;$(this).parents(".feed-item:eq(0)").find(".popup-dislike-panel").find(".checkbox").checkbox("uncheck")}}),t.data("init-popup",!0)})},initArticleItemMoreDislikeAction:function(){this._feedListContainerWrap.on("click",".feed-item .popup-dislike-panel .button",function(){var e=$(this),i=$(this).parents(".feed-item:eq(0)"),t=i.find(".popup-dislike-panel"),n=i.attr("data-key");if(e.hasClass("cancel"))return i.find(".right-action > .item.dislike").popup("hide"),!0;if(e.hasClass("confirm")){var o=[];t.find(".checkbox input[type=checkbox]:checked").each(function(e,i){var t=$(i).val();t&&o.push(t)});var a=o.join(",")||"";e.addClass("disabled"),$.post(page.api_prefix+"/feed/not_interested",{article:n,tags:a,user:page.g_user_id||""},function(e){1===e.code?(i.fadeOut(function(){i.remove()}),i.find(".right-action > .item.dislike").popup("hide")):$("body").toast({type:"negative",content:e.message||"提交失败，请稍后再试"})}).fail(function(){$("body").toast({type:"negative",content:"网络错误，请稍后再试"})}).always(function(){e.removeClass("disabled")})}})},register:function(){this.initArticleInfiniteScroll(),this.initArticleItemMoreAction(),this.initArticleItemMoreDislikeAction(),this.optimizeImgShow(),this.initDeliveryForm(),this.bindListRecommendTags()}},e});
"use strict";OSCPlugin("feed-detail-comments",function(){return function(){var e={config:{objId:0,fetchCommentsUrl:"",publishCommentUrl:"",replyCommentUrl:"",deleteCommentUrl:""},init:function(e){this._commentsContainer=$("#commentsContainer"),this._commentsWrap=this._commentsContainer.find(".comments-wrap"),this.config=$.isPlainObject(e)?$.extend(!0,{},this.config,e):$.extend({},this.config)},loadComments:function(e,t){var o=this,n=Math.floor(e)||1;if(-1===n){var a=o._commentsWrap.find(".pagination-wrap");n=Math.floor(a.data("page"))||1}var i=window.common.addQueryParams(o.config.fetchCommentsUrl,{p:n});$.get(i,function(e){o._commentsWrap.html(e),o.parseEmoticon(),t&&$.isFunction(t)&&t.call(this)})},loadCommentsByCommentId:function(e,t){var o=this,n=Math.floor(e)||1,a=window.common.addQueryParams(o.config.fetchCommentsUrl,{commentId:n});$.get(a,function(e){o._commentsWrap.html(e),o.parseEmoticon(),t&&$.isFunction(t)&&t.call(this)})},initCommentForm:function(){var e=this,t="OSC_FEED_"+page.objId+"_COMMENT_CACHE",o="OSC_FEED_"+page.objId+"_COMMENT_PUBLISH_CACHE",n=window.common.throttle(function(e){try{e&&e.trim().length>0?localStorage.setItem(t,e):localStorage.removeItem(t)}catch(e){}},500);e.commentFormVue=new Vue({el:"#commentForm",data:function(){return{commentMaxLength:1e3,commentContent:"",commentPublishLoading:!1,tipMessage:{show:!1,content:"",className:""},curEmojiType:"People",emojiList:[{type:"People",items:["bowtie","smile","laughing","blush","smiley","relaxed","smirk","heart_eyes","kissing_heart","kissing_closed_eyes","flushed","relieved","satisfied","grin","wink","stuck_out_tongue_winking_eye","stuck_out_tongue_closed_eyes","grinning","kissing","kissing_smiling_eyes","stuck_out_tongue","sleeping","worried","frowning","anguished","open_mouth","grimacing","confused","hushed","expressionless","unamused","sweat_smile","sweat","disappointed_relieved","weary","pensive","disappointed","confounded","fearful","cold_sweat","persevere","cry","sob","joy","astonished","scream","neckbeard","tired_face","angry","rage","triumph","sleepy","yum","mask","sunglasses","dizzy_face","imp","smiling_imp","neutral_face","no_mouth","innocent","alien","yellow_heart","blue_heart","purple_heart","heart","green_heart","broken_heart","heartbeat","heartpulse","two_hearts","revolving_hearts","cupid","sparkling_heart","sparkles","star","star2","dizzy","boom","collision","anger","exclamation","question","grey_exclamation","grey_question","zzz","dash","sweat_drops","notes","musical_note","fire","hankey","poop","shit","+1","thumbsup","-1","thumbsdown","ok_hand","punch","facepunch","fist","v","wave","hand","raised_hand","open_hands","point_up","point_down","point_left","point_right","raised_hands","pray","point_up_2","clap","muscle","metal","fu","walking","runner","running","couple","family","two_men_holding_hands","two_women_holding_hands","dancer","dancers","ok_woman","no_good","information_desk_person","raising_hand","bride_with_veil","person_with_pouting_face","person_frowning","bow","couplekiss","couple_with_heart","massage","haircut","nail_care","boy","girl","woman","man","baby","older_woman","older_man","person_with_blond_hair","man_with_gua_pi_mao","man_with_turban","construction_worker","cop","angel","princess","smiley_cat","smile_cat","heart_eyes_cat","kissing_cat","smirk_cat","scream_cat","crying_cat_face","joy_cat","pouting_cat","japanese_ogre","japanese_goblin","see_no_evil","hear_no_evil","speak_no_evil","guardsman","skull","feet","lips","kiss","droplet","ear","eyes","nose","tongue","love_letter","bust_in_silhouette","busts_in_silhouette","speech_balloon","thought_balloon","feelsgood","finnadie","goberserk","godmode","hurtrealbad","rage1","rage2","rage3","rage4","suspect","trollface"]},{type:"Nature",items:["sunny","umbrella","cloud","snowflake","snowman","zap","cyclone","foggy","ocean","cat","dog","mouse","hamster","rabbit","wolf","frog","tiger","koala","bear","pig","pig_nose","cow","boar","monkey_face","monkey","horse","racehorse","camel","sheep","elephant","panda_face","snake","bird","baby_chick","hatched_chick","hatching_chick","chicken","penguin","turtle","bug","honeybee","ant","beetle","snail","octopus","tropical_fish","fish","whale","whale2","dolphin","cow2","ram","rat","water_buffalo","tiger2","rabbit2","dragon","goat","rooster","dog2","pig2","mouse2","ox","dragon_face","blowfish","crocodile","dromedary_camel","leopard","cat2","poodle","paw_prints","bouquet","cherry_blossom","tulip","four_leaf_clover","rose","sunflower","hibiscus","maple_leaf","leaves","fallen_leaf","herb","mushroom","cactus","palm_tree","evergreen_tree","deciduous_tree","chestnut","seedling","blossom","ear_of_rice","shell","globe_with_meridians","sun_with_face","full_moon_with_face","new_moon_with_face","new_moon","waxing_crescent_moon","first_quarter_moon","waxing_gibbous_moon","full_moon","waning_gibbous_moon","last_quarter_moon","waning_crescent_moon","last_quarter_moon_with_face","first_quarter_moon_with_face","moon","earth_africa","earth_americas","earth_asia","volcano","milky_way","partly_sunny","octocat","squirrel"]},{type:"Objects",items:["bamboo","gift_heart","dolls","school_satchel","mortar_board","flags","fireworks","sparkler","wind_chime","rice_scene","jack_o_lantern","ghost","santa","christmas_tree","gift","bell","no_bell","tanabata_tree","tada","confetti_ball","balloon","crystal_ball","cd","dvd","floppy_disk","camera","video_camera","movie_camera","computer","tv","iphone","phone","telephone","telephone_receiver","pager","fax","minidisc","vhs","sound","speaker","mute","loudspeaker","mega","hourglass","hourglass_flowing_sand","alarm_clock","watch","radio","satellite","loop","mag","mag_right","unlock","lock","lock_with_ink_pen","closed_lock_with_key","key","bulb","flashlight","high_brightness","low_brightness","electric_plug","battery","calling","email","mailbox","postbox","bath","bathtub","shower","toilet","wrench","nut_and_bolt","hammer","seat","moneybag","yen","dollar","pound","euro","credit_card","money_with_wings","e-mail","inbox_tray","outbox_tray","envelope","incoming_envelope","postal_horn","mailbox_closed","mailbox_with_mail","mailbox_with_no_mail","package","door","smoking","bomb","gun","hocho","pill","syringe","page_facing_up","page_with_curl","bookmark_tabs","bar_chart","chart_with_upwards_trend","chart_with_downwards_trend","scroll","clipboard","calendar","date","card_index","file_folder","open_file_folder","scissors","pushpin","paperclip","black_nib","pencil2","straight_ruler","triangular_ruler","closed_book","green_book","blue_book","orange_book","notebook","notebook_with_decorative_cover","ledger","books","bookmark","name_badge","microscope","telescope","newspaper","football","basketball","soccer","baseball","tennis","8ball","rugby_football","bowling","golf","mountain_bicyclist","bicyclist","horse_racing","snowboarder","swimmer","surfer","ski","spades","hearts","clubs","diamonds","gem","ring","trophy","musical_score","musical_keyboard","violin","space_invader","video_game","black_joker","flower_playing_cards","game_die","dart","mahjong","clapper","memo","pencil","book","art","microphone","headphones","trumpet","saxophone","guitar","shoe","sandal","high_heel","lipstick","boot","shirt","tshirt","necktie","womans_clothes","dress","running_shirt_with_sash","jeans","kimono","bikini","ribbon","tophat","crown","womans_hat","mans_shoe","closed_umbrella","briefcase","handbag","pouch","purse","eyeglasses","fishing_pole_and_fish","coffee","tea","sake","baby_bottle","beer","beers","cocktail","tropical_drink","wine_glass","fork_and_knife","pizza","hamburger","fries","poultry_leg","meat_on_bone","spaghetti","curry","fried_shrimp","bento","sushi","fish_cake","rice_ball","rice_cracker","rice","ramen","stew","oden","dango","egg","bread","doughnut","custard","icecream","ice_cream","shaved_ice","birthday","cake","cookie","chocolate_bar","candy","lollipop","honey_pot","apple","green_apple","tangerine","lemon","cherries","grapes","watermelon","strawberry","peach","melon","banana","pear","pineapple","sweet_potato","eggplant","tomato","corn"]},{type:"Places",items:["house","house_with_garden","school","office","post_office","hospital","bank","convenience_store","love_hotel","hotel","wedding","church","department_store","european_post_office","city_sunrise","city_sunset","japanese_castle","european_castle","tent","factory","tokyo_tower","japan","mount_fuji","sunrise_over_mountains","sunrise","stars","statue_of_liberty","bridge_at_night","carousel_horse","rainbow","ferris_wheel","fountain","roller_coaster","ship","speedboat","boat","sailboat","rowboat","anchor","rocket","airplane","helicopter","steam_locomotive","tram","mountain_railway","bike","aerial_tramway","suspension_railway","mountain_cableway","tractor","blue_car","oncoming_automobile","car","red_car","taxi","oncoming_taxi","articulated_lorry","bus","oncoming_bus","rotating_light","police_car","oncoming_police_car","fire_engine","ambulance","minibus","truck","train","station","train2","bullettrain_front","bullettrain_side","light_rail","monorail","railway_car","trolleybus","ticket","fuelpump","vertical_traffic_light","traffic_light","warning","construction","beginner","atm","slot_machine","busstop","barber","hotsprings","checkered_flag","crossed_flags","izakaya_lantern","moyai","circus_tent","performing_arts","round_pushpin","triangular_flag_on_post","jp","kr","cn","us","fr","es","it","ru","gb","uk","de"]},{type:"Symbols",items:["one","two","three","four","five","six","seven","eight","nine","keycap_ten","1234","zero","hash","symbols","arrow_backward","arrow_down","arrow_forward","arrow_left","capital_abcd","abcd","abc","arrow_lower_left","arrow_lower_right","arrow_right","arrow_up","arrow_upper_left","arrow_upper_right","arrow_double_down","arrow_double_up","arrow_down_small","arrow_heading_down","arrow_heading_up","leftwards_arrow_with_hook","arrow_right_hook","left_right_arrow","arrow_up_down","arrow_up_small","arrows_clockwise","arrows_counterclockwise","rewind","fast_forward","information_source","ok","twisted_rightwards_arrows","repeat","repeat_one","new","top","up","cool","free","ng","cinema","koko","signal_strength","u5272","u5408","u55b6","u6307","u6708","u6709","u6e80","u7121","u7533","u7a7a","u7981","sa","restroom","mens","womens","baby_symbol","no_smoking","parking","wheelchair","metro","baggage_claim","accept","wc","potable_water","put_litter_in_its_place","secret","congratulations","m","passport_control","left_luggage","customs","ideograph_advantage","cl","sos","id","no_entry_sign","underage","no_mobile_phones","do_not_litter","non-potable_water","no_bicycles","no_pedestrians","children_crossing","no_entry","eight_spoked_asterisk","sparkle","eight_pointed_black_star","heart_decoration","vs","vibration_mode","mobile_phone_off","chart","currency_exchange","aries","taurus","gemini","cancer","leo","virgo","libra","scorpius","sagittarius","capricorn","aquarius","pisces","ophiuchus","six_pointed_star","negative_squared_cross_mark","a","b","ab","o2","diamond_shape_with_a_dot_inside","recycle","end","back","on","soon","clock1","clock130","clock10","clock1030","clock11","clock1130","clock12","clock1230","clock2","clock230","clock3","clock330","clock4","clock430","clock5","clock530","clock6","clock630","clock7","clock730","clock8","clock830","clock9","clock930","heavy_dollar_sign","copyright","registered","tm","x","heavy_exclamation_mark","bangbang","interrobang","o","heavy_multiplication_x","heavy_plus_sign","heavy_minus_sign","heavy_division_sign","white_flower","100","heavy_check_mark","ballot_box_with_check","radio_button","link","curly_loop","wavy_dash","part_alternation_mark","trident","black_small_square","white_small_square","black_medium_small_square","white_medium_small_square","black_medium_square","white_medium_square","black_large_square","white_large_square","white_check_mark","black_square_button","white_square_button","black_circle","white_circle","red_circle","large_blue_circle","large_blue_diamond","large_orange_diamond","small_blue_diamond","small_orange_diamond","small_red_triangle","small_red_triangle_down","shipit"]}]}},computed:{curEmojiItems:function(){for(var e=0,t=this.emojiList.length;e<t;e++)if(this.emojiList[e].type===this.curEmojiType)return this.emojiList[e].items;return this.emojiList[0].items},commentContentIsEmpty:function(){return 0===this.commentContent.length},commentCountText:function(){return this.commentContent.length+"/"+this.commentMaxLength}},mounted:function(){if(void 0!==window.localStorage){var e=localStorage.getItem(t)||"",n=localStorage.getItem(o)||"";e&&e.trim().length>0&&(this.commentContent=e,n&&page.g_user_code&&(localStorage.removeItem(o),this.publishComment()))}},methods:{insertEmoji:function(e){this.clearMessage();var t=":"+e+":";this.insertContent(t),$(this.$refs.showEmojiBox).popup("hide")},insertProject:function(){if(this.clearMessage(),this.insertContent("#此处输入软件#")){var e=selectRange.of(this.$refs.commentTextarea),t=e.getCurPos();e.setSelectText(t-("#此处输入软件#".length-1),t-1)}},publishComment:function(){var n=this,a=window.common.getCurrentUrl(!0)+"#commentForm";if(!window.common.checkLoginForWeChat(a,function(){try{localStorage.setItem(o,"1")}catch(e){}}))return!1;if(!n.tweetPublishLoading)if(n.clearMessage(),n.commentContentIsEmpty)n.showMessage("error","内容不能为空",2e3);else if(n.commentContent.length>n.commentMaxLength)n.showMessage("error","最多只能输入"+n.commentMaxLength+"个字符！",2e3);else{n.commentPublishLoading=!0;var i={articleKey:page.articleKey||"",content:n.commentContent};$.post(e.config.publishCommentUrl,i,function(o){if(1===o.code){window.localStorage&&window.localStorage.removeItem(t),n.commentContent="",e.loadComments();var a=$(".float-menu .comment-btn");if(o.result&&void 0!==o.result.replyCount){var i=o.result.replyCount;$("[data-article-reply-count]").html(i),a.attr("title","共有 "+i+" 条评论")}a.find(".icon").removeClass("outline"),$("html, body").stop().animate({scrollTop:e._commentsWrap.offset().top-80},500,"swing")}else n.showMessage("error",o.message||"发布失败",2e3)}).fail(function(){n.showMessage("error","网络错误，请稍后再试！",2e3)}).always(function(){n.commentPublishLoading=!1})}},commentContentOnKeyDown:function(e){(e.metaKey||e.ctrlKey)&&13==e.keyCode&&this.publishComment()},insertContent:function(e){return!this.commentPublishLoading&&(this.commentContent.length>=this.commentMaxLength||this.commentContent.length+e.length>this.commentMaxLength?void this.showMessage("error","最多只能输入"+this.commentMaxLength+"个字符！",2e3):(selectRange.of(this.$refs.commentTextarea).insertAfterText(e),this.commentContent=this.$refs.commentTextarea.value,!0))},showMessage:function(e,t,o){var n=this;n.tipMessage.className="success"===e?"positive":"negative",n.tipMessage.content=t;var a=parseInt(o)||0;n.tipMessage.show=!0,a>0&&setTimeout(function(){n.clearMessage()},a)},clearMessage:function(){this.tipMessage.className="",this.tipMessage.content="",this.tipMessage.show=!1}},watch:{commentContent:function(e){n(e)}}}),$("#commentForm").find(".comment-form .toolbox > .item[data-popup]").each(function(e,t){var o=$(t),n=$(o).parent().find(".toolbox-popup."+o.attr("data-popup"));o.popup({position:"bottom left",popup:n,on:"toolbox-picture"===o.attr("data-popup")?"manual":"click",exclusive:!0})})},initCommentDeleteModal:function(){var e=this,t=$(".delete-comment.modal");t.modal({onDeny:function(){var t=$(this).attr("data-comment-id"),o=e._commentsWrap.find("div.comment[data-comment-id="+t+"]"),n=o.attr("data-comment-user-id");$.post(e.config.deleteCommentUrl,{articleKey:page.articleKey||"",commentId:t,userId:n},function(n){if(1===n.code){$("body").toast({type:"success",content:"删除成功"}),o.fadeOut(function(){var e=o.parent();e.is(".comments[children-comments]")&&1===e.children(".comment").length&&1===e.children(".comment[data-comment-id="+t+"]").length?e.remove():o.remove()});var a=e._commentsWrap.find("> .header span"),i=a.text(),r=$("[data-article-reply-count]"),s=$(".float-menu .comment-btn");if(i){var c=parseInt(i)-(1+o.find("div.comment").length);c<0&&(c=0),a.text(c),r.html(c),s.attr("title","共有 "+c+" 条评论")}else a.text(0),r.html(0),s.attr("title","共有 0 条评论");n.result&&void 0!==n.result.selfCommentCount&&n.result.selfCommentCount<=0&&s.find(".icon").addClass("outline")}else $("body").toast({type:"error",content:n.message||"删除失败"})})}}),e._commentsWrap.on("click",".actions a.remove",function(e){e.stopPropagation();var o=$(e.target).parents(".comment:eq(0)").attr("data-comment-id");t.attr("data-comment-id",o),t.modal("show")})},initReplyCommentModal:function(){var e=this,t=$(".reply-comment.modal"),o=$("#replyCommentForm");t.modal({onShow:function(){o.form("reset"),o.message("hideAll");var e=$(this).attr("data-comment-user-id")||-1,t=$(this).attr("data-comment-id")||-1;o.find("input[name=reply_id]").val(e+"_"+t)},onApprove:function(){return o.message("hideAll"),o.form("submit"),!1}}),o.form({inline:!0,fields:{content:{rules:[{type:"empty",prompt:"请输入评论内容"},{type:"maxLength[1000]",prompt:"内容长度不能超过 {ruleValue} 个字"}]}}}).api({url:e.config.replyCommentUrl,method:"post",serializeForm:!0,beforeSend:function(e){$(this).message("hideAll");var t=e.data;return e.data={articleKey:page.articleKey||"",referId:t.referId,content:t.content},e},onSuccess:function(n,a,i){if(1===n.code){$(this).message({type:"positive",content:"评论回复成功"}),o.form("reset"),e.loadComments();var r=$(".float-menu .comment-btn");if(n.result&&void 0!==n.result.replyCount){var s=n.result.replyCount;$("[data-article-reply-count]").html(s),r.attr("title","共有 "+s+" 条评论")}r.find(".icon").removeClass("outline"),setTimeout(function(){t.modal("hide")},2e3)}else $(this).message({type:"negative",content:n.message||"回复失败"})},onFailure:function(e,t){$(this).message({type:"negative",content:"网络错误，请稍后再试"})}}),t.on("keydown",function(e){(e.metaKey||e.ctrlKey)&&13===e.keyCode&&t.find(".positive.button").click()}),e._commentsWrap.on("click",".actions a.reply",function(e){if(e.stopPropagation(),!window.common.checkLogin())return!1;var o=$(e.target).parents(".comment:eq(0)"),n=o.attr("data-comment-user-id"),a=o.attr("data-comment-id");t.attr("data-comment-user-id",n),t.attr("data-comment-id",a),t.modal("show")})},bindReplyBtn:function(){var e=this;e._commentsWrap.on("click",".actions a.reply",function(t){if(t.stopPropagation(),!window.common.checkLogin())return!1;var o=$(t.target).parents(".comment:eq(0)"),n=o.attr("data-comment-id"),a=o.attr("data-comment-user-name"),i=!!o.data("comment-is-last-level"),r=n,s="";if(i){var c=o.parents(".comment:eq(0)");c&&(r=c.attr("data-comment-id")),s=a}if(o.find(".content:eq(0) [data-reply-comment-form]").length>0){var l=o.find(".content:eq(0) [data-reply-comment-form]").get(0);return l.vueInstance&&l.vueInstance.focus(),!1}$("[data-reply-comment-form]").each(function(e,t){var o=$(t);t.vueInstance&&t.vueInstance.$destroy(),o.remove()}),0===$('[data-reply-comment-form][data-comment-id="'+n+'"]').length&&!0!==window.oscReplyCommentFormLoading&&(window.oscReplyCommentFormLoading=!0,$.get("/widgets/comments_reply_form",function(t){var a=document.createElement("div");a.innerHTML=t,$(a).find("[data-reply-comment-form]").attr("data-comment-id",n),o.find(".content:eq(0)").append(a);var i=new OSCCommentForm({commentFormSelector:"#replyCommentForm",commentsWrapEl:e._commentsWrap,toggleLoadComments:function(){e.loadComments(-1)},url:e.config.replyCommentUrl,params:{articleKey:page.articleKey||"",type:page.articleType||"",referId:r},commentedAutoScrollToTop:!1,contentField:"content"});i.init(),i.focus(),s&&i.insertContent("回复 @"+s+" : ")}).always(function(){window.oscReplyCommentFormLoading=!1}))})},initCommentsListPJAX:function(){var e=this,t=$(".comments-loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax(".pagination a","#commentsContainer .comments-wrap",{scrollTo:!1}),$(document).on("pjax:send",function(){t.addClass("active")}),$(document).on("pjax:complete",function(){e.parseEmoticon(),t.removeClass("active"),$("html, body").stop().animate({scrollTop:e._commentsWrap.offset().top-80},500,"swing")})},parseEmoticon:function(){$(function(){$("[data-emoji-render]").emoticon()})},initCommentLike:function(){this._commentsWrap.on("click",".actions a.like[data-comment-like-btn]",function(e){if(e.stopPropagation(),!window.common.checkLogin())return!1;var t=$(this),o=t.parents(".comment:eq(0)"),n=(o.attr("data-comment-user-id"),o.attr("data-comment-id")),a=t.find("span"),i=t.hasClass("active");$.post(page.api_prefix+"/feed/commentVote",{commentId:n},function(e){if(1===e.code){var o=!i,r=0;e.result&&e.result.vote&&(r=e.result.vote,o=1===e.result.voteState);var s=$('[data-comment-like-btn][data-comment-id="'+n+'"]');o?(t.addClass("active"),t.find(".like.icon").removeClass("outline"),s.addClass("active"),s.find(".like.icon").removeClass("outline")):(t.removeClass("active"),t.find(".like.icon").addClass("outline"),s.removeClass("active"),s.find(".like.icon").addClass("outline")),a.text(r),$('[data-comment-like-count][data-comment-id="'+n+'"]').text(r)}else $("body").toast({type:"error",content:e.message||"点赞失败"})})})},scrollToCommentFromUrlCommentId:function(){var e=location.hash,t=e.match(/#rpl_(\d+).*/),o=t?Math.floor(t[1]):-1;o>0&&this.loadCommentsByCommentId(o,function(){setTimeout(function(){var t=$(e);if(t.length){var o=t.offset().top;o-80>0&&(o-=80),$("html, body").stop(!0).animate({scrollTop:o},500,"swing")}},0)})}};new window.common.dynamicLoader(["/new-osc/js/utils/vue.min.js"],function(){var t=window.page;e.init({objId:t.objId,fetchCommentsUrl:t.fetchCommentsUrl,publishCommentUrl:t.publishCommentUrl,replyCommentUrl:t.replyCommentUrl,deleteCommentUrl:t.deleteCommentUrl}),e.initCommentForm(),e.initCommentDeleteModal(),e.bindReplyBtn(),e.initCommentsListPJAX(),e.parseEmoticon(),e.initCommentLike(),e.scrollToCommentFromUrlCommentId()}).loadFiles()}});
"use strict";OSCDefine("web-feed-detail",["feed-common","feed-detail-comments"],function(){var t=function(){this._feedDetailEl=$(".feed-detail")};return t.prototype={constructor:t,hightlight:function(){$("pre code").each(function(t,e){var i=$(this),n=(i.attr("class")||"").match(/language-(.*)/);if(n&&n.length>1){var o=n[n.length-1];i.attr("class","hljs "+o)}hljs.highlightBlock(e)})},initNewsInfiniteScroll:function(){var t=this,e={relArticleList:1,newArticleList:1},i={relArticleList:new OSCInfiniteScroll({pagePath:".rel-pagination.pagination__next",checkLastPage:!0,containerSelector:"#relArticleList",itemListSelector:".news-detail-list-container",loadMoreBtnSelector:".load-more-button",statusSelector:".page-load-status",defaultAutoLoadPageCount:0,itemSelector:".item.news-item",loadOnScroll:!1,onAppend:function(){t.optimizeImgShow()}}),newArticleList:new OSCInfiniteScroll({pagePath:".news-pagination.pagination__next",checkLastPage:!0,containerSelector:"#newArticleList",itemListSelector:".news-detail-list-container",loadMoreBtnSelector:".load-more-button",statusSelector:".page-load-status",defaultAutoLoadPageCount:0,itemSelector:".item.news-item",loadOnScroll:!1,onAppend:function(){t.optimizeImgShow()}})};i.relArticleList.init();var n="relArticleList";$(".feedDetail-tab.menu .item").tab({onLoad:function(t){n!==t&&(i[n]._infScroll&&(e[n]=i[n]._infScroll.pageIndex),i[n].destroy(),i[t].init(),i[t]._infScroll&&(i[t]._infScroll.pageIndex=e[t]),n=t)}})},optimizeImgShow:function(){$(function(){$("[data-img-render]").imgOptimize()})},register:function(){this.hightlight(),this.initNewsInfiniteScroll(),this.optimizeImgShow()}},t});
"use strict";OSCDefine("web-shop-index",function(){var e=function(){this._shopIndexEl=$(".web-shop-index"),this._exchangeApp=null};return e.prototype={constructor:e,initBannerSwiper:function(){new Swiper(".shop-banner-swiper",{autoplay:{delay:5e3,disableOnInteraction:!1},simulateTouch:!1,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},loop:!0})},initModal:function(){var e=this;function n(e){if(e&&e.length>0){e.addClass("active");var n=e.find(".shop-modal-wrap");n.transition("is visible")||n.transition("scale")}}function t(e){var n=e.find(".shop-modal-wrap");n.transition("is visible")&&n.transition("scale",function(){e.removeClass("active")})}this._shopIndexEl.on("click",".shop-modal .close-modal",function(){var e=$(this).parents(".shop-modal:eq(0)");e&&e.length>0&&t(e)}),this._shopIndexEl.on("click",".shop-modal",function(e){if(!($(e.target).parents(".shop-modal-wrap").length>0)){var n=$(this);n.data("mask-closable")&&t(n)}});var o=$(".shopping-help-modal"),i=$(".business-cooperation-modal"),r=$(".exchange-event-modal"),a=$(".exchange-product-modal");$(".toggle-shopping-help-modal").on("click",function(){n(o)}),$(".toggle-business-cooperation-modal").on("click",function(){n(i)}),$(".toggle-exchange-event-modal").on("click",function(){n(r)}),$(".product-list").on("click",".btn-exchange",function(t){if(!window.common.checkLogin())return!1;if(!$(this).data("enable"))return $("body").toast({type:"error",content:"未到兑换时间，暂时无法兑换"}),!1;var o=$(t.target).parents(".product-item:eq(0)"),i=o.data("id"),r=o.data("name")||"",s=o.data("desc")||"",d=o.data("coin")||"",c=o.data("url")||"",p=o.data("img")||"";e._exchangeApp.reset(),e._exchangeApp.product={id:i,name:r,desc:s,coin:d,url:c,img:p},n(a)})},initExchangeApp:function(){if(0===$("#exchangeApp").length)return!1;this._exchangeApp=new Vue({el:"#exchangeApp",data:function(){return{status:"form",userCoin:Math.floor(page.g_user_coin)||0,product:{id:"",name:"",desc:"",coin:0,url:"",img:""},orderForm:{num:1,name:"",phone:"",address:"",remark:""},submitLoading:!1}},computed:{totalCoin:function(){return Math.floor(this.product.coin*this.orderForm.num)||0},disabledMinus:function(){return this.orderForm.num<=1},disabledPlus:function(){return!1},canExchange:function(){return this.userCoin>=this.totalCoin}},mounted:function(){this.orderForm.name=this.$refs.receiveName.defaultValue,this.orderForm.phone=this.$refs.receivePhone.defaultValue,this.orderForm.address=this.$refs.receiveAddress.defaultValue},methods:{reset:function(){this.status="form",this.orderForm.num=1,this.orderForm.remark="",$(this.$refs.exchangeForm).message("hideAll")},handleMinusNum:function(){this.orderForm.num>1&&this.orderForm.num--},handlePlusNum:function(){this.orderForm.num++},validateForm:function(){var e=this.$refs.exchangeForm,n=this.orderForm.name||"",t=this.orderForm.phone||"",o=this.orderForm.address||"",i=this.orderForm.remark||"";return 0===n.length?($(e).message({type:"negative",content:"请输入收货人姓名",disappear:3e3}),!1):n.length>20?($(e).message({type:"negative",content:"收货人姓名长度不能超过 20 个字符",disappear:3e3}),!1):0===t.length?($(e).message({type:"negative",content:"请输入手机号码",disappear:3e3}),!1):/^1([0-9]{10})$/.test(t)?0===o.length?($(e).message({type:"negative",content:"请输入收货地址",disappear:3e3}),!1):o.length>100?($(e).message({type:"negative",content:"收货地址长度不能超过 100 个字符",disappear:3e3}),!1):!(i.length>100)||($(e).message({type:"negative",content:"备注长度不能超过 100 个字符",disappear:3e3}),!1):($(e).message({type:"negative",content:"请输入正确的手机号码",disappear:3e3}),!1)},handleSubmit:function(){var e=this,n=this.$refs.exchangeForm;if(!this.validateForm())return!1;e.submitLoading=!0,$.post(page.api_prefix+"/shop/order",{user_code:page.g_user_code,product_id:e.product.id,product_count:e.orderForm.num,recepient_name:e.orderForm.name,recepient_phone:e.orderForm.phone,recepient_addr:e.orderForm.address,recepient_remark:e.orderForm.remark},function(t){1===t.code?e.status="success":$(n).message({type:"negative",content:t.message||"提交失败，请稍后再试",disappear:3e3})}).fail(function(){$(n).message({type:"negative",content:"网络错误，请稍后再试",disappear:3e3})}).always(function(){e.submitLoading=!1})}}})},register:function(){this.initBannerSwiper(),this.initModal(),this.initExchangeApp()}},e});
"use strict";OSCDefine("web-column-list",function(){var e=function(){this.columnsContainer=$(".columns-container"),this.columnsWrapper=this.columnsContainer.find(".columns-wrapper")};return e.prototype={constructor:e,initListPJAX:function(){var e=this,o=$(".columns-loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax(".pagination a",".columns-container .columns-wrapper",{scrollTo:!1}),$(document).on("pjax:send",function(){o.addClass("active")}),$(document).on("pjax:complete",function(){o.removeClass("active"),$("html, body").stop().animate({scrollTop:e.columnsWrapper.offset().top-80},500,"swing")})},initFeedbackForm:function(){var e=$(".feedback-form"),o=e.find("input"),t=e.find(".button"),n=function(){if(!window.common.checkLogin())return!1;var n=(o.val()+"").trim();if(!n)return $("body").toast({type:"error",content:"请输入内容"}),!1;e.addClass("disabled"),t.addClass("loading"),$.post(page.api_prefix+"/tweet/pubForwardTweet",{userId:page.g_user_id||"",user_code:page.g_user_code||"",content:(page.feedbackTopic?"#"+page.feedbackTopic+"# ":"")+n},function(e){1===e.code&&e.result?($("body").toast({type:"success",content:"反馈成功，感谢您的建议"}),o.val("")):$("body").toast({type:"error",content:e.message||"提交失败"})}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"})}).always(function(){e.removeClass("disabled"),t.removeClass("loading")})};t.on("click",n),o.on("keydown",function(e){13===e.keyCode&&n()})},register:function(){this.initListPJAX(),this.initFeedbackForm()}},e});
"use strict";OSCDefine("web-column-index",function(){var t=function(){var t=this;t._columnEl=$(".web-column"),t._columnListContainerWrap=t._columnEl.find(".column-list-container-wrap"),t._relatedProjects=$(".sidebar .section.related-projects"),t._relatedProjectsSticky={init:function(){if(t._relatedProjects.length<=0)return!1;var e=$(".column-sidebar > *:last-child"),o=e.is(".section.related-projects"),i=0;o||(i=e.offset().top+e.outerHeight());var n=$(".column-sidebar > .section.related-projects__placeholder");o||0!==n.length||(n=$("<div></div>").attr("class",".section.related-projects__placeholder".replace(/\./g," ").trim()).insertBefore(t._relatedProjects));var a=t._relatedProjects.hasClass("ui sticky");window.innerWidth>=768&&window.scrollY>i?a||(o||n.css("height",t._relatedProjects.outerHeight()+"px"),t._relatedProjects.addClass("ui sticky"),t._relatedProjects.sticky({context:".column-main",offset:56})):a&&(o||n.css("height","0px"),t._relatedProjects.removeClass("ui sticky"),t._relatedProjects.sticky("destroy"))},refresh:function(){if(t._relatedProjects.length<=0)return!1;var e=t._relatedProjects.hasClass("ui sticky");window.innerWidth>=768&&e&&t._relatedProjects.sticky("refresh")}},t._articleInfiniteScroll={columnList:new OSCInfiniteScroll({pagePath:".pagination__next",checkLastPage:!0,containerSelector:"#columnList",itemListSelector:".column-list-container",loadMoreBtnSelector:".load-more-button",statusSelector:".page-load-status",defaultAutoLoadPageCount:5,itemSelector:".item.column-item",loadOnScroll:!0,onAppend:function(){t.optimizeImgShow(),t.initArticleItemMoreAction(),t._relatedProjectsSticky.refresh()}})}};return t.prototype={constructor:t,initTopSwiper:function(){new Swiper(".swiper-container",{autoplay:{delay:5e3,disableOnInteraction:!1},simulateTouch:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button .next",prevEl:".swiper-button .prev"},loop:!0})},initArticleInfiniteScroll:function(){this._articleInfiniteScroll.columnList&&this._articleInfiniteScroll.columnList.destroy(),this._articleInfiniteScroll.columnList.init()},optimizeImgShow:function(){$(function(){$("[data-img-render]").imgOptimize()})},initArticleItemMoreAction:function(){var t=this;t._columnListContainerWrap.find(".column-item .right-action > .item.more.dropdown").dropdown({action:"select"}),t._columnListContainerWrap.on("click",".column-item .extra a.mark-as-top",function(){var e=$(this),o=e.parents(".column-item:eq(0)"),i=o.find(".content > .header"),n=o.attr("data-id"),a=1===e.data("value"),r=!a,c=$(".mark-as-top-article.modal");c.modal({onShow:function(){r?(c.find(".header").text("置顶文章"),c.find(".content p").text("确定置顶此文章吗？")):(c.find(".header").text("取消置顶文章"),c.find(".content p").text("确定取消置顶此文章吗？"))},onApprove:function(){$.post(page.api_prefix+"/column/updateAsTop",{columnId:page.columnId||"",articleId:n,asTop:r?1:0},function(n){1===n.code?r?($("body").toast({type:"success",content:"置顶成功"}),e.html('<i class="undo icon"></i> 取消置顶'),e.attr("data-value",1),i.find(".as-top-label").remove(),i.append('<div class="ui red label horizontal as-top-label" data-tooltip="置顶">顶</div>'),o.attr("data-as-top",1),o.prependTo(t._columnListContainerWrap.find(".column-list-container"))):($("body").toast({type:"success",content:"取消置顶成功"}),e.html('<i class="arrow up icon"></i> 置顶'),e.attr("data-value",0),i.find(".as-top-label").remove(),o.attr("data-as-top",0)):$("body").toast({type:"error",content:n.message||"操作失败"})})}}),c.modal("show")}),t._columnListContainerWrap.on("click",".column-item .extra a.mark-as-bottom",function(){var t=$(this),e=t.parents(".column-item:eq(0)"),o=e.attr("data-id"),i=-1===t.data("value"),n=!i,a=$(".mark-as-bottom-article.modal");a.modal({onShow:function(){n?(a.find(".header").text("置底文章"),a.find(".content p").text("确定置底此文章吗？")):(a.find(".header").text("取消置底文章"),a.find(".content p").text("确定取消置底此文章吗？"))},onApprove:function(){$.post(page.space_user_url+"/column/updateAsTop",{columnId:page.columnId||"",articleId:o,asTop:n?-1:0},function(o){1===o.code?n?($("body").toast({type:"success",content:"置底成功"}),t.html('<i class="undo icon"></i> 取消置底'),t.attr("data-value",-1),e.fadeOut(function(){e.remove()})):($("body").toast({type:"success",content:"取消置底成功"}),t.html('<i class="arrow down icon"></i> 置底'),t.attr("data-value",0),e.attr("data-as-top",0)):$("body").toast({type:"error",content:o.message||"操作失败"})})}}),a.modal("show")}),t._columnListContainerWrap.on("click",".column-item .extra a.hidden",function(){var t=$(this),e=t.parents(".column-item:eq(0)"),o=e.attr("data-id"),i=1===t.data("value"),n=!i,a=$(".hide-article.modal");a.modal({onShow:function(){n?(a.find(".header").text("隐藏文章"),a.find(".content p").text("确定隐藏此文章吗？")):(a.find(".header").text("取消隐藏文章"),a.find(".content p").text("确定取消隐藏此文章吗？"))},onApprove:function(){$.post(page.api_prefix+"/column/hiddenArticle",{columnId:page.columnId||"",articleId:o,shown:n?0:1},function(o){1===o.code?n?($("body").toast({type:"success",content:"隐藏成功"}),t.html('<i class="eye icon"></i> 取消隐藏'),t.attr("data-value",1),e.fadeOut(function(){e.remove()})):($("body").toast({type:"success",content:"取消隐藏成功"}),t.html('<i class="eye slash icon"></i> 隐藏'),t.attr("data-value",0),e.attr("data-shown",1)):$("body").toast({type:"error",content:o.message||"操作失败"})})}}),a.modal("show")})},initRelatedProjects:function(){if(this._relatedProjects.length<=0)return!1;this._relatedProjectsSticky.init(),$(window).resize(window.common.throttle(this._relatedProjectsSticky.init,200)),$(window).scroll(window.common.throttle(this._relatedProjectsSticky.init,200))},register:function(){this.initTopSwiper(),this.initArticleInfiniteScroll(),this.initArticleItemMoreAction(),this.initRelatedProjects(),this.optimizeImgShow()}},t});
"use strict";OSCDefine("column-admin-banners",function(){var n=function(){this._dataContainer=$(".data-container")};return n.prototype={constructor:n,initPJAX:function(){var n=$(".container-loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax(".pagination a",".container-inner",{scrollTo:!1}),$(document).on("pjax:send",function(){n.addClass("active")}),$(document).on("pjax:complete",function(){n.removeClass("active"),$("html, body").stop().animate({scrollTop:0},500,"swing")})},bindShownAction:function(){this._dataContainer.on("click",".banner-item .shown .toggle",function(){var n=$(this),t=n.parents("td.shown:eq(0)"),e=n.parents(".banner-item:eq(0)"),o=e.attr("data-id"),a=parseInt(n.attr("data-value"))||0,i=null;if(1===a?i={actionName:"显示",positionClass:"visible"}:0===a&&(i={actionName:"隐藏",positionClass:"invisible"}),!i)return!1;var s=$(".set-shown.modal");s.modal({onShow:function(){s.find(".header").text(i.actionName+" Banner"),s.find(".content p").text("确定"+i.actionName+"此 Banner 吗？")},onApprove:function(){$.post(page.api_prefix+"/column/hiddenBanner",{columnId:page.columnId||"",bannerId:o,shown:a},function(n){1===n.code?($("body").toast({type:"success",content:i.actionName+"成功"}),t.attr("class","shown shown--"+i.positionClass),e.attr("data-shown",a)):$("body").toast({type:"error",content:n.message||"操作失败"})}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"})})}}).modal("show")})},bindDeleteBtn:function(){this._dataContainer.on("click",".banner-item .action a.delete",function(n){var t=$(this).parents(".banner-item:eq(0)"),e=t.data("id");$(".delete-action.modal").modal({onApprove:function(){$.post(page.api_prefix+"/column/deleteColumnBanner",{special_column:page.columnId||"",id:e},function(n){1===n.code?($("body").toast({type:"success",content:"删除成功"}),t.fadeOut(function(){t.remove()})):$("body").toast({type:"error",content:n.message||"删除失败"})}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"})})}}).modal("show")})},register:function(){this.initPJAX(),this.bindShownAction(),this.bindDeleteBtn()}},n});
"use strict";OSCDefine("column-admin-banner-add",function(){return function(){var e=!!page.editMode,a=$(".banner-add.form");a.form({inline:!0,fields:{desc:{rules:[{type:"empty",prompt:"请输入标题"},{type:"maxLength[60]",prompt:"标题长度不能超过 60 个字"}]},image_href_url:{rules:[{type:"empty",prompt:"请输入链接"},{type:"url",prompt:"请输入正确的链接"}]},image_url:{rules:[{type:"empty",prompt:"请选择要上传的图片"},{type:"url",prompt:"请上传正确的图片格式"}]},sort:{rules:[{type:"empty",prompt:"请输入排序值"},{type:"integer",prompt:"只能输入整数"}]}}}).api({url:page.api_prefix+(e?"/column/editColumnBanner":"/column/addColumnBanner"),method:"post",serializeForm:!0,beforeSend:function(a){$(this).find(".error").removeClass("error").find(".prompt").remove(),$(this).message("hideAll");var t=a.data;return a.data={special_column:page.columnId||"",desc:t.desc,image_href_url:t.image_href_url,image_url:t.image_url,sort:t.sort},e&&(a.data.id=page.bannerId||""),a},onSuccess:function(t){1===t.code?($(this).message({type:"positive",content:t.message||e?"保存成功":"添加成功"}),e||a.find(".submit.button").text("正在跳转").addClass("disabled"),setTimeout(function(){window.location.href=page.bannersAdminUrl},1500)):$(this).message({type:"negative",content:t.message||"操作失败",disappear:2e3})},onFailure:function(e,a){$(this).message({type:"negative",content:"网络错误，请稍后再试",disappear:2e3})}});var t=$(".image-upload"),n=t.find('input[type="file"]'),r=t.find("img.upload-img");t.on("click",".image-upload__inner",function(e){n.trigger("click")}),n.on("click",function(e){e.stopPropagation()}),n.on("change",function(e){var n=e.target.files[0];if(!n)return!1;var i=new FormData;i.append("upload",n),t.addClass("image-upload--loading"),$.ajax({url:page.api_prefix+"/column/upload_image",data:i,processData:!1,contentType:!1,type:"post",dataType:"json",success:function(e){1===e.uploaded?($(t.data("target")).val(e.url),r.attr("src",e.url),a.form("validate field","image_url"),t.addClass("image-upload--pic")):$("body").toast({type:"negative",content:e.error&&e.error.message||"上传失败"})}}).fail(function(){$("body").toast({type:"negative",content:"网络错误，请稍后再试"})}).always(function(){t.removeClass("image-upload--loading")})})}});
"use strict";OSCDefine("column-admin-members",function(){var e=function(){this._dataContainer=$(".data-container")};return e.prototype={constructor:e,initPJAX:function(){var e=$(".container-loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax(".pagination a",".container-inner",{scrollTo:!1}),$(document).on("pjax:send",function(){e.addClass("active")}),$(document).on("pjax:complete",function(){e.removeClass("active"),$("html, body").stop().animate({scrollTop:0},500,"swing")})},bindDeleteBtn:function(){this._dataContainer.on("click",".member-item .action a.delete",function(e){var t=$(this).parents(".member-item:eq(0)"),n=t.data("id");$(".delete-action.modal").modal({onApprove:function(){$.post(page.api_prefix+"/column/delete_column_admin",{special_column:page.columnId||"",id:n},function(e){1===e.code?($("body").toast({type:"success",content:"删除成功"}),t.fadeOut(function(){t.remove()})):$("body").toast({type:"error",content:e.message||"删除失败"})}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"})})}}).modal("show")})},bindAddBtn:function(){var e=$(".add-action.modal"),t=e.find(".add-member.form");this._dataContainer.on("click","a.add-member-btn",function(){e.modal("show")}),t.form({inline:!0,fields:{user_id:{rules:[{type:"empty",prompt:"请输入用户名"}]},super_user:{rules:[{type:"empty",prompt:"请选择权限角色"}]}}}).api({url:page.api_prefix+"/column/add_column_admin",method:"post",serializeForm:!0,beforeSend:function(e){$(this).message("hideAll");var t=e.data;return e.data={special_column:page.columnId||"",user_type:"id",user_value:t.user_id,super_user:t.super_user},e},onSuccess:function(n,o,a){1===n.code?($(this).message({type:"positive",content:"添加成功"}),t.form("reset"),setTimeout(function(){e.modal("hide"),location.reload()},1e3)):$(this).message({type:"negative",content:n.message||"添加失败",disappear:2e3})},onFailure:function(e,t){$(this).message({type:"negative",content:"网络错误，请稍后再试",disappear:2e3})}}),t.find(".select-user.dropdown").dropdown({templates:{menu:function(e,t){var n=e[t.values]||{},o="";return $.each(n,function(e,n){var a=n.portrait?'<img class="ui mini avatar image" src="'+n.portrait+'" alt="'+n[t.name]+'"/> ':"";o+='<div class="item" data-value="'+n[t.value]+'">',o+=a+n[t.name],o+="</div>"}),o}},fields:{remoteValues:"results",value:"id",name:"name"},filterRemoteData:!1,apiSettings:{url:page.api_prefix+"/column/query_user?name={query}",method:"get",dataType:"JSON",onResponse:function(e){var t=[];return 1===e.code&&Array.isArray(e.result)&&e.result.length>0&&(t=e.result),{results:t}}}}),t.find(".select-role.dropdown").dropdown(),e.modal({autofocus:!1,onShow:function(){t.form("reset"),t.message("hideAll")},onApprove:function(){return t.message("hideAll"),t.form("submit"),!1}})},bindListRoleChange:function(){this._dataContainer.find(".member-item .role-change-dropdown").dropdown({onChange:function(e,t,n){var o=$(this),a=n.parents(".member-item:eq(0)"),i=a.data("id"),r=parseInt(a.attr("data-super-user"))||0,s=parseInt(e)||0;if(r===s)return!1;$.post(page.api_prefix+"/column/update_column_admin",{special_column:page.columnId||"",id:i,super_user:s},function(e){1===e.code?($("body").toast({type:"success",content:"修改成功"}),a.attr("data-super-user",s)):($("body").toast({type:"error",content:e.message||"修改失败"}),o.dropdown("set selected",r+""))}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"}),o.dropdown("set selected",r+"")})}})},register:function(){this.initPJAX(),this.bindDeleteBtn(),this.bindAddBtn(),this.bindListRoleChange()}},e});
"use strict";OSCDefine("column-admin-articles",function(){var t=function(){this._pageContainer=$(".web-column-admin-articles"),this._dataContainer=$(".data-container")};return t.prototype={constructor:t,initPJAX:function(){var t=$(".container-loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax(".pagination a",".container-inner",{scrollTo:!1}),$(document).on("pjax:send",function(){t.addClass("active")}),$(document).on("pjax:complete",function(){t.removeClass("active"),$("html, body").stop().animate({scrollTop:0},500,"swing")})},bindPositionAction:function(){this._dataContainer.on("click",".article-item .position .toggle",function(){var t=$(this),n=t.parents("td.position:eq(0)"),e=t.parents(".article-item:eq(0)"),o=e.attr("data-id"),a=parseInt(e.attr("data-as-top"))||0,i=parseInt(t.attr("data-value"))||0,s=null;if(1===i?s={actionName:"置顶",positionClass:"top"}:-1===i?s={actionName:"置底",positionClass:"bottom"}:0===i&&(1===a?s={actionName:"取消置顶",positionClass:"empty"}:-1===a&&(s={actionName:"取消置底",positionClass:"empty"})),!s)return!1;var r=$(".mark-as-top.modal");r.modal({onShow:function(){r.find(".header").text(s.actionName+"文章"),r.find(".content p").text("确定"+s.actionName+"此文章吗？")},onApprove:function(){$.post(page.api_prefix+"/column/updateAsTop",{columnId:page.columnId||"",articleId:o,asTop:i},function(t){1===t.code?($("body").toast({type:"success",content:s.actionName+"成功"}),n.attr("class","position position--"+s.positionClass),e.attr("data-as-top",i)):$("body").toast({type:"error",content:t.message||"操作失败"})}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"})})}}).modal("show")})},bindShownAction:function(){this._dataContainer.on("click",".article-item .shown .toggle",function(){var t=$(this),n=t.parents("td.shown:eq(0)"),e=t.parents(".article-item:eq(0)"),o=e.attr("data-id"),a=parseInt(t.attr("data-value"))||0,i=null;if(1===a?i={actionName:"显示",positionClass:"visible"}:0===a&&(i={actionName:"隐藏",positionClass:"invisible"}),!i)return!1;var s=$(".set-shown.modal");s.modal({onShow:function(){s.find(".header").text(i.actionName+"文章"),s.find(".content p").text("确定"+i.actionName+"此文章吗？")},onApprove:function(){$.post(page.api_prefix+"/column/hiddenArticle",{columnId:page.columnId||"",articleId:o,shown:a},function(t){1===t.code?($("body").toast({type:"success",content:i.actionName+"成功"}),n.attr("class","shown shown--"+i.positionClass),e.attr("data-shown",a)):$("body").toast({type:"error",content:t.message||"操作失败"})}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"})})}}).modal("show")})},bindAddBtn:function(){var t=$(".add-action.modal"),n=t.find(".actions .positive.button"),e=t.find(".add-article.form"),o=e.find('input[name="url"]'),a=e.find('input[name="obj_id"]'),i=e.find('input[name="obj_type"]'),s=e.find(".url-input"),r=e.find(".parse-article"),c=r.find(".success-result"),l=r.find(".error-result"),d=function(){c.html("").removeClass("visible"),l.html("").removeClass("visible")},p=function(t,n){d(),t?c.html(n).addClass("visible"):l.html(n).addClass("visible")};o.on("keyup",window.common.debounce(function(){var t=$(this),e=(t.val()||"").trim();return n.addClass("disabled"),a.val(""),i.val(""),d(),!(!e||e.length<=0)&&(/^http(s?):\/\//.test(e)?(s.addClass("loading"),void $.post(page.api_prefix+"/column/parse_article_url",{special_column:page.columnId||"",url:e},function(t){if(1===t.code&&t.result){var e=t.result.obj_id,o=t.result.obj_type,s=t.result.obj_type_name,r=t.result.title,c=t.result.url;a.val(e),i.val(o),p(!0,'<span class="article-type">['+s+']</span> <a href="'+c+'" target="_blank">'+r+"</a>"),n.removeClass("disabled")}else p(!1,t.message||"解析失败")}).fail(function(){p(!1,"网络错误，请稍后再试")}).always(function(){s.removeClass("loading")})):(p(!1,"请输入正确的文章链接"),!1))},300,!1)),e.form({inline:!0,fields:{url:{rules:[{type:"empty",prompt:"请输入文章链接"},{type:"url",prompt:"请输入正确的文章链接"}]},obj_id:{rules:[{type:"empty",prompt:"请输入正确的文章链接"}]},obj_type:{rules:[{type:"empty",prompt:"请输入正确的文章链接"}]}}}).api({url:page.api_prefix+"/column/addColumnArticle",method:"post",serializeForm:!0,beforeSend:function(t){$(this).message("hideAll");var n=t.data;return t.data={special_column:page.columnId||"",obj_type:n.obj_type,obj_id:n.obj_id,url:n.url},t},onSuccess:function(n){1===n.code?($(this).message({type:"positive",content:"添加成功"}),d(),e.form("reset"),setTimeout(function(){t.modal("hide"),location.reload()},1e3)):$(this).message({type:"negative",content:n.message||"添加失败",disappear:2e3})},onFailure:function(){$(this).message({type:"negative",content:"网络错误，请稍后再试",disappear:2e3})}}),t.modal({autofocus:!1,onShow:function(){d(),e.form("reset"),e.message("hideAll")},onApprove:function(){return e.message("hideAll"),e.form("submit"),!1}}),this._dataContainer.on("click","a.add-article-btn",function(){t.modal("show")})},bindSearchBtn:function(){$(".search-form").on("click",".search.link.icon",function(){var t=$(this).parents(".search-form:eq(0)");t.find("input[name=q]").val().trim().length>0&&t.submit()})},bindQuickAddBtn:function(){this._pageContainer.on("click",".quick-add-article-btn",function(){var t=$(this),n=t.data("obj-id"),e=t.data("obj-type"),o=t.data("url");$.post(page.api_prefix+"/column/addColumnArticle",{special_column:page.columnId||"",obj_type:e,obj_id:n,url:o},function(t){1===t.code?($("body").toast({type:"success",content:"添加成功"}),setTimeout(function(){page.articlesAdminUrl?location.href=page.articlesAdminUrl:location.reload()},1e3)):$("body").toast({type:"error",content:t.message||"添加失败"})}).fail(function(){$("body").toast({type:"error",content:"网络异常，请稍后再试"})})})},register:function(){this.initPJAX(),this.bindPositionAction(),this.bindShownAction(),this.bindAddBtn(),this.bindSearchBtn(),this.bindQuickAddBtn()}},t});
"use strict";OSCDefine("column-admin-experts",function(){var e=function(){this._dataContainer=$(".data-container")};return e.prototype={constructor:e,initPJAX:function(){var e=$(".container-loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax(".pagination a",".container-inner",{scrollTo:!1}),$(document).on("pjax:send",function(){e.addClass("active")}),$(document).on("pjax:complete",function(){e.removeClass("active"),$("html, body").stop().animate({scrollTop:0},500,"swing")})},bindDeleteBtn:function(){this._dataContainer.on("click",".expert-item .action a.delete",function(e){var t=$(this).parents(".expert-item:eq(0)"),n=t.data("id");$(".delete-action.modal").modal({onApprove:function(){$.post(page.api_prefix+"/column/delete_column_expert",{special_column:page.columnId||"",id:n},function(e){1===e.code?($("body").toast({type:"success",content:"删除成功"}),t.fadeOut(function(){t.remove()})):$("body").toast({type:"error",content:e.message||"删除失败"})}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"})})}}).modal("show")})},bindAddBtn:function(){var e=$(".add-action.modal"),t=e.find(".add-expert.form");this._dataContainer.on("click","a.add-expert-btn",function(){e.modal("show")}),t.form({inline:!0,fields:{user_id:{rules:[{type:"empty",prompt:"请输入用户名"}]},description:{rules:[{type:"empty",prompt:"请输入描述"},{type:"maxLength[32]",prompt:"长度不能超过 {ruleValue} 个字"}]}}}).api({url:page.api_prefix+"/column/add_column_expert",method:"post",serializeForm:!0,beforeSend:function(e){$(this).message("hideAll");var t=e.data;return e.data={special_column:page.columnId||"",user_id:t.user_id,description:t.description},e},onSuccess:function(n,i,a){1===n.code?($(this).message({type:"positive",content:"添加成功"}),t.form("reset"),setTimeout(function(){e.modal("hide"),location.reload()},1e3)):$(this).message({type:"negative",content:n.message||"添加失败",disappear:2e3})},onFailure:function(e,t){$(this).message({type:"negative",content:"网络错误，请稍后再试",disappear:2e3})}}),t.find(".select-user.dropdown").dropdown({templates:{menu:function(e,t){var n=e[t.values]||{},i="";return $.each(n,function(e,n){var a=n.portrait?'<img class="ui mini avatar image" src="'+n.portrait+'" alt="'+n[t.name]+'"/> ':"";i+='<div class="item" data-value="'+n[t.value]+'">',i+=a+n[t.name],i+="</div>"}),i}},fields:{remoteValues:"results",value:"id",name:"name"},filterRemoteData:!1,apiSettings:{url:page.api_prefix+"/column/query_user?name={query}",method:"get",dataType:"JSON",onResponse:function(e){var t=[];return 1===e.code&&Array.isArray(e.result)&&e.result.length>0&&(t=e.result),{results:t}}}}),t.find(".select-role.dropdown").dropdown(),e.modal({autofocus:!1,onShow:function(){t.form("reset"),t.message("hideAll")},onApprove:function(){return t.message("hideAll"),t.form("submit"),!1}})},bindEditBtn:function(){var e=this,t=$(".edit-action.modal"),n=t.find(".edit-expert.form");this._dataContainer.on("click",".expert-item .action a.edit",function(){var e=$(this).parents(".expert-item:eq(0)").data("id");t.attr("data-id",e),t.modal("show")}),n.form({inline:!0,fields:{description:{rules:[{type:"empty",prompt:"请输入描述"},{type:"maxLength[32]",prompt:"长度不能超过 {ruleValue} 个字"}]}}}).api({url:page.api_prefix+"/column/edit_column_expert",method:"post",serializeForm:!0,beforeSend:function(e){$(this).message("hideAll");var t=e.data;return e.data={special_column:page.columnId||"",id:t.id,description:t.description},e},onSuccess:function(i,a,o){if(1===i.code){$(this).message({type:"positive",content:"修改成功"});var r=n.find('input[name="id"]').val()||"",d=n.find('input[name="description"]').val()||"";e._dataContainer.find('.expert-item[data-id="'+r+'"]').find("td.description").text(d),setTimeout(function(){t.modal("hide")},1e3)}else $(this).message({type:"negative",content:i.message||"修改失败",disappear:2e3})},onFailure:function(e,t){$(this).message({type:"negative",content:"网络错误，请稍后再试",disappear:2e3})}}),t.modal({autofocus:!1,onShow:function(){n.form("reset"),n.message("hideAll");var t=$(this).attr("data-id")||"",i=e._dataContainer.find('.expert-item[data-id="'+t+'"]');$(this).find('input[name="id"]').val(t),$(this).find('input[name="description"]').val((i.find("td.description").html()||"").trim()),$(this).find(".expert-wrap").html(i.find(".expert-wrap").html())},onApprove:function(){return n.message("hideAll"),n.form("submit"),!1}})},register:function(){this.initPJAX(),this.bindDeleteBtn(),this.bindAddBtn(),this.bindEditBtn()}},e});
"use strict";OSCDefine("column-admin-content-settings",function(){var e=function(){};return e.prototype={constructor:e,initForm:function(){var e=$(".content-settings.form");e.find(".ui.checkbox").checkbox(),e.form({inline:!0,fields:{}}).api({url:page.api_prefix+"/column/update_content_settings",method:"post",serializeForm:!0,beforeSend:function(e){$(this).find(".error").removeClass("error").find(".prompt").remove(),$(this).message("hideAll");var t=e.data;return e.data={special_column:page.columnId||"",pushRelatedNews:t.pushRelatedNews,pushRelatedQuestion:t.pushRelatedQuestion,pushAdminBlog:t.pushAdminBlog},e},onSuccess:function(e,t,n){1===e.code?$(this).message({type:"positive",content:e.message||"保存成功",disappear:2e3}):$(this).message({type:"negative",content:e.message||"保存失败",disappear:2e3})},onFailure:function(e,t){$(this).message({type:"negative",content:"网络错误，请稍后再试",disappear:2e3})}})},register:function(){this.initForm()}},e});
"use strict";OSCDefine("web-organization-authentication",function(){var e=function(){this._authForm=$(".identity-verify-form.form"),this.SMS_CODE_FLAG="org_auth_phone_code"};return e.prototype={constructor:e,getSMSCode:function(e,t,o){e.form("validate field","phone")&&$("#yp-riddler-box").click()},_phoneCodeCountDown:function(e,t,o){var n=o||60;e.addClass("disabled"),e.text(n+"s 后重新发送"),window.localStorage&&localStorage.setItem(t,Math.floor((new Date).getTime()/1e3)+n);var r=setInterval(function(){--n<1?(clearInterval(r),e.removeClass("disabled"),e.text("获取验证码")):(e.text(n+"s 后重新发送"),window.localStorage&&localStorage.setItem(t,Math.floor((new Date).getTime()/1e3)+n))},1e3)},_sendBindPhoneSMSWithYunpianRiddlerAjax:function(e,t,o){var n=this;t.addClass("loading"),$.ajax({type:"POST",url:page.api_prefix+"/organization/sendVerifyCode",data:{ypAuthenticate:e.form("get value","ypAuthenticate"),ypToken:e.form("get value","ypToken")},success:function(r){switch(r.message){case"success":n._phoneCodeCountDown(t,o);break;case"not_allow_to_send":e.form("add prompt","vCode","发送次数过多，暂时不可获取验证码");break;case"fail":e.form("add prompt","vCode","短信发送失败");break;case"phone_exist":e.form("add prompt","phone","该手机号码已绑定其它帐号");break;default:!r.result||"phone"!==r.result&&"vCode"!==r.result?setTimeout(function(){e.message({type:"negative",content:r.message||"短信验证码发送失败",disappear:2e3})},2e3):e.form("add prompt",r.result,r.message||"发送失败")}},dataType:"json"}).fail(function(){e.form("add prompt","vCode","短信发送失败")}).always(function(){t.removeClass("loading")})},initYunpianRiddler:function(e,t,o){var n=this,r=document.getElementById("yp-riddler-box");r.innerHTML="",window.YpRiddler&&new YpRiddler({expired:30,mode:"dialog",winWidth:300,lang:"zh-cn",noButton:!0,container:r,appId:page.yunpian_riddler_appid||"",version:"v1",onError:function(t){429!==t.code?e.form("add prompt","vCode","验证服务异常"):e.form("add prompt","vCode","验证过于频繁，请稍后再试")},onSuccess:function(r,a){e.find(".error").removeClass("error").find(".prompt").remove(),a(),e.form("set value","ypAuthenticate",r.authenticate),e.form("set value","ypToken",r.token),n._sendBindPhoneSMSWithYunpianRiddlerAjax(e,t,o)},onFail:function(e,t,o){o()},beforeStart:function(e){e()},onExit:function(){}})},initAuthForm:function(){var e=this,t=e._authForm.find(".send-phone-code"),o=e.SMS_CODE_FLAG;t.on("click",function(){e.getSMSCode(e._authForm,t,o)}),$(function(){var n;if(window.localStorage&&(n=localStorage.getItem(o))){var r=(Math.floor(n)||0)-Math.floor((new Date).getTime()/1e3);r>0?e._phoneCodeCountDown(t,o,r):localStorage.removeItem(o)}}),$.fn.form.settings.templates.prompt=function(e){var t=document.createElement("div");return t.innerHTML=e[0]||"",t.className="prompt error",$(t)},e._authForm.form({inline:!0,selector:{prompt:".prompt"},fields:{phone:{rules:[{type:"empty",prompt:"请输入手机号码"}]},vCode:{rules:[{type:"empty",prompt:"请输入短信验证码"}]}}}).api({url:page.space_user_url+"/organization/verifyPhone",method:"post",serializeForm:!0,beforeSend:function(e){$(this).find(".error").removeClass("error").find(".prompt").remove(),$(this).message("hideAll");e.data;return e},onSuccess:function(e){1===e.code&&e.result?($(this).message({type:"positive",content:"验证成功，开始认证"}),location.href=page.applyUrl+"?key="+encodeURIComponent(e.result)):"phone"===e.result||"vCode"===e.result?($(this).form("add prompt",e.result,e.message),$(this).find('input[name="'+e.result+'"]').focus()):$(this).message({type:"negative",content:e.message||"验证失败",disappear:2e3})},onFailure:function(e,t){$(this).message({type:"negative",content:"网络错误，请稍后再试",disappear:2e3})}})},register:function(){if(this._authForm.length>0){this.initAuthForm();var e=this._authForm.find(".send-phone-code");this.initYunpianRiddler(this._authForm,e,this.BIND_TEL_SMS_CODE_FLAG)}}},e});
"use strict";OSCDefine("web-organization-authentication-apply",function(){var t=function(){this._pageContainer=$(".web-organization-authentication"),this._pageApply=this._pageContainer.find(".page-content--apply"),this._authForm=this._pageApply.find(".authentication-form")};return t.prototype={constructor:t,initUploadFilePreview:function(){var t=this,e=t._authForm.find(".image-upload"),a=e.find('input[type="file"]'),i=e.find("img.upload-img");e.on("click",".image-upload__inner",function(){a.trigger("click")}),a.on("click",function(t){t.stopPropagation()}),a.on("change",function(a){var n=a.target.files[0];if(!n)return!1;if(Math.round(n.size/1024*100)/100>=10240)return t._authForm.form("add prompt","imageUrl","图片大小不能超过 10MB"),!1;window.createObjectURL=window.createObjectURL||window.URL.createObjectURL||window.webkitURL.createObjectURL;var o=window.createObjectURL(n);i.attr("src",o),e.addClass("image-upload--pic"),$(e.data("target")).val(o),t._authForm.form("validate field","imageUrl")})},initAuthForm:function(){var t=this;if(0===t._authForm.length)return!1;var e=t._authForm.find(".popup-name-help");t._authForm.find(".popup-name-help-toggle").popup({popup:e,on:"click",hoverable:!1,position:"bottom left"}),t._authForm.form({on:"blur",inline:!0,fields:{organizationShortName:{rules:[{type:"empty",prompt:"请输入账号名称"},{type:"minLength[3]",prompt:"账号名称最短 3 个字"},{type:"maxLength[20]",prompt:"账号名称不能超过 20 个字"}]},organizationFullName:{rules:[{type:"empty",prompt:"请输入公司名称"}]},organizationEmail:{rules:[{type:"empty",prompt:"请输入公司邮箱"},{type:"email",prompt:"请输入正确的邮箱地址"}]},agreement:{rules:[{type:"checked",prompt:"请阅读并同意协议"}]},imageUrl:{rules:[{type:"empty",prompt:"请选择要上传的图片"},{type:"url",prompt:"请上传正确的图片格式"}]}}}),t._authForm.on("submit",function(e){if(e.preventDefault(),t._authForm.find(".error").removeClass("error").find(".prompt").remove(),t._authForm.message("hideAll"),!t._authForm.form("validate form"))return!1;t._authForm.addClass("loading");var a=new FormData,i=t._authForm.find('.image-upload input[type="file"]')[0].files[0],n=t._authForm.find('input[name="key"]').val(),o=t._authForm.find('input[name="organizationShortName"]').val(),r=t._authForm.find('input[name="organizationFullName"]').val(),p=t._authForm.find('input[name="organizationEmail"]').val();a.append("key",n),a.append("short_name",o),a.append("name",r),a.append("email",p),a.append("license",i),$.ajax({url:page.api_prefix+"/organization/apply",data:a,processData:!1,contentType:!1,type:"post",dataType:"json",success:function(e){1===e.code?location.href=page.authenticationPendingUrl:t._authForm.message({type:"negative",content:e.message||"提交失败",disappear:2e3})}}).fail(function(){t._authForm.message({type:"negative",content:"网络错误，请稍后再试",disappear:2e3})}).always(function(){t._authForm.removeClass("loading")})})},register:function(){this.initAuthForm(),this.initUploadFilePreview()}},t});
"use strict";OSCPlugin("web-sharing-plan-invite-box",function(){var t=function(){this.register()};return t.prototype={constructor:t,initInvitePopup:function(){var t=$(".invite-box"),i=t.find(".btn-invite"),n=t.find(".invite-share-box");i.popup({on:"click",position:"right center"});var e=n.find(".poster-qrcode");new QRCode(e.get(0),{text:e.data("url"),width:120,height:120}),new ClipboardJS(".invite-share-box .btn-copy-link").on("success",function(t){t.clearSelection(),$("body").toast({type:"success",content:"邀请链接已复制"}),i.popup("hide")})},register:function(){this.initInvitePopup()}},t});
"use strict";OSCDefine("web-sharing-plan-index",function(){var i=function(){};return i.prototype={constructor:i,initSwiper:function(){var i=4;window.innerWidth<=767&&(i=2);var e=new Swiper(".swiper-container",{spaceBetween:16,slidesPerView:i,slidesPerGroup:i,loop:!0,loopFillGroupWithBlank:!0,pagination:{el:".swiper-pagination",clickable:!0},autoplay:{delay:6e3}});e.el.onmouseover=function(){e.autoplay.stop()},e.el.onmouseout=function(){e.autoplay.start()}},initFAQList:function(){var i=$(".faq-box");i.on("click",".faq-item .question",function(){var i=$(this).parents(".faq-item:eq(0)");i.hasClass("active")?(i.find(".answer").slideUp(200),i.removeClass("active")):(i.find(".answer").slideDown(200),i.addClass("active"))})},register:function(){this.initSwiper(),this.initFAQList()}},i});
"use strict";OSCDefine("web-sharing-plan-apply",function(){function e(e,o){try{o&&o.trim().length>0?localStorage.setItem(e,o):localStorage.removeItem(e)}catch(e){}}var o=function(){this._applyForm=$(".apply-form.form"),this.SMS_CODE_FLAG="support_plan_phone_code",this.PHONE_CACHE_KEY="OSC_SHARING_PLAN_PHONE_CACHE_KEY",this.VCODE_CACHE_KEY="OSC_SHARING_PLAN_VCODE_CACHE_KEY"};return o.prototype={constructor:o,getSMSCode:function(e,o,t){e.form("validate field","phone")&&$("#yp-riddler-box").click()},_phoneCodeCountDown:function(e,o,t){var a=t||60;e.addClass("disabled"),e.text(a+"s 后重新发送"),window.localStorage&&localStorage.setItem(o,Math.floor((new Date).getTime()/1e3)+a);var r=setInterval(function(){--a<1?(clearInterval(r),e.removeClass("disabled"),e.text("发送验证码")):(e.text(a+"s 后重新发送"),window.localStorage&&localStorage.setItem(o,Math.floor((new Date).getTime()/1e3)+a))},1e3)},_sendBindPhoneSMSWithYunpianRiddlerAjax:function(e,o,t){var a=this;o.addClass("loading"),$.ajax({type:"POST",url:page.api_prefix+"/SupportPlanInfo/sendVerifyCodeForBindPhoneByYun",data:{phoneNumber:e.form("get value","phone"),ypAuthenticate:e.form("get value","ypAuthenticate"),ypToken:e.form("get value","ypToken")},success:function(r){switch(r.message){case"success":a._phoneCodeCountDown(o,t);break;case"not_allow_to_send":e.form("add prompt","vCode","发送次数过多，暂时不可获取验证码");break;case"fail":e.form("add prompt","vCode","短信发送失败");break;case"phone_exist":e.form("add prompt","phone","该手机号码已绑定其它帐号");break;default:!r.result||"phone"!==r.result&&"vCode"!==r.result?setTimeout(function(){e.message({type:"negative",content:r.message||"短信验证码发送失败",disappear:2e3})},2e3):e.form("add prompt",r.result,r.message||"发送失败")}},dataType:"json"}).fail(function(){e.form("add prompt","vCode","短信发送失败")}).always(function(){o.removeClass("loading")})},initYunpianRiddler:function(e,o,t){var a=this,r=document.getElementById("yp-riddler-box");if(!r)return!1;r.innerHTML="",window.YpRiddler&&new YpRiddler({expired:30,mode:"dialog",winWidth:300,lang:"zh-cn",noButton:!0,container:r,appId:page.yunpian_riddler_appid||"",version:"v1",onError:function(o){429!==o.code?e.form("add prompt","vCode","验证服务异常"):e.form("add prompt","vCode","验证过于频繁，请稍后再试")},onSuccess:function(r,n){e.find(".error").removeClass("error").find(".prompt").remove(),n(),e.form("set value","ypAuthenticate",r.authenticate),e.form("set value","ypToken",r.token),a._sendBindPhoneSMSWithYunpianRiddlerAjax(e,o,t)},onFail:function(e,o,t){t()},beforeStart:function(e){e()},onExit:function(){}})},initApplyForm:function(){var o=this,t=o._applyForm.find(".send-phone-code"),a=o.SMS_CODE_FLAG;function r(){var e=o._applyForm.find('input[name="platform"]:checked').val();o._applyForm.find(".error").removeClass("error").find(".prompt").remove(),o._applyForm.form("remove field","wechatMpAppId"),o._applyForm.form("remove field","websiteUrl"),o._applyForm.form("remove field","blogName"),o._applyForm.form("remove field","websiteArticleUrl"),"1"===e?(o._applyForm.find(".platform-info").removeClass("active"),o._applyForm.find(".platform-info--wechat").addClass("active"),o._applyForm.find("#wechatBlogApply").addClass("active"),o._applyForm.form("add rule","wechatMpAppId",{rules:[{type:"empty",prompt:"请授权公众号"}]})):"2"===e&&(o._applyForm.find(".platform-info").removeClass("active"),o._applyForm.find(".platform-info--website").addClass("active"),"2"!=page.bolg_apply_state&&page.bolg_has_apply?o._applyForm.find("#wechatBlogApply").removeClass("active"):o._applyForm.find("#wechatBlogApply").addClass("active"),o._applyForm.form("add rule","blogName",{rules:[{type:"empty",prompt:"请输入个人网站/博客名称"},{type:"regExp",value:/^[a-zA-Z0-9_\u4e00-\u9fa5]+$/,prompt:"名称内不能包含特殊字符"}]}),o._applyForm.form("add rule","websiteUrl",{rules:[{type:"empty",prompt:"请输入个人网站/博客链接"},{type:"url",prompt:"请输入正确的链接地址"}]}))}t.on("click",function(){o.getSMSCode(o._applyForm,t,a)}),$(function(){var e;if(window.localStorage&&(e=localStorage.getItem(a))){var r=(Math.floor(e)||0)-Math.floor((new Date).getTime()/1e3);r>0?o._phoneCodeCountDown(t,a,r):localStorage.removeItem(a)}if(window.localStorage){var n=localStorage.getItem(o.PHONE_CACHE_KEY)||"",p=localStorage.getItem(o.VCODE_CACHE_KEY)||"",i=o._applyForm.find('input[name="phone"]'),l=o._applyForm.find('input[name="vCode"]');i.length>0&&l.length>0&&(i.val(n),l.val(p))}}),$.fn.form.settings.rules.vCodeEmpty=function(e){return!(0===e.trim().length&&o._applyForm.find(".verify-code").length>0)},o._applyForm.form({inline:!0,fields:{phone:{rules:[{type:"empty",prompt:"请输入手机号码"},{type:"regExp",value:/^1([0-9]{10})$/,prompt:"请输入正确的手机号码"}]},vCode:{rules:[{type:"vCodeEmpty",prompt:"请输入短信验证码"}]},agreement:{rules:[{type:"checked",prompt:"请阅读并同意协议"}]},wechatMpAppId:{},blogName:{},websiteUrl:{},circle:{},websiteArticleUrl:{}}}).api({url:page.api_prefix+"/SupportPlanInfo/register",method:"post",serializeForm:!0,beforeSend:function(e){$(this).find(".error").removeClass("error").find(".prompt").remove(),$(this).message("hideAll");var o=e.data;e.data={user_code:page.g_user_code||"",phone:o.phone,vCode:o.vCode,type:o.platform,invite:o.invite};var t=parseInt(o.platform)||0;return 1===t?(e.url=page.api_prefix+"/SupportPlanInfo/register",e.data.wechatMpAppId=o.wechatMpAppId):2===t&&(e.url=page.api_prefix+"/SupportPlanInfo/blog_register",e.data.blog_name=o.blogName,e.data.home_url=o.websiteUrl,e.data.circle=o.circle,e.data.statement_url=o.websiteArticleUrl),e},onSuccess:function(e){1===e.code?(window.localStorage&&(window.localStorage.removeItem(o.PHONE_CACHE_KEY),window.localStorage.removeItem(o.VCODE_CACHE_KEY)),location.href=page.apply_success_url):$(this).message({type:"negative",content:e.message||"提交失败",disappear:2e3})},onFailure:function(e,o){$(this).message({type:"negative",content:"网络错误，请稍后再试",disappear:2e3})}}),r(),o._applyForm.find('input[name="platform"]').on("change",function(){r()});var n=o._applyForm.find(".tip-modal");n.on("click",".btn-close",function(){n.find(".tip-modal-wrap").transition("scale",function(){n.removeClass("active")})}),o._applyForm.find(".btn-wechat-authorization").on("click",function(){var t=o._applyForm.find('input[name="phone"]'),a=o._applyForm.find('input[name="vCode"]');if(t.length>0&&a.length>0&&(e(o.PHONE_CACHE_KEY,t.val()),e(o.VCODE_CACHE_KEY,a.val())),window.innerWidth>767||window.common.checkPC())location.href=page.wechat_authorization_url;else{if(window.common.checkWeChat()&&page.wechat_authorization_mobile_url)return location.href=page.wechat_authorization_mobile_url,!1;n.addClass("active"),n.find(".tip-modal-wrap").transition("scale")}});var p=o._applyForm.find(".wechat-card-list"),i=o._applyForm.find('input[name="wechatMpAppId"]'),l=o._applyForm.find(".wechat-box");p.on("click",".wechat-card .btn-delete",function(e){var o=$(e.target).parents(".wechat-card:eq(0)"),t=o.data("app-id");$(".delete-action.modal").modal({onApprove:function(){$.post(page.api_prefix+"/SupportPlanInfo/removeAuthInfo",{user_code:page.g_user_code||"",appId:t},function(e){1===e.code?o.fadeOut(function(){o.remove();var e=p.find(".wechat-card").map(function(e,o){return $(o).data("app-id")}),t="";e&&e.length>0?t=Array.prototype.join.call(e,","):(l.removeClass("wechat-box--authorized wechat-box--authorization"),l.addClass("wechat-box--authorization")),i.val(t)}):$("body").toast({type:"error",content:e.message||"删除失败"})}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"})})}}).modal("show")}),new ClipboardJS(".btn-copy-text").on("success",function(e){e.clearSelection();var o=$(e.trigger).data("tip");$("body").toast({type:"success",content:o||"已复制"})})},register:function(){this.initApplyForm();var e=this._applyForm.find(".send-phone-code");this.initYunpianRiddler(this._applyForm,e,this.BIND_TEL_SMS_CODE_FLAG)}},o});
"use strict";OSCDefine("web-sharing-plan-success",["web-sharing-plan-invite-box"],function(){var e=function(){};return e.prototype={constructor:e,injectLuckyBag:function(){page.g_user_code&&window.OSCLuckyBagUtil&&window.localStorage&&((localStorage.getItem("LUCKY_BAG_SHARING_PLAN")||"")&&(window.OSCLuckyBagUtil.request("sharing_plan"),localStorage.removeItem("LUCKY_BAG_SHARING_PLAN")))},register:function(){}},e});
"use strict";OSCDefine("web-sharing-plan-invite",["web-sharing-plan-invite-box"],function(){var t=function(){this._inviteListBoxContainer=$(".invite-list-box")};return t.prototype={constructor:t,initPJAX:function(){var t=this,i=$(".invite-list-box__loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax(".invite-list-box .pagination a, .invite-list-box .tab-menu a.tab-item",".invite-list-box__container",{scrollTo:!1}),$(document).on("pjax:send",function(){i.addClass("active")}),$(document).on("pjax:complete",function(n){i.removeClass("active");var e=n.relatedTarget;$(e).parent().hasClass("pagination")&&$("html, body").stop().animate({scrollTop:t._inviteListBoxContainer.offset().top-60},300,"swing")})},register:function(){this.initPJAX()}},t});
"use strict";OSCDefine("web-information-initial",function(){var t=function(){this._mainContainer=$(".main-container"),this._breadcrumbActiveSectionEl=$(".breadcrumb .active.section")};return t.prototype={constructor:t,initListPJAX:function(){var t=this,a=$(".keyword-list-loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax(".tab-container .tab-menu a.item, .pagination a",".keyword-list-wrap",{scrollTo:!1}),$(document).on("pjax:send",function(){a.addClass("active")}),$(document).on("pjax:complete",function(i){a.removeClass("active");var n=$(i.relatedTarget),e=n.parent(),o=e.hasClass("pagination"),s=e.hasClass("tab-menu");if(o&&$("html, body").stop().animate({scrollTop:0},300,"swing"),s){n.data("tab");var r=n.data("tab-show")||"";t._breadcrumbActiveSectionEl.text(r),document.title=r+" - 关键词索引",t._mainContainer.find(".tab-menu a.item").removeClass("active"),n.addClass("active"),t.scrollTabMenuPositionOffset()}})},scrollTabMenuPositionOffset:function(){var t=this._mainContainer.find(".tab-container .scroll-tab"),a=t.find(".tab-menu .active.item");if(a.length>0){var i=a.outerWidth(),n=a.position().left,e=t.innerWidth(),o=Math.floor(n-e/2+i/2);t.stop(!0).animate({scrollLeft:o},500,"swing")}},register:function(){this.initListPJAX(),this.scrollTabMenuPositionOffset()}},t});
"use strict";OSCDefine("web-information-keyword",function(){var t=function(){this._searchContainerWrap=$(".search-container-wrap")};return t.prototype={constructor:t,initPJAX:function(){var t=this,a=t._searchContainerWrap.find(".search-container-loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax(".search-container .search-list-wrap .pagination a",".search-container",{scrollTo:!1}),$(document).on("pjax:send",function(){a.addClass("active")}),$(document).on("pjax:complete",function(e){$(e.target);var n=e.relatedTarget,i=$(n).parent().hasClass("pagination");a.removeClass("active"),t.optimizeImgShow(),i&&$("html, body").stop(!0).animate({scrollTop:0},500,"swing")})},optimizeImgShow:function(){$(function(){$("[data-img-render]").imgOptimize(90,90)})},register:function(){this.initPJAX(),this.optimizeImgShow()}},t});
!function(t){const e=function(){};e.prototype={constructor:e,config:{entryId:0,objId:0,objType:0,pageSize:10,containerSelector:".comments-box",cacheKeyPrefix:"OSC",replyFormTemplate:"",fetchCommentItemUrl:"",fetchCommentsUrl:"",publishCommentUrl:"",replyCommentUrl:"",getPublishCommentData:t.noop(),getReplyCommentData:t.noop(),onDOMUpdate:t.noop(),commentedAutoScrollToTop:!0,autoFocusPublishInput:!0},init:function(e){if(this.config=t.isPlainObject(e)?t.extend(!0,{},this.config,e):t.extend({},this.config),this._commentsContainer=t(this.config.containerSelector),!this._commentsContainer||this._commentsContainer.length<=0)return!1;this._commentsBoxList=this._commentsContainer.find(".comments-box__list"),this._commentsBoxListInner=this._commentsBoxList.find(".comments-box__list-inner"),this.initCommentForm(),this.initCommentEvent(),this.initPagination(),this.parseEmoticon()},loadCommentsByPage:function(e,n){const o=this;let i=parseInt(e)||1;i<=0&&(i=1);const m=o._commentsBoxList.find('.comment-list[data-type="newest"]'),s=window.common.addQueryParams(o.config.fetchCommentsUrl,{entryId:o.config.entryId,objId:o.config.objId,objType:o.config.objType,page:i,size:o.config.pageSize});t.get(s,function(e){const i=t("<div></div>");i.html(e);const s=i.find('.comment-list[data-type="newest"]');if(s&&s.length>0){const t=s.children(".comment-item");t&&t.length>0&&(m.hasClass("comment-list--empty")&&(m.removeClass("comment-list--empty"),m.find(".comment-list-empty-view").remove()),m.append(t),o.parseEmoticon()),m.attr("data-has-next",s.attr("data-has-next")),m.data("has-next",s.data("has-next")),m.attr("data-current-page",s.attr("data-current-page")),m.data("current-page",s.data("current-page"))}else m.attr("data-has-next",!1),m.data("has-next",!1);o._updateCommentsBoxNext(),n&&t.isFunction(n)&&n.call(this),o.onDOMUpdate()}).fail(function(){t("body").toast({type:"error",content:"网络异常，请稍后再试"})})},getCommentItemHTMLById:function(e,n){const o=this,i=parseInt(e)||0;if(i<=0)return!1;const m=window.common.addQueryParams(o.config.fetchCommentItemUrl,{entryId:o.config.entryId,objId:o.config.objId,objType:o.config.objType,commentId:i});t.get(m,function(e){n&&t.isFunction(n)&&n.call(o,e)})},insertCommentToFirst(e){const n=this,o=t("<div></div>");o.html(e);const i=o.children(".comment-item:eq(0)");if(i&&i.length>0){const t=n._commentsBoxList.find('.comment-list[data-type="newest"]');return t.hasClass("comment-list--empty")&&(t.removeClass("comment-list--empty"),t.find(".comment-list-empty-view").remove()),t.prepend(i),n.parseEmoticon(),n.onDOMUpdate(),i}},insertCommentToChildren(t,e){if(!e||e.length<=0)return!1;e.find(".comment-item__children:eq(0)").append(t),this.parseEmoticon(),this.onDOMUpdate()},updateCommentCount:function(e){const n=t(`[data-comment-count][data-entry-id="${this.config.entryId}"]`),o=e>0?e:0;n.each(function(e,n){const i=t(n),m=i.data("format"),s=i.data("max"),a=i.data("only-data");let c=o;m&&(c=window.common.formatNumberK(o)),s&&o>s&&(c=s+"+"),i.attr("data-value",o),i.attr("data-show",c),!0!==a&&i.text(c)}),t(`.entry-item[data-id="${this.config.entryId}"]`).find("[data-toggle-comment]").attr("data-value",o)},initCommentForm(){const e=this,n=e._commentsContainer.find(".comments-box__form > .comment-form-container");if(!n||n.length<=0)return!1;const o=e.config.cacheKeyPrefix+"_"+e.config.entryId+"_COMMENT_CACHE",i=window.common.throttle(function(t){try{t&&t.trim().length>0?localStorage.setItem(o,t):localStorage.removeItem(o)}catch(t){}},500);e.commentFormVue=new Vue({el:n[0],data:function(){return{showForm:!1,commentMaxLength:1e3,commentContent:"",commentPublishLoading:!1,tipMessage:{show:!1,content:"",className:""}}},computed:{commentContentIsEmpty:function(){return 0===this.commentContent.length},commentCountText:function(){return this.commentContent.length+"/"+this.commentMaxLength}},mounted:function(){if(e.config.autoFocusPublishInput&&this.focus(),void 0!==window.localStorage){var t=localStorage.getItem(o)||"";t&&t.trim().length>0&&(this.commentContent=t,this.showForm=!0,this.$nextTick(()=>{this.updateTextareaHeight()}),this.$refs.commentTextarea.focus())}},methods:{publishComment:function(){const n=this;if(!window.common.checkLogin())return!1;if(n.commentPublishLoading)return;if(n.clearMessage(),n.commentContentIsEmpty)return void n.showMessage("error","内容不能为空",2e3);if(n.commentContent.length>n.commentMaxLength)return void n.showMessage("error","最多只能输入"+n.commentMaxLength+"个字符！",2e3);n.commentPublishLoading=!0;const i=e.config.getPublishCommentData(n.commentContent,n.commentScore)||{};t.post(e.config.publishCommentUrl,i,function(i){if(1===i.code&&i.result){const m=i.result.id,s=i.result.count;i.message&&t("body").toast({type:"success",content:i.message||"评论发布成功"}),window.localStorage&&window.localStorage.removeItem(o),n.resetForm(),e.getCommentItemHTMLById(m,function(t){const n=e.insertCommentToFirst(t);if(n&&!0===e.config.commentedAutoScrollToTop){const t=e._commentsBoxList.find('.comment-title[data-type="newest"]'),o=t.position(),i=o?o.top:0,m=t.outerHeight(!0)+n.outerHeight(!0),s=e._commentsBoxListInner.height();if(i<0||i+m>s){const n=t[0],o=n?n.offsetTop:0;e._commentsBoxListInner.stop().animate({scrollTop:o},500,"swing")}}}),e.updateCommentCount(s);let a=document.createEvent("Event");a.initEvent("comment",!0,!0),n.$el.dispatchEvent(a)}else n.showMessage("error",i.message||"发布失败",2e3)}).fail(function(){n.showMessage("error","网络错误，请稍后再试！",2e3)}).always(function(){n.commentPublishLoading=!1})},commentContentOnKeyDown:function(t){(t.metaKey||t.ctrlKey)&&13===t.keyCode&&this.publishComment()},insertContent:function(t){return!this.commentPublishLoading&&(this.commentContent.length>=this.commentMaxLength||this.commentContent.length+t.length>this.commentMaxLength?void this.showMessage("error","最多只能输入"+this.commentMaxLength+"个字符！",2e3):(selectRange.of(this.$refs.commentTextarea).insertAfterText(t),this.commentContent=this.$refs.commentTextarea.value,this.showForm=!0,this.$nextTick(()=>{this.updateTextareaHeight()}),!0))},showMessage:function(t,e,n){var o=this;o.tipMessage.className="success"===t?"positive":"negative",o.tipMessage.content=e;var i=parseInt(n)||0;o.tipMessage.show=!0,i>0&&setTimeout(function(){o.clearMessage()},i)},clearMessage:function(){this.tipMessage.className="",this.tipMessage.content="",this.tipMessage.show=!1},focus:function(){this.$refs.commentTextarea.focus()},resetForm:function(){this.commentContent="",this.$nextTick(()=>{this.updateTextareaHeight()})},onInputTextarea:function(){this.updateTextareaHeight()},onFocusTextarea:function(){this.showForm=!0},onBlurTextarea:function(){this.commentContentIsEmpty&&(this.showForm=!1)},updateTextareaHeight:function(){const t=this.$refs.commentTextarea,n=t.offsetHeight;t.style.height="auto";const o=t.offsetHeight-t.clientHeight+t.scrollHeight;t.style.height=o+"px",n!==o&&e.onDOMUpdate()}},watch:{commentContent:function(t,e){t!==e&&i(t)}}})},initCommentEvent(){const e=this;function n(n,o,i,m){parseInt(o.attr("data-value"));t.post(page.api_prefix+"/circle/circleArticleListStarSwitch",{obj_id:e.config.objId,obj_type:e.config.objType,comment:i,status:m,user:page.g_user_id,user_code:page.g_user_code},function(e){if(0!==e.code){if(e.result){const t=e.result.count;o.text(t),o.attr("data-value",t)}n.toggleClass("active")}else t("body").toast({type:"error",content:e.message||"投票失败"})}).fail(function(){t("body").toast({type:"error",content:"网络错误，请稍后再试"})})}e.bindReplyBtn(),e._commentsBoxList.on("click",".comment-item .comment-item__actions [data-toggle-like]",function(n){if(!window.common.checkLogin())return!1;n.stopPropagation();const o=t(this),i=o.attr("data-comment-id"),m=!o.hasClass("active");if(o.data("loading"))return!1;o.data("loading",!0),t.post(page.api_prefix+"/circle/circleArticleListStarSwitch",{obj_id:e.config.objId,obj_type:e.config.objType,comment:i,status:m?1:0,user:page.g_user_id,user_code:page.g_user_code},function(n){if(1===n.code&&n.result){const o=1===n.result.status,m=n.result.count;n.message&&t("body").toast({type:"success",content:n.message});const s=e._commentsContainer.find(`[data-toggle-like][data-entry-id="${e.config.entryId}"][data-comment-id="${i}"]`);o?s.addClass("active"):s.removeClass("active"),e._commentsContainer.find(`[data-comment-like-count][data-entry-id="${e.config.entryId}"][data-comment-id="${i}"]`).text(m)}else t("body").toast({type:"error",content:n.message||"点赞失败"})}).fail(function(){t("body").toast({type:"error",content:"网络异常，请稍后再试"})}).always(function(){o.data("loading",!1)})}),e._commentsBoxList.on("click",".comment-item .comment-item__actions .vote-btn",function(e){if(!window.common.checkLogin())return!1;e.stopPropagation();const o=t(this),i=o.parents(".vote-btn-wrap:eq(0)"),m=o.hasClass("vote-up"),s=o.hasClass("vote-down"),a=i.find(".vote-btn.active").length>0,c=i.find(".vote-count"),r=o.parents(".comment-item:eq(0)").attr("data-comment-id");if(!window.common.checkLogin())return!1;o.hasClass("active")?n(o,c,r,m?1:-1):a?t("body").toast({type:"error",content:"您已经对此问题投过票了，不能重复投票"}):m?n(o,c,r,1):s&&n(o,c,r,-1)})},loadNextPageComment(){const t=this,e=t._commentsBoxList.find('.comment-list[data-type="newest"]');if(!e.data("has-next"))return!1;const n=e.data("current-page")||0,o=n+1;o>0&&t.loadCommentsByPage(o)},initPagination(){const t=this;function e(){const e=window.common.checkScrollToBottom(t._commentsBoxList[0],t._commentsBoxListInner[0],30);e&&t.loadNextPageComment()}t._updateCommentsBoxNext(),t._commentsContainer.on("click",".collapse-btn",function(){t.loadNextPageComment()});const n=window.common.throttle(e,100);t._commentsContainer.parents(".osc-comments-modal:eq(0)").length>0&&(t._commentsBoxListInner.on("scroll",n),e())},_updateCommentsBoxNext(){const t=this._commentsContainer.find(".comments-box__next");if(!t&&t.length<=0)return!1;this._commentsBoxList.find('.comment-list[data-type="newest"]').data("has-next")?t.removeClass("hide"):t.addClass("hide"),this.onDOMUpdate()},bindReplyBtn:function(){const e=this;e._commentsBoxList.on("click",".comment-item .comment-item__actions [data-toggle-reply]",function(n){if(n.stopPropagation(),!window.common.checkLogin())return!1;const o=t(this),i=o.find(".text"),m=o.parents(".comment-item:eq(0)"),s=m.attr("data-comment-id"),a=m.attr("data-comment-user-id"),c=m.attr("data-comment-user-name"),r=!!m.data("comment-is-last-level");let d=m,l=s,u=a,h="",f="";if(r){f="回复 @"+(h=c)+" : ";const t=m.parents(".comment-item:eq(0)");t&&t.length>0?(d=t,l=t.attr("data-comment-id"),u=t.attr("data-comment-user-id")):(d=null,l="",u="")}if(!d)return e.commentFormVue&&(e.commentFormVue.insertContent(f),e.commentFormVue.focus()),!1;let g=m.find(".comment-item__main:eq(0) [data-reply-comment-form]");if(g&&g.length>0){const t=g.get(0);return t.vueInstance&&t.vueInstance.removeCommentForm(),!1}e._commentsContainer.find("[data-reply-comment-form]").each(function(t,e){e.vueInstance&&e.vueInstance.removeCommentForm()}),0===e._commentsContainer.find('[data-reply-comment-form][data-comment-id="'+s+'"]').length&&!0!==window.oscReplyCommentFormLoading&&(window.oscReplyCommentFormLoading=!0,t.get(e.config.replyFormTemplate,function(t){const n=document.createElement("div");n.className="comment-item__reply-form",n.innerHTML=t,m.find(".comment-item__main:eq(0)").append(n),(g=m.find(".comment-item__main:eq(0) [data-reply-comment-form]")).attr("data-comment-id",s);const o=new OSCEntryItemCommentReplyForm({commentFormSelector:g[0],commentsWrapEl:e._commentsBoxList,placeholder:`回复${c}`,commentedAutoScrollToTop:!1,url:e.config.replyCommentUrl,onUpdateTextareaHeight:function(){e.onDOMUpdate()},onRemoveForm:function(){n.remove(),i.text("回复"),e.onDOMUpdate()},getParams:function(t){return e.config.getReplyCommentData(l,u,t)},onPublishSuccess:function(t,n){e.getCommentItemHTMLById(t,function(t){e.insertCommentToChildren(t,d)}),e.updateCommentCount(n);let o=document.createEvent("Event");o.initEvent("comment",!0,!0),e._commentsContainer[0].dispatchEvent(o)}});o.init(),o.focus(),f&&o.insertContent(f),i.text("取消回复"),e.onDOMUpdate()}).always(function(){window.oscReplyCommentFormLoading=!1}))})},parseEmoticon:function(){t(function(){t("[data-emoji-render]").emoticon()})},onDOMUpdate:function(){t.isFunction(this.config.onDOMUpdate)&&this.config.onDOMUpdate()}},window.OSCEntryItemComment=e}(window.jQuery||window.$);
!function(t){var e={commentFormSelector:"#commentForm",commentsWrapEl:t(".comments-wrap"),onUpdateTextareaHeight:t.noop(),onRemoveForm:t.noop(),onPublishSuccess:t.noop(),placeholder:"",url:"",getParams:t.noop(),commentedAutoScrollToTop:!0,commentMaxLength:1e3},o=function(o){"object"!=typeof o||(this.option=t.extend({},e,o))};o.prototype.init=function(){this.commentsWrapEl=this.option.commentsWrapEl,this.initCommentForm()},o.prototype.initCommentForm=function(){var e=this;e.commentFormVue=new Vue({el:e.option.commentFormSelector,data:function(){return{showForm:!1,commentPlaceholder:e.option.placeholder||"写下你的评论",commentMaxLength:e.option.commentMaxLength||1e3,commentContent:"",commentPublishLoading:!1,tipMessage:{show:!1,content:"",className:""}}},computed:{commentContentIsEmpty:function(){return 0===this.commentContent.length},commentCountText:function(){return this.commentContent.length+"/"+this.commentMaxLength}},methods:{publishComment:function(){var o=this;if(o.tweetPublishLoading)return;if(o.clearMessage(),o.commentContentIsEmpty)return void o.showMessage("error","内容不能为空",2e3);if(o.commentContent.length>o.commentMaxLength)return void o.showMessage("error","最多只能输入"+o.commentMaxLength+"个字符！",2e3);o.commentPublishLoading=!0;const n=e.option.getParams(o.commentContent)||{};t.post(e.option.url,n,function(n){if(1===n.code&&n.result){if(n.message&&t("body").toast({type:"success",content:n.message}),o.commentContent="",t.isFunction(e.option.onPublishSuccess)){const t=n.result.id,s=n.result.count;e.option.onPublishSuccess.call(o,t,s)}o.removeCommentForm()}else o.showMessage("error",n.message||"发布失败",2e3)}).fail(function(){o.showMessage("error","网络错误，请稍后再试！",2e3)}).always(function(){o.commentPublishLoading=!1})},commentContentOnKeyDown:function(t){(t.metaKey||t.ctrlKey)&&13===t.keyCode&&this.publishComment()},insertContent:function(t){return!this.commentPublishLoading&&(this.commentContent.length>=this.commentMaxLength||this.commentContent.length+t.length>this.commentMaxLength?void this.showMessage("error","最多只能输入"+this.commentMaxLength+"个字符！",2e3):(selectRange.of(this.$refs.commentTextarea).insertAfterText(t),this.commentContent=this.$refs.commentTextarea.value,this.showForm=!0,this.$nextTick(()=>{this.updateTextareaHeight()}),!0))},showMessage:function(t,e,o){var n=this;n.tipMessage.className="success"===t?"positive":"negative",n.tipMessage.content=e;var s=parseInt(o)||0;n.tipMessage.show=!0,s>0&&setTimeout(function(){n.clearMessage()},s)},clearMessage:function(){this.tipMessage.className="",this.tipMessage.content="",this.tipMessage.show=!1},focus:function(){this.$refs.commentTextarea.focus()},removeCommentForm:function(){this.$el.remove(),this.$destroy(),t.isFunction(e.option.onRemoveForm)&&e.option.onRemoveForm.call(this)},onInputTextarea:function(){this.updateTextareaHeight()},onFocusTextarea:function(){this.showForm=!0},onBlurTextarea:function(){this.commentContentIsEmpty&&(this.showForm=!1)},updateTextareaHeight:function(){const t=this.$refs.commentTextarea,o=t.offsetHeight;t.style.height="auto";const n=t.offsetHeight-t.clientHeight+t.scrollHeight;t.style.height=n+"px",o!==n&&e.option.onUpdateTextareaHeight.call(this)}}}),e.commentFormVue.$el.vueInstance=e.commentFormVue},o.prototype.focus=function(){this.commentFormVue&&t.isFunction(this.commentFormVue.focus)&&this.commentFormVue.focus()},o.prototype.insertContent=function(e){this.commentFormVue&&t.isFunction(this.commentFormVue.insertContent)&&this.commentFormVue.insertContent(e)},window.OSCEntryItemCommentReplyForm=o}(window.jQuery||window.$);
"use strict";function _typeof(t){"@babel/helpers - typeof";return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}OSCPlugin("aside-box",function(){var t={sticky:!0},i=function(){this.option=$.extend({},t),this._asideBox=$(".aside-box"),this._asideBoxInner=this._asideBox.find(".aside-box__inner"),this._containerBox=$(".aside-container"),window.page.refreshAsideSticky=this.refreshSticky.bind(this),window.page.rerenderAsideGroupList=this.rerenderGroupList.bind(this)};return i.prototype={constructor:i,init:function(i){"object"===_typeof(i)&&(this.option=$.extend({},t,i)),this._initGroupsFoldButton(),this._initGroupsUpdateTip(),this.option.sticky&&this._initSticky()},_initGroupsFoldButton:function(){var t=this;t._asideBox.find(".aside-section.section-column").on("click",".tab-list .tab-item-fold-btn",function(){var i=$(this),e=i.hasClass("tab-item--fold");if(i.hasClass("tab-item--loading"))return!1;e?(t._setGroupListFoldButtonStatus("loading"),setTimeout(function(){t._setGroupListFoldStatus(!1),t.refreshSticky()},200)):(t._setGroupListFoldStatus(!0),t.refreshSticky())})},_setGroupListFoldButtonStatus:function(t){var i=this._asideBox.find(".aside-section.section-column").find(".tab-item-fold-btn");if(!i||0===i.length)return!1;if(["fold","loading","unfold"].indexOf(t)>-1){i.removeClass("tab-item--loading tab-item--fold tab-item--unfold"),i.addClass("tab-item--"+t);var e=i.find(".tab-item__text");"fold"===t?e.text("展开"):"loading"===t?e.text("加载中"):"unfold"===t&&e.text("收起")}},_setGroupListFoldStatus:function(t){var i=this._asideBox.find(".aside-section.section-column"),e=i.find(".tab-item-fold-btn");if(!e||0===e.length)return!1;var o=i.find(".tab-list");t?(o.find('.tab-item[data-fold="true"]').addClass("tab-item--hidden"),this._setGroupListFoldButtonStatus("fold")):(o.find('.tab-item[data-fold="true"]').removeClass("tab-item--hidden"),this._setGroupListFoldButtonStatus("unfold"))},rerenderGroupList:function(){var t=this,i=t._asideBox.find(".aside-section.section-column");if(0===i.length)return!1;var e=!0,o=i.find(".tab-item-fold-btn");o&&o.length>0&&(e=o.hasClass("tab-item--fold")),$.ajax({url:"/index_new/widgets/_left_aside_column_list?type=ajax",dataType:"html",type:"get",async:!0,success:function(o){var n=$(o).filter(".tab-list");if(0===n.length)return!1;i.find(".section-body").html(n),t._setGroupListFoldStatus(e),t.refreshSticky()}})},_initGroupsUpdateTip:function(){var t=this,i=~~page.asideGroupUpdateInterval;i>=20&&page.g_user_code&&(setInterval(function(){t._updateGroupUpdateTip()},1e3*i),t._updateGroupUpdateTip())},_updateGroupUpdateTip:function(){var t=this;$.post(page.api_prefix+"/circle/update_status",{user_code:page.g_user_code},function(i){if(1===i.code&&i.result){var e=t._asideBox.find(".aside-section.section-column .tab-list");e.find(".tab-item").removeClass("tab-item--notice");var o=i.result.groups||[];o&&o.length>0&&e.find(".tab-item").each(function(t,i){var e=$(i),n=e.data("id");o.indexOf(n)>-1&&e.addClass("tab-item--notice")});var n=t._asideBox.find(".aside-section.section-top .tab-list").find('.tab-item[data-value="project-news"]');i.result.project?n.addClass("tab-item--notice"):n.removeClass("tab-item--notice")}})},_initSticky:function(){this._asideSticky=new OSCSticky({stickySelector:this._asideBoxInner,containerSelector:this._containerBox,throttle:20,offsetTop:(parseInt(page.fixedHeaderHeight)||0)+24}),this._asideSticky.init()},refreshSticky:function(){this._asideSticky&&this._asideSticky.refresh()}},i});
"use strict";OSCPlugin("entry-list",function(){var t=function(){this._articleInfiniteScrollInstance=null,this._entryListScrollAndResizeIsListen=!1,this._entryListScrollAndResizeHandler=window.common.throttle(this._scrollAndResizeHandler.bind(this),20),this._toggleOnDOMUpdate=window.common.throttle(this._onDOMUpdate.bind(this),100),this._entryListExpandItemCount=0,this._entryListExpandItemPositionList=[],this._entryListExpandItemFixedViewportMinHeight=480};return t.prototype={constructor:t,init:function(t){var e=this;e._containerSelector=t||".entry-container",e._entryContainer=$(e._containerSelector),e._entryListBox=e._entryContainer.find(".entry-list-box"),e._articleInfiniteScrollInstance&&e._articleInfiniteScrollInstance.destroy(),e._articleInfiniteScrollInstance=new OSCInfiniteScroll({pagePath:function(){var t=e._entryContainer.find(".pagination__next").attr("href")||"";return t||!1},checkLastPage:".pagination__next",containerSelector:e._containerSelector,itemListSelector:".entry-list-box",loadMoreBtnSelector:".entry-load-more-button",statusSelector:".entry-load-status",defaultAutoLoadPageCount:5,itemSelector:".entry-item",loadOnScroll:!0,onLoad:function(t,n){var i=t.querySelector(".pagination__next");if(i){var o=i.getAttribute("href");e._entryContainer.find(".pagination__next").attr("href",o)}},onAppend:function(){e._onAppend()},onShowViewMoreBtn:function(){e._onEntryViewMoreShow()},onClickViewMoreBtn:function(){e._onEntryViewMoreClick()}}),e._articleInfiniteScrollInstance.init(),e._bindEntryListEvent(),e._onAppend(),e._startListenScrollAndResize()},loadNextPage:function(){this._articleInfiniteScrollInstance&&this._articleInfiniteScrollInstance.loadNextPage()},destroy:function(){this._articleInfiniteScrollInstance&&this._articleInfiniteScrollInstance.destroy(),this._stopListenScrollAndResize()},prepend:function(t){return 0!==this._entryListBox.length&&(0!==$(t).filter(".entry-item").length&&(this._entryListBox.prepend(t),void this._onAppend()))},addEntryMessage:function(t,e,n,i){var o=parseInt(i)||0;if(t&&t.is(".entry-item")){var a="";a+='<div class="entry-message-box'+(o<=0?" entry-message-box--closeable":"")+'">',a+='  <div class="entry-message-box__text">'+(n?'<a href="'+n+'" target="_blank">':"")+e+(n?"</a>":"")+"</div>",o<=0&&(a+='  <div class="entry-message-box__close"><i class="oicon oicon-close"></i></div>'),a+="</div>";var r=$(a);t.find(".entry-item__inner").append(r),o>0&&setTimeout(function(){r.fadeOut(function(){this.remove()})},o)}},items:function(){return this._entryListBox.find(".entry-item")},clearEntryMessage:function(){this._entryContainer.find(".entry-list-box .entry-item .entry-message-box").remove()},clearTargetEntryMessage:function(t){t.find(".entry-message-box").remove()},setOnAppendCallback:function(t){this.onAppend=t},_onAppend:function(){this._appendEntryListEvent(),$.isFunction(this.onAppend)&&this.onAppend.call(this),this._onDOMUpdate()},setOnRemoveCallback:function(t){this.onRemove=t},_onRemove:function(){$.isFunction(this.onRemove)&&this.onRemove.call(this),this._onDOMUpdate()},setOnDOMUpdateCallback:function(t){this.onDOMUpdate=t},_onDOMUpdate:function(){var t=this;$.isFunction(t.onDOMUpdate)&&t.onDOMUpdate.call(t),setTimeout(function(){t._scrollAndResizeHandler()},0)},setEntryItemArticleClickCallback:function(t){this.onEntryItemArticleClick=t},_onEntryItemArticleClick:function(t,e){$.isFunction(this.onEntryItemArticleClick)&&this.onEntryItemArticleClick.call(this,t,e)},setEntryViewMoreClickCallback:function(t){this.onEntryViewMoreClick=t},_onEntryViewMoreClick:function(){$.isFunction(this.onEntryViewMoreClick)&&this.onEntryViewMoreClick.call(this)},setEntryViewMoreShowCallback:function(t){this.onEntryViewMoreShow=t},_onEntryViewMoreShow:function(){$.isFunction(this.onEntryViewMoreShow)&&this.onEntryViewMoreShow.call(this)},setEntryItemFooterClickItem:function(t){this.onEntryItemFooterClickItem=t},_onEntryItemFooterClickItem:function(t,e){$.isFunction(this.onEntryItemFooterClickItem)&&this.onEntryItemFooterClickItem.call(this,t,e)},_bindEntryListEvent:function(){var t=this;if(t._entryContainer.data("event-bind"))return!1;t._entryContainer.data("event-bind",!0),t._entryContainer.on("click",".entry-list-box .entry-item",function(e){var n=$(this),i=n.attr("data-id"),o=n.find(".article-item:eq(0)"),a=$(e.target),r="a"===e.target.nodeName.toLowerCase()||a.parents("a").length>0,s=a.is(".item--clickable")||a.parents(".item--clickable").length>0,c=a.is("[data-custom-click]")||a.parents("[data-custom-click]").length>0,l=a.is(".ui.popup")||a.parents(".ui.popup").length>0,d=a.is("[data-disabled-clickable]")||a.parents("[data-disabled-clickable]").length>0,m=a.is(".article-item")||a.parents(".article-item").length>0,p=a.is(".article-item__title")||a.parents(".article-item__title").length>0,u=o.hasClass("article-item--clickable"),f=n.is(".entry-item.entry-item--full"),y=n.is(".entry-item--full-can-expand"),h=n.is(".entry-item--content-more");if(c){var _=a.is("[data-custom-click]")?a:a.parents("[data-custom-click]:eq(0)");if(_.hasClass("disabled"))return!1;t._entryListCustomClickHandler.call(t,e,_),t._onEntryItemFooterClickItem(a,n)}else if(r)p&&(f&&y&&!h&&(e.preventDefault(),t._openEntryItemFullContent(n)),t._onEntryItemArticleClick(i,n));else if(l);else if(d);else if(m)if(s)t._onEntryItemFooterClickItem(a,n);else if(u)if(f&&y)t._openEntryItemFullContent(n),t._onEntryItemArticleClick(i,n);else{var g=n.attr("data-url")||"";g||(g=o.find(".article-item__title a").attr("href")||""),g&&(t._onEntryItemArticleClick(i,n),window.open(g,"_blank"),e.stopPropagation())}}),t._entryContainer.on("click",".entry-list-box .entry-item .entry-message-box",function(t){var e=$(this),n=$(t.target);if(n.is(".entry-message-box__close")||n.parents(".entry-message-box__close:eq(0)").length>0)return e.fadeOut(150,function(){e.remove()}),!1;("a"===t.target.nodeName.toLocaleLowerCase()||n.parents("a").length>0)&&n.parents(".entry-message-box__text:eq(0)").length>0&&e.fadeOut(150,function(){e.remove()})}),t._entryContainer.on("click",".entry-list-box .entry-item .article-item .popup-dislike-panel .osc-button",function(){var t=$(this),e=$(this).parents(".entry-item:eq(0)"),n=e.attr("data-url"),i=window.common.getUrlParams(n),o=e.attr("data-obj-id")||"",a=e.attr("data-obj-type")||"",r=i.channel||"",s=i.recid||"",c=i.scene||"",l=e.find(".popup-dislike-panel");if(t.hasClass("cancel"))return e.find(".article-item .article-item__header .article-item__header-extra .item.btn-dislike").popup("hide"),!1;if(t.hasClass("confirm")){var d=[];if(l.find(".tag-list .tag-item .checkbox input:checked").each(function(t,e){var n=$(e).val();n&&d.push(n)}),0===d.length)return $("body").toast({type:"negative",content:"请选择理由"}),!1;var m=d.join(",")||"";t.addClass("disabled"),$.post(page.api_prefix+"/IndexFeed/behavior_common_action",{actionType:"DISLIKE",obj_id:o,obj_type:a,channel:r,recid:s,scene:c,reason:m},function(t){1===t.code?(e.fadeOut(function(){e.remove()}),e.find(".article-item .article-item__header .article-item__header-extra .item.btn-dislike").popup("hide")):$("body").toast({type:"negative",content:t.message||"提交失败，请稍后再试"})}).fail(function(){$("body").toast({type:"negative",content:"网络错误，请稍后再试"})}).always(function(){t.removeClass("disabled")})}});var e=$(".recommend-entry.modal");e&&e.length>0&&t._entryContainer.on("click",'.entry-list-box .entry-item[data-list-type="list-item"] .article-item .article-item__footer-extra .item.recommend',function(){var t=$(this),n=t.parents(".entry-item:eq(0)"),i=parseInt(n.attr("data-id"))||0,o="true"===t.attr("data-value");if(!i||e.length<0)return!1;e.modal({onShow:function(){o?(e.find(".header").text("推荐文章"),e.find(".content p").text("确定推荐此文章吗？")):(e.find(".header").text("取消推荐文章"),e.find(".content p").text("确定取消推荐此文章吗？"))},onApprove:function(){$.post(page.api_prefix+"/circle/switchRecommend",{user_code:page.g_user_code||"",id:i,status:o},function(e){if(1===e.code)if(o)$("body").toast({type:"success",content:"推荐成功"}),t.html('<i class="undo alternate icon"></i>取消推荐'),t.attr("data-value",!1),n.attr("data-recommend",!0);else{$("body").toast({type:"success",content:"取消推荐成功"}),t.html('<i class="oicon oicon-rise"></i>推荐'),t.attr("data-value",!0),n.attr("data-recommend",!1);var i=$('.entry-sort-dropdown > input[name="sort"]');if(i&&i.length>0)"recommend"===i.val()&&n.fadeOut(function(){this.remove()})}else $("body").toast({type:"error",content:e.message||"操作失败"})}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"})})}}),e.modal("show")});var n=$(".set-top-entry.modal");n&&n.length>0&&t._entryContainer.on("click",'.entry-list-box .entry-item[data-list-type="list-item"] .article-item .article-item__footer-extra .item.set-top',function(){var e=$(this),i=e.parents(".entry-item:eq(0)"),o=parseInt(i.attr("data-id"))||0,a="true"===e.attr("data-value");if(!o||n.length<0)return!1;n.modal({onShow:function(){a?(n.find(".header").text("置顶文章"),n.find(".content p").text("确定置顶此文章吗？")):(n.find(".header").text("取消置顶文章"),n.find(".content p").text("确定取消置顶此文章吗？"))},onApprove:function(){$.post(page.api_prefix+"/circle/switchTop",{user_code:page.g_user_code||"",id:o,status:a},function(n){1===n.code?a?($("body").toast({type:"success",content:"置顶成功"}),e.html('<i class="undo alternate icon"></i>取消置顶'),e.attr("data-value",!1),i.attr("data-as-top",!0),i.prependTo(t._entryListBox)):($("body").toast({type:"success",content:"取消置顶成功"}),e.html('<i class="arrow up icon"></i>置顶'),e.attr("data-value",!0),i.attr("data-as-top",!1)):$("body").toast({type:"error",content:n.message||"操作失败"})}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"})})}}),n.modal("show")});var i=$(".hide-entry.modal");i&&i.length>0&&t._entryContainer.on("click",'.entry-list-box .entry-item[data-list-type="list-item"] .article-item .article-item__footer-extra .item.hidden',function(){var e=$(this),n=e.parents(".entry-item:eq(0)"),o=parseInt(n.attr("data-id"))||0,a="true"===e.attr("data-value");if(!o||i.length<0)return!1;i.modal({onShow:function(){a?(i.find(".header").text("隐藏"),i.find(".content p").text("确定隐藏此内容吗？")):(i.find(".header").text("取消隐藏"),i.find(".content p").text("确定取消隐藏此内容吗？"))},onApprove:function(){$.post(page.api_prefix+"/circle/switchHide",{user_code:page.g_user_code||"",id:o,status:a},function(i){1===i.code?a?($("body").toast({type:"success",content:"隐藏成功"}),e.html('<i class="eye icon"></i>取消隐藏'),e.attr("data-value",!1),n.fadeOut(function(){this.remove(),t._onRemove()})):($("body").toast({type:"success",content:"取消隐藏成功"}),e.html('<i class="eye slash icon"></i>隐藏'),e.attr("data-value",!0)):$("body").toast({type:"error",content:i.message||"操作失败"})}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"})})}}),i.modal("show")});var o=$(".move-entry.modal");if(o&&o.length>0){var a=o.find(".move-entry.form"),r=a.find(".ui.dropdown.subtype");r.dropdown(),a.form({inline:!0,fields:{subType:{rules:[{type:"empty",prompt:"请选择要移动到的位置"}]}}}).api({url:page.api_prefix+"/circle/bindSubType",method:"post",serializeForm:!0,beforeSend:function(t){$(this).message("hideAll");var e=t.data;return t.data={user_code:page.g_user_code||"",id:e.id,subType:e.subType},t},onSuccess:function(e,n,i){var r=a.find('input[name="id"]').val()||0,s=t._entryListBox.find('.entry-item[data-id="'.concat(r,'"]')),c=parseInt(s.attr("data-sub-id"))||0,l=parseInt(a.find('select[name="subType"]').val()+"")||0,d=a.find('select[name="subType"] option[value="'+l+'"]').text()||"";1===e.code?($("body").toast({type:"success",content:"已将文章移动至 [".concat(d,"]")}),s.attr("data-sub-id",l),o.modal("hide"),c!==l&&s.fadeOut(function(){this.remove()})):$(this).message({type:"negative",content:e.message||"网络错误，请稍后再试"})},onFailure:function(t,e){$(this).message({type:"negative",content:"网络错误，请稍后再试",disappear:2e3})}}),t._entryContainer.on("click",'.entry-list-box .entry-item[data-list-type="list-item"] .article-item .article-item__footer-extra .item.move',function(){var t=$(this).parents(".entry-item:eq(0)"),e=parseInt(t.attr("data-id"))||0,n=parseInt(t.attr("data-sub-id"))||0;if(!e||o.length<0)return!1;o.modal({autofocus:!1,onShow:function(){o.find('input[name="id"]').val(e),r.dropdown("set selected",n+"")},onApprove:function(){return a.message("hideAll"),a.form("submit"),!1}}),o.modal("show")})}var s=$(".set-circles.modal");if(s&&s.length>0){var c=s.find(".set-circles.form"),l=c.find(".ui.dropdown.circles");l.dropdown({}),c.form({inline:!0,fields:{circles:{rules:[]}}}).api({url:page.api_prefix+"/circle/changeGroup",method:"post",serializeForm:!0,beforeSend:function(t){$(this).message("hideAll");var e=t.data;return t.data={user_code:page.g_user_code||"",id:e.id,groupIds:e.circles},t},onSuccess:function(e,n,i){var o=c.find('input[name="id"]').val()||0,a=t._entryListBox.find('.entry-item[data-id="'.concat(o,'"]')),r=c.find('input[name="circles"]').val()||"",l=(r.split(",")||[]).map(function(t){return parseInt(t)}),d=parseInt(page.currentCircleId||"")||0;1===e.code?($("body").toast({type:"success",content:"圈子设置成功"}),a.attr("data-circles",r),s.modal("hide"),d>0&&l.indexOf(d)<0&&a.fadeOut(function(){this.remove()})):$(this).message({type:"negative",content:e.message||"网络错误，请稍后再试"})},onFailure:function(t,e){$(this).message({type:"negative",content:"网络错误，请稍后再试",disappear:2e3})}}),t._entryContainer.on("click",'.entry-list-box .entry-item[data-list-type="list-item"] .article-item .article-item__footer-extra .item.set-circles',function(){var t=$(this).parents(".entry-item:eq(0)"),e=parseInt(t.attr("data-id"))||0,n=((t.attr("data-circles")||"").split(",")||[]).map(function(t){return parseInt(t)});parseInt(page.currentCircleId||"");if(!e||s.length<0)return!1;s.modal({autofocus:!1,onShow:function(){s.find('input[name="id"]').val(e);var t=n.map(function(t){return t+""});l.dropdown("set exactly",t)},onApprove:function(){return c.message("hideAll"),c.form("submit"),!1}}),s.modal("show")})}var d=$(".set-groups.modal");if(d&&d.length>0){var m=d.find(".set-groups.form"),p=m.find(".ui.dropdown.groups");p.dropdown({maxSelections:3}),m.form({inline:!0,fields:{groups:{rules:[{type:"empty",prompt:"请选择专区"}]}}}).api({url:page.api_prefix+"/circle/changeCircle",method:"post",serializeForm:!0,beforeSend:function(t){$(this).message("hideAll");var e=t.data;return t.data={user_code:page.g_user_code||"",id:e.id,groups:e.groups},t},onSuccess:function(e,n,i){var o=m.find('input[name="id"]').val()||0,a=t._entryListBox.find('.entry-item[data-id="'.concat(o,'"]')),r=m.find('input[name="groups"]').val()||"",s=(r.split(",")||[]).map(function(t){return parseInt(t)}),c=parseInt(page.groupId||"")||0;if(1===e.code){$("body").toast({type:"success",content:"专区设置成功"}),a.attr("data-groups",r),d.modal("hide"),c>0&&s.indexOf(c)<0&&a.fadeOut(function(){this.remove()});var l=(e.result||{}).groups;if(l&&l.length>0){var p=a.find(".article-item__header-meta .item-publish-text");if(p&&p.length>0){var u=l.map(function(t){return"<a href='".concat(t.href,"' target='_blank'>").concat(t.name,"</a>")}).join("，");p.html('发表于<span class="gap">'.concat(u,"</span>专区"))}}var f=(e.result||{}).articles;f&&f.length>0&&a.attr("data-id",f[0])}else $(this).message({type:"negative",content:e.message||"网络错误，请稍后再试"})},onFailure:function(t,e){$(this).message({type:"negative",content:"网络错误，请稍后再试",disappear:2e3})}}),t._entryContainer.on("click",'.entry-list-box .entry-item[data-list-type="list-item"] .article-item .article-item__footer-extra .item.set-groups',function(){var t=$(this).parents(".entry-item:eq(0)"),e=parseInt(t.attr("data-id"))||0,n=((t.attr("data-groups")||"").split(",")||[]).map(function(t){return parseInt(t)});parseInt(page.groupId||"");if(!e||d.length<0)return!1;d.modal({autofocus:!1,onShow:function(){d.find('input[name="id"]').val(e);var t=n.map(function(t){return t+""});p.dropdown("set exactly",t)},onApprove:function(){return m.message("hideAll"),m.form("submit"),!1}}),d.modal("show")})}var u=$(".global-recommend-entry.modal");u&&u.length>0&&t._entryContainer.on("click",'.entry-list-box .entry-item[data-list-type="list-item"] .article-item .article-item__footer-extra .item.global-recommend',function(){var t=$(this),e=t.parents(".entry-item:eq(0)"),n=parseInt(e.attr("data-id"))||0,i="true"===t.attr("data-value");if(!n||u.length<0)return!1;u.modal({onShow:function(){i?(u.find(".header").text("推荐文章"),u.find(".content p").text("确定在所有关联专区中推荐此文章吗？")):(u.find(".header").text("取消推荐文章"),u.find(".content p").text("确定在所有关联专区中取消推荐此文章吗？"))},onApprove:function(){$.post(page.api_prefix+"/circle/batchRecommend",{user_code:page.g_user_code||"",id:n,status:i},function(n){1===n.code?i?($("body").toast({type:"success",content:"推荐成功"}),t.html('<i class="undo alternate icon"></i>取消推荐'),t.attr("data-value",!1),e.attr("data-recommend",!0)):($("body").toast({type:"success",content:"取消推荐成功"}),t.html('<i class="oicon oicon-rise"></i>推荐'),t.attr("data-value",!0),e.attr("data-recommend",!1)):$("body").toast({type:"error",content:n.message||"操作失败"})}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"})})}}),u.modal("show")});var f=$(".global-hide-entry.modal");f&&f.length>0&&t._entryContainer.on("click",'.entry-list-box .entry-item[data-list-type="list-item"] .article-item .article-item__footer-extra .item.global-hidden',function(){var e=$(this),n=e.parents(".entry-item:eq(0)"),i=parseInt(n.attr("data-id"))||0,o="true"===e.attr("data-value");if(!i||f.length<0)return!1;f.modal({onShow:function(){o?(f.find(".header").text("隐藏"),f.find(".content p").text("确定在所有关联专区中隐藏此内容吗？")):(f.find(".header").text("取消隐藏"),f.find(".content p").text("确定在所有关联专区中取消隐藏此内容吗？"))},onApprove:function(){$.post(page.api_prefix+"/circle/batchHide",{user_code:page.g_user_code||"",id:i,status:o},function(i){1===i.code?o?($("body").toast({type:"success",content:"隐藏成功"}),e.html('<i class="eye icon"></i>取消隐藏'),e.attr("data-value",!1),n.fadeOut(function(){this.remove(),t._onRemove()})):($("body").toast({type:"success",content:"取消隐藏成功"}),e.html('<i class="eye slash icon"></i>隐藏'),e.attr("data-value",!0)):$("body").toast({type:"error",content:i.message||"操作失败"})}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"})})}}),f.modal("show")})},_entryListCustomClickHandler:function(t,e){if(t.preventDefault(),!e||0===e.length)return!1;var n=e.parents(".entry-item:eq(0)"),i=(n.attr("data-id"),n.attr("data-obj-id")||""),o=n.attr("data-obj-type")||"";n.attr("data-url");if(e.is("[data-toggle-more]")&&this._openEntryItemFullContent(n),e.is("[data-toggle-collapsed]")&&this._closeEntryItemFullContent(n),e.is("[data-toggle-like]")){if(!window.common.checkLogin())return!1;var a=e.data("active"),r=e.data("loading"),s=e.find("[data-text]"),c=e.find("[data-count]");if(r)return!1;e.data("loading",!0),$.post(page.api_prefix+"/circle/circleArticleStarSwitch",{obj_id:i,obj_type:o,status:a?0:1},function(t){if(1===t.code&&t.result){var n=t.result.status,i=t.result.count;1===n?(s.text("取消赞"),c.text(i),e.data("active",!0),e.attr("data-active","true")):(s.text("赞"),c.text(i),e.data("active",!1),e.attr("data-active","false"))}else $("body").toast({type:"error",content:t.message||"操作失败"})}).fail(function(){$("body").toast({type:"error",content:"网络异常，请稍后再试"})}).always(function(){e.data("loading",!1)})}if(e.is("[data-toggle-comment]")){var l=n.is(".entry-item--content-more"),d=n.data("comments-is-open");l?d?this._closeEntryItemModalComments():this._openEntryItemModalComments(n):d?this._closeEntryItemEmbedComments(n):this._openEntryItemEmbedComments(n)}},scrollEntryItemToViewIfNeed:function(t,e,n){if(!t||t.length<=0)return!1;var i=(parseInt(page.fixedHeaderHeight)||0)+24,o=t[0],a=t.offset().top,r=window.innerHeight,s=o.getBoundingClientRect().top;if(s<i||s>r)if(e){var c=window.document.scrollingElement||window.document.body||window.document.documentElement;anime({targets:c,scrollTop:a-i,duration:350,easing:"easeInOutQuad",complete:function(){$.isFunction(n)&&n()}})}else window.scrollTo({top:a-i}),$.isFunction(n)&&n();else $.isFunction(n)&&n()},scrollEntryItemToView:function(t){if(!t||t.length<=0)return!1;var e=t.offset().top;window.scrollTo({top:e-80})},_openEntryItemFullContent:function(t){var e=this,n=(t.attr("data-id"),t.find(".article-item")),i=t.attr("data-url")||"",o=t.attr("data-obj-id")||"",a=t.attr("data-obj-type")||"",r=n.find(".article-item__content > .full-content").html()||"";r?e.__entryItemShowFullContent(t,r):$.get(page.api_prefix+"/circle/circleArticleRaw",{obj_id:o,obj_type:a},function(n){if(1===n.code){if(window._hmt&&window._hmt.push){var o=i.match(/^((http[s]?|ftp):\/)?\/?([^:\/\s]+)((\/\w+)*\/)([\w\-\.]+[^#?\s]+)(.*)?(#[\w\-]+)?$/);if(o){var a="".concat(o[3]||""),r="".concat(o[4]||"").concat(o[6]||"").concat(o[7]||""),s="";/^(www|oschina)/.test(a)&&(s=r),/^my/.test(a)&&(s="/redirect?url="+encodeURIComponent(i)),window._hmt.push(["_trackPageview",s])}}e.__entryItemShowFullContent(t,n.result||"")}else $("body").toast({type:"error",content:n.message||"服务器异常"})}).fail(function(){$("body").toast({type:"error",content:"网络异常，请稍后再试"})})},_closeEntryItemFullContent:function(t){var e=this,n=t.attr("data-url")||"",i=t.find(".article-item"),o=i.find(".article-item__content"),a=i.data("content-init-height"),r=i.data("content-expand-height");if(i.data("is-closing"))return!1;i.data("is-closing",!0);e.scrollEntryItemToViewIfNeed(t,!0,function(){!function(t){var n=window.common.getElementOffset(o[0]),i=window.pageYOffset||document.documentElement.scrollTop,s=window.innerHeight,c=0;n.top-i>0&&(c=s-(n.top-i));var l=Math.min(r,c),d=a;anime({targets:o[0],height:[l+"px",d+"px"],easing:"easeInOutQuad",duration:250,update:function(t){e._toggleOnDOMUpdate()},complete:function(e){t()}})}(function(){t.removeClass("entry-item--content-more"),n&&i.addClass("article-item--clickable"),e._entryListExpandItemCount--,o.css("height",""),i.data("is-closing",!1),e._onDOMUpdate()})})},__entryItemShowFullContent:function(t,e){var n=t.find(".article-item"),i=n.find(".article-item__content"),o=i.children(".full-content"),a=window.pageYOffset||document.documentElement.scrollTop;n.data("page-y",a);var r=i.outerHeight();n.data("content-init-height",r),t.addClass("entry-item--content-more"),n.removeClass("article-item--clickable"),t.find(".article-item__content > .full-content").html(e),o.find("pre, pre code").each(function(t,e){var n=$(this),i=(n.attr("class")||"").match(/language-(.*)/);if(i&&i.length>1){var o=i[i.length-1];n.attr("class","hljs "+o)}hljs.highlightBlock(e)}),this._entryListExpandItemCount++,this._closeEntryItemEmbedComments(t);var s=i.outerHeight();n.data("content-expand-height",s),this._onDOMUpdate()},_animate:function(t,e,n,i,o){if(n<=0||e>=0)return o(),!1;requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,0)};var a=0,r=0;return r=requestAnimationFrame(function s(){var c=e*a/n+t;i(c),++a>n?(cancelAnimationFrame(r),o()):r=requestAnimationFrame(s)})},_updateEntryListItemRectData:function(){var t=this,e=t._entryListBox.find(".entry-item.entry-item--full.entry-item--content-more");t._entryListExpandItemPositionList=[],e.each(function(e,n){if(n){var i=window.common.getElementOffset(n),o={entryId:n.getAttribute("data-id"),width:n.offsetWidth,height:n.offsetHeight,left:i.left,top:i.top};t._entryListExpandItemPositionList.push(o)}})},_getEntryListItemRectDataByEntryId:function(t){if(!this._entryListExpandItemPositionList||0===this._entryListExpandItemPositionList.length)return null;for(var e=0;e<this._entryListExpandItemPositionList.length;e++){var n=this._entryListExpandItemPositionList[e];if(n&&n.entryId===t)return n}return null},_scrollAndResizeHandler:function(){if(this._entryListExpandItemCount<=0)return this._activeEntryItemFooterFixed(null,!0),!1;this._updateEntryListItemRectData();for(var t=window.pageYOffset,e=window.innerHeight,n=null,i=this._entryListExpandItemPositionList.length,o=0;o<i;o++){var a=this._entryListExpandItemPositionList[o];if(a&&e>this._entryListExpandItemFixedViewportMinHeight&&a.top<=t+e/2&&a.top+a.height-12-t>e){n=a;break}}this._activeEntryItemFooterFixed(n,!0)},_startListenScrollAndResize:function(){if(this._entryListScrollAndResizeIsListen)return!1;$(window).on("scroll",this._entryListScrollAndResizeHandler),$(window).on("resize",this._entryListScrollAndResizeHandler),this._entryListScrollAndResizeIsListen=!0},_stopListenScrollAndResize:function(){$(window).off("scroll",this._entryListScrollAndResizeHandler),$(window).off("resize",this._entryListScrollAndResizeHandler),this._entryListScrollAndResizeIsListen=!1},_activeEntryItemFooterFixed:function(t,e){var n=null;if(t){n=t.entryId;var i=this._entryListBox.find('.entry-item.entry-item--content-more[data-id="'.concat(n,'"]'));if(i&&i.length>0){var o=i.find(".article-item .article-item__inner"),a=o.find(".article-item__footer");a&&(a.is(".fixed-bottom")?a.offset().left!==t.left&&a.css("left",t.left-window.pageXOffset):(o.css("padding-bottom",a.outerHeight(!0)),a.addClass("fixed-bottom"),a.css("left",t.left-window.pageXOffset),a.css("width",t.width),a.css("bottom",0)))}}if(e){var r=this._entryListBox.find(".entry-item");n&&(r=r.not('[data-id="'.concat(n,'"]'))),r.each(function(t,e){var n=$(e),i=n.find(".article-item .article-item__inner"),o=i.find(".article-item__footer");o&&o.is(".fixed-bottom")&&(i.css("padding-bottom",""),o.removeClass("fixed-bottom"),o.css("left",""),o.css("width",""),o.css("bottom",""))})}},_openEntryItemEmbedComments:function(t){var e=this,n=t.find(".article-item .article-item__footer .btn-comment"),i=t.find(".comments-wrap");if(n.hasClass("loading"))return!1;var o=t.attr("data-id")||"",a=t.is(".entry-item--expand-embed-comments");if(!o||a)return!1;var r=t.attr("data-obj-id")||"",s=t.attr("data-obj-type")||"";n.addClass("loading disabled");var c=parseInt(page.embedCommentPageSize)||10;window.common.asyncTimeout(60,function(a){$.get(page.site_url+"?type=ajax&widget=embed_comments_container&entryId=".concat(o,"&objId=").concat(r,"&objType=").concat(s,"&size=").concat(c),function(c){a(function(){if(!n.hasClass("loading"))return!1;var a=$(c),l=a&&a.length>0&&$(a.get(0)).hasClass("comments-box");if(!l)return $("body").toast({type:"error",content:"网络错误，请稍后再试"}),!1;t.data("comments-is-open",!0),t.addClass("entry-item--expand-embed-comments"),n.addClass("collapsed"),i.html(c),e.clearTargetEntryMessage(t);var d=window.page||{};(new OSCEntryItemComment).init({entryId:o,objId:r,objType:s,pageSize:parseInt(d.embedCommentPageSize)||10,containerSelector:'.entry-item[data-id="'.concat(o,'"] > .entry-item__inner > .comments-wrap > .comments-box'),cacheKeyPrefix:"OSC_GROUP_ENTRY",replyFormTemplate:d.site_url+"?type=ajax&widget=comments_reply_form",fetchCommentItemUrl:d.site_url+"?type=ajax&widget=comments_list_item",fetchCommentsUrl:d.site_url+"?type=ajax&widget=comments_list&type=inner",publishCommentUrl:d.api_prefix+"/circle/comment",replyCommentUrl:d.api_prefix+"/circle/comment",autoFocusPublishInput:!0,getPublishCommentData:function(t){return{obj_id:r,obj_type:s,content:t,user:d.g_user_id||"",user_code:d.g_user_code||""}},getReplyCommentData:function(t,e,n){return{obj_id:r,obj_type:s,content:n,reply_id:t||"",reply_user_id:e||"",user:d.g_user_id||"",user_code:d.g_user_code||""}},onDOMUpdate:function(){e._onDOMUpdate()}}),n.removeClass("loading disabled")})}).fail(function(){a(function(){n.removeClass("loading disabled")})})})},_closeEntryItemEmbedComments:function(t){var e=t.find(".article-item .article-item__footer .btn-comment"),n=t.find(".comments-wrap");e.hasClass("loading")&&e.removeClass("loading disabled");var i=t.attr("data-id")||"",o=t.is(".entry-item--expand-embed-comments");if(!i||!o)return!1;t.data("comments-is-open",!1),t.removeClass("entry-item--expand-embed-comments"),e.removeClass("collapsed"),n.html(""),this.scrollEntryItemToViewIfNeed(t)},__showCommentsModal:function(t){if(t&&t.length>0){$("body").addClass("osc-comments-modal-disabled-scroll"),t.addClass("active");var e=t.find(".osc-comments-modal__cover"),n=t.find(".osc-comments-modal__inner");n.transition("is visible")||n.transition("scale"),e.addClass("active"),this._onDOMUpdate()}},__closeCommentsModal:function(t){var e=this;if(t&&t.length>0){$("body").removeClass("osc-comments-modal-disabled-scroll");var n=t.find(".osc-comments-modal__cover"),i=t.find(".osc-comments-modal__inner");i.transition("is visible")&&(n.removeClass("active"),i.transition("scale",function(){t.removeClass("active"),t.remove(),e._onDOMUpdate()}))}},_openEntryItemModalComments:function(t){var e=this,n=t.attr("data-id")||"";if(!n)return!1;var i=t.attr("data-obj-id")||"",o=t.attr("data-obj-type")||"",a=t.find(".article-item .article-item__footer .btn-comment");if(a.hasClass("collapsed"))return!1;if(a.hasClass(".loading"))return!1;$(".osc-comments-modal").remove(),$("body").removeClass("osc-comments-modal-disabled-scroll"),a.addClass("loading disabled");var r=parseInt(page.modalCommentPageSize)||10;window.common.asyncTimeout(60,function(s){$.get(page.site_url+"?type=ajax&widget=modal_comments_container&entryId=".concat(n,"&objId=").concat(i,"&objType=").concat(o,"&size=").concat(r),function(r){s(function(){var s=$(r),c=null;s&&s.length>0&&(c=$(s.get(0)));var l=c.hasClass("osc-comments-modal");if(!l)return $("body").toast({type:"error",content:"网络错误，请稍后再试"}),!1;c.attr("data-entry-id",n),$("body").append(c),e._bindCommentsModalEvent(),e.__showCommentsModal(c),t.data("comments-is-open",!0),a.addClass("collapsed");var d=window.page||{};(new OSCEntryItemComment).init({entryId:n,objId:i,objType:o,pageSize:parseInt(d.modalCommentPageSize)||20,containerSelector:c.find(".comments-box"),cacheKeyPrefix:"OSC_GROUP_ENTRY",replyFormTemplate:d.site_url+"?type=ajax&widget=comments_reply_form",fetchCommentItemUrl:d.site_url+"?type=ajax&widget=comments_list_item",fetchCommentsUrl:d.site_url+"?type=ajax&widget=comments_list&type=modal",publishCommentUrl:d.api_prefix+"/circle/comment",replyCommentUrl:d.api_prefix+"/circle/comment",commentedAutoScrollToTop:!0,getPublishCommentData:function(t){return{obj_id:i,obj_type:o,content:t,user:d.g_user_id||"",user_code:d.g_user_code||""}},getReplyCommentData:function(t,e,n){return{obj_id:i,obj_type:o,content:n,reply_id:t||"",user:d.g_user_id||"",user_code:d.g_user_code||""}},onDOMUpdate:function(){}}),a.removeClass("loading disabled")})}).fail(function(){s(function(){a.removeClass("loading disabled")})})})},_closeEntryItemModalComments:function(){var t=$(".osc-comments-modal");this.__closeCommentsModal(t);var e=t.attr("data-entry-id")||0;if(e){var n=this._entryListBox.find('.entry-item[data-id="'.concat(e,'"]')),i=n.find(".article-item .article-item__footer .btn-comment");n.data("comments-is-open",!1),i.removeClass("collapsed")}},_bindCommentsModalEvent:function(){var t=this;$(".osc-comments-modal").on("click",".osc-comments-modal__header-close",function(){var e=$(this).parents(".osc-comments-modal:eq(0)");e&&e.length>0&&t._closeEntryItemModalComments()})},_appendEntryListEvent:function(){var t=this;t._entryContainer.find(".entry-item .article-item .article-item__footer .item.ui.dropdown").dropdown({action:"hide"}),t._entryContainer.find(".entry-item .article-item .article-item__header .article-item__header-extra .item.btn-dislike").each(function(t,e){var n=$(e);if(!0===n.data("init-popup"))return!0;var i=n.parents(".entry-item:eq(0)"),o=i.attr("data-url"),a=window.common.getUrlParams(o),r=i.attr("data-obj-id")||"",s=i.attr("data-obj-type")||"",c=a.channel||"",l=a.recid||"",d=a.scene||"";if(!(r&&s&&c&&l&&d))return n.remove(),i.find(".article-item .popup-dislike-panel").remove(),!0;n.addClass("enable"),n.popup({position:"bottom right",hoverable:!1,on:"click",popup:".popup-dislike-panel",onShow:function(){if(!window.common.checkLogin())return!1;i.find(".popup-dislike-panel").find(".checkbox").checkbox("uncheck")}}),n.data("init-popup",!0)}),t._entryContainer.find(".entry-item .article-item .article-item__content > .ellipsis-content > .cover-picture").each(function(e,n){var i=$(n);if(!0===i.data("init"))return!0;i.data("init",!0);var o=i.find("img").get(0);if(!o)return!0;o.onload=function(e){i.addClass("enable"),t._toggleOnDOMUpdate()},o.onerror=function(e){i.remove(),t._toggleOnDOMUpdate()},o.complete&&(i.addClass("enable"),t._toggleOnDOMUpdate()),o.src=o.getAttribute("data-src")}),$("[data-emoji-render]").emoticon()}},t});
"use strict";OSCPlugin("tweet-publish-modal",function(){var e=function(){this.tweetFormVue=null};return e.prototype={constructor:e,onPublishSuccess:function(e,t){},setOnPublishSuccessCallback:function(e){e&&$.isFunction(e)&&(this.onPublishSuccess=e)},initTweetPublishModal:function(){var e=this,t=$(".tweet-publish.modal");page.g_user_code&&t.length>0&&(t.modal({autofocus:!1,dimmerSettings:{className:{pageDimmer:"page osc-modal-dimmer",active:"active"}},closable:!1,duration:200,onShow:function(){e.tweetFormVue&&e.tweetFormVue.onModalShow()}}),t.on("click",".header-close",function(){t.modal("hide")}),e._initTweetPublishForm()),$(document).on("click","[data-toggle-tweet-publish-modal]",function(e){if(e.preventDefault(),e.stopPropagation(),!window.common.checkLogin())return!1;t.modal("show")}),$(document).on("click","[data-toggle-tweet-publish-link]",function(o){if(o.stopPropagation(),!page.g_user_code)return!0;o.preventDefault();var a=$(this).data("topic")||"";a&&e.tweetFormVue&&e.tweetFormVue.setContent("#".concat(a,"# ")),t.modal("show")})},_initTweetPublishForm:function(){var e=this;if(0===$("#tweetPublishForm").length)return!1;var t=$(".tweet-publish.modal");e.tweetFormVue=new Vue({el:"#tweetPublishForm",data:function(){return{tweetMaxLength:160,tweetContent:page.tweetTopicPrefix||"",tweetPublishLoading:!1,tipMessage:{show:!1,content:"",className:""},curEmojiType:"People",emojiList:[{type:"People",items:["bowtie","smile","laughing","blush","smiley","relaxed","smirk","heart_eyes","kissing_heart","kissing_closed_eyes","flushed","relieved","satisfied","grin","wink","stuck_out_tongue_winking_eye","stuck_out_tongue_closed_eyes","grinning","kissing","kissing_smiling_eyes","stuck_out_tongue","sleeping","worried","frowning","anguished","open_mouth","grimacing","confused","hushed","expressionless","unamused","sweat_smile","sweat","disappointed_relieved","weary","pensive","disappointed","confounded","fearful","cold_sweat","persevere","cry","sob","joy","astonished","scream","neckbeard","tired_face","angry","rage","triumph","sleepy","yum","mask","sunglasses","dizzy_face","imp","smiling_imp","neutral_face","no_mouth","innocent","alien","yellow_heart","blue_heart","purple_heart","heart","green_heart","broken_heart","heartbeat","heartpulse","two_hearts","revolving_hearts","cupid","sparkling_heart","sparkles","star","star2","dizzy","boom","collision","anger","exclamation","question","grey_exclamation","grey_question","zzz","dash","sweat_drops","notes","musical_note","fire","hankey","poop","shit","+1","thumbsup","-1","thumbsdown","ok_hand","punch","facepunch","fist","v","wave","hand","raised_hand","open_hands","point_up","point_down","point_left","point_right","raised_hands","pray","point_up_2","clap","muscle","metal","fu","walking","runner","running","couple","family","two_men_holding_hands","two_women_holding_hands","dancer","dancers","ok_woman","no_good","information_desk_person","raising_hand","bride_with_veil","person_with_pouting_face","person_frowning","bow","couplekiss","couple_with_heart","massage","haircut","nail_care","boy","girl","woman","man","baby","older_woman","older_man","person_with_blond_hair","man_with_gua_pi_mao","man_with_turban","construction_worker","cop","angel","princess","smiley_cat","smile_cat","heart_eyes_cat","kissing_cat","smirk_cat","scream_cat","crying_cat_face","joy_cat","pouting_cat","japanese_ogre","japanese_goblin","see_no_evil","hear_no_evil","speak_no_evil","guardsman","skull","feet","lips","kiss","droplet","ear","eyes","nose","tongue","love_letter","bust_in_silhouette","busts_in_silhouette","speech_balloon","thought_balloon","feelsgood","finnadie","goberserk","godmode","hurtrealbad","rage1","rage2","rage3","rage4","suspect","trollface"]},{type:"Nature",items:["sunny","umbrella","cloud","snowflake","snowman","zap","cyclone","foggy","ocean","cat","dog","mouse","hamster","rabbit","wolf","frog","tiger","koala","bear","pig","pig_nose","cow","boar","monkey_face","monkey","horse","racehorse","camel","sheep","elephant","panda_face","snake","bird","baby_chick","hatched_chick","hatching_chick","chicken","penguin","turtle","bug","honeybee","ant","beetle","snail","octopus","tropical_fish","fish","whale","whale2","dolphin","cow2","ram","rat","water_buffalo","tiger2","rabbit2","dragon","goat","rooster","dog2","pig2","mouse2","ox","dragon_face","blowfish","crocodile","dromedary_camel","leopard","cat2","poodle","paw_prints","bouquet","cherry_blossom","tulip","four_leaf_clover","rose","sunflower","hibiscus","maple_leaf","leaves","fallen_leaf","herb","mushroom","cactus","palm_tree","evergreen_tree","deciduous_tree","chestnut","seedling","blossom","ear_of_rice","shell","globe_with_meridians","sun_with_face","full_moon_with_face","new_moon_with_face","new_moon","waxing_crescent_moon","first_quarter_moon","waxing_gibbous_moon","full_moon","waning_gibbous_moon","last_quarter_moon","waning_crescent_moon","last_quarter_moon_with_face","first_quarter_moon_with_face","moon","earth_africa","earth_americas","earth_asia","volcano","milky_way","partly_sunny","octocat","squirrel"]},{type:"Objects",items:["bamboo","gift_heart","dolls","school_satchel","mortar_board","flags","fireworks","sparkler","wind_chime","rice_scene","jack_o_lantern","ghost","santa","christmas_tree","gift","bell","no_bell","tanabata_tree","tada","confetti_ball","balloon","crystal_ball","cd","dvd","floppy_disk","camera","video_camera","movie_camera","computer","tv","iphone","phone","telephone","telephone_receiver","pager","fax","minidisc","vhs","sound","speaker","mute","loudspeaker","mega","hourglass","hourglass_flowing_sand","alarm_clock","watch","radio","satellite","loop","mag","mag_right","unlock","lock","lock_with_ink_pen","closed_lock_with_key","key","bulb","flashlight","high_brightness","low_brightness","electric_plug","battery","calling","email","mailbox","postbox","bath","bathtub","shower","toilet","wrench","nut_and_bolt","hammer","seat","moneybag","yen","dollar","pound","euro","credit_card","money_with_wings","e-mail","inbox_tray","outbox_tray","envelope","incoming_envelope","postal_horn","mailbox_closed","mailbox_with_mail","mailbox_with_no_mail","package","door","smoking","bomb","gun","hocho","pill","syringe","page_facing_up","page_with_curl","bookmark_tabs","bar_chart","chart_with_upwards_trend","chart_with_downwards_trend","scroll","clipboard","calendar","date","card_index","file_folder","open_file_folder","scissors","pushpin","paperclip","black_nib","pencil2","straight_ruler","triangular_ruler","closed_book","green_book","blue_book","orange_book","notebook","notebook_with_decorative_cover","ledger","books","bookmark","name_badge","microscope","telescope","newspaper","football","basketball","soccer","baseball","tennis","8ball","rugby_football","bowling","golf","mountain_bicyclist","bicyclist","horse_racing","snowboarder","swimmer","surfer","ski","spades","hearts","clubs","diamonds","gem","ring","trophy","musical_score","musical_keyboard","violin","space_invader","video_game","black_joker","flower_playing_cards","game_die","dart","mahjong","clapper","memo","pencil","book","art","microphone","headphones","trumpet","saxophone","guitar","shoe","sandal","high_heel","lipstick","boot","shirt","tshirt","necktie","womans_clothes","dress","running_shirt_with_sash","jeans","kimono","bikini","ribbon","tophat","crown","womans_hat","mans_shoe","closed_umbrella","briefcase","handbag","pouch","purse","eyeglasses","fishing_pole_and_fish","coffee","tea","sake","baby_bottle","beer","beers","cocktail","tropical_drink","wine_glass","fork_and_knife","pizza","hamburger","fries","poultry_leg","meat_on_bone","spaghetti","curry","fried_shrimp","bento","sushi","fish_cake","rice_ball","rice_cracker","rice","ramen","stew","oden","dango","egg","bread","doughnut","custard","icecream","ice_cream","shaved_ice","birthday","cake","cookie","chocolate_bar","candy","lollipop","honey_pot","apple","green_apple","tangerine","lemon","cherries","grapes","watermelon","strawberry","peach","melon","banana","pear","pineapple","sweet_potato","eggplant","tomato","corn"]},{type:"Places",items:["house","house_with_garden","school","office","post_office","hospital","bank","convenience_store","love_hotel","hotel","wedding","church","department_store","european_post_office","city_sunrise","city_sunset","japanese_castle","european_castle","tent","factory","tokyo_tower","japan","mount_fuji","sunrise_over_mountains","sunrise","stars","statue_of_liberty","bridge_at_night","carousel_horse","rainbow","ferris_wheel","fountain","roller_coaster","ship","speedboat","boat","sailboat","rowboat","anchor","rocket","airplane","helicopter","steam_locomotive","tram","mountain_railway","bike","aerial_tramway","suspension_railway","mountain_cableway","tractor","blue_car","oncoming_automobile","car","red_car","taxi","oncoming_taxi","articulated_lorry","bus","oncoming_bus","rotating_light","police_car","oncoming_police_car","fire_engine","ambulance","minibus","truck","train","station","train2","bullettrain_front","bullettrain_side","light_rail","monorail","railway_car","trolleybus","ticket","fuelpump","vertical_traffic_light","traffic_light","warning","construction","beginner","atm","slot_machine","busstop","barber","hotsprings","checkered_flag","crossed_flags","izakaya_lantern","moyai","circus_tent","performing_arts","round_pushpin","triangular_flag_on_post","jp","kr","cn","us","fr","es","it","ru","gb","uk","de"]},{type:"Symbols",items:["one","two","three","four","five","six","seven","eight","nine","keycap_ten","1234","zero","hash","symbols","arrow_backward","arrow_down","arrow_forward","arrow_left","capital_abcd","abcd","abc","arrow_lower_left","arrow_lower_right","arrow_right","arrow_up","arrow_upper_left","arrow_upper_right","arrow_double_down","arrow_double_up","arrow_down_small","arrow_heading_down","arrow_heading_up","leftwards_arrow_with_hook","arrow_right_hook","left_right_arrow","arrow_up_down","arrow_up_small","arrows_clockwise","arrows_counterclockwise","rewind","fast_forward","information_source","ok","twisted_rightwards_arrows","repeat","repeat_one","new","top","up","cool","free","ng","cinema","koko","signal_strength","u5272","u5408","u55b6","u6307","u6708","u6709","u6e80","u7121","u7533","u7a7a","u7981","sa","restroom","mens","womens","baby_symbol","no_smoking","parking","wheelchair","metro","baggage_claim","accept","wc","potable_water","put_litter_in_its_place","secret","congratulations","m","passport_control","left_luggage","customs","ideograph_advantage","cl","sos","id","no_entry_sign","underage","no_mobile_phones","do_not_litter","non-potable_water","no_bicycles","no_pedestrians","children_crossing","no_entry","eight_spoked_asterisk","sparkle","eight_pointed_black_star","heart_decoration","vs","vibration_mode","mobile_phone_off","chart","currency_exchange","aries","taurus","gemini","cancer","leo","virgo","libra","scorpius","sagittarius","capricorn","aquarius","pisces","ophiuchus","six_pointed_star","negative_squared_cross_mark","a","b","ab","o2","diamond_shape_with_a_dot_inside","recycle","end","back","on","soon","clock1","clock130","clock10","clock1030","clock11","clock1130","clock12","clock1230","clock2","clock230","clock3","clock330","clock4","clock430","clock5","clock530","clock6","clock630","clock7","clock730","clock8","clock830","clock9","clock930","heavy_dollar_sign","copyright","registered","tm","x","heavy_exclamation_mark","bangbang","interrobang","o","heavy_multiplication_x","heavy_plus_sign","heavy_minus_sign","heavy_division_sign","white_flower","100","heavy_check_mark","ballot_box_with_check","radio_button","link","curly_loop","wavy_dash","part_alternation_mark","trident","black_small_square","white_small_square","black_medium_small_square","white_medium_small_square","black_medium_square","white_medium_square","black_large_square","white_large_square","white_check_mark","black_square_button","white_square_button","black_circle","white_circle","red_circle","large_blue_circle","large_blue_diamond","large_orange_diamond","small_blue_diamond","small_orange_diamond","small_red_triangle","small_red_triangle_down","shipit"]}],uploadAttachmentId:0,uploadFileCount:0,uploadFileMax:9,uploadDropzone:null,uploadDropzoneProgress:!1,pictureLocalError:"",pictureNetwork:!1,pictureNetworkUrl:"",pictureNetworkImgUrl:"",pictureNetworkError:"",pictureNetworkUploading:!1,codeEditable:!0,codeLanguage:"",codeSnippet:"",enableScopeSelect:page.enableScopeSelect,groupId:parseInt(page.groupId)||0,scopeSelectedItem:null,scopeGroupSearch:"",scopeGroupItems:[],scopeStickyItems:[{id:-1,name:"我的好友",icon:(window.__STATIC_DOMAIN||"")+"/new-osc/img/page/index-new/icon-friend.svg"}],scopeSelectError:!1}},computed:{uploadFileAvailableCount:function(){return this.uploadFileMax-this.uploadFileCount},curEmojiItems:function(){for(var e=0,t=this.emojiList.length;e<t;e++)if(this.emojiList[e].type===this.curEmojiType)return this.emojiList[e].items;return this.emojiList[0].items},tweetContentIsEmpty:function(){return 0===this.tweetContent.length},tweetCountText:function(){return this.tweetContent.length+"/"+this.tweetMaxLength}},watch:{scopeGroupSearch:function(e){this.fetchScopeItemsThrottle(e)}},mounted:function(){var e=this;e.__$data=ObjHelper.copy(e.$data),e.initDropzone(),document.addEventListener("click",function(t){0!==$(".tweet-form .toolbox-popup.toolbox-picture").find(t.target).length||0!==$('[data-popup="toolbox-picture"]').find(t.target).length||$(t.target).hasClass("dz-hidden-input")||$(t.target).is(".tweet-form .toolbox-popup.toolbox-picture")||$(t.target).is('[data-popup="toolbox-picture"]')||$(e.$refs.showPictureToolBox).popup("hide")}),e.initPasteUploadPicture(),$(e.$refs.scopeSelect).dropdown({action:"nothing",showOnFocus:!1,onShow:function(){e.resetScopeSearch()}})},methods:{onModalShow:function(){var e=this;setTimeout(function(){e.moveCursorToLast(),e.resetScopeItem()},0)},insertEmoji:function(e){this.clearMessage();var t=":"+e+":";this.insertContent(t),$(this.$refs.showEmojiBox).popup("hide")},initDropzone:function(){var e=this;e.uploadDropzone=new Dropzone("#dropzone",{parallelUploads:1,maxFilesize:1,paramName:"resource",addRemoveLinks:!0,acceptedFiles:"image/png,image/jpeg,image/gif",maxFiles:e.uploadFileMax,url:page.api_prefix+"/tweet/upload_multi_image",accept:function(t,o){e.pictureLocalError="",e.uploadDropzoneProgress=!0,o()}}),e.uploadDropzone.on("queuecomplete",function(){e.uploadDropzoneProgress=!1}),e.uploadDropzone.on("removedfile",function(t){e.pictureLocalError="",e.uploadAttachmentId&&t.attachmentId&&$.post(page.api_prefix+"/tweet/delete_tweet_image",{id:t.attachmentId,lastId:e.uploadAttachmentId,user_code:page.g_user_code||""},function(t){1===t.code?e.uploadFileCount=e.uploadDropzone.getAcceptedFiles().length:e.pictureLocalError=t.message})}),e.uploadDropzone.on("addedfile",function(t){e.pictureLocalError="",e.uploadDropzone.getAcceptedFiles().forEach(function(o){o.name===t.name&&o.size===t.size&&o.lastModified===t.lastModified&&(e.uploadDropzone.removeFile(t),e.pictureLocalError="图片( "+t.name+" )已存在，请勿重复上传!")})}),e.uploadDropzone.on("sending",function(t,o,a){a.append("photoId",e.uploadAttachmentId)}),e.uploadDropzone.on("success",function(t,o){if(e.pictureLocalError="",1===o.code){var a=o.result,r=a.id>e.uploadAttachmentId?a.id:e.uploadAttachmentId;t.attachmentId=r,e.uploadAttachmentId=r,e.uploadFileCount=e.uploadDropzone.getAcceptedFiles().length}else e.pictureLocalError=o.message})},insertNetworkPicture:function(){var e=this;if(e.pictureNetworkError="",!$(".upload-picture-network.form").form("validate form"))return!1;e.pictureNetworkUploading=!0,$.post(page.api_prefix+"/tweet/insert_img",{source:2,url:e.pictureNetworkUrl},function(t){if(1===t.code){var o=t.result;e.pictureNetworkImgUrl=o.view,e.uploadAttachmentId=o.id>e.uploadAttachmentId?o.id:e.uploadAttachmentId}else e.pictureNetworkError=t.message||"上传图片失败"}).fail(function(){e.pictureNetworkError="网络错误，请稍后再试！"}).always(function(){e.pictureNetworkUploading=!1})},initPasteUploadPicture:function(){this.$el&&this.$el.addEventListener("paste",this._pasteUpload.bind(this))},_pasteUpload:function(e){var t,o,a,r=e.clipboardData||window.clipboardData;if(r){if(!(t=r.items)||t.length<=0)return;a=r.types||[];for(var i=0;i<a.length;i++)if("Files"===a[i]){o=t[i];break}if(o&&"file"===o.kind&&o.type.match(/^image\//i)){var n=o.getAsFile();if(!n)return!1;if(this.uploadFileCount>=this.uploadFileMax)return!1;this.uploadDropzone.addFile(n),$(this.$refs.showPictureToolBox).popup("show"),e.preventDefault()}}},insertTopic:function(){this.clearMessage();if(this.insertContent("#此处输入话题#")){var e=selectRange.of(this.$refs.tweetTextarea),t=e.getCurPos();e.setSelectText(t-("#此处输入话题#".length-1),t-1)}},saveCodeSnippet:function(){if(!$(".code-editor.form").form("validate form"))return!1;this.codeEditable=!1,$(".code-editor pre code").each(function(e,t){hljs.highlightBlock(t)})},deleteCodeSnippet:function(){this.codeEditable=!0,this.codeSnippet=""},reset:function(){ObjHelper.set(this.$data,this.__$data),this.uploadDropzone.removeAllFiles(),$(this.$refs.showPictureToolBox).popup("hide"),$(this.$refs.codeLanguageDropdown).dropdown("clear")},publishTweet:function(){var o=this;if(!window.common.checkLogin())return!1;if(!o.tweetPublishLoading)if(o.clearMessage(),o.tweetContentIsEmpty)o.showMessage("error","内容不能为空",2e3);else if(o.tweetContent.length>o.tweetMaxLength)o.showMessage("error","最多只能输入"+o.tweetMaxLength+"个字符！",2e3);else{o.tweetPublishLoading=!0;var a={userId:page.g_user_id||"",user_code:page.g_user_code||"",group_id:o.groupId,content:o.tweetContent,code_snippet:o.codeSnippet,code_brush:o.codeLanguage,attachment:o.uploadAttachmentId};$.post(page.api_prefix+"/tweet/pubForwardTweet",a,function(a){if(1===a.code){if(o.tweetPublishLoading=!1,o.reset(),t.modal("hide"),a.result&&void 0!==a.result.log){var r=a.result.log;if(a.result.groupArticleId&&a.result.groupArticleId>0){var i=a.result.groupArticleId;e.onPublishSuccess(r,i)}else e.onPublishSuccess(r,0)}}else o.showMessage("error",a.message||"发布失败")}).fail(function(){o.showMessage("error","网络错误，请稍后再试！")}).always(function(){o.tweetPublishLoading=!1})}},tweetContentOnKeyDown:function(e){(e.metaKey||e.ctrlKey)&&13===e.keyCode&&this.publishTweet()},addTopic:function(e){var t=e.target.innerText+" ";this.insertContent(t)},setContent:function(e){return!this.tweetPublishLoading&&(this.tweetContent.length>=this.tweetMaxLength||this.tweetContent.length+e.length>this.tweetMaxLength?(this.showMessage("error","最多只能输入"+this.tweetMaxLength+"个字符！",2e3),!1):(this.tweetContent=e,this.moveCursorToLast(),!0))},moveCursorToLast:function(){selectRange.of(this.$refs.tweetTextarea).setCurPos(this.tweetContent.length)},showPictureToolBox:function(){$(this.$refs.showPictureToolBox).popup("is visible")?$(this.$refs.showPictureToolBox).popup("hide"):$(this.$refs.showPictureToolBox).popup("show")},insertContent:function(e){return!this.tweetPublishLoading&&(this.tweetContent.length>=this.tweetMaxLength||this.tweetContent.length+e.length>this.tweetMaxLength?(this.showMessage("error","最多只能输入"+this.tweetMaxLength+"个字符！",2e3),!1):(selectRange.of(this.$refs.tweetTextarea).insertAfterText(e),this.tweetContent=this.$refs.tweetTextarea.value,!0))},showMessage:function(e,t,o){var a=this;a.tipMessage.className="success"===e?"success":"error",a.tipMessage.content=t;var r=parseInt(o)||0;a.tipMessage.show=!0,r>0&&setTimeout(function(){a.clearMessage()},r)},clearMessage:function(){this.tipMessage.className="",this.tipMessage.content="",this.tipMessage.show=!1},fetchScopeItems:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this;$.get(page.api_prefix+"/circle/search",{keyword:e},function(e){1===e.code&&e.result&&e.result.length>0?t.scopeGroupItems=e.result.map(function(e){return{id:e.id,name:e.name,icon:e.small_logo}}):t.scopeGroupItems=[]})},fetchScopeItemsThrottle:window.common.throttle(function(e){this.fetchScopeItems(e)},100),resetScopeSearch:function(){this.scopeGroupSearch="",this.fetchScopeItems()},clickScopeItem:function(e){this.groupId=e.id,this.scopeSelectedItem=e,$(this.$refs.scopeSelect).dropdown("hide")},resetScopeItem:function(){this.groupId=parseInt(page.groupId)||0,this.scopeSelectedItem=null}}}),$("#tweetPublishForm .tweet-form .toolbox > .item[data-popup]").each(function(e,t){var o=$(t),a=$(o).parent().find(".toolbox-popup."+o.attr("data-popup"));o.popup({position:"top left",popup:a,on:"toolbox-picture"===o.attr("data-popup")?"manual":"click",exclusive:!0,onShow:function(){if(!window.common.checkLogin())return!1}})}),$("#tweetPublishForm .tweet-form .toolbox .toolbox-code .dropdown").dropdown(),$("#tweetPublishForm .upload-picture-network.form").form({inline:!0,fields:{pictureNetworkUrl:{identifier:"pictureNetworkUrl",rules:[{type:"empty",prompt:"请输入图片网址"},{type:"regExp",value:/(https?:\/\/[^\s\.]+\.[^\s]{2,}\/[^\s]+\.(jpeg|gif|jpg|png|bmp|svg|webp)$)/i,prompt:"请输入正确的图片网址"}]}}}),$("#tweetPublishForm .code-editor.form").form({inline:!0,fields:{codeLanguage:{identifier:"codeLanguage",rules:[{type:"empty",prompt:"请选择编程语言"}]},codeSnippet:{identifier:"codeSnippet",rules:[{type:"empty",prompt:"请输入代码"}]}}});var o,a=function(e){if(Array.isArray(e)&&e.length>0){var t=$("#tweetPublishForm .tweet-form .tweet-form__textarea textarea");t.atwho({at:"@",data:e,headerTpl:'<div class="atwho-header">我的关注 <small>↑&nbsp;↓&nbsp;</small></div>',searchKey:"searchKey",insertTpl:"${atwho-at}${name}",displayTpl:"<li>${name}</li>",limit:10}),t.on("inserted.atwho",function(e,t,o){tweetFormVue.tweetContent=tweetFormVue.$refs.tweetTextarea.value}),window.__PUBLISH_FORM_ATWHO_INIT=!0}};page.g_user_code&&window.innerWidth>=768&&!window.__PUBLISH_FORM_ATWHO_INIT&&(window.__USER_FRIENDS?a(window.__USER_FRIENDS):(o=function(e){a(e)},$.post("/tweet/atwho",function(e){var t=e;Array.isArray(t)&&t.length>0&&(window.__USER_FRIENDS=t,o(t))})))}},e});
"use strict";OSCPlugin("question-publish-modal",function(){var e=function(){this.questionFormVue=null};return e.prototype={constructor:e,onPublishSuccess:function(e,t){},setOnPublishSuccessCallback:function(e){e&&$.isFunction(e)&&(this.onPublishSuccess=e)},initQuestionPublishModal:function(){var e=this,t=$(".question-publish.modal");page.g_user_code&&t.length>0&&(t.modal({autofocus:!1,dimmerSettings:{className:{pageDimmer:"page osc-modal-dimmer",active:"active"}},closable:!1,duration:200,onShow:function(){e.questionFormVue&&e.questionFormVue.onModalShow()}}),t.on("click",".header-close",function(){t.modal("hide")}),e._initQuestionPublishForm()),$(document).on("click","[data-toggle-question-publish-modal]",function(e){if(e.preventDefault(),e.stopPropagation(),!window.common.checkLogin())return!1;t.modal("show")})},_initQuestionPublishForm:function(){var e=this;if(0===$("#questionPublishForm").length)return!1;var t=$(".question-publish.modal");e.questionFormVue=new Vue({el:"#questionPublishForm",data:function(){return{questionTitle:"",questionContent:"",publishLoading:!1,tipMessage:{show:!1,content:"",className:""},uploadAttachmentId:0,uploadFileCount:0,uploadFileMax:9,uploadDropzone:null,uploadDropzoneProgress:!1,pictureLocalError:"",pictureNetwork:!1,pictureNetworkUrl:"",pictureNetworkImgUrl:"",pictureNetworkError:"",pictureNetworkUploading:!1,codeEditable:!0,codeLanguage:"",codeSnippet:"",enableScopeSelect:page.enableScopeSelect,groupId:parseInt(page.groupId)||0,scopeSelectedItem:null,scopeGroupSearch:"",scopeGroupItems:[],scopeStickyItems:[{id:-1,name:"我的好友",icon:(window.__STATIC_DOMAIN||"")+"/new-osc/img/page/index-new/icon-friend.svg"}],scopeSelectError:!1}},computed:{uploadFileAvailableCount:function(){return this.uploadFileMax-this.uploadFileCount},questionTitleIsEmpty:function(){return 0===this.questionTitle.length},questionContentIsEmpty:function(){return 0===this.questionContent.length},disabledSubmitButton:function(){return this.questionTitleIsEmpty||this.questionContentIsEmpty}},watch:{scopeGroupSearch:function(e){this.fetchScopeItemsThrottle(e)}},mounted:function(){var e=this;e.__$data=ObjHelper.copy(e.$data),e.initDropzone(),document.addEventListener("click",function(t){0!==$(".question-form .toolbox-popup.toolbox-picture").find(t.target).length||0!==$('[data-popup="toolbox-picture"]').find(t.target).length||$(t.target).hasClass("dz-hidden-input")||$(t.target).is(".question-form .toolbox-popup.toolbox-picture")||$(t.target).is('[data-popup="toolbox-picture"]')||$(e.$refs.showPictureToolBox).popup("hide")}),e.initPasteUploadPicture(),$(e.$refs.scopeSelect).dropdown({action:"nothing",showOnFocus:!1,onShow:function(){e.resetScopeSearch()}})},methods:{onModalShow:function(){var e=this;setTimeout(function(){e.$refs.questionTitleInput.focus(),e.resetScopeItem()},0)},initDropzone:function(){var e=this;e.uploadDropzone=new Dropzone("#dropzone",{parallelUploads:1,maxFilesize:1,paramName:"resource",addRemoveLinks:!0,acceptedFiles:"image/png,image/jpeg,image/gif",maxFiles:e.uploadFileMax,url:page.api_prefix+"/tweet/upload_multi_image",accept:function(t,o){e.pictureLocalError="",e.uploadDropzoneProgress=!0,o()}}),e.uploadDropzone.on("queuecomplete",function(){e.uploadDropzoneProgress=!1}),e.uploadDropzone.on("removedfile",function(t){e.pictureLocalError="",e.uploadAttachmentId&&t.attachmentId&&$.post(page.api_prefix+"/tweet/delete_tweet_image",{id:t.attachmentId,lastId:e.uploadAttachmentId,user_code:page.g_user_code||""},function(t){1===t.code?e.uploadFileCount=e.uploadDropzone.getAcceptedFiles().length:e.pictureLocalError=t.message})}),e.uploadDropzone.on("addedfile",function(t){e.pictureLocalError="",e.uploadDropzone.getAcceptedFiles().forEach(function(o){o.name===t.name&&o.size===t.size&&o.lastModified===t.lastModified&&(e.uploadDropzone.removeFile(t),e.pictureLocalError="图片( "+t.name+" )已存在，请勿重复上传!")})}),e.uploadDropzone.on("sending",function(t,o,i){i.append("photoId",e.uploadAttachmentId)}),e.uploadDropzone.on("success",function(t,o){if(e.pictureLocalError="",1===o.code){var i=o.result,n=i.id>e.uploadAttachmentId?i.id:e.uploadAttachmentId;t.attachmentId=n;var r=(i.file||"").split(",");r&&r.length>0&&(t.attachmentUrl=r.slice(-1)[0]),e.uploadAttachmentId=n,e.uploadFileCount=e.uploadDropzone.getAcceptedFiles().length}else e.pictureLocalError=o.message})},insertNetworkPicture:function(){var e=this;if(e.pictureNetworkError="",!$(".upload-picture-network.form").form("validate form"))return!1;e.pictureNetworkUploading=!0,$.post(page.api_prefix+"/tweet/insert_img",{source:2,url:e.pictureNetworkUrl},function(t){if(1===t.code){var o=t.result;e.pictureNetworkImgUrl=o.view,e.uploadAttachmentId=o.id>e.uploadAttachmentId?o.id:e.uploadAttachmentId}else e.pictureNetworkError=t.message||"上传图片失败"}).fail(function(){e.pictureNetworkError="网络错误，请稍后再试！"}).always(function(){e.pictureNetworkUploading=!1})},initPasteUploadPicture:function(){this.$el&&this.$el.addEventListener("paste",this._pasteUpload.bind(this))},_pasteUpload:function(e){var t,o,i,n=e.clipboardData||window.clipboardData;if(n){if(!(t=n.items)||t.length<=0)return;i=n.types||[];for(var r=0;r<i.length;r++)if("Files"===i[r]){o=t[r];break}if(o&&"file"===o.kind&&o.type.match(/^image\//i)){var s=o.getAsFile();if(!s)return!1;if(this.uploadFileCount>=this.uploadFileMax)return!1;this.uploadDropzone.addFile(s),$(this.$refs.showPictureToolBox).popup("show"),e.preventDefault()}}},saveCodeSnippet:function(){if(!$(".code-editor.form").form("validate form"))return!1;this.codeEditable=!1,$(".code-editor pre code").each(function(e,t){hljs.highlightBlock(t)})},deleteCodeSnippet:function(){this.codeEditable=!0,this.codeSnippet=""},reset:function(){ObjHelper.set(this.$data,this.__$data),this.uploadDropzone.removeAllFiles(),$(this.$refs.showPictureToolBox).popup("hide"),$(this.$refs.codeLanguageDropdown).dropdown("clear")},publish:function(){var o=this;if(!window.common.checkLogin())return!1;if(!o.publishLoading)if(o.clearMessage(),o.questionTitleIsEmpty)o.showMessage("error","标题不能为空",2e3);else if(o.questionContentIsEmpty)o.showMessage("error","内容不能为空",2e3);else{if(o.enableScopeSelect&&!o.scopeSelectedItem)return o.scopeSelectError=!0,void setTimeout(function(){o.scopeSelectError=!1},1600);o.publishLoading=!0;var i=o.questionContent;i=(i=$("<div>").text(i).html()).replace(new RegExp("\r?\n","g"),"<br />"),i="<p>".concat(i,"</p>");var n=o.uploadDropzone.getAcceptedFiles(),r=[];if(n&&n.length>0)for(var s=n.length,u=0;u<s;u++){var a=n[u];a&&a.attachmentId&&a.attachmentUrl&&r.push(a.attachmentUrl)}i+=r.map(function(e){return'<p><img src="'.concat(e,'" alt=""></p>')}).join("");var p=o.pictureNetworkImgUrl||"";p&&(i+='<p><img src="'.concat(p,'" alt=""></p>'));var c=o.codeLanguage||"",l=o.codeSnippet||"";l&&(i+='<pre><code class="language-'.concat(c,'">').concat(l,"</code></pre>"));var d={userId:page.g_user_id||"",user_code:page.g_user_code||"",subject:o.questionTitle,catalog:1,groups:o.groupId,body:i,needVerifyCode:!1};$.post(page.api_prefix+"/question/newAsk",d,function(i){if(1===i.code){if(o.publishLoading=!1,o.reset(),t.modal("hide"),i.result&&i.result.questionId>0){var n=i.result.questionId;if(i.result.groupArticleIds&&i.result.groupArticleIds.length>0){var r=i.result.groupArticleIds[0];e.onPublishSuccess(r,n)}else e.onPublishSuccess(0,n)}}else o.showMessage("error",i.message||"发布失败")}).fail(function(){o.showMessage("error","网络错误，请稍后再试！")}).always(function(){o.publishLoading=!1})}},questionContentOnKeyDown:function(e){(e.metaKey||e.ctrlKey)&&13===e.keyCode&&this.publish()},setContent:function(e){return!this.publishLoading&&(this.questionContent=e,this.moveCursorToLast(),!0)},moveCursorToLast:function(){selectRange.of(this.$refs.questionContentTextarea).setCurPos(this.questionContent.length)},showPictureToolBox:function(){$(this.$refs.showPictureToolBox).popup("is visible")?$(this.$refs.showPictureToolBox).popup("hide"):$(this.$refs.showPictureToolBox).popup("show")},insertContent:function(e){return!this.publishLoading&&(selectRange.of(this.$refs.questionContentTextarea).insertAfterText(e),this.questionContent=this.$refs.questionContentTextarea.value,!0)},showMessage:function(e,t,o){var i=this;i.tipMessage.className="success"===e?"success":"error",i.tipMessage.content=t;var n=parseInt(o)||0;i.tipMessage.show=!0,n>0&&setTimeout(function(){i.clearMessage()},n)},clearMessage:function(){this.tipMessage.className="",this.tipMessage.content="",this.tipMessage.show=!1},fetchScopeItems:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this;$.get(page.api_prefix+"/circle/search",{keyword:e},function(e){if(1===e.code&&e.result&&e.result.length>0){var o=e.result.map(function(e){return{id:e.id,name:e.name,icon:e.small_logo}});t.scopeGroupItems=o}else t.scopeGroupItems=[]})},fetchScopeItemsThrottle:window.common.throttle(function(e){this.fetchScopeItems(e)},100),resetScopeSearch:function(){this.scopeGroupSearch="",this.fetchScopeItems()},clickScopeItem:function(e){this.groupId=e.id,this.scopeSelectedItem=e,$(this.$refs.scopeSelect).dropdown("hide")},resetScopeItem:function(){this.groupId=parseInt(page.groupId)||0,this.scopeSelectedItem=null}}});var o=$("#questionPublishForm .osc-field");o.on("focus","textarea, input",function(){$(this).parent().addClass("focus")}),o.on("blur","textarea, input",function(){$(this).parent().removeClass("focus")}),$("#questionPublishForm .question-form .toolbox > .item[data-popup]").each(function(e,t){var o=$(t),i=$(o).parent().find(".toolbox-popup."+o.attr("data-popup"));o.popup({position:"top left",popup:i,on:"toolbox-picture"===o.attr("data-popup")?"manual":"click",exclusive:!0,onShow:function(){if(!window.common.checkLogin())return!1}})}),$("#questionPublishForm .question-form .toolbox .toolbox-code .dropdown").dropdown(),$("#questionPublishForm .upload-picture-network.form").form({inline:!0,fields:{pictureNetworkUrl:{identifier:"pictureNetworkUrl",rules:[{type:"empty",prompt:"请输入图片网址"},{type:"regExp",value:/(https?:\/\/[^\s\.]+\.[^\s]{2,}\/[^\s]+\.(jpeg|gif|jpg|png|bmp|svg|webp)$)/i,prompt:"请输入正确的图片网址"}]}}}),$("#questionPublishForm .code-editor.form").form({inline:!0,fields:{codeLanguage:{identifier:"codeLanguage",rules:[{type:"empty",prompt:"请选择编程语言"}]},codeSnippet:{identifier:"codeSnippet",rules:[{type:"empty",prompt:"请输入代码"}]}}})}},e});
"use strict";OSCDefine("web-new-index",["question-publish-modal","entry-list","aside-box"],function(e,t,n){var i=function(){this._indexContainer=$(".index-container"),this._asideBox=this._indexContainer.find(".aside-box"),this._asideBoxInner=this._asideBox.find(".aside-box__inner"),this._bodyBox=this._indexContainer.find(".body-box"),this._bodyBoxTablistBox=this._bodyBox.find(".tabs-list"),this._channelNewsVue=null,this._channelQuestionSwiperVue=null,this._channelGiteeProjectUpdateBox=null,this.questionUserSwiper=null};return i.prototype={constructor:i,initAsideBox:function(){n.init({sticky:!0})},initPJAX:function(){var e=this,t=$(".inner-container__loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=0;var i=void 0;$(document).pjax("[data-container-pjax]",".inner-container__inner",{scrollTo:!1}),$(document).on("pjax:send",function(){t.addClass("active")}),$(document).on("pjax:complete",function(i){var a=$(i.relatedTarget),o=a.is(".tabs-item")||a.parents(".tabs-item:eq(0)").length>0;if(t.removeClass("active"),o){var r=a.data("value")||"";r&&(e.setCurrentTab(r),e.initContainerJS(r))}n.refreshSticky()}),$(document).on("pjax:popstate",function(e){i=e.direction}),$(document).on("pjax:end",function(t){if("back"===i||"forward"===i){var n=t.currentTarget.URL;if(n){var a=window.common.getUrlParams(n),o=a.tab||page.defaultTab||"";o&&(e.setCurrentTab(o),e.initContainerJS(o))}i=void 0}})},setCurrentTab:function(e){if(e){var t=this._bodyBoxTablistBox.find('.tabs-item[data-value="'+e+'"]');t&&t.length>0&&(this._bodyBoxTablistBox.find(".tabs-item").removeClass("active"),t.addClass("active"),page.currentTab=e)}},getCurrentTab:function(){var e=this._bodyBoxTablistBox.find(".tabs-item.active");return e&&e.length>0?e.attr("data-value")||"":page.currentTab||""},initContainerJS:function(e){switch("channel"!==e&&(this._channelNewsVue=null,this._channelQuestionSwiperVue=null,this.destroyChannelGiteeProjectUpdate()),"recommend"!==e&&(this.destroyEntryList(),this.questionUserSwiper=null),e){case"channel":this.setFooterVisible(!0),this.initChannelNewsTab(),this.initChannelGiteeProjectUpdate(),this.initChannelGroupArticleList();break;case"recommend":this.setFooterVisible(!1),this.clearRecommendTabItemNum(),this.initEntryList(),this.initQuestionUserSwiper(),this.reportRecommendStatistics();break;case"explore":this.setFooterVisible(!0)}},setFooterVisible:function(e){e?$("#footer, #copyright").removeClass("hide"):$("#footer, #copyright").addClass("hide")},initEntryList:function(){t.setOnAppendCallback(function(){if(n.refreshSticky(),page.rocommendGrayStatus){var e=[],i=[];t.items().each(function(t,n){var a=$(n);if(!0!==a.data("report-feed-show")){if(a.is('[data-list-type="list-item"]')){var o=a.attr("data-url"),r=window.common.getUrlParams(o),s=parseInt(a.attr("data-obj-id"))||0,c=parseInt(a.attr("data-obj-type"))||0,d=r.channel||"",l=r.recid||"",u=r.scene||"";s>0&&c>0&&(a.data("report-feed-show",!0),e.push({channel:d,recid:l,scene:u,objType:c,objId:s}))}if(a.is('[data-list-type="recommend-users"]')){var p=a.find(".user-list-box .user-card");p&&p.length>0&&p.each(function(e,t){var n=$(t),o=parseInt(n.attr("data-id"))||0,r=n.attr("href"),s=window.common.getUrlParams(r),c=s.channel||"",d=s.recid||"",l=s.scene||"";o>0&&(a.data("report-feed-show",!0),i.push({channel:c,recid:d,scene:l,cid:o+""}))})}}}),e&&e.length>0&&$.post(page.api_prefix+"/IndexFeed/feed_show_stat",{feeds:JSON.stringify(e)},function(e){}),i&&i.length>0&&$.post(page.api_prefix+"/IndexFeed/author_show_stat",{authors:JSON.stringify(i)},function(e){})}}),t.setEntryItemArticleClickCallback(function(e,t){if(page.rocommendGrayStatus||$.post(page.api_prefix+"/circle/viewCircleArticle",{id:e},function(e){}),page.rocommendGrayStatus){var n=t.attr("data-url"),i=window.common.getUrlParams(n),a=t.attr("data-obj-id")||"",o=t.attr("data-obj-type")||"",r=i.channel||"",s=i.recid||"",c=i.scene||"";$.post(page.api_prefix+"/IndexFeed/behavior_common_action",{actionType:"CLICK",obj_id:a,obj_type:o,channel:r,recid:s,scene:c},function(e){})}}),t.setEntryItemFooterClickItem(function(e,t){if(page.rocommendGrayStatus&&(e.is(".osc-share .item")||e.parents(".osc-share .item").length>0)){var n=t.attr("data-url"),i=window.common.getUrlParams(n),a=t.attr("data-obj-id")||"",o=t.attr("data-obj-type")||"",r=i.channel||"",s=i.recid||"",c=i.scene||"";$.post(page.api_prefix+"/IndexFeed/behavior_common_action",{actionType:"SHARE",obj_id:a,obj_type:o,channel:r,recid:s,scene:c},function(e){})}}),t.setEntryViewMoreClickCallback(function(){page.rocommendGrayStatus||$.post(page.api_prefix+"/circle/clickMore",function(e){})}),t.setEntryViewMoreShowCallback(function(){page.rocommendGrayStatus||$.post(page.api_prefix+"/circle/viewMore",function(e){})}),t.init()},destroyEntryList:function(){t.destroy()},initQuestionUserSwiper:function(){this._bodyBox.find(".recommend-container").find(".question-users-box__swiper").find(".swiper-slide").length>1&&(this.questionUserSwiper=new Swiper(".question-users-box__swiper",{direction:"vertical",autoplay:{delay:5e3,disableOnInteraction:!1},simulateTouch:!1,loop:!0}))},clearRecommendTabItemNum:function(){var e=this._bodyBoxTablistBox.find('.tabs-item[data-value="recommend"]'),t=e.find(".count");t.text(""),t.removeClass("show"),e.find(".point").removeClass("show")},reportRecommendStatistics:function(){page.rocommendGrayStatus||$.post(page.api_prefix+"/circle/viewRecommend",function(e){})},initChannelNewsTab:function(){return this._channelNewsVue=new Vue({el:"#v_news",data:function(){return{industryNewsTab:1,projectNewsTab:1}},methods:{setPageIndex:function(e,t){this[e]=t}}}),this},initChannelQuestionSwiper:function(){var e;this._channelQuestionSwiperVue=new Vue({el:"#v_wonderful",data:function(){return{items:window.__QUESTION_WONDERFUL||[],show:!0}},methods:{autoPlay:function(){var e=this.items,t=e.shift();setTimeout(function(){e.push(t)},1e3)},pause:function(){clearInterval(e)},play:function(){e=setInterval(this.autoPlay,1e4)}},mounted:function(){e=setInterval(this.autoPlay,1e4)}})},initChannelGiteeProjectUpdate:function(){var e=this,t=e._bodyBox.find(".sidebar-section.section-gitee-update"),n=t.find(".count-down");e._channelGiteeProjectUpdateBox=t.find(".project-update-box"),e._channelGiteeProjectUpdateBox.find(".project-update-list").on("scroll",window.common.throttle(e._onGiteeProjectUpdateScroll.bind(e),100)),e._processGiteeProjectUpdateScrollCover();var i=60,a=i;e._channelGiteeProjectUpdateCountDownTimer=null,function t(){n.text("".concat(a,"s 后自动更新")),a>0&&(e._channelGiteeProjectUpdateCountDownTimer=setTimeout(function(){a--,t()},1e3)),0===a&&(e._channelGiteeProjectUpdateCountDownTimer&&clearTimeout(e._channelGiteeProjectUpdateCountDownTimer),n.html('<span class="refresh-loader loading"><i class="oicon oicon-refresh"></i></span>'),window.common.asyncTimeout(400,function(n){e._refreshGiteeProjectUpdateList(function(){n(function(){a=i,t()})})}))}()},destroyChannelGiteeProjectUpdate:function(){if(!this._channelGiteeProjectUpdateBox)return!1;this._channelGiteeProjectUpdateBox.find(".project-update-list").off("scroll"),this._channelGiteeProjectUpdateCountDownTimer&&clearTimeout(this._channelGiteeProjectUpdateCountDownTimer)},_onGiteeProjectUpdateScroll:function(){this._processGiteeProjectUpdateScrollCover()},_processGiteeProjectUpdateScrollCover:function(){if(!this._channelGiteeProjectUpdateBox)return!1;var e=this._channelGiteeProjectUpdateBox,t=e.find(".project-update-list"),n=t.scrollTop(),i=t[0].scrollHeight;n+t.height()>=i?e.hasClass("scroll-cover")&&e.removeClass("scroll-cover"):e.hasClass("scroll-cover")||e.addClass("scroll-cover")},_refreshGiteeProjectUpdateList:function(e){var t=this;$.get("?type=ajax&widget=section_gitee_update",function(e){t._channelGiteeProjectUpdateBox.html(e)}).always(function(){$.isFunction(e)&&e.call(t)})},initChannelGroupArticleList:function(){this._bodyBox.find(".panel-box.panel-box--group-recommend").on("click",".group-column .item-list .item a.item-title",function(e){var t=$(this),n=t.parents(".group-column:eq(0)"),i=parseInt(n.attr("data-group-type"))||0,a=t.attr("data-url")||"";3===i&&a&&(e.preventDefault(),window.open(a,"_blank"))})},initRecommendUpdate:function(){var e=this;$(document).on("click",".card-item .user-card",function(e){var t=$(this),n=parseInt(t.attr("data-id"))||0;page.rocommendGrayStatus||$.post(page.api_prefix+"/circle/clickUser",{id:n},function(e){})}),$(document).on("click",".message-box.update-message-box .message-box__close",function(e){e.stopPropagation(),$(this).parents(".message-box:eq(0)").fadeOut()}),$(document).on("click",".message-box.update-message-box",function(e){e.stopPropagation();var n=$(this);n.fadeOut();var i=parseInt(n.attr("data-newest-id"))||0,a=parseInt(n.attr("data-size"))||0;if(a<=0)return!1;$.get(page.site_url+"/index_new/widgets/_entry_list_newest_ajax?newestId="+i+"&size="+a,function(e){if(e){var n=$(e);if(0===n.filter(".entry-item").length)return;t.clearEntryMessage(),t.prepend(n)}})});var n=~~page.entryListAutoUpdateInterval;if(n>=20){setInterval(function(){e._updateRecommendUpdateMessage()},1e3*n);var i=e.getCurrentTab();"recommend"!==i&&"recommendC"!==i&&"recommendT"!==i&&e._updateRecommendUpdateMessage()}},_updateRecommendUpdateMessage:function(){var e=this,t=e.getCurrentTab();if("recommend"===t||"recommendC"===t||"recommendT"===t){var n=e._bodyBox.find(".recommend-container"),i=n.find(".entry-container"),a=n.find(".message-box.update-message-box"),o=a.find(".num"),r=i.find('.entry-list-box .entry-item[data-list-type="list-item"]:eq(0)');if(0===r.length)return!1;var s=r.attr("data-id");s>0&&$.post(page.api_prefix+"/circle/newest",{id:s},function(e){if(1===e.code&&e.result>0){var t=e.result||0,n=parseInt(page.entryListUpdateMaxCount)||10;a.attr("data-newest-id",s),a.attr("data-size",t>n?n:t),o.text(t),a.fadeIn()}})}else $.post(page.api_prefix+"/circle/newest",{id:0},function(t){if(1===t.code&&t.result>0){var n=t.result||0,i=n>99?"99+":n+"",a=e._bodyBoxTablistBox.find('.tabs-item[data-value="recommend"]'),o=a.find(".count");o.text(i),o.addClass("show"),a.find(".point").addClass("show")}})},initQuestionPublishModal:function(){var n=this;e.setOnPublishSuccessCallback(function(e,i){var a=n.getCurrentTab();if(e>0&&"recommend"===a){n._bodyBox.find(".recommend-container").find(".entry-container").find(".entry-list-box").length>0&&$.get(page.site_url+"/index_new/widgets/_entry_list_item_ajax?recommend=true&entryId="+e,function(n){if(n){var i=$(n).filter('.entry-item[data-id="'+e+'"]');if(!i||0===i.length)return;t.clearEntryMessage(),t.addEntryMessage(i,"问题发布成功，点击查看更多",page.site_url+"/question",2e3),t.prepend(i)}})}else{var o=page.site_url+"/question/"+page.g_user_id+"_"+i;$("body").toast({type:"success",content:'问题发布成功，<a href="'.concat(o,'" target="_blank">点击查看详情</a>'),duration:0})}}),e.initQuestionPublishModal()},initBackOldModal:function(){var e=$(".survey-modal"),t=$(".survey-form");function n(){$.post(page.api_prefix+"/circle/switchNewVersion",{user_code:page.g_user_code,status:!1},function(){location.reload()}).fail(function(){$("body").toast({type:"error",content:"切换失败，请稍后再试"})})}t.form({inline:!0,keyboardShortcuts:!1}).api({url:page.api_prefix+"/IndexFeed/back_old_survey",method:"post",serializeForm:!0,beforeSend:function(e){$(this).message("hideAll");var n=t.serializeObject();return void 0===n.score?($(this).message({type:"negative",content:"请选择评价",disappear:2e3}),!1):void 0===n.reason||0===n.reason.length?($(this).message({type:"negative",content:"请选择原因",disappear:2e3}),!1):(e.data={user_code:page.g_user_code,score:n.score,reason:n.reason,advice:n.advice},e)},onSuccess:function(t,i,a){1===t.code?(n(),e.modal("hide")):$(this).message({type:"negative",content:t.message,disappear:2e3})},onFailure:function(e,t){$(this).message({type:"negative",content:"网络错误，请稍后再试"})}}),t.find(".checkbox").checkbox(),e.modal({dimmerSettings:{className:{pageDimmer:"page osc-modal-dimmer",active:"active"}},autofocus:!1,closable:!0,onShow:function(){t.form("reset"),t.message("hideAll")}}),e.on("click",".btn-submit",function(){t.message("hideAll"),t.form("submit")}),e.on("click",".btn-skip",function(){n(),e.modal("hide")}),$(document).on("click",".btn-switch-version.btn-back-old",function(){e.modal("show")})},register:function(){this.initContainerJS(this.getCurrentTab())}},i});
"use strict";OSCPlugin("group-common",function(){var o=function(){this.followButton=null,this.initGroupFollowButton()};return o.prototype={constructor:o,initGroupFollowButton:function(){this.followButton=new OSCFollowButton({buttonSelector:".group-follow-btn[data-follow-button]",onClick:function(o,t,n){if(!window.common.checkLogin())return!1;var r=o.attr("data-group-id"),i=0===t?1:0;$.post(page.api_prefix+"/circle/bookmarkCircle",{circleId:r,status:i},function(o){if(1===o.code){var t=o.result.status?1:0;n(t,'[data-group-id="'.concat(r,'"]'));var i=o.result.count;$('[data-followers-count][data-group-id="'+r+'"]').each(function(o,t){var n=$(t),r=n.data("format")?window.common.formatNumberK(i):i;!0===n.data("hide-zero")&&i<=0&&(r=""),n.text(r),n.attr("data-followers-count",i)}),window.page&&$.isFunction(window.page.refreshAsideSticky)&&window.page.rerenderAsideGroupList()}else $("body").toast({type:"error",content:o.message||"操作失败"})})}}),this.followButton.init()}},o});
"use strict";OSCPlugin("group-profile-box",function(){var i=function(){this._groupContainer=$(".group-container"),this._profileBox=this._groupContainer.find(".group-profile-box"),this.init()};return i.prototype={constructor:i,initProfileBannerSwiper:function(){this._profileBox.find(".profile-banner").find(".swiper-container").find(".swiper-slide").length>1&&new Swiper(".swiper-container",{autoplay:{delay:5e3,disableOnInteraction:!1},simulateTouch:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button .next",prevEl:".swiper-button .prev"},loop:!0})},initProfileEvent:function(){this._profileBox.find(".profile-info .profile-info__footer-extra .item.ui.dropdown").dropdown({action:"hide"})},init:function(){this.initProfileBannerSwiper(),this.initProfileEvent()}},i});
"use strict";OSCDefine("web-new-group",["group-common","group-profile-box","tweet-publish-modal","question-publish-modal","entry-list"],function(t,n,e,i,a){var o=function(){this._groupContainer=$(".group-container"),this._mainBox=this._groupContainer.find(".main-box"),this._sidebarBox=this._groupContainer.find(".sidebar-box"),this._contentBox=this._mainBox.find(".content-box"),this._toolbarBox=this._contentBox.find(".content-box__toolbar"),this._entryContainer=this._contentBox.find(".entry-container")};return o.prototype={constructor:o,initEntryList:function(){a.setOnAppendCallback(function(){}),a.init()},initPJAX:function(){var t=this,n=$(".entry-container__loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax("[data-entry-list-pjax]",".entry-container__inner",{scrollTo:!1}),$(document).on("pjax:send",function(){n.addClass("active")}),$(document).on("pjax:complete",function(e){var i=$(e.relatedTarget),a=i.is(".tabs-link")||i.parents(".tabs-link:eq(0)").length>0;if(n.removeClass("active"),a){var o=i.data("value")||"";if(o){var r=i.parents("[data-tabs-list]:eq(0)");page.currentTab=o,t.rerenderEntryListToolBar(o),r.find(".tabs-link").removeClass("active"),r.find('.tabs-link[data-value="'+o+'"]').addClass("active")}}t.initEntryList()}),$(document).on("pjax:popstate",function(n){var e=n.currentTarget.URL,i=t._groupContainer.find("[data-entry-list-pjax]:eq(0)").parents("[data-tabs-list]:eq(0)");if(i&&i.length>0&&e){var a=window.common.getUrlParams(e),o=a.tab||page.defaultTab;if(o){var r=i.find('.tabs-link[data-value="'+o+'"]');r&&r.length>0&&(t.rerenderEntryListToolBar(o),i.find(".tabs-link").removeClass("active"),r.addClass("active"))}}})},rerenderEntryListToolBar:function(t){var n=this;if(t&&n._toolbarBox&&n._toolbarBox.length>0){var e=page.groupId||0;$.get("/group/widgets/_list_toolbar?type=ajax&groupId=".concat(e,"&tab=").concat(t),function(t){n._toolbarBox.html(t),n.initEntryListToolBar()})}},initEntryListToolBar:function(){if(this._toolbarBox&&this._toolbarBox.length>0){var t=this._toolbarBox.find(".entry-sort-dropdown");t.length>0&&(t.dropdown({action:"activate"}),t.on("click",".menu > .item",function(){var t=$(this).data("value")||"",n=page.currentTab||"";if(t&&n){var e="?tab=".concat(n,"&sort=").concat(t);$.pjax({url:e,container:".entry-container__inner",scrollTo:!1})}}))}},initTweetPublishModal:function(){var t=this;e.setOnPublishSuccessCallback(function(n){t._entryContainer.find(".entry-list-box").length>0&&$.get(page.site_url+"/index_new/widgets/_entry_list_item_tweet_ajax?tweetId="+n,function(t){if(t){var e=$(t);if(0===e.filter('.entry-item[data-obj-id="'+n+'"]').length)return;a.clearEntryMessage(),a.addEntryMessage(e,"动弹发布成功，点击查看更多",page.site_url+"/tweets"),a.prepend(e)}})}),e.initTweetPublishModal()},initQuestionPublishModal:function(){var t=this;i.setOnPublishSuccessCallback(function(n,e){if(n>0){if(t._entryContainer.find(".entry-list-box").length>0){var i=page.groupId||0;$.get(page.site_url+"/index_new/widgets/_entry_list_item_ajax?group=true&groupId="+i+"&entryId="+n,function(t){if(t){var e=$(t).filter('.entry-item[data-id="'+n+'"]');if(!e||0===e.length)return;a.clearEntryMessage(),a.addEntryMessage(e,"问题发布成功，点击查看更多",page.site_url+"/question",2e3),a.prepend(e)}})}}else{var o=page.site_url+"/question/"+page.g_user_id+"_"+e;$("body").toast({type:"success",content:'问题发布成功，<a href="'.concat(o,'" target="_blank">点击查看详情</a>'),duration:0})}}),i.initQuestionPublishModal()},initNoticeBox:function(){$(document).on("click",".notice-box .notice-box__close",function(t){t.preventDefault(),t.stopPropagation(),$(this).parents(".notice-box:eq(0)").fadeOut(function(){this.remove()})})},register:function(){this.initEntryList(),this.initPJAX(),this.initEntryListToolBar(),this.initQuestionPublishModal(),this.initNoticeBox()}},o});
"use strict";OSCDefine("web-new-group-project",["group-common","group-profile-box","question-publish-modal","tweet-publish-modal","entry-list"],function(t,e,a,i,r){var n=function(){this._groupContainer=$(".group-container"),this._panelMainBox=this._groupContainer.find(".panel-main"),this._circleNavBox=this._panelMainBox.find(".circle-box"),this._toolbarBox=this._panelMainBox.find(".toolbar-box"),this._tabsBox=this._panelMainBox.find(".tabs-box__tabs"),this._entryContainer=this._panelMainBox.find(".entry-container"),this._sidebarBox=this._panelMainBox.find(".sidebar-box__inner")};return n.prototype={constructor:n,initEntryList:function(){var t=this;["recommend","blog","question","discuss"].indexOf(page.currentTab)>-1&&(r.setOnAppendCallback(function(){}),r.setOnRemoveCallback(function(){if("discuss"===page.currentTab){var e=parseInt($("[data-discuss-count]").attr("data-value"))||0;t.updateDiscussCount(e-1)}}),r.init())},initPJAX:function(){var t=this,e=$(".entry-container__loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax("[data-entry-list-pjax], .project-list-box__pagination .pagination a.item",".entry-container__inner",{scrollTo:!1}),$(document).on("pjax:send",function(){e.addClass("active")}),$(document).on("pjax:complete",function(a){var i=$(a.target),r=$(a.relatedTarget);e.removeClass("active");var n=r.is(".tabs-link")||r.parents(".tabs-link:eq(0)").length>0;if(n){var o=r.data("value")||"";o&&(t.activeTabItem(o),t.rerenderEntryListToolBar(),t.rerenderSidebar(),t.initEntryList(),t.reportPageView())}var c=r.is(".circle-item")||r.parents(".circle-item:eq(0)").length>0;if(c){var s=r.attr("data-ident")||"";t.activeCircleItem(s),page.currentTab="",t.rerenderEntryListTabBar(function(){var e=t._tabsBox.find(".tabs-link.active").data("value")||"";e&&t.activeTabItem(e),t.rerenderEntryListToolBar(),t.rerenderSidebar(),t.initEntryList(),t.reportPageView()})}var l=r.is(".entry-sort-dropdown")||r.parents(".entry-sort-dropdown:eq(0)").length>0;if(l&&t.initEntryList(),r.parents(".pagination:eq(0)").length>0){var d=i.offset().top;d-140>0&&(d-=140),$("html, body").stop(!0).animate({scrollTop:d},500,"swing"),t.reportPageView()}}),$(document).on("pjax:popstate",function(e){var a=e.currentTarget.URL,i=window.common.getUrlParams(a),r=i.circle||page.defaultCircle;t.activeCircleItem(r),page.currentTab=i.tab||page.defaultTab,t.rerenderEntryListTabBar(function(){var e=t._tabsBox.find(".tabs-link.active").data("value")||"";e&&t.activeTabItem(e),t.rerenderEntryListToolBar(),t.rerenderSidebar(),t.initEntryList()})})},bindProjectListItemClickEvent:function(){this._entryContainer.on("click",".project-list-box .project-item",function(t){var e=$(this),a=$(t.target),i="a"===t.target.nodeName.toLowerCase()||a.parents("a").length>0;if(e.hasClass("project-item--clickable"))if(i);else{var r=e.attr("data-url")||"";r||(r=e.find(".project-item__title a").attr("href")||""),r&&(window.open(r,"_blank"),t.stopPropagation())}})},initEntryListToolBar:function(){if(this._toolbarBox&&this._toolbarBox.length>0){var t=this._toolbarBox.find(".entry-sort-dropdown");t.length>0&&(t.dropdown({action:"activate"}),t.on("click",".menu > .item",function(){var t=$(this),e=t.data("value")||"",a=page.currentCircle||"",i=page.currentTab||"";if(i&&e){var r="?circle=".concat(a,"&tab=").concat(i,"&sort=").concat(e);$.pjax({url:r,container:".entry-container__inner",scrollTo:!1,target:t})}}))}},rerenderEntryListToolBar:function(t){var e=this,a=t||page.currentTab||"",i=page.currentCircle||"";if(a&&e._toolbarBox&&e._toolbarBox.length>0){var r=page.groupId||0;$.get("/group/widgets/_list_toolbar?type=ajax&groupId=".concat(r,"&circle=").concat(i,"&tab=").concat(a),function(t){e._toolbarBox.html(t),e.initEntryListToolBar()})}},activeTabItem:function(t){page.currentTab=t||page.defaultTab,this._tabsBox.find(".tabs-link").removeClass("active"),this._tabsBox.find('.tabs-link[data-value="'+t+'"]').addClass("active")},rerenderEntryListTabBar:function(t){var e=this,a=page.currentTab||"",i=page.currentCircle||"";if(e._tabsBox&&e._tabsBox.length>0){var r=page.groupId||0;$.get("/group/widgets/_list_tabbar?type=ajax&groupId=".concat(r,"&circle=").concat(i,"&tab=").concat(a),function(a){e._tabsBox.html(a),$.isFunction(t)&&t.call(e)})}},updateDiscussCount:function(t){var e=$("[data-discuss-count]"),a=t>0?t:0;e.each(function(t,e){var i=$(e),r=i.data("format"),n=i.data("max"),o=i.data("only-data"),c=a;r&&(c=window.common.formatNumberK(a)),a>n&&(c=n+"+"),i.attr("data-value",a),i.attr("data-show",c),!0!==o&&i.text(c)})},rerenderSidebar:function(){var t=this,e=page.currentTab||"",a=page.currentCircle||"";e&&t._sidebarBox&&t._sidebarBox.length>0&&$.get(page.groupUrl+"?type=ajax&widget=sidebar&circle=".concat(a,"&tab=").concat(e),function(e){t._sidebarBox.html(e)})},initCircleNav:function(){var t=this._circleNavBox.find(".circle-list-wrap");if(!this._circleNavBox||this._circleNavBox.length<=0)return!1;this._circleNavBox.on("click",".navbar > .navbar__btn",function(){var e=$(this).parents(".navbar:eq(0)"),a=e.hasClass("navbar--prev"),i=e.hasClass("navbar--next"),r=t.find(".circle-list > .circle-item:eq(0)").outerWidth(),n=t.scrollLeft(),o=0;a?o=n-5*r:i&&(o=n+5*r),t.stop(!0).animate({scrollLeft:o},300,"swing")}),this._scrollCircleNavPositionToActive(),t.on("scroll",window.common.throttle(this._setCircleNavBarBtnAutoShown.bind(this),100)),this._setCircleNavBarBtnAutoShown()},_scrollCircleNavPositionToActive:function(){var t=this._circleNavBox.find(".circle-list-wrap"),e=t.find(".circle-list .active.circle-item");if(e.length>0){var a=e.outerWidth(),i=e.position().left,r=t.width(),n=Math.floor(i-r/2+a/2);t.stop(!0).animate({scrollLeft:n},300,"swing")}},_setCircleNavBarBtnAutoShown:function(){var t=this._circleNavBox.find(".circle-list-wrap"),e=t.find(".circle-list"),a=t.width(),i=e[0].scrollWidth,r=t.scrollLeft(),n=parseInt(t.css("padding-left"))||0,o=this._circleNavBox.find(".navbar.navbar--prev"),c=this._circleNavBox.find(".navbar.navbar--next");o.removeClass("navbar--hidden"),c.removeClass("navbar--hidden"),i<=a&&(o.addClass("navbar--hidden"),c.addClass("navbar--hidden")),r<=0?o.addClass("navbar--hidden"):r+a+n>=i&&c.addClass("navbar--hidden")},activeCircleItem:function(t){page.currentCircle=t||page.defaultCircle,this._circleNavBox.find(".circle-item").removeClass("active");var e=this._circleNavBox.find('.circle-item[data-ident="'+t+'"]');e&&e.length>0&&(e.addClass("active"),this._scrollCircleNavPositionToActive(),page.currentCircleId=e.attr("data-id")||"0")},initQuestionPublishModal:function(){var t=this;a.setOnPublishSuccessCallback(function(e,a){if(e>0&&("recommend"===page.currentTab||"question"===page.currentTab)&&""===page.currentCircle){if(t._entryContainer.find(".entry-list-box").length>0){var i=page.groupId||0;$.get(page.site_url+"/index_new/widgets/_entry_list_item_ajax?group=true&full-version=true&can-expand=true&groupId="+i+"&entryId="+e,function(t){if(t){var a=$(t).filter('.entry-item[data-id="'+e+'"]');if(!a||0===a.length)return;r.clearEntryMessage(),r.addEntryMessage(a,"问题发布成功，点击查看更多",page.site_url+"/question",2e3),r.prepend(a)}})}else page.currentTab&&t._tabsBox.find('.tabs-link[data-value="'.concat(page.currentTab,'"]')).click()}else{var n=page.site_url+"/question/"+page.g_user_id+"_"+a;$("body").toast({type:"success",content:'问题发布成功，<a href="'.concat(n,'" target="_blank">点击查看详情</a>'),duration:0})}}),a.initQuestionPublishModal()},initTweetPublishModal:function(){var t=this;i.setOnPublishSuccessCallback(function(e,a){var i=parseInt($("[data-discuss-count]").attr("data-value"))||0;if(t.updateDiscussCount(i+1),a>0&&"discuss"===page.currentTab){if(t._entryContainer.find(".entry-list-box").length>0){var n=page.groupId||0;$.get(page.site_url+"/index_new/widgets/_entry_list_item_ajax?group=true&full-version=true&can-expand=true&groupId="+n+"&entryId="+a,function(t){if(t){var e=$(t).filter('.entry-item[data-id="'+a+'"]');if(!e||0===e.length)return;r.clearEntryMessage(),r.addEntryMessage(e,"发布成功","",2e3),r.prepend(e)}})}else page.currentTab&&t._tabsBox.find('.tabs-link[data-value="'.concat(page.currentTab,'"]')).click()}else{var o=page.g_user_url+"/tweet/"+e;$("body").toast({type:"success",content:'动弹发布成功，<a href="'.concat(o,'" target="_blank">点击查看详情</a>'),duration:0})}}),i.initTweetPublishModal()},showArticleDetail:function(){var t=null,e=(location.href||"").split("#"),a=e&&e.length>=2?e[1]:"";if(a){var i=a.match(/\/detail\/(\d+)/);t=i&&i[1]||""}if(!t||""!==page.currentCircle||"recommend"!==page.currentTab)return!1;var n=this._entryContainer.find(".entry-list-box"),o=n.find('.entry-item[data-id="'.concat(t,'"]'));if(o&&o.length>0){var c=o.is(":first-child");c||o.prependTo(n),r.scrollEntryItemToView(o),r._openEntryItemFullContent(o)}else{var s=page.groupId||0;$.get(page.site_url+"/index_new/widgets/_entry_list_item_ajax?group=true&full-version=true&can-expand=true&groupId="+s+"&entryId="+t,function(e){if(e){var a=$(e);if(!(o=a.filter('.entry-item[data-id="'+t+'"]'))||0===o.length)return;r.prepend(o),r.scrollEntryItemToView(o),r._openEntryItemFullContent(o)}})}},reportPageView:function(){$.post(page.api_prefix+"/circle/viewCircle",{id:page.groupId||"",tab:page.currentTab||"",circle:page.currentCircle||""},function(t){}).fail(function(){})},register:function(){this.initPJAX(),this.initEntryList(),this.initEntryListToolBar(),this.bindProjectListItemClickEvent(),this.initCircleNav(),this.initQuestionPublishModal(),this.initTweetPublishModal(),this.showArticleDetail(),this.reportPageView()}},n});
"use strict";OSCDefine("web-new-groups-index",["group-common","aside-box","question-publish-modal","entry-list"],function(t,e,i,n){var a=function(){this._groupsIndexContainer=$(".groups-index-container"),this._asideBox=this._groupsIndexContainer.find(".aside-box"),this._asideBoxInner=this._asideBox.find(".aside-box__inner"),this._mainBox=this._groupsIndexContainer.find(".main-box"),this._sidebarBox=this._groupsIndexContainer.find(".sidebar-box"),this._questionUsersBox=this._sidebarBox.find(".question-users-box"),this._contentBox=this._mainBox.find(".content-box"),this._entryContainer=this._contentBox.find(".entry-container")};return a.prototype={constructor:a,initEntryList:function(){var t=this;n.setOnAppendCallback(function(){if(e.refreshSticky(),page.rocommendGrayStatus){var t=[],i=[];n.items().each(function(e,n){var a=$(n);if(!0!==a.data("report-feed-show")){if(a.is('[data-list-type="list-item"]')){var o=a.attr("data-url"),s=window.common.getUrlParams(o),r=parseInt(a.attr("data-obj-id"))||0,d=parseInt(a.attr("data-obj-type"))||0,c=s.channel||"",u=s.recid||"",p=s.scene||"";r>0&&d>0&&(a.data("report-feed-show",!0),t.push({channel:c,recid:u,scene:p,objType:d,objId:r}))}if(a.is('[data-list-type="recommend-users"]')){var l=a.find(".user-list-box .user-card");l&&l.length>0&&l.each(function(t,e){var n=$(e),o=parseInt(n.attr("data-id"))||0,s=n.attr("href"),r=window.common.getUrlParams(s),d=r.channel||"",c=r.recid||"",u=r.scene||"";o>0&&(a.data("report-feed-show",!0),i.push({channel:d,recid:c,scene:u,cid:o+""}))})}}}),t&&t.length>0&&$.post(page.api_prefix+"/IndexFeed/feed_show_stat",{feeds:JSON.stringify(t)},function(t){}),i&&i.length>0&&$.post(page.api_prefix+"/IndexFeed/author_show_stat",{authors:JSON.stringify(i)},function(t){})}}),n.setEntryItemArticleClickCallback(function(t,e){if(page.rocommendGrayStatus||$.post(page.api_prefix+"/circle/viewCircleArticle",{id:t},function(t){}),page.rocommendGrayStatus){var i=e.attr("data-url"),n=window.common.getUrlParams(i),a=e.attr("data-obj-id")||"",o=e.attr("data-obj-type")||"",s=n.channel||"",r=n.recid||"",d=n.scene||"";$.post(page.api_prefix+"/IndexFeed/behavior_common_action",{actionType:"CLICK",obj_id:a,obj_type:o,channel:s,recid:r,scene:d},function(t){})}}),n.setEntryItemFooterClickItem(function(e,i){if(e.is(".osc-share .item")||e.parents(".osc-share .item").length>0){var n=i.attr("data-url"),a=i.attr("data-obj-id")||"",o=i.attr("data-obj-type")||"";if(page.rocommendGrayStatus){var s=window.common.getUrlParams(n),r=s.channel||"",d=s.recid||"",c=s.scene||"";$.post(page.api_prefix+"/IndexFeed/behavior_common_action",{actionType:"SHARE",obj_id:a,obj_type:o,channel:r,recid:d,scene:c},function(t){})}}(e.is("[data-toggle-like]")||e.parents("[data-toggle-like]").length>0)&&t._updateTaskList()}),n.setEntryViewMoreClickCallback(function(){page.rocommendGrayStatus||$.post(page.api_prefix+"/circle/clickMore",function(t){})}),n.setEntryViewMoreShowCallback(function(){page.rocommendGrayStatus||$.post(page.api_prefix+"/circle/viewMore",function(t){})}),n.init()},initRecommendUpdate:function(){var t=this;$(document).on("click",".content-box__tip .message-box .message-box__close",function(t){t.stopPropagation(),$(this).parents(".message-box:eq(0)").fadeOut()}),$(document).on("click",".content-box__tip .message-box",function(t){t.stopPropagation();var e=$(this);e.fadeOut();var i=e.attr("data-newest-id"),a=e.attr("data-size");$.get(page.site_url+"/index_new/widgets/_entry_list_newest_ajax?full-version=true&can-expand=true&show-thumb=true&newestId="+i+"&size="+a,function(t){if(t){var e=$(t);if(0===e.filter(".entry-item").length)return;n.clearEntryMessage(),n.prepend(e)}})});var e=~~page.entryListAutoUpdateInterval;e>=20&&setInterval(function(){t._updateRecommendUpdateMessage()},1e3*e)},_updateRecommendUpdateMessage:function(){var t=this._mainBox.find(".content-box__tip .message-box"),e=t.find(".num"),i=this._entryContainer.find('.entry-list-box .entry-item[data-list-type="list-item"]:eq(0)');if(0===i.length)return!1;var n=i.attr("data-id");n>0&&$.post(page.api_prefix+"/circle/newest",{id:n},function(i){if(1===i.code&&i.result>0){var a=i.result;t.attr("data-newest-id",n),t.attr("data-size",a),e.text(a),t.fadeIn()}})},reportRecommendStatistics:function(){page.rocommendGrayStatus||$.post(page.api_prefix+"/circle/viewRecommend",function(t){})},initQuestionPublishModal:function(){var t=this;i.setOnPublishSuccessCallback(function(e,i){if(t._updateTaskList(),e>0&&"recommend"===page.currentTab){t._entryContainer.find(".entry-list-box").length>0&&$.get(page.site_url+"/index_new/widgets/_entry_list_item_ajax?recommend=true&full-version=true&can-expand=true&show-thumb=true&entryId="+e,function(t){if(t){var i=$(t).filter('.entry-item[data-id="'+e+'"]');if(!i||0===i.length)return;n.clearEntryMessage(),n.addEntryMessage(i,"问题发布成功，点击查看更多",page.site_url+"/question",2e3),n.prepend(i)}})}else{var a=page.site_url+"/question/"+page.g_user_id+"_"+i;$("body").toast({type:"success",content:'问题发布成功，<a href="'.concat(a,'" target="_blank">点击查看详情</a>'),duration:0})}}),i.initQuestionPublishModal()},initAsideBox:function(){e.init({sticky:!0})},initTaskList:function(){var t=this._sidebarBox.find(".sidebar-section.section-task");if(!t||0===t.length)return!1;t.find(".task-list").find(".task-item:not(.task-item--done)").each(function(t,e){var i=$(e),n=i.find(".popup-tip");n&&n.length>0&&i.popup({on:"click",position:"left center",popup:n})})},initAutoUpdateTaskList:function(){var t=this,e=t._sidebarBox.find(".sidebar-section.section-task");if(!e||0===e.length)return!1;t._mainBox.on("collect",function(){t._updateTaskList()}),t._mainBox.on("comment",function(){t._updateTaskList()})},_updateTaskList:function(){var t=this,e=t._sidebarBox.find(".sidebar-section.section-task");if(!e||0===e.length)return!1;if(!0===e.data("loading"))return!1;var i=e.find(".section-body");i&&i.length>0&&(e.data("loading",!0),$.get(page.site_url+"/groups/widgets/_right_sidebar_section_task_list?type=ajax",function(e){i.html(e),t.initTaskList()}).always(function(){e.data("loading",!1)}))},initSidebarRecommendBlogAuthor:function(){this._sidebarBox.on("click",".sidebar-section.section-recommend-blogger .toggle-refresh",function(){var t=$(this),e=t.parents(".sidebar-section:eq(0)").find(".section-body");e&&e.length>0&&(t.addClass("loading"),$.get(page.site_url+"/groups/widgets/_right_sidebar_section_recommend_blog_user_list?type=ajax",function(t){e.html(t)}).always(function(){t.removeClass("loading")}))})},initSidebarRecommendProjectAuthor:function(){this._sidebarBox.on("click",".sidebar-section.section-recommend-project-author .toggle-refresh",function(){var t=$(this),e=t.parents(".sidebar-section:eq(0)").find(".section-body");e&&e.length>0&&(t.addClass("loading"),$.get(page.site_url+"/groups/widgets/_right_sidebar_section_recommend_project_user_list?type=ajax",function(t){e.html(t)}).always(function(){t.removeClass("loading")}))})},register:function(){this.initEntryList(),this.initAsideBox(),this.initQuestionPublishModal(),this.initRecommendUpdate(),this.initTaskList(),this.initAutoUpdateTaskList(),this.initSidebarRecommendBlogAuthor(),this.initSidebarRecommendProjectAuthor(),this.reportRecommendStatistics()}},a});
"use strict";OSCDefine("web-new-groups-all",["group-common","aside-box"],function(t,a){var n=function(){this._groupsAllContainer=$(".groups-all-container"),this._asideBox=this._groupsAllContainer.find(".aside-box"),this._asideBoxInner=this._asideBox.find(".aside-box__inner"),this._mainBox=this._groupsAllContainer.find(".main-box"),this._contentBox=this._mainBox.find(".content-box"),this._groupsBox=this._contentBox.find(".groups-box"),this._groupTabBox=this._groupsBox.find(".tabs-box")};return n.prototype={constructor:n,initAsideBox:function(){a.init({sticky:!0})},initPJAX:function(){var t=this,n=$(".group-container__loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax("[data-group-list-pjax], .group-pagination .pagination a.item",".group-container__inner",{scrollTo:!1}),$(document).on("pjax:send",function(){n.addClass("active")}),$(document).on("pjax:complete",function(i){var o=$(i.relatedTarget),e=o.parents(".pagination:eq(0)").length>0,s=o.is(".tabs-link")||o.parents(".tabs-link:eq(0)").length>0;if(n.removeClass("active"),e){var r=t._groupsBox.offset().top;r-80>0&&(r-=80),$("html, body").stop(!0).animate({scrollTop:r},500,"swing")}if(s){var l=o.data("value")||"";if(l){var c=o.parents("[data-tabs-list]:eq(0)"),p=t._groupTabBox.find(".search-box .search-box__input");p.length>0&&p.val(""),c.find(".tabs-link").removeClass("active"),c.find('.tabs-link[data-value="'+l+'"]').addClass("active")}}a.refreshSticky()}),$(document).on("pjax:popstate",function(a){var n=a.currentTarget.URL,i=t._groupsAllContainer.find("[data-group-list-pjax]:eq(0)").parents("[data-tabs-list]:eq(0)");if(i&&i.length>0&&n){var o=window.common.getUrlParams(n),e=o.tab||page.defaultTab;if(e){var s=i.find('.tabs-link[data-value="'+e+'"]');s&&s.length>0&&(i.find(".tabs-link").removeClass("active"),s.addClass("active"))}}})},initSearchBox:function(){var t=this,a=t._groupTabBox.find(".search-box");if(a.length<0)return!1;var n=a.find(".search-box__input");n.on("keydown",function(a){if(13===a.keyCode){var i=(n.val()||"").trim(),o=t._groupTabBox.find(".tabs-link.active").data("value")||"";if(o){var e="?tab=".concat(o,"&q=").concat(i);$.pjax({url:e,container:".group-container__inner",scrollTo:!1})}}})},bindCollapseContent:function(){this._groupsBox.on("click",".collapse-bar .collapse-btn",function(){$(this).parents(".collapse:eq(0)").removeClass("collapse"),a.refreshSticky()})},register:function(){this.initAsideBox(),this.initPJAX(),this.initSearchBox(),this.bindCollapseContent()}},n});
"use strict";OSCDefine("web-new-explore",["aside-box"],function(n){var t=function(){this._exploreContainer=$(".explore-container"),this._mainBox=this._exploreContainer.find(".main-box"),this._contentBox=this._mainBox.find(".content-box")};return t.prototype={constructor:t,register:function(){this.initAsideBox()}},t});
"use strict";OSCDefine("web-new-project-detail",["entry-list"],function(t){var e=function(){this._projectDetailContainer=$(".project-detail-container"),this._detailBodyBox=this._projectDetailContainer.find(".detail-body-box"),this._mainBox=this._detailBodyBox.find(".main-box"),this._tabsBox=this._mainBox.find(".tabs-box"),this._subPageContainer=this._mainBox.find(".sub-page-container__inner"),this._detailBox=this._mainBox.find(".detail-box"),this._articleDetail=this._detailBox.find(".article-detail"),this._articleDetailContent=this._articleDetail.children(".content"),this._commentsBox=this._mainBox.find(".comments-box"),this._sidebarBox=this._detailBodyBox.find(".sidebar-box"),this._sidebarBoxInner=this._sidebarBox.find(".sidebar-box__inner"),this.entryListTabs=["news","blog","question"]};return e.prototype={constructor:e,hightlight:function(){$("pre, pre code").each(function(t,e){var i=$(this),n=(i.attr("class")||"").match(/language-(.*)/);if(n&&n.length>1){var o=n[n.length-1];i.attr("class","hljs "+o)}hljs.highlightBlock(e)})},bindCollapseContent:function(){var t=this,e=t._articleDetailContent.outerHeight();e>300?t._detailBox.addClass("collapse"):t._detailBox.removeClass("collapse"),t.refreshSticky(),t._detailBox.on("click",".collapse-bar .collapse-btn",function(){$(this).parents(".collapse:eq(0)").removeClass("collapse"),t.refreshSticky()}),t._commentsBox.on("click",".collapse-bar .collapse-btn",function(e){if(!window.common.checkLogin())return e.preventDefault(),!1;$(this).parents(".collapse:eq(0)").removeClass("collapse"),t.refreshSticky()})},bindShareDropdown:function(){this._projectDetailContainer.find(".osc-share.ui.dropdown").dropdown({action:"hide"})},bindTabAnchor:function(){var t=location.href,e=window.common.getUrlParams(t),i=e.tab||"",n={project:"intro",question:"question",news:"news",blog:"blog"};if(i&&n[i]){var o=$("#".concat(n[i]));if(o.length){var a=o.offset().top;a-82>0&&(a-=82),$("html, body").stop(!0).animate({scrollTop:a},400,"swing")}}},checkWechatLogin:function(){if(!page.g_user_code)return!window.common.checkWeChat()||!page.weixinLogin},modelEvent:function(){$("#btnCancel").on("click",function(){document.getElementById("wechatModel").style.display="none"})},initEntryList:function(e){this.entryListTabs.indexOf(e)>-1&&(t.setOnAppendCallback(function(){}),t.setOnRemoveCallback(function(){}),t.init('.entry-container[data-list="'.concat(e,'"]')))},destroyEntryList:function(e){this.entryListTabs.indexOf(e)>-1&&t.destroy()},initTabBar:function(){var t=this;t._tabsBox.on("click",".tabs-item .tabs-link",function(e){var i=$(this).attr("data-value")||"";i&&(e.preventDefault(),t._activeTabItem(i),t._activeSubPageContainer(i))})},_activeTabItem:function(t){this._tabsBox.find(".tabs-link").removeClass("active"),this._tabsBox.find('.tabs-link[data-value="'+t+'"]').addClass("active")},_activeSubPageContainer:function(t){var e=page.currentTab,i=t;i&&i!==e&&(this.destroyEntryList(e),page.currentTab=i,this._subPageContainer.find(".sub-page-container__page").removeClass("active"),this._subPageContainer.find('.sub-page-container__page[data-page="'+t+'"]').addClass("active"),this.initEntryList(i))},initComment:function(){var t=this,e=window.page||{};(new OSCDetailComment).init({objId:e.objId,cacheKeyPrefix:"OSC_PROJECT",fetchCommentsUrl:e.fetchCommentsUrl,publishCommentUrl:e.publishCommentUrl,replyCommentUrl:e.replyCommentUrl,deleteCommentUrl:e.deleteCommentUrl,getPublishCommentData:function(t,i){return{projectId:e.objId,comment:t,score:2*i,user_code:e.g_user_code||""}},getReplyCommentData:function(t,i,n){return{projectId:e.objId,parentId:t,comment:n,user_code:e.g_user_code||""}},getDeleteCommentData:function(t,i){return{commentId:t,user_code:e.g_user_code||""}},onDOMUpdate:function(){t.refreshSticky()}})},initSticky:function(){this._asideSticky=new OSCSticky({stickySelector:this._sidebarBoxInner,containerSelector:this._detailBodyBox,throttle:20,offsetTop:96}),this._asideSticky.init()},refreshSticky:function(){this._asideSticky&&this._asideSticky.refresh()},initInviteAuthorAuthBtn:function(){var t=$(".invite-author-auth-btn");t.popup({popup:$(".invite-author-auth-popup"),on:"click",position:"bottom right",offset:16}),new ClipboardJS(".invite-author-auth-box .copy-btn").on("success",function(e){e.clearSelection(),$("body").toast({type:"success",content:"复制成功"}),t.popup("hide")})},initTopCN:function(){new Vue({el:"#topCnContainer",data:function(){return{projectId:page.objId,projectVoteCount:0,showVote:!1,showPrize:!1,prizeType:"",userUnVoteCount:0,userIsVoted:!1}},created:function(){this.initData(),this.initPrizeData()},methods:{initData:function(){var t=this;$.post(page.api_prefix+"/action/pool/user_vote_info",{project:t.projectId},function(e){e.result&&e.data&&(t.showVote=!0,t.projectVoteCount=e.data.projectVoteCount||0,t.userUnVoteCount=e.data.userUnVoteCount||0,t.userIsVoted=!!e.data.userIsVoted,t.initShareDropdown(),t.updateShareContent())})},initPrizeData:function(){var t=this;$.post(page.api_prefix+"/action/pool/popular_operate_pendant",{project:t.projectId},function(e){e.result&&e.data&&"result#"!==e.data&&(t.prizeType=e.data,t.showPrize=!0)})},initShareDropdown:function(){this.$nextTick(function(){$(".btn-share.osc-share.ui.dropdown").dropdown({action:"hide"})})},updateShareContent:function(){var t=this;t.$nextTick(function(){var e=$(".btn-share.osc-share.ui.dropdown");e.find(".menu .item").attr("data-desc","这个项目真的真的真的很不错，目前已获得 ".concat(t.projectVoteCount," 票"));var i=e.find('.menu .item[data-platform="wechat"]');$.isFunction(OSCUpdateWeChatShare)&&i&&i.length>0&&(page.weixinShareTitle=i.attr("data-title")||page.weixinShareTitle,page.weixinShareDescription=i.attr("data-desc")||page.weixinShareDescription,page.weixinShareImgUrl=i.attr("data-pic")||page.weixinShareImgUrl,page.weixinShareUrl=i.attr("data-url")||page.weixinShareUrl,OSCUpdateWeChatShare())})},onClickVote:function(){if(this.userIsVoted)return!1;if(0===this.userUnVoteCount)return alert("您最多只能投5票，机会已经用完了哦：）"),!1;if(!page.g_user_code)return window.common.checkWeChat()&&page.weixinLogin?window.location.href=page.weixinLogin:window.common.checkLogin(),!1;var t="您将要投票的软件名是：\n\n"+page.projectName+"\n\n最多只能投5票，投票后不可以取消！确定投票？";if(confirm(t)){var e=this;$.post(page.api_prefix+"/action/pool/vote_cn",{project:e.projectId},function(t){if(t.result)t.data&&t.data.vote&&(e.projectVoteCount=t.data.vote),e.userIsVoted=!0,e.updateShareContent();else{var i=t.msg||"投票失败";alert(i)}}).fail(function(){$("body").toast({type:"error",content:"网络异常，请稍后再试"})})}}}})},register:function(){this.hightlight(),this.bindCollapseContent(),this.initInviteAuthorAuthBtn(),this.bindShareDropdown(),this.initComment(),this.initTabBar(),this.initEntryList(page.currentTab),this.initSticky(),this.initTopCN(),this.checkWechatLogin(),this.modelEvent()}},e});
"use strict";OSCDefine("web-new-news-detail",function(){var t=function(){this._newsDetailContainer=$(".news-detail-container"),this._detailBodyBox=this._newsDetailContainer.find(".detail-body-box"),this._mainBox=this._detailBodyBox.find(".main-box"),this._detailBox=this._mainBox.find(".detail-box"),this._articleDetail=this._detailBox.find(".article-detail"),this._articleDetailContent=this._articleDetail.children(".content"),this._commentsBox=this._mainBox.find(".comments-box"),this._commentsBoxList=this._commentsBox.find(".comments-box__list"),this._otherArticlesBox=this._mainBox.find(".other-articles-box"),this._sidebarBox=this._detailBodyBox.find(".sidebar-box"),this._sidebarBoxInner=this._sidebarBox.find(".sidebar-box__inner")};return t.prototype={constructor:t,hightlight:function(){$("pre, pre code").each(function(t,e){var o=$(this),n=(o.attr("class")||"").match(/language-(.*)/);if(n&&n.length>1){var i=n[n.length-1];o.attr("class","hljs "+i)}hljs.highlightBlock(e)})},bindCollapseContent:function(){this._detailBox.on("click",".collapse-bar .collapse-btn",function(){$(this).parents(".collapse:eq(0)").removeClass("collapse")}),this._commentsBox.on("click",".collapse-bar .collapse-btn",function(t){if(!window.common.checkLogin())return t.preventDefault(),!1;$(this).parents(".collapse:eq(0)").removeClass("collapse")}),this._otherArticlesBox.on("click",".article-hot-list-box .article-list-box .collapse-bar .collapse-btn",function(){$(this).parents(".collapse:eq(0)").removeClass("collapse")})},bindShareDropdown:function(){this._newsDetailContainer.find(".osc-share.ui.dropdown").dropdown({action:"hide"})},initComment:function(){var t=window.page||{};(new OSCDetailComment).init({objId:t.objId,cacheKeyPrefix:"OSC_NEWS",fetchCommentsUrl:t.fetchCommentsUrl,publishCommentUrl:t.publishCommentUrl,replyCommentUrl:t.replyCommentUrl,deleteCommentUrl:t.deleteCommentUrl,getPublishCommentData:function(e){return{news:t.objId,content:e,user_code:t.g_user_code||""}},getReplyCommentData:function(e,o,n){return{news:t.objId,reply_id:e,content:n,user_code:t.g_user_code||""}},getDeleteCommentData:function(e,o){return{newsId:t.objId,commentId:e,userId:o,user_code:t.g_user_code||""}},onDOMUpdate:function(){}})},initCommentLike:function(){var t="OSC_NEWS_"+page.objId+"_COMMENT_LIKE_CACHE",e=function(e,o){var n=window.common.getCurrentUrl(!0)+"#rpl_"+e;if(!window.common.checkLoginForWeChat(n,function(){try{localStorage.setItem(t,e)}catch(t){}}))return!1;$.post(page.api_prefix+"/news/voteNewsComment",{newsCommentId:e,user:page.g_user_id,vote:o},function(t){if(1===t.code){var n=o,i=0;t.result&&t.result.vote&&(i=t.result.vote),t.message&&$("body").toast({type:"success",content:t.message});var s=$('[data-comment-like-btn][data-comment-id="'+e+'"]');n?s.addClass("active"):s.removeClass("active"),$('[data-comment-like-count][data-comment-id="'+e+'"]').text(i)}else $("body").toast({type:"error",content:t.message||"点赞失败"})})};if(this._commentsBoxList.on("click",".comment-item .comment-item__actions [data-comment-like-btn]",function(t){t.stopPropagation();var o=$(this),n=o.attr("data-comment-id"),i=o.hasClass("active");e(n,!i)}),void 0!==window.localStorage&&page.g_user_code){var o=localStorage.getItem(t)||"";o&&(localStorage.removeItem(t),e(o,!0))}},initCommentVisibleModal:function(){var t=$(".visible-comment.modal");this._commentsBoxList.on("click",".comment-item .comment-item__actions [data-toggle-visible]",function(e){e.stopPropagation();var o=$(this),n=o.parents(".comment-item:eq(0)"),i=n.attr("data-comment-id"),s=o.attr("data-value")||"";if(!i||t.length<0)return!1;t.modal({onShow:function(){"1"===s?(t.find(".header").text("隐藏评论"),t.find(".content p").text("确定隐藏此评论吗？")):"2"===s&&(t.find(".header").text("显示评论"),t.find(".content p").text("确定显示此评论吗？"))},onApprove:function(){$.post(page.api_prefix+"/news/switch_comments",{user_code:page.g_user_code||"",commentId:i,newsId:page.objId||"",event:s},function(t){1===t.code?"1"===s?($("body").toast({type:"success",content:"隐藏成功"}),o.html('<i class="eye icon"></i>设为显示'),o.attr("data-value","2"),n.addClass("comment-item--opacity")):"2"===s&&($("body").toast({type:"success",content:"显示成功"}),o.html('<i class="eye slash icon"></i>设为隐藏'),o.attr("data-value","1"),n.removeClass("comment-item--opacity")):$("body").toast({type:"error",content:t.message||"操作失败"})})}}),t.modal("show")})},initSidebarRecommendBlog:function(){this._sidebarBox.on("click",".sidebar-section.section-recommend-blog .toggle-refresh",function(){var t=$(this),e=t.parents(".sidebar-section:eq(0)").find(".section-body");e&&e.length>0&&(t.addClass("loading"),$.get("/news/widgets/_news_detail_sidebar_section_recommend_blog?type=ajax",function(t){e.html(t)}).always(function(){t.removeClass("loading")}))})},register:function(){this.hightlight(),this.bindCollapseContent(),this.bindShareDropdown(),this.initComment(),this.initCommentLike(),this.initCommentVisibleModal(),this.initSidebarRecommendBlog()}},t});
"use strict";OSCPlugin("group-admin-common",function(){var e=function(){this.initForm()};return e.prototype={constructor:e,initForm:function(){var e=$(".osc-field");e.on("focus","textarea, input",function(){$(this).parent().addClass("focus")}),e.on("blur","textarea, input",function(){$(this).parent().removeClass("focus")});var a=$(".image-upload");a.on("click",".image-upload__inner",function(){$(this).parents(".image-upload:eq(0)").find('input[type="file"]').trigger("click")}),a.on("click",'input[type="file"]',function(e){e.stopPropagation()}),a.on("change",'input[type="file"]',function(){var e=this.files[0];if(!e)return!1;var a=$(this).parents(".image-upload:eq(0)"),t=a.find("img.upload-img");a.addClass("image-upload--loading");var i=new FormData;i.append("cid",page.groupId||0),i.append("circle-image-file",e),$.ajax({url:page.api_prefix+"/CircleAdmin/circle_upload_image",data:i,processData:!1,contentType:!1,type:"post",dataType:"json",success:function(e){if(1===e.code&&e.result){var i=e.result.url||"";$(a.data("target")).val(i),t.attr("src",i),a.parents(".form-field.error:eq(0)").removeClass("error").find(".prompt").remove(),a.addClass("image-upload--pic")}else $("body").toast({type:"negative",content:e.message||"上传失败"})}}).fail(function(){$("body").toast({type:"negative",content:"网络错误，请稍后再试"})}).always(function(){a.removeClass("image-upload--loading")})})}},e});
"use strict";OSCDefine("web-group-admin-basic",["group-admin-common"],function(){var e=function(){};return e.prototype={initForm:function(){$(".basic.form-wrap").form({inline:!0,fields:{name:{rules:[{type:"empty",prompt:"请输入专区名称"},{type:"maxLength[40]",prompt:"专区名称长度不能超过 40 个字"}]},logo:{rules:[{type:"empty",prompt:"请选择要上传的 Logo 图片"},{type:"url",prompt:"请上传正确的图片格式"}]},banner:{rules:[{type:"empty",prompt:"请选择要上传的 Banner 图片"},{type:"url",prompt:"请上传正确的图片格式"}]},description:{rules:[{type:"empty",prompt:"请输入专区简介"},{type:"maxLength[200]",prompt:"专区简介长度不能超过 200 个字"}]}},selector:{group:".form-field",prompt:".form-prompt"},templates:{prompt:function(e){var t=e&&e[0]||"";return $('<div class="form-prompt">'.concat(t,"</div>"))}},transition:"fade"}).api({url:page.api_prefix+"/CircleAdmin/setting_circle",method:"post",serializeForm:!0,beforeSend:function(e){$(this).find(".error").removeClass("error").find(".prompt").remove(),$(this).message("hideAll");var t=e.data;return e.data={cid:page.groupId||"",name:t.name,logo:t.logo,banner:t.banner,desc:t.description},e},onSuccess:function(e){1===e.code?($(this).message({type:"positive",content:e.message||"保存成功"}),setTimeout(function(){location.reload()},500)):$(this).message({type:"negative",content:e.message||"操作失败",disappear:2e3})},onFailure:function(e,t){$(this).message({type:"negative",content:"网络错误，请稍后再试",disappear:2e3})}})},register:function(){this.initForm()}},e});
"use strict";OSCDefine("web-group-admin-projects",["group-admin-common"],function(){var t=function(){this._tableBox=$(".table-box"),this._tableBoxHeader=this._tableBox.find(".table-box__header"),this._tableBoxBody=this._tableBox.find(".table-box__body")};return t.prototype={initPJAX:function(){var t=this,e=$(".content-container__loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax(".table-pagination .pagination a.item",".content-container__inner",{scrollTo:!1}),$(document).on("pjax:send",function(){e.addClass("active")}),$(document).on("pjax:complete",function(o){var n=$(o.relatedTarget).parents(".pagination:eq(0)").length>0;if(e.removeClass("active"),n){var a=t._tableBox.offset().top;a-80>0&&(a-=80),$("html, body").stop(!0).animate({scrollTop:a},500,"swing")}})},initTableEvent:function(){var t=this;t._tableBoxBody.on("input",".sort-input",function(){this.value=this.value.replace(/[^\d]/g,"")}),t._tableBoxBody.on("keydown",".sort-input",function(t){if((t.metaKey||t.ctrlKey)&&13===t.keyCode){var e=this.value;if(e&&e.match(/^\d+$/)){var o=$(this).parents("tr:eq(0)").data("id");$.post(page.api_prefix+"/CircleAdmin/edit_project",{circle:page.groupId,id:o,sort:e},function(t){1===t.code?$("body").toast({type:"success",content:"设置成功"}):$("body").toast({type:"error",content:t.message||"设置失败"})}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"})})}}}),t._tableBoxBody.on("click",".toggle-delete",function(){var e=$(this).parents("tr:eq(0)"),o=e.data("id");$(".delete-action.modal").modal({onApprove:function(){$.post(page.api_prefix+"/CircleAdmin/del_project",{circle:page.groupId,id:o},function(o){if(1===o.code){$("body").toast({type:"success",content:"删除成功"}),e.fadeOut(function(){e.remove()});var n=t._tableBoxHeader.find(".total-count"),a=(parseInt(n.attr("data-count"))||0)-1;n.attr("data-count",a),n.text(window.common.milliFormat(a))}else $("body").toast({type:"error",content:o.message||"删除失败"})}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"})})}}).modal("show")})},bindAddBtn:function(){var t=this,e=$(".add-action.modal"),o=e.find(".actions .positive.button"),n=e.find(".add-project.form"),a=n.find('input[name="projectId"]'),i=n.find('input[name="url"]'),r=n.find(".url-input"),s=n.find(".parse-article"),d=s.find(".success-result"),l=s.find(".error-result"),c=function(){d.html("").removeClass("visible"),l.html("").removeClass("visible")},p=function(t,e){c(),t?d.html(e).addClass("visible"):l.html(e).addClass("visible")};i.on("keyup",window.common.debounce(function(){var t=(this.value||"").trim();return o.addClass("disabled"),a.val(""),c(),!(!t||t.length<=0)&&(/^http(s?):\/\//.test(t)?(r.addClass("loading"),void $.get(page.api_prefix+"/CircleAdmin/search_project",{circle:page.groupId||"",project_url:t},function(t){if(1===t.code&&t.result){var e=t.result.id,n=window.common.htmlEncode(t.result.name),i=window.common.htmlEncode(t.result.title),r=t.result.url;a.val(e),p(!0,'<a href="'+r+'" target="_blank">'+n+" - "+i+"</a>"),o.removeClass("disabled")}else p(!1,t.message||"解析失败")}).fail(function(){p(!1,"网络错误，请稍后再试")}).always(function(){r.removeClass("loading")})):(p(!1,"请输入正确的软件链接"),!1))},300,!1)),n.form({inline:!0,fields:{url:{rules:[{type:"empty",prompt:"请输入软件链接"},{type:"url",prompt:"请输入正确的软件链接"}]},projectId:{rules:[{type:"empty",prompt:"请输入正确的软件链接"}]}}}).api({url:page.api_prefix+"/CircleAdmin/add_project",method:"post",serializeForm:!0,beforeSend:function(t){$(this).message("hideAll");var e=t.data;return t.data={circle:page.groupId||"",project:e.projectId,url:e.url},t},onSuccess:function(o){1===o.code?($(this).message({type:"positive",content:"添加成功"}),c(),n.form("reset"),setTimeout(function(){e.modal("hide"),$.pjax({url:"?p=1",container:".content-container__inner",scrollTo:!1});var o=t._tableBoxHeader.find(".total-count"),n=(parseInt(o.attr("data-count"))||0)+1;o.attr("data-count",n),o.text(window.common.milliFormat(n))},500)):$(this).message({type:"negative",content:o.message||"添加失败",disappear:2e3})},onFailure:function(){$(this).message({type:"negative",content:"网络错误，请稍后再试",disappear:2e3})}}),e.modal({autofocus:!1,onShow:function(){c(),n.form("reset"),n.message("hideAll")},onApprove:function(){return n.message("hideAll"),n.form("submit"),!1}}),t._tableBoxHeader.on("click",".toggle-add",function(){e.modal("show")})},initSearchBox:function(){var t=this._tableBoxHeader.find(".search-box");if(t.length<0)return!1;var e=t.find(".search-box__input");e.on("keydown",function(t){if(13===t.keyCode){var o=(e.val()||"").trim();o=encodeURIComponent(o);var n="?q=".concat(o);$.pjax({url:n,container:".content-container__inner",scrollTo:!1})}})},register:function(){this.initPJAX(),this.initSearchBox(),this.initTableEvent(),this.bindAddBtn()}},t});
"use strict";OSCDefine("web-group-admin-columns",["group-admin-common"],function(){var t=function(){this._tableBox=$(".table-box"),this._tableBoxHeader=this._tableBox.find(".table-box__header"),this._tableBoxBody=this._tableBox.find(".table-box__body")};return t.prototype={initCheckbox:function(){$(".ui.checkbox").checkbox()},initTableEvent:function(){this._tableBoxBody.on("input",".sort-input",function(){this.value=this.value.replace(/[^\d]/g,"")}),this._tableBoxBody.on("keydown",".sort-input",function(t){if((t.metaKey||t.ctrlKey)&&13===t.keyCode){var e=this.value;if(e&&e.match(/^\d+$/)){var o=$(this).parents("tr:eq(0)").data("id");$.post(page.api_prefix+"/CircleAdmin/setting_circle_tab_sort",{cid:page.groupId,tab:o,sort:e},function(t){1===t.code?$("body").toast({type:"success",content:"设置成功"}):$("body").toast({type:"error",content:t.message||"设置失败"})}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"})})}}}),this._tableBoxBody.on("change",".enable-checkbox",function(){var t=this.checked,e=$(this).parents("tr:eq(0)").data("id");$.post(page.api_prefix+"/CircleAdmin/setting_circle_tab_shown",{cid:page.groupId,tab:e,shown:t?1:2},function(t){1===t.code||$("body").toast({type:"error",content:t.message||"设置失败"})}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"})})})},register:function(){this.initCheckbox(),this.initTableEvent()}},t});
"use strict";OSCDefine("web-group-admin-circles",["group-admin-common"],function(){var t=function(){this._tableBox=$(".table-box"),this._tableBoxHeader=this._tableBox.find(".table-box__header"),this._tableBoxBody=this._tableBox.find(".table-box__body")};return t.prototype={initPJAX:function(){var t=this,e=$(".content-container__loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax(".table-pagination .pagination a.item",".content-container__inner",{scrollTo:!1}),$(document).on("pjax:send",function(){e.addClass("active")}),$(document).on("pjax:complete",function(a){var o=$(a.relatedTarget).parents(".pagination:eq(0)").length>0;if(e.removeClass("active"),t.initCheckbox(),o){var i=t._tableBox.offset().top;i-80>0&&(i-=80),$("html, body").stop(!0).animate({scrollTop:i},500,"swing")}})},initCheckbox:function(){$(".ui.checkbox").checkbox()},initTableEvent:function(){var t=this;t._tableBoxBody.on("input",".sort-input",function(){this.value=this.value.replace(/[^\d]/g,"")}),t._tableBoxBody.on("keydown",".sort-input",function(t){if((t.metaKey||t.ctrlKey)&&13===t.keyCode){var e=this.value;if(e&&e.match(/^\d+$/)){var a=$(this).parents("tr:eq(0)").data("id");$.post(page.api_prefix+"/CircleAdmin/updateGroupSort",{circle:page.groupId,id:a,sort:e},function(t){1===t.code?$("body").toast({type:"success",content:"设置成功"}):$("body").toast({type:"error",content:t.message||"设置失败"})}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"})})}}}),t._tableBoxBody.on("change",".enable-checkbox",function(){var t=this.checked,e=$(this).parents("tr:eq(0)").data("id");$.post(page.api_prefix+"/CircleAdmin/updateGroupShown",{circle:page.groupId,id:e,shown:t?1:2},function(t){1===t.code||$("body").toast({type:"error",content:t.message||"设置失败"})}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"})})}),t._tableBoxBody.on("click",".toggle-delete",function(){var e=$(this).parents("tr:eq(0)"),a=e.data("id");$(".delete-action.modal").modal({onApprove:function(){$.post(page.api_prefix+"/CircleAdmin/deleteGroup",{circle:page.groupId,id:a},function(a){if(1===a.code){$("body").toast({type:"success",content:"删除成功"}),e.fadeOut(function(){e.remove()});var o=t._tableBoxHeader.find(".total-count"),i=(parseInt(o.attr("data-count"))||0)-1;o.attr("data-count",i),o.text(window.common.milliFormat(i))}else $("body").toast({type:"error",content:a.message||"删除失败"})}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"})})}}).modal("show")})},bindAddEditBtn:function(){var t=this,e=$(".add-action.modal"),a=e.find(".add-circle.form"),o=page.api_prefix+"/CircleAdmin/addGroup",i=page.api_prefix+"/CircleAdmin/editGroup",n="add";a.form({inline:!0,fields:{name:{rules:[{type:"empty",prompt:"请输入圈子名称"},{type:"maxLength[20]",prompt:"圈子名称长度不能超过 20 个字"}]},ident:{rules:[{type:"empty",prompt:"请输入短标识"},{type:"regExp",value:/^[\w\-]+$/,prompt:"请输入字母、数字、短横或下划线"}]},description:{rules:[{type:"maxLength[200]",prompt:"圈子简介长度不能超过 200 个字"}]},logo:{rules:[{type:"empty",prompt:"请选择要上传的图片"},{type:"url",prompt:"请上传正确的图片格式"}]}}}).api({url:"",method:"post",serializeForm:!0,beforeSend:function(t){$(this).message("hideAll"),t.url="edit"===n?i:o;var e=t.data;return t.data={circle:page.groupId||"",id:e.id||"",name:e.name,ident:e.ident,logo:e.logo,description:e.description},t},onSuccess:function(a){1===a.code?($(this).message({type:"positive",content:"edit"===n?"修改成功":"添加成功"}),setTimeout(function(){e.modal("hide"),$.pjax({url:"?p=1",container:".content-container__inner",scrollTo:!1});var a=t._tableBoxHeader.find(".total-count"),o=(parseInt(a.attr("data-count"))||0)+1;a.attr("data-count",o),a.text(window.common.milliFormat(o))},500)):$(this).message({type:"negative",content:a.message||("edit"===n?"修改失败":"添加失败"),disappear:2e3})},onFailure:function(){$(this).message({type:"negative",content:"网络错误，请稍后再试",disappear:2e3})}}),e.modal({autofocus:!1,onShow:function(){n=e.attr("data-type"),a.form("reset"),a.find(".image-upload").removeClass("image-upload--pic"),a.find(".upload-img").attr("src",""),a.find('input[name="logo"]').val(""),a.message("hideAll"),e.find(".header").text("创建圈子"),e.find(".ui.positive.button").text("添加");var o=e.attr("data-id");if("edit"===n&&o){var i=t._tableBoxBody.find('tr[data-id="'.concat(o,'"]'));if(i&&i.length>0){e.find(".header").text("修改圈子"),e.find(".ui.positive.button").text("修改");var d=i.attr("data-name"),r=i.attr("data-ident"),p=i.attr("data-logo"),c=i.attr("data-desc");a.find('input[name="id"]').val(o),a.find('input[name="name"]').val(d),a.find('input[name="ident"]').val(r),a.find('textarea[name="description"]').val(c),p&&(a.find(".image-upload").addClass("image-upload--pic"),a.find(".upload-img").attr("src",p),a.find('input[name="logo"]').val(p))}}},onApprove:function(){return a.message("hideAll"),a.form("submit"),!1}}),t._tableBoxHeader.on("click",".toggle-add",function(){e.attr("data-type","add"),e.attr("data-id",""),e.modal("show")}),t._tableBoxBody.on("click",".toggle-edit",function(){var t=$(this).parents("tr:eq(0)").data("id");e.attr("data-type","edit"),e.attr("data-id",t),e.modal("show")})},register:function(){this.initPJAX(),this.initCheckbox(),this.initTableEvent(),this.bindAddEditBtn()}},t});
"use strict";OSCDefine("web-group-admin-promotions",["group-admin-common"],function(){var t=function(){this._panelSectionBody=$(".panel-section__body"),this._bannerSettingsBox=$(".settings-box--banner")};return t.prototype={initCheckbox:function(){$(".ui.checkbox").checkbox()},initBannerTableEvent:function(){var t=this;t._bannerSettingsBox.on("input",".sort-input",function(){this.value=this.value.replace(/[^\d]/g,"")}),t._bannerSettingsBox.on("keydown",".sort-input",function(t){if((t.metaKey||t.ctrlKey)&&13===t.keyCode){var e=this.value;if(e&&e.match(/^\d+$/)){var i=$(this).parents("tr:eq(0)").data("id");$.post(page.api_prefix+"/CircleAdmin/setting_circle_swiper_edit_sort",{cid:page.groupId,sid:i,sort:e},function(t){1===t.code?$("body").toast({type:"success",content:"设置成功"}):$("body").toast({type:"error",content:t.message||"设置失败"})}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"})})}}}),t._bannerSettingsBox.on("change",".enable-checkbox",function(){var t=this.checked,e=$(this).parents("tr:eq(0)").data("id");$.post(page.api_prefix+"/CircleAdmin/setting_circle_swiper_edit_shown",{cid:page.groupId,sid:e,shown:t?1:2},function(t){1===t.code||$("body").toast({type:"error",content:t.message||"设置失败"})}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"})})}),t._bannerSettingsBox.on("click",".toggle-delete",function(){var e=$(this).parents("tr:eq(0)"),i=e.data("id");$(".delete-banner-action.modal").modal({onApprove:function(){$.post(page.api_prefix+"/CircleAdmin/setting_circle_swiper_delete",{cid:page.groupId,sid:i},function(i){if(1===i.code){$("body").toast({type:"success",content:"删除成功"}),e.fadeOut(function(){e.remove()});var n=t._bannerSettingsBox.find(".total-count"),o=(parseInt(n.attr("data-count"))||0)-1;n.attr("data-count",o),n.text(o)}else $("body").toast({type:"error",content:i.message||"删除失败"})}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"})})}}).modal("show")})},refreshBannerList:function(){var t=this;$.get("?type=ajax&widget=banner-list",function(e){t._bannerSettingsBox.find(".settings-box__body").html(e)})},bindAddEditBannerBtn:function(){var t=this,e=$(".add-banner-action.modal"),i=e.find(".add-banner.form"),n=page.api_prefix+"/CircleAdmin/setting_circle_swiper_add",o=page.api_prefix+"/CircleAdmin/setting_circle_swiper_edit",a="add";i.form({inline:!0,fields:{title:{rules:[{type:"empty",prompt:"请输入标题"},{type:"maxLength[20]",prompt:"标题长度不能超过 20 个字"}]},url:{rules:[{type:"empty",prompt:"请输入链接"},{type:"url",prompt:"请输入正确的链接"}]},image:{rules:[{type:"empty",prompt:"请选择要上传的图片"},{type:"url",prompt:"请上传正确的图片格式"}]}}}).api({url:"",method:"post",serializeForm:!0,beforeSend:function(t){$(this).message("hideAll"),t.url="edit"===a?o:n;var e=t.data;return t.data={cid:page.groupId||"",sid:e.id||"",title:e.title,url:e.url,image:e.image},t},onSuccess:function(i){1===i.code?($(this).message({type:"positive",content:"edit"===a?"修改成功":"添加成功"}),setTimeout(function(){e.modal("hide"),t.refreshBannerList()},500)):$(this).message({type:"negative",content:i.message||("edit"===a?"修改失败":"添加失败"),disappear:2e3})},onFailure:function(){$(this).message({type:"negative",content:"网络错误，请稍后再试",disappear:2e3})}}),e.modal({autofocus:!1,onShow:function(){a=e.attr("data-type"),i.form("reset"),i.find(".image-upload").removeClass("image-upload--pic"),i.find(".upload-img").attr("src",""),i.find('input[name="image"]').val(""),i.message("hideAll"),e.find(".header").text("添加轮播"),e.find(".ui.positive.button").text("添加");var n=e.attr("data-id");if("edit"===a&&n){var o=t._bannerSettingsBox.find('tr[data-id="'.concat(n,'"]'));if(o&&o.length>0){e.find(".header").text("修改轮播"),e.find(".ui.positive.button").text("修改");var r=o.attr("data-title"),d=o.attr("data-url"),s=o.attr("data-image");i.find('input[name="id"]').val(n),i.find('input[name="title"]').val(r),i.find('input[name="url"]').val(d),s&&(i.find(".image-upload").addClass("image-upload--pic"),i.find(".upload-img").attr("src",s),i.find('input[name="image"]').val(s))}}},onApprove:function(){return i.message("hideAll"),i.form("submit"),!1}}),t._bannerSettingsBox.on("click",".toggle-add",function(){e.attr("data-type","add"),e.attr("data-id",""),e.modal("show")}),t._bannerSettingsBox.on("click",".toggle-edit",function(){var t=$(this).parents("tr:eq(0)").data("id");e.attr("data-type","edit"),e.attr("data-id",t),e.modal("show")})},initPromotionEvent:function(){this._panelSectionBody.on("change",".promotion-enable-checkbox",function(){var t=this.checked,e=$(this).attr("data-ident");$.post(page.api_prefix+"/CircleAdmin/setting_circle_business_diversion_is_show",{cid:page.groupId,str:e,shown:t?1:0},function(t){1===t.code||$("body").toast({type:"error",content:t.message||"设置失败"})}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"})})});var t=$(".edit-promotion-action.modal"),e=t.find(".edit-promotion.form");e.form({inline:!0,fields:{title_left:{rules:[{type:"empty",prompt:"请输入标题"},{type:"maxLength[10]",prompt:"标题长度不能超过 10 个字"}]},content_left:{rules:[{type:"empty",prompt:"请输入HTML代码"}]},title_right:{rules:[]},content_right:{rules:[]}}}).api({url:page.api_prefix+"/CircleAdmin/setting_circle_business_diversion_edit",method:"post",serializeForm:!0,beforeSend:function(t){$(this).message("hideAll");var e=t.data;return t.data={cid:page.groupId||"",str:e.ident||"",title_left:e.title_left||"",content_left:e.content_left||"",title_right:e.title_right||"",content_right:e.content_right||""},t},onSuccess:function(e){1===e.code?($(this).message({type:"positive",content:"修改成功"}),setTimeout(function(){t.modal("hide")},500)):$(this).message({type:"negative",content:e.message||"修改失败",disappear:2e3})},onFailure:function(){$(this).message({type:"negative",content:"网络错误，请稍后再试",disappear:2e3})}}),t.modal({autofocus:!1,onShow:function(){},onApprove:function(){return e.message("hideAll"),e.form("submit"),!1}}),this._panelSectionBody.on("click",".toggle-edit-promotion",function(){var i=$(this).attr("data-ident"),n=t.find('.promotion-edit-box[data-index="1"]'),o=t.find('.promotion-edit-box[data-index="2"]');$.post(page.api_prefix+"/CircleAdmin/get_circle_business_diversion",{cid:page.groupId||"",str:i},function(a){var r="",d="";if(1===a.code&&a.result){if(e.form("reset"),e.message("hideAll"),e.form("remove field","title_right"),e.form("remove field","content_right"),t.find('input[name="ident"]').val(i),"top"===i?(r="top",d=""):"center"===i?(r="center_left",d="center_right"):"bottom"===i&&(r="bottom_left",d="bottom_right"),r){var s=a.result[r];n.find('input[name="title_left"]').val(s.title||""),n.find('textarea[name="content_left"]').val(s.content||""),n.removeClass("promotion-edit-box--hidden")}else n.addClass("promotion-edit-box--hidden");if(d){var p=a.result[d];o.find('input[name="title_right"]').val(p.title||""),o.find('textarea[name="content_right"]').val(p.content||""),o.removeClass("promotion-edit-box--hidden"),e.form("add rule","title_right",{rules:[{type:"empty",prompt:"请输入标题"},{type:"maxLength[10]",prompt:"标题长度不能超过 10 个字"}]}),e.form("add rule","content_right",{rules:[{type:"empty",prompt:"请输入HTML代码"}]})}else o.addClass("promotion-edit-box--hidden");t.modal("show")}else $("body").toast({type:"error",content:a.message||"操作失败"})}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"})})})},register:function(){this.initCheckbox(),this.initBannerTableEvent(),this.bindAddEditBannerBtn(),this.initPromotionEvent()}},t});
"use strict";OSCDefine("web-group-admin-articles",["group-admin-common"],function(){var t=function(){this._tableBox=$(".table-box"),this._tableBoxHeader=this._tableBox.find(".table-box__header"),this._tableBoxBody=this._tableBox.find(".table-box__body")};return t.prototype={initPJAX:function(){var t=this,e=$(".content-container__loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax(".table-pagination .pagination a.item",".content-container__inner",{scrollTo:!1}),$(document).on("pjax:send",function(){e.addClass("active")}),$(document).on("pjax:complete",function(o){var i=$(o.relatedTarget).parents(".pagination:eq(0)").length>0;if(e.removeClass("active"),t.initCheckbox(),i){var n=t._tableBox.offset().top;n-80>0&&(n-=80),$("html, body").stop(!0).animate({scrollTop:n},500,"swing")}})},initCheckbox:function(){$(".ui.checkbox").checkbox()},initTableEvent:function(){this._tableBoxBody.on("change",".hidden-checkbox",function(){var t=this.checked,e=$(this).parents("tr:eq(0)"),o=e.attr("data-obj-id"),i=e.attr("data-obj-type");$.post(page.api_prefix+"/CircleAdmin/hideArticle",{circle:page.groupId,obj_id:o,obj_type:i,status:t},function(t){1===t.code||$("body").toast({type:"error",content:t.message||"设置失败"})}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"})})}),this._tableBoxBody.on("change",".headline-checkbox",function(){var t=this.checked,e=$(this).parents("tr:eq(0)"),o=e.attr("data-obj-id"),i=e.attr("data-obj-type");$.post(page.api_prefix+"/CircleAdmin/asTop",{circle:page.groupId,obj_id:o,obj_type:i,status:t},function(t){1===t.code||$("body").toast({type:"error",content:t.message||"设置失败"})}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"})})}),this._tableBoxBody.on("change",".circle-checkbox",function(){var t=this.checked,e=$(this).parents("tr:eq(0)"),o=e.attr("data-obj-id"),i=e.attr("data-obj-type"),n=$(this).attr("data-circle-id");$.post(page.api_prefix+"/CircleAdmin/removeGroup",{circle:page.groupId,group:n,obj_id:o,obj_type:i,status:!t},function(t){1===t.code||$("body").toast({type:"error",content:t.message||"设置失败"})}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"})})})},initSearchBox:function(){var t=this._tableBoxHeader.find(".search-box");if(t.length<0)return!1;var e=t.find(".search-box__input");e.on("keydown",function(t){if(13===t.keyCode){var o=(e.val()||"").trim();o=encodeURIComponent(o);var i="?q=".concat(o);$.pjax({url:i,container:".content-container__inner",scrollTo:!1})}})},bindAddBtn:function(){var t=this,e=$(".add-action.modal"),o=e.find(".actions .positive.button"),i=e.find(".add-article.form"),n=i.find('input[name="obj_id"]'),a=i.find('input[name="obj_type"]'),r=i.find('input[name="url"]'),c=i.find(".url-input"),s=i.find(".parse-article"),d=s.find(".success-result"),l=s.find(".error-result"),p=function(){d.html("").removeClass("visible"),l.html("").removeClass("visible")},u=function(t,e){p(),t?d.html(e).addClass("visible"):l.html(e).addClass("visible")};r.on("keyup",window.common.debounce(function(){var t=(this.value||"").trim();return o.addClass("disabled"),n.val(""),a.val(""),p(),!(!t||t.length<=0)&&(/^http(s?):\/\//.test(t)?(c.addClass("loading"),void $.get(page.api_prefix+"/CircleAdmin/parse_article_url",{circle:page.groupId||"",url:t},function(t){if(1===t.code&&t.result){var e=t.result.obj_id,i=t.result.obj_type,r=t.result.obj_type_name,c=window.common.htmlEncode(t.result.title),s=t.result.url;n.val(e),a.val(i),u(!0,'<span class="article-type">['+r+']</span> <a href="'+s+'" target="_blank">'+c+"</a>"),o.removeClass("disabled")}else u(!1,t.message||"解析失败")}).fail(function(){u(!1,"网络错误，请稍后再试")}).always(function(){c.removeClass("loading")})):(u(!1,"请输入正确的文章链接"),!1))},300,!1)),i.form({inline:!0,fields:{url:{rules:[{type:"empty",prompt:"请输入文章链接"},{type:"url",prompt:"请输入正确的文章链接"}]},obj_id:{rules:[{type:"empty",prompt:"请输入正确的文章链接"}]},obj_type:{rules:[{type:"empty",prompt:"请输入正确的文章链接"}]}}}).api({url:page.api_prefix+"/CircleAdmin/addArticle",method:"post",serializeForm:!0,beforeSend:function(t){$(this).message("hideAll");var e=t.data;return t.data={circle:page.groupId||"",obj_type:e.obj_type,obj_id:e.obj_id,url:e.url},t},onSuccess:function(o){1===o.code?($(this).message({type:"positive",content:"添加成功"}),p(),i.form("reset"),setTimeout(function(){e.modal("hide"),$.pjax({url:"?p=1",container:".content-container__inner",scrollTo:!1});var o=t._tableBoxHeader.find(".total-count"),i=(parseInt(o.attr("data-count"))||0)+1;o.attr("data-count",i),o.text(window.common.milliFormat(i))},500)):$(this).message({type:"negative",content:o.message||"添加失败",disappear:2e3})},onFailure:function(){$(this).message({type:"negative",content:"网络错误，请稍后再试",disappear:2e3})}}),e.modal({autofocus:!1,onShow:function(){p(),i.form("reset"),i.message("hideAll")},onApprove:function(){return i.message("hideAll"),i.form("submit"),!1}}),t._tableBoxHeader.on("click",".toggle-add",function(){e.modal("show")})},bindQuickAddBtn:function(){this._tableBoxBody.on("click",".quick-add-article-btn",function(){var t=$(this),e=t.data("obj-id"),o=t.data("obj-type"),i=t.data("url");$.post(page.api_prefix+"/CircleAdmin/addArticle",{circle:page.groupId||"",obj_type:o,obj_id:e,url:i},function(t){1===t.code?($("body").toast({type:"success",content:"添加成功"}),setTimeout(function(){page.articlesAdminUrl?location.href=page.articlesAdminUrl:location.reload()},1e3)):$("body").toast({type:"error",content:t.message||"添加失败"})}).fail(function(){$("body").toast({type:"error",content:"网络异常，请稍后再试"})})})},register:function(){this.initPJAX(),this.initSearchBox(),this.initCheckbox(),this.initTableEvent(),this.bindAddBtn(),this.bindQuickAddBtn()}},t});
"use strict";OSCDefine("web-group-admin-content-settings",["group-admin-common"],function(){var e=function(){this._tableBox=$(".table-box"),this._tableBoxHeader=this._tableBox.find(".table-box__header"),this._tableBoxBody=this._tableBox.find(".table-box__body")};return e.prototype={initPJAX:function(){var e=this,t=$(".content-container__loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax(".table-pagination .pagination a.item",".content-container__inner",{scrollTo:!1}),$(document).on("pjax:send",function(){t.addClass("active")}),$(document).on("pjax:complete",function(o){var a=$(o.relatedTarget).parents(".pagination:eq(0)").length>0;if(t.removeClass("active"),a){var n=e._tableBox.offset().top;n-80>0&&(n-=80),$("html, body").stop(!0).animate({scrollTop:n},500,"swing")}})},initTableEvent:function(){var e=this;e._tableBoxBody.on("click",".toggle-delete",function(){var t=$(this).parents("tr:eq(0)"),o=t.data("id");$(".delete-action.modal").modal({onApprove:function(){$.post(page.api_prefix+"/CircleAdmin/del_blacklist",{circle:page.groupId,id:o},function(o){if(1===o.code){$("body").toast({type:"success",content:"删除成功"}),t.fadeOut(function(){t.remove()});var a=e._tableBoxHeader.find(".total-count"),n=(parseInt(a.attr("data-count"))||0)-1;a.attr("data-count",n),a.text(window.common.milliFormat(n))}else $("body").toast({type:"error",content:o.message||"删除失败"})}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"})})}}).modal("show")})},bindAddBtn:function(){var e=this,t=$(".add-action.modal"),o=t.find(".add-rule.form"),a=o.find(".keyword-field"),n=o.find(".user-field");function i(e){o.form("remove field","keyword"),o.form("remove field","user_id"),1===e?(a.removeClass("hide"),n.addClass("hide"),a.find("input").val(""),o.find(".select-user.dropdown").dropdown("clear"),o.form("add rule","keyword",{rules:[{type:"empty",prompt:"请输入关键字"},{type:"maxLength[20]",prompt:"关键字长度不能超过 20 个字"}]})):2===e&&(a.addClass("hide"),n.removeClass("hide"),a.find("input").val(""),o.find(".select-user.dropdown").dropdown("clear"),o.form("add rule","user_id",{rules:[{type:"empty",prompt:"请输入用户名"}]}))}o.form({inline:!0,fields:{type:{rules:[{type:"empty",prompt:"请选择过滤类型"}]},keyword:{rules:[]},user_id:{rules:[]}}}).api({url:page.api_prefix+"/CircleAdmin/add_blacklist",method:"post",serializeForm:!0,beforeSend:function(e){$(this).message("hideAll");var t=e.data;return e.data={circle:page.groupId||"",type:t.type,keyword:1===parseInt(t.type)?t.keyword:t.user_id},e},onSuccess:function(a){1===a.code?($(this).message({type:"positive",content:"添加成功"}),o.form("reset"),setTimeout(function(){t.modal("hide"),$.pjax({url:"?p=1",container:".content-container__inner",scrollTo:!1});var o=e._tableBoxHeader.find(".total-count"),a=(parseInt(o.attr("data-count"))||0)+1;o.attr("data-count",a),o.text(window.common.milliFormat(a))},500)):$(this).message({type:"negative",content:a.message||"添加失败",disappear:2e3})},onFailure:function(){$(this).message({type:"negative",content:"网络错误，请稍后再试",disappear:2e3})}}),o.find(".select-type.dropdown").dropdown({onChange:function(e){if(e)switch(e){case"1":i(1);break;case"2":i(2)}}}),o.find(".select-user.dropdown").dropdown({templates:{menu:function(e,t){var o=e[t.values]||{},a="";return $.each(o,function(e,o){var n=o.portrait?'<img class="ui mini avatar image" src="'+o.portrait+'" alt="'+o[t.name]+'"/> ':"";a+='<div class="item" data-value="'+o[t.value]+'">',a+=n+o[t.name],a+="</div>"}),a}},fields:{remoteValues:"results",value:"id",name:"name"},filterRemoteData:!1,apiSettings:{url:page.api_prefix+"/column/query_user?name={query}",method:"get",dataType:"JSON",onResponse:function(e){var t=[];return 1===e.code&&Array.isArray(e.result)&&e.result.length>0&&(t=e.result),{results:t}}}}),t.modal({autofocus:!1,onShow:function(){o.form("reset"),o.message("hideAll")},onApprove:function(){return o.message("hideAll"),o.form("submit"),!1}}),e._tableBoxHeader.on("click",".toggle-add",function(){t.modal("show")})},register:function(){this.initPJAX(),this.initTableEvent(),this.bindAddBtn()}},e});
"use strict";OSCDefine("web-group-admin-managers",["group-admin-common"],function(){var e=function(){this._tableBox=$(".table-box"),this._tableBoxHeader=this._tableBox.find(".table-box__header"),this._tableBoxBody=this._tableBox.find(".table-box__body")};return e.prototype={initPJAX:function(){var e=this,t=$(".content-container__loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax(".table-pagination .pagination a.item",".content-container__inner",{scrollTo:!1}),$(document).on("pjax:send",function(){t.addClass("active")}),$(document).on("pjax:complete",function(n){var o=$(n.relatedTarget).parents(".pagination:eq(0)").length>0;if(t.removeClass("active"),e.bindListRoleChange(),o){var a=e._tableBox.offset().top;a-80>0&&(a-=80),$("html, body").stop(!0).animate({scrollTop:a},500,"swing")}})},bindListRoleChange:function(){this._tableBoxBody.find(".role-change-dropdown").dropdown({onChange:function(e,t,n){var o=$(this),a=n.parents("tr:eq(0)"),i=a.data("id"),r=parseInt(a.attr("data-role-type"))||0,s=parseInt(e)||0;if(r===s)return!1;$.post(page.api_prefix+"/CircleAdmin/updateCircleAdminRole",{circle:page.groupId||"",id:i,super_user:s},function(e){1===e.code?($("body").toast({type:"success",content:"修改成功"}),a.attr("data-role-type",s)):($("body").toast({type:"error",content:e.message||"修改失败"}),o.dropdown("set selected",r+""))}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"}),o.dropdown("set selected",r+"")})}})},initTableEvent:function(){var e=this;e._tableBoxBody.on("click",".toggle-delete",function(){var t=$(this).parents("tr:eq(0)"),n=t.data("id");$(".delete-action.modal").modal({onApprove:function(){$.post(page.api_prefix+"/CircleAdmin/deleteCircleAdmin",{circle:page.groupId,id:n},function(n){if(1===n.code){$("body").toast({type:"success",content:"删除成功"}),t.fadeOut(function(){t.remove()});var o=e._tableBoxHeader.find(".total-count"),a=(parseInt(o.attr("data-count"))||0)-1;o.attr("data-count",a),o.text(window.common.milliFormat(a))}else $("body").toast({type:"error",content:n.message||"删除失败"})}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"})})}}).modal("show")})},bindAddBtn:function(){var e=this,t=$(".add-action.modal"),n=t.find(".add-manager.form");n.form({inline:!0,fields:{user_id:{rules:[{type:"empty",prompt:"请输入用户名"}]},super_user:{rules:[{type:"empty",prompt:"请选择权限角色"}]}}}).api({url:page.api_prefix+"/CircleAdmin/addCircleAdmin",method:"post",serializeForm:!0,beforeSend:function(e){$(this).message("hideAll");var t=e.data;return e.data={circle:page.groupId||"",user:t.user_id,super_user:t.super_user},e},onSuccess:function(o){1===o.code?($(this).message({type:"positive",content:"添加成功"}),n.form("reset"),setTimeout(function(){t.modal("hide"),$.pjax({url:"?p=1",container:".content-container__inner",scrollTo:!1});var n=e._tableBoxHeader.find(".total-count"),o=(parseInt(n.attr("data-count"))||0)+1;n.attr("data-count",o),n.text(window.common.milliFormat(o))},500)):$(this).message({type:"negative",content:o.message||"添加失败",disappear:2e3})},onFailure:function(){$(this).message({type:"negative",content:"网络错误，请稍后再试",disappear:2e3})}}),n.find(".select-user.dropdown").dropdown({templates:{menu:function(e,t){var n=e[t.values]||{},o="";return $.each(n,function(e,n){var a=n.portrait?'<img class="ui mini avatar image" src="'+n.portrait+'" alt="'+n[t.name]+'"/> ':"";o+='<div class="item" data-value="'+n[t.value]+'">',o+=a+n[t.name],o+="</div>"}),o}},fields:{remoteValues:"results",value:"id",name:"name"},filterRemoteData:!1,apiSettings:{url:page.api_prefix+"/column/query_user?name={query}",method:"get",dataType:"JSON",onResponse:function(e){var t=[];return 1===e.code&&Array.isArray(e.result)&&e.result.length>0&&(t=e.result),{results:t}}}}),n.find(".select-role.dropdown").dropdown(),t.modal({autofocus:!1,onShow:function(){n.form("reset"),n.message("hideAll")},onApprove:function(){return n.message("hideAll"),n.form("submit"),!1}}),e._tableBoxHeader.on("click",".toggle-add",function(){t.modal("show")})},register:function(){this.initPJAX(),this.bindListRoleChange(),this.initTableEvent(),this.bindAddBtn()}},e});
"use strict";OSCDefine("web-group-admin-experts",["group-admin-common"],function(){var e=function(){this._tableBox=$(".table-box"),this._tableBoxHeader=this._tableBox.find(".table-box__header"),this._tableBoxBody=this._tableBox.find(".table-box__body")};return e.prototype={initPJAX:function(){var e=this,t=$(".content-container__loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax(".table-pagination .pagination a.item",".content-container__inner",{scrollTo:!1}),$(document).on("pjax:send",function(){t.addClass("active")}),$(document).on("pjax:complete",function(a){var n=$(a.relatedTarget).parents(".pagination:eq(0)").length>0;if(t.removeClass("active"),n){var i=e._tableBox.offset().top;i-80>0&&(i-=80),$("html, body").stop(!0).animate({scrollTop:i},500,"swing")}})},initTableEvent:function(){var e=this;e._tableBoxBody.on("click",".toggle-delete",function(){var t=$(this).parents("tr:eq(0)"),a=t.data("id");$(".delete-action.modal").modal({onApprove:function(){$.post(page.api_prefix+"/CircleAdmin/del_circle_expert",{circle:page.groupId,id:a},function(a){if(1===a.code){$("body").toast({type:"success",content:"删除成功"}),t.fadeOut(function(){t.remove()});var n=e._tableBoxHeader.find(".total-count"),i=(parseInt(n.attr("data-count"))||0)-1;n.attr("data-count",i),n.text(window.common.milliFormat(i))}else $("body").toast({type:"error",content:a.message||"删除失败"})}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"})})}}).modal("show")})},bindAddBtn:function(){var e=this,t=$(".add-action.modal"),a=t.find(".add-expert.form");a.form({inline:!0,fields:{user_id:{rules:[{type:"empty",prompt:"请输入用户名"}]},description:{rules:[{type:"empty",prompt:"请输入描述"},{type:"maxLength[32]",prompt:"长度不能超过 {ruleValue} 个字"}]}}}).api({url:page.api_prefix+"/CircleAdmin/add_circle_expert",method:"post",serializeForm:!0,beforeSend:function(e){$(this).message("hideAll");var t=e.data;return e.data={circle:page.groupId||"",user:t.user_id,desc:t.description},e},onSuccess:function(n){1===n.code?($(this).message({type:"positive",content:"添加成功"}),a.form("reset"),setTimeout(function(){t.modal("hide"),$.pjax({url:"?p=1",container:".content-container__inner",scrollTo:!1});var a=e._tableBoxHeader.find(".total-count"),n=(parseInt(a.attr("data-count"))||0)+1;a.attr("data-count",n),a.text(window.common.milliFormat(n))},500)):$(this).message({type:"negative",content:n.message||"添加失败",disappear:2e3})},onFailure:function(){$(this).message({type:"negative",content:"网络错误，请稍后再试",disappear:2e3})}}),a.find(".select-user.dropdown").dropdown({templates:{menu:function(e,t){var a=e[t.values]||{},n="";return $.each(a,function(e,a){var i=a.portrait?'<img class="ui mini avatar image" src="'+a.portrait+'" alt="'+a[t.name]+'"/> ':"";n+='<div class="item" data-value="'+a[t.value]+'">',n+=i+a[t.name],n+="</div>"}),n}},fields:{remoteValues:"results",value:"id",name:"name"},filterRemoteData:!1,apiSettings:{url:page.api_prefix+"/column/query_user?name={query}",method:"get",dataType:"JSON",onResponse:function(e){var t=[];return 1===e.code&&Array.isArray(e.result)&&e.result.length>0&&(t=e.result),{results:t}}}}),t.modal({autofocus:!1,onShow:function(){a.form("reset"),a.message("hideAll")},onApprove:function(){return a.message("hideAll"),a.form("submit"),!1}}),e._tableBoxHeader.on("click",".toggle-add",function(){t.attr("data-id",""),t.modal("show")})},bindEditBtn:function(){var e=this,t=$(".edit-action.modal"),a=t.find(".edit-expert.form");a.form({inline:!0,fields:{description:{rules:[{type:"empty",prompt:"请输入描述"},{type:"maxLength[32]",prompt:"长度不能超过 {ruleValue} 个字"}]}}}).api({url:page.api_prefix+"/CircleAdmin/edit_circle_expert",method:"post",serializeForm:!0,beforeSend:function(e){$(this).message("hideAll");var t=e.data;return e.data={circle:page.groupId||"",id:t.id,desc:t.description},e},onSuccess:function(a){1===a.code?($(this).message({type:"positive",content:"修改成功"}),setTimeout(function(){t.modal("hide"),$.pjax({url:"?p=1",container:".content-container__inner",scrollTo:!1});var a=e._tableBoxHeader.find(".total-count"),n=(parseInt(a.attr("data-count"))||0)+1;a.attr("data-count",n),a.text(window.common.milliFormat(n))},500)):$(this).message({type:"negative",content:a.message||"修改失败",disappear:2e3})},onFailure:function(){$(this).message({type:"negative",content:"网络错误，请稍后再试",disappear:2e3})}}),t.modal({autofocus:!1,onShow:function(){a.form("reset"),a.message("hideAll");var n=t.attr("data-id");if(n){var i=e._tableBoxBody.find('tr[data-id="'.concat(n,'"]'));if(i&&i.length>0){var o=i.attr("data-desc");a.find('input[name="id"]').val(n),a.find('input[name="description"]').val(o),t.find(".expert-wrap").html(i.find(".expert-wrap").html())}}},onApprove:function(){return a.message("hideAll"),a.form("submit"),!1}}),e._tableBoxBody.on("click",".toggle-edit",function(){var e=$(this).parents("tr:eq(0)").data("id");t.attr("data-id",e),t.modal("show")})},register:function(){this.initPJAX(),this.initTableEvent(),this.bindAddBtn(),this.bindEditBtn()}},e});
"use strict";OSCDefine("web-group-admin-statistics",["group-admin-common"],function(){var t=function(){this._panelSectionBody=$(".panel-section__body"),this._statisticsDetailBox=this._panelSectionBody.find(".statistics-detail-box"),this._currentTabValue="",this._currentStartDate="",this._currentEndDate="",this._ranges={"最近 7 天":[moment().subtract(6,"days"),moment()],"最近 15 天":[moment().subtract(14,"days"),moment()],"最近 30 天":[moment().subtract(29,"days"),moment()]},this._defaultRangeKey="最近 7 天"};return t.prototype={initPopup:function(){var t=this._panelSectionBody.find(".popup-overview-pv-help");this._panelSectionBody.find(".toggle-popup-overview-pv-help").popup({popup:t,hoverable:!0});var e=this._panelSectionBody.find(".popup-overview-uv-help");this._panelSectionBody.find(".toggle-popup-overview-uv-help").popup({popup:e,hoverable:!0});var a=this._panelSectionBody.find(".popup-yesterday-pv-help");this._panelSectionBody.find(".toggle-popup-yesterday-pv-help").popup({popup:a,hoverable:!0});var i=this._panelSectionBody.find(".popup-yesterday-uv-help");this._panelSectionBody.find(".toggle-popup-yesterday-uv-help").popup({popup:i,hoverable:!0})},initTab:function(){var t=this;t._statisticsDetailBox.on("click",".tabs-list .tabs-item",function(){!function(e){var a=t._statisticsDetailBox.find('.tabs-list .tabs-item[data-value="'+e+'"]');if(a.length<=0)return!1;a.hasClass("active")||!1!==t._handleChangeTab(e)&&(t._statisticsDetailBox.find(".tabs-list .tabs-item").removeClass("active"),a.addClass("active"))}($(this).data("value")||"")})},initDateRangePicker:function(){var t=this,e=t._statisticsDetailBox.find(".date-picker"),a=moment().subtract(1,"years").format("YYYY/MM/DD"),i=moment().format("YYYY/MM/DD");e.daterangepicker({showDropdowns:!1,autoApply:!0,ranges:t._ranges,minDate:a,maxDate:i,opens:"right",buttonClasses:"ui button tiny",applyClass:"primary",cancelClass:"",linkedCalendars:!1,locale:{direction:"ltr",format:"YYYY/MM/DD",separator:" - ",applyLabel:"确定",cancelLabel:"取消",customRangeLabel:"自定义",daysOfWeek:["日","一","二","三","四","五","六"],monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],firstDay:1}},function(a,i,n){var r=a.format("YYYY/MM/DD"),o=i.format("YYYY/MM/DD");e.find(".text").text(t._getDatePickerTitle(r,o)),t._handleChangeDate(r,o)});var n=e.data("start"),r=e.data("end");if(n&&r)t._updateDatePicker(n,r),t._handleChangeDate(n,r);else{var o=t._ranges[t._defaultRangeKey][0].format("YYYY/MM/DD"),s=t._ranges[t._defaultRangeKey][1].format("YYYY/MM/DD");t._updateDatePicker(o,s),t._handleChangeDate(o,s)}},_updateDatePicker:function(t,e){if(!t||!e)return!1;var a=this._statisticsDetailBox.find(".date-picker"),i=/^(\d{4})\/(\d{2})\/(\d{2})$/;i.test(t)&&i.test(e)&&(a.data("daterangepicker").setStartDate(t),a.data("daterangepicker").setEndDate(e),a.find(".text").text(this._getDatePickerTitle(t,e)))},_getDatePickerTitle:function(t,e){for(var a=Object.values(this._ranges),i=Object.keys(this._ranges),n=0;n<a.length;n++){var r=a[n][0].format("YYYY/MM/DD"),o=a[n][1].format("YYYY/MM/DD");if(r===t&&o===e)return i[n]}return"自定义"},_getExportRangeTitle:function(){for(var t=this._currentStartDate.replace(/\//g,""),e=this._currentEndDate.replace(/\//g,""),a=Object.values(this._ranges),i=Object.keys(this._ranges),n=0;n<a.length;n++){var r=a[n][0].format("YYYYMMDD"),o=a[n][1].format("YYYYMMDD");if(r===t&&o===e)return(i[n]||"").replace(/\s/g,"")}return t+"_"+e},_handleChangeTab:function(t){this._currentTabValue=t,this.refreshChartView()},_handleChangeDate:function(t,e){this._currentStartDate=t,this._currentEndDate=e,this.refreshChartView(),this.refreshStatisticsTable()},initChartView:function(){this._chartInstance=echarts.init(document.querySelector("#chart")),this._chartOption={grid:{left:"8",right:"30",top:"10",bottom:"10",containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"line",lineStyle:{}},backgroundColor:"#FFF",borderWidth:1,borderColor:"#F0F0F0",padding:[5,8],textStyle:{color:"#111"}},xAxis:{type:"category",boundaryGap:!1,axisLine:{lineStyle:{color:"#DEDEDE"}},axisLabel:{color:"#5B5D61",fontWeight:"bold"},axisTick:{length:4},data:[]},yAxis:{type:"value",splitLine:{show:!0,lineStyle:{color:"#F0F0F0"}},axisLine:{lineStyle:{color:"#DFDFDF"}},axisLabel:{color:"#7D7F82",fontWeight:"bold"},axisTick:{show:!1}},series:{name:"",type:"line",showSymbol:!0,symbol:"circle",symbolSize:6,data:[],lineStyle:{color:"#58ACF4",width:2},itemStyle:{color:"#58ACF4"},areaStyle:{color:"rgba(88, 172, 244, 0.22)"}}}},refreshChartView:function(){var t=this,e=t._statisticsDetailBox.find(".chart-box"),a=this._currentTabValue,i=this._currentStartDate,n=this._currentEndDate;e.find(".chart-box__header-main").text("".concat(i.replace(/\//g,"-")," ～ ").concat(n.replace(/\//g,"-"))),$.post(page.api_prefix+"/CircleAdmin/stat_charts",{id:page.groupId,type:a||"pv",beginTime:i,endTime:n},function(e){var a=[],i=[],n=e.result;Array.isArray(n)&&n.length>0&&(a=n.map(function(t){return t.name}),i=n.map(function(t){return t.count})),t._chartOption.xAxis.data=a,t._chartOption.series.data=i,t._chartInstance.setOption(t._chartOption)}).fail(function(){$("body").toast({type:"error",content:"网络错误，请稍后再试"})})},refreshStatisticsTable:function(){this._statisticsDetailBox.find(".table-box");var t=this._currentStartDate,e=this._currentEndDate,a="?start="+encodeURIComponent(t)+"&end="+encodeURIComponent(e);$.pjax.reload(".statistics-detail-box__table .content-container__inner",{url:a})},initStatisticsTablePJAX:function(){var t=$(".statistics-detail-box__table"),e=t.find(".content-container__loader");$.pjax.defaults.timeout=1e4,$.pjax.defaults.maxCacheLength=20,$(document).pjax(".pagination a",".statistics-detail-box__table .content-container__inner",{scrollTo:!1}),$(document).on("pjax:send",function(){e.addClass("active")}),$(document).on("pjax:complete",function(a){var i=$(a.relatedTarget).parents(".pagination:eq(0)").length>0;if(e.removeClass("active"),i){var n=t.offset().top;n-80>0&&(n-=80),$("html, body").stop(!0).animate({scrollTop:n},500,"swing")}})},bindExportAllBtn:function(){var t=this;t._statisticsDetailBox.on("click",".toggle-export-all",function(){var e=encodeURIComponent(t._currentStartDate),a=encodeURIComponent(t._currentEndDate);if(!t._currentStartDate||!t._currentEndDate)return $("body").toast({type:"error",content:"导出失败，请稍后再试"}),!1;var i=page.api_prefix+"/CircleAdmin/export_charts?id=".concat(page.groupId,"&beginTime=").concat(e,"&endTime=").concat(a),n=moment().format("YYYYMMDD"),r=t._getExportRangeTitle(),o="开源中国_".concat(page.groupName||"","_").concat(r,"_运营数据报表_").concat(n,".csv"),s=document.createElement("a");s.download=o,s.style.display="none",s.href=i,document.body.appendChild(s),s.click(),document.body.removeChild(s)})},register:function(){this.initChartView(),this.initTab(),this.initDateRangePicker(),this.initStatisticsTablePJAX(),this.bindExportAllBtn(),this.initPopup()}},t});
"use strict";OSCDefine("web-best-2020-index",function(){var t=function(){this._bodyContainer=$(".body-container")};return t.prototype={constructor:t,dropdownEvent:function(){$(".best-dropdown").on("click",function(t){event.stopPropagation();var e=$(this).find(".menu"),i=$(this).find(".text");e.hasClass("visible")?(e.attr("class","menu transition hidden"),i.attr("style","color:#000")):($("#stickTitle").find(".menu").attr("class","menu transition hidden"),$("#stickTitle").find(".text").attr("style","color:#000"),e.attr("class","menu transition visible"),i.attr("style","color:#21B351"))}),$(document.body).on("click",function(){$("#stickTitle").find(".menu").attr("class","menu transition hidden"),$("#stickTitle").find(".text").attr("style","color:#000")})},stickInitEvent:function(){var t=$("#stickPlaceholder").offset().top-20,e=$("#developer").width();$(window).scrollTop()>t?(document.getElementById("stickTitle").style.position="fixed",document.getElementById("stickTitle").style.width=e+"px"):(document.getElementById("stickTitle").style.position="unset",document.getElementById("stickTitle").style.width="100%")},stickEvent:function(){var t=this;t.stickInitEvent(),$(window).scroll(function(){t.stickInitEvent()}),window.onresize=function(){var t=$("#developer").width();document.getElementById("stickTitle").style.width=t+"px"},$(".best-dropdown").on("click",".item",function(t){var e=t.target,i=$(e).data("to");$(window).width()<=768?$("html,body").animate({scrollTop:$(i).offset().top-20},800):$("html,body").animate({scrollTop:$(i).offset().top-80},800)})},register:function(){this.dropdownEvent(),this.stickEvent()}},t});